# Expo SDK Documentation

Documentation for Expo SDK libraries, app configuration files, Expo CLI, create-expo-app, and more.

---

modificationDate: January 12, 2026
title: create-expo-app
description: A command-line tool to create a new Expo and React Native project.

---

# create-expo-app

A command-line tool to create a new Expo and React Native project.

`create-expo-app` is a command-line tool to create and set up a new Expo and React Native project. This tool simplifies the initialization process by providing various templates to get started quickly without the need for manual configuration.

## Create a new project

To create a new project, run the following command:

```sh
# npm
npx create-expo-app@latest

# yarn
yarn create expo-app

# pnpm
pnpm create expo-app

# bun
bun create expo
```

Running the above command will prompt you to enter the app name of your project. This app name is also used in the app config's [`name`](/versions/latest/config/app#name) property.

```sh
What is your app named? my-app
```

## Options

Uses the following options to customize the command behavior.

### `--yes`

Uses the default options to create a new project.

### `--no-install`

Skips installing npm dependencies or CocoaPods.

### `--template`

Running `create-expo-app` with a [Node Package Manager](/more/create-expo#node-package-managers-support) initializes and sets up a new Expo project using the default template.

You can use the `--template` option to select one of the following templates or pass it as an argument to the option. For example, `--template default`.

> Looking for more templates? Check out the [`--example`](/more/create-expo#--example) option to initialize your project with one of the example apps that demonstrate specific features and integrations.

| Template                                                                                              | Description                                                                                                                                                                           |
| ----------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [`default`](https://github.com/expo/expo/tree/main/templates/expo-template-default)                   | Default template. Designed to build multi-screen apps. Includes recommended tools such as Expo CLI, Expo Router library and TypeScript configuration enabled. Suitable for most apps. |
| [`blank`](https://github.com/expo/expo/tree/main/templates/expo-template-blank)                       | Installs minimum required npm dependencies without configuring navigation.                                                                                                            |
| [`blank-typescript`](https://github.com/expo/expo/tree/main/templates/expo-template-blank-typescript) | A Blank template with TypeScript enabled.                                                                                                                                             |
| [`tabs`](https://github.com/expo/expo/tree/main/templates/expo-template-tabs)                         | Installs and configures file-based routing with Expo Router and TypeScript enabled.                                                                                                   |
| [`bare-minimum`](https://github.com/expo/expo/tree/main/templates/expo-template-bare-minimum)         | A Blank template with native directories (**android** and **ios**) generated. Runs [`npx expo prebuild`](/workflow/prebuild) during the setup.                                        |

### `--example`

Use this option to initialize a project using an example from [expo/examples](https://github.com/expo/examples).

For example:

- Running `npx create-expo-app --example with-router` sets up a project with the Expo Router library
- Running `npx create-expo-app --example with-react-navigation` sets up a project similar to the default template, but configured with plain React Navigation library

### `--version`

Prints the version number and exits.

### `--help`

Prints the list of available options and exits.

## Node Package Managers support

Creating a new project with `create-expo-app` also handles setting up additional configuration needed for a specific Node Package Manager.

**If you are migrating from one package manager to another**, you've to manually carry out the additional configuration in your project. **If you are using [EAS](/eas)**, you also have to configure your project for any additional required steps manually.

All the additional steps for each package manager are listed below.

### npm

#### Local installation

npm is installed as part of Node.js installation. See [Node.js documentation](https://nodejs.org/en/download/package-manager) for installation instructions.

#### EAS installation

Supported by default if the project directory contains **package-lock.json**.

### Yarn 1 (Classic)

#### Local installation

Yarn 1 (Classic) is usually installed as a global dependency of npm. See [Yarn 1 documentation](https://classic.yarnpkg.com/en/docs/getting-started) for installation instructions.

#### EAS installation

Supported by default if the project directory contains **yarn.lock**.

### Yarn 2+ (Modern)

#### Local installation

See [Yarn documentation](https://yarnpkg.com/getting-started/install) for installation instructions.

Yarn 2+ handles package management differently than Yarn 1. One of the core changes in Yarn 2+ is the [Plug'n'Play (PnP)](https://yarnpkg.com/features/pnp) node linking model that does not work with React Native.

By default, a project created with `create-expo-app` and Yarn 2+ uses [`nodeLinker`](https://yarnpkg.com/features/linkers#nodelinker-node-modules) with its value set to `node-modules` to install dependencies.

```yaml
nodeLinker: node-modules
```

#### EAS installation

Yarn Modern on EAS requires adding [`eas-build-pre-install` hook](/build-reference/npm-hooks). In your project's **package.json**, add the following configuration:

```json
{
  "scripts": {
    "eas-build-pre-install": "corepack enable && yarn set version 4"
  }
}
```

### pnpm

#### Local installation

Requires installing Node.js. See [pnpm documentation](https://pnpm.io/installation) for installation instructions.

By default, a project created with `create-expo-app` and pnpm uses [`node-linker`](https://pnpm.io/npmrc#node-linker) with its value set to `hoisted` to install dependencies.

```ini
node-linker=hoisted
```

> In **SDK 54** and later, Expo supports isolated installations, and you can delete the `node-linker` setting if you prefer to use isolated dependencies.

#### EAS installation

Supported by default if the project directory contains **pnpm-lock.yaml**.

### Bun

See [Bun](/guides/using-bun) guide for details on creating a new Expo project with `bun`, migration from another package manager, and usage with EAS.

---

---

modificationDate: February 20, 2026
title: Expo CLI
description: The Expo CLI is a command-line tool that is the primary interface between a developer and other Expo tools.

---

# Expo CLI

The Expo CLI is a command-line tool that is the primary interface between a developer and other Expo tools.

The `expo` package provides a small and powerful CLI tool `npx expo` which is designed to keep you moving fast during app development.

## Highlights

- [Start a server](/more/expo-cli#develop) for developing your app: `npx expo start`.
- [Generate the native Android and iOS directories](/more/expo-cli#prebuild) for your project: `npx expo prebuild`.
- [Build and run](/more/expo-cli#compiling) the native apps locally: `npx expo run:ios` and `npx expo run:android`.
- [Install and update packages](/more/expo-cli#install) that work with the version of `react-native` in your project: `npx expo install package-name`.
- `npx expo` can be used with `npx react-native` simultaneously.

To view a list of available commands in Expo CLI, run the following in your project:

```sh
npx expo -h
```

> You can also run `yarn expo -h` if you prefer to use yarn as the package manager.

The output should look something like below:

```sh
Usage
  $ npx expo <command>

Commands
  start, export
  run:ios, run:android, prebuild
  install, customize, config
  login, logout, whoami, register

Options
  --version, -v   Version number
  --help, -h      Usage info
```

You can run any command with the `--help` or `-h` flag to learn more about it:

```sh
npx expo login -h
```

## Installation

Expo CLI is included in the `expo` package. You can install it with npm or yarn:

```sh
yarn add expo
```

> Projects that are not using [Expo Prebuild](/more/expo-cli#prebuild) (also referred to as _Bare projects_) will need to perform additional setup to ensure all custom Expo bundling features work: [Metro: Bare workflow setup](/versions/latest/config/metro#bare-workflow-setup).

## Develop

Start a development server to work on your project by running:

```sh
npx expo start
```

> You can also run `npx expo` as an alias to `npx expo start`.

This command starts a server on `http://localhost:8081` that a client can use to interact with the bundler. The default bundler is [Metro](https://metrobundler.dev/).

The UI that shows up in the process is referred to as the **Terminal UI**. It contains a QR code (for the dev server URL) and a list of keyboard shortcuts you can press:

| Keyboard shortcut | Description                                                                                                                                                                         |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| A                 | Open the project on a connected Android device.                                                                                                                                     |
| Shift + A         | Select an Android device or emulator to open.                                                                                                                                       |
| I                 | Open the project in an iOS Simulator.                                                                                                                                               |
| Shift + I         | Select an iOS Simulator to open.                                                                                                                                                    |
| W                 | Open the project in a web browser. This may require webpack to be installed in your project.                                                                                        |
| R                 | Reload the app on any connected device.                                                                                                                                             |
| S                 | Switch the launch target between Expo Go and development builds.                                                                                                                    |
| M                 | Open the dev menu on any connected native device (web not supported).                                                                                                               |
| Shift + M         | Choose more commands to trigger on connected devices.This includes toggling the performance monitor, opening the element inspector, reloading the device, and opening the dev menu. |
| J                 | Open React Native DevTools for any connected device that is using Hermes as the JavaScript engine. [Learn more](/guides/using-hermes#javascript-inspector-for-hermes).              |
| O                 | Open project code in your editor. This can be configured with the `EXPO_EDITOR` and `EDITOR` [environment variables](/more/expo-cli#environment-variables).                         |
| E                 | Show the development server URL as a QR code in the terminal.                                                                                                                       |
| ?                 | Show all Terminal UI commands.                                                                                                                                                      |

### Launch target

The `npx expo start` command automatically launches the app in a development build if `expo-dev-client` is installed in the project. Otherwise, it launches the app in Expo Go.

Alternatively, you can force the launch target by passing the following flags to the command:

- `--dev-client`: Always launch the app in a development build.
- `--go`: Always launch the app in Expo Go.

You can also switch the launch target during runtime by pressing S in the **Terminal UI**. The `run` commands also use `--dev-client` after compiling the development build, by default.

### Server URL

By default, the project is served over a LAN connection. You can change this behavior to localhost-only by using the flag `npx expo start --localhost`.

Other available options are:

- `--port`: Port to start the dev server on (does not apply to webpack or [tunnel URLs](/more/expo-cli#tunneling)). Use `--port 0` to automatically use the first available port. Default: **8081**.
- `--https`: **(Deprecated in favor of `--tunnel`)** Start the dev server using a secure origin. This is currently only supported on web.

You can force the URL to be any value with the `EXPO_PACKAGER_PROXY_URL` environment variable. For example:

```sh
export EXPO_PACKAGER_PROXY_URL=http://expo.dev
npx expo start
```

Will open apps to: `exp://expo.dev:80` (the `:80` is a temporary workaround for Android WebSockets).

#### Tunneling

Restrictive network conditions (common for public Wi-Fi), firewalls (common for Windows users), or Emulator misconfiguration can make it difficult to connect a remote device to your dev server over lan/localhost.

Sometimes it's easier to connect to a dev server over a proxy URL that's accessible from any device with internet access, this is referred to as **tunneling**. `npx expo start` provides built-in support for **tunneling** via [ngrok](https://ngrok.com).

To enable tunneling, first install `@expo/ngrok`:

```sh
npm i -g @expo/ngrok
```

Then run the following to start your dev server from a _tunnel_ URL:

```sh
npx expo start --tunnel
```

This will serve your app from a public URL like: `https://xxxxxxx.bacon.19000.exp.direct:80`.

Use the `EXPO_TUNNEL_SUBDOMAIN` environment variable to experimentally set the subdomain for the tunnel URL. This is useful for testing universal links on iOS. This may cause unexpected issues with `expo-linking` and Expo Go. Select the exact subdomain to use by passing a `string` value that is not one of: `true`, `false`, `1`, `0`.

**Drawbacks**

- Tunneling is slower than local connections because requests must be forwarded to a public URL.
- Tunnel URLs are public and can be accessed by any device with a network connection. Expo CLI mitigates the risk of exposure by adding entropy to the beginning of the URL. Entropy can be reset by clearing the **.expo** directory in your project.
- Tunnels require a network connection on both devices, meaning this feature cannot be used with the `--offline` flag.

Tunneling requires a third-party hosting service, this means it may sometimes experience intermittent issues like `ngrok tunnel took too long to connect` or `Tunnel connection has been closed. This is often related to intermittent connection problems with the Ngrok servers...`. Be sure to check for [Ngrok outages](https://status.ngrok.com/) before reporting an issue. Some Windows users have also reported needing to modify their antivirus settings to allow Ngrok to work correctly.

#### Offline

You can develop without a network connection by using the `--offline` flag:

```sh
npx expo start --offline
```

Offline will prevent the CLI from making network requests. If you don't use the flag and your computer has no internet connection, then offline support will automatically be enabled, it will just take a bit longer to verify the reachability.

Expo CLI makes network requests to sign manifests with your user credentials to ensure sensitive information is sandboxed in reusable runtimes like Expo Go.

### .expo directory

When you start the development server in a project for the first time, a **.expo** directory is created at the root of that project. It contains two files:

- **devices.json**: Contains information about devices that have opened this project recently.
- **settings.json**: Contains information about server configuration that is used to serve the project's manifest.

Both of these files have information that is specific to your local computer. This is the reason why **.expo** directory is included in the **.gitignore** file, by default, when a new project is created. It is not meant to be shared with other developers.

## Building

A React Native app consists of two parts: a native runtime ([compiling](/more/expo-cli#compiling)), and static files like JavaScript bundles and assets ([exporting](/more/expo-cli#exporting)). Expo CLI provides commands for performing both tasks.

### Compiling

You can compile your app locally with the `run` commands:

```sh
npx expo run:ios
npx expo run:android
```

**Highlights**

- Build directly on connected devices with no global side effects using the `--device` flag. Supports locked devices, letting you retry instantly instead of needing to rebuild.
- Automatically codesign iOS apps for development from the CLI without having to open Xcode.
- Smart log parsing shows warnings and errors from your project source code, unlike Xcode which surfaces hundreds of benign warnings from your node modules.
- Fatal errors causing your app to crash will be surfaced in the terminal preventing the need to reproduce in Xcode.

`npx expo run:ios` can only be run on a Mac, and Xcode must be installed. You can build the app in the cloud from any computer using `eas build -p ios`. Similarly, `npx expo run:android` requires Android Studio and Java to be installed and configured on your computer.

Building locally is useful for developing native modules and [debugging complex native issues](/debugging/runtime-issues#native-debugging). Building remotely with `eas build` is a much more resilient option due to the pre-configured cloud environment.

If your project does not have the corresponding native directories, the `npx expo prebuild` command will run once to generate the respective directory before building.

For example, if your project does not have an **ios** directory in the root of your project, then `npx expo run:ios` will first run `npx expo prebuild -p ios` before compiling your app. For more information on this process, see [Expo Prebuild](/workflow/prebuild).

**Cross-platform arguments**

- `--no-build-cache`: Clear the native cache before building. On iOS, this is the **derived data** directory. Cache clearing is useful for profiling your build times.
- `--no-install`: Skip installing dependencies. On iOS, this will also skip running `npx pod-install` if the `dependencies` field in the project's `package.json` has changed.
- `--no-bundler`: Skip starting the dev server. Enabled automatically if the dev server is already serving the app from a different process.
- `-d, --device [device]`: Device name or ID to build the app on. You can pass `--device` without arguments to select a device from a list of available options. This supports connected devices as well as virtual devices.
- `-p, --port <port>`: Port to start the development server. **Default: 8081**. This is only relevant for development builds. Production builds will [export](/more/expo-cli#exporting) the project and embed the files in the native binary before installing them on a device.
- `--binary <path>`: File path to the binary to install on the device. When this is provided, the build process will be skipped and the binary will attempt to be installed directly. If the binary was not built for the correct device, for example, it is built for the simulator or installed on the device, then the command will fail.

#### Compiling Android

Android apps can have multiple different **variants** which are defined in the project's `build.gradle` file. Variants can be selected with the `--variant` flag:

##### `debug` variant

Use the `debug` variant for a debug build:

```sh
npx expo run:android --variant debug
```

##### `debugOptimized` variant

> `debugOptimized` is available in SDK 54 and later.

Use the `debugOptimized` variant for faster development with performance close to release builds while keeping the overall build in a debug-friendly mode:

```sh
npx expo run:android --variant debugOptimized
```

When using this variant, keep the following in mind:

- Optimizes C++ libraries as in release builds, improving runtime performance
- In EAS Build, use a matching Gradle command like [`:app:assembleDebugOptimized` in **eas.json**](/build-reference/apk#configuring-a-profile-to-build-apks)
- **Limitation**: C++ debugging is disabled and C++ crashes may have less readable stack traces

##### `release` variant

You can compile the Android app for production by running:

```sh
npx expo run:android --variant release
```

This build is not automatically code-signed for submission to the Google Play Store. This command should be used to test bugs that may only show up in production builds. To generate a production build that is code signed for the Play Store, we recommend using [EAS Build](/build/introduction).

##### Debugging native Android project

You can debug the native Android project using native debugging tools by opening the **android** directory in Android Studio:

```sh
open -a /Applications/Android Studio.app android
```

If you have a customized Android project using different product flavors, you can configure both the flavor and application ID using the `--variant` and `--app-id` flags:

```sh
npx expo run:android --variant freeDebug --app-id dev.expo.myapp.free
```

For more information, see the [Local builds using Android product flavors](/guides/local-app-development#local-builds-using-android-product-flavors) guide.

#### Compiling iOS

An iOS app can have multiple **schemes** for representing different sub-apps like App Clips, watchOS apps, Safari Extensions, and so on. By default, `npx expo run:ios` will choose the scheme for your iOS app. You can pick a custom scheme with the `--scheme <my-scheme>` argument. If you pass in the `--scheme` argument alone, then Expo CLI will prompt you to choose a scheme from the list of available options in your Xcode project.

The scheme you select will filter out which `--device` options show up in the selection prompt, for example, selecting an Apple TV scheme will only show available Apple TV devices.

You can compile an iOS app for production by running:

```sh
npx expo run:ios --configuration Release
```

This build is not automatically code signed for submission to the Apple App Store. `npx expo run:ios` should mostly be used to test bugs that only show up in production builds. Native code signing requires several network requests and is prone to many different types of errors from the Apple servers. To generate a production build that is code signed for the App Store, we recommend using [EAS Build](/build/introduction).

When you compile your app onto a Simulator, the Simulator's native error logs will be piped to the Expo CLI process in the terminal. This is useful for quickly seeing bugs that may cause a fatal error. For example, missing permission messages. Error piping is not available for physical iOS devices.

You can debug using `lldb` and all of the native Apple debugging tools by opening the project in Xcode and rebuilding from Xcode:

```sh
xed ios
```

Building from Xcode is useful because you can set native breakpoints and profile any part of the application. Be sure to track changes in source control (git) in case you need to regenerate the native app with `npx expo prebuild -p ios --clean`.

**iOS development signing**

If you want to see how your app will run on your device, all you have to do is connect it, run `npx expo run:ios --device`, and select your connected device.

Expo CLI will automatically sign the device for development, install the app, and launch it.

If you don't have any developer profiles setup on your computer then you'll need to set them up manually outside of Expo CLI by following this guide: [Setup Xcode signing](https://expo.fyi/setup-xcode-signing).

### Exporting

You can export the JavaScript and assets for your app using Metro bundler by running:

```sh
npx expo export
```

This is done automatically when using `eas update` or when compiling the native runtime. The `export` command works similar to most web frameworks:

- A bundler transpiles and bundles your application code for **production** environments, stripping all code guarded by the `__DEV__` boolean.
- All static files are copied into a static **dist** directory which can be served from a static host.
- Contents of the **public** directory are copied into the **dist** directory as-is.

The following options are provided:

- `--platform <platform>`: Choose the platform to compile for: 'ios', 'android', 'all'. **Default: all**. 'web' is also available if configured in the app config. For more information, see [Customizing Metro](/guides/customizing-metro).
- `--dev`: Bundle for **development** environments without minifying code or stripping the `__DEV__` boolean.
- `--output-dir <dir>`: The directory to export the static files to. **Default: dist**
- `--max-workers <number>`: Maximum number of tasks to allow the bundler to spawn. Setting this to `0` will run all transpilation on the same process, meaning you can easily debug Babel transpilation.
- `-c, --clear`: Clear the bundler cache before exporting.
- `--no-minify`: Skip minifying JavaScript and CSS assets.
- `--no-bytecode`: Skip generating Hermes bytecode for native platforms. Only use this for analyzing bundle sizes and never ship UTF-8 bundles to native platforms as this will lead to drastically longer startup times.
- `--no-ssg`: Skip exporting static HTML files for web routes. This option only generates server code inside the **dist** directory. Useful for [API routes](/router/web/api-routes).

#### Hosting with sub-paths

> Experimental functionality.

You can configure the prefix for static assets by setting the `experiments.baseUrl` field in your [app config](/workflow/configuration):

```json
{
  "expo": {
    "experiments": {
      "baseUrl": "/my-root"
    }
  }
}
```

This will export the website with all resources prefixed with `/my-root`. For example, an image at `assets/image.png` will be expected to be hosted at **/my-root/assets/image.png**. The actual file will be located in the same file system location as the entire directory is expected to be hosted at `/my-root` on the server.

Expo Router has built-in support for `baseUrl`. When using the `Link` and `router` APIs, the `baseUrl` will be automatically prepended to the URL.

```jsx
import { Link } from "expo-router";

export default function Blog() {
  return <Link href="/blog/123">Go to blog post</Link>;
}
```

This will **export** to the following:

```html
<a href="/my-root/blog/123">Go to blog post</a>
```

If you use `<a>`, React Navigation, or the `Linking` API directly, you'll need to manually prepend the `baseUrl`.

The `baseUrl` functionality is production-only and must be set before exporting the website. If you change the value, you must re-export the website.

Images and other assets will work automatically if you `require` or `import` them. If you directly reference a resource URL then you will need to append the **baseUrl** manually.

```jsx
import { Image } from "expo-image";

export default function Blog() {
  return <Image source={require("@/assets/image.png")} />;
}
```

This will **export** to the following:

```html
<img src="/my-root/assets/assets/image.png" />
```

Manually passing a URL will need to be manually prefixed:

```jsx
export default function Blog() {
  return <img src="/my-root/assets/image.png" />;
}
```

### Exporting with webpack

> **Deprecated**: In SDK 50 and later, Expo Webpack has been deprecated in favor of universal Metro (`npx expo export`). Learn more in [migrating from Webpack to Expo Router](/router/migrate/from-expo-webpack).

You can export the JavaScript and assets for your web app using webpack by running the following:

```sh
npx expo export:web
```

- `--dev`: Bundle in 'development' mode without minifying code or stripping the `__DEV__` boolean.
- `-c, --clear`: Clear the bundler cache before exporting.

This command will be disabled if your project is configured to use `metro` for bundling web projects in the `app.json` via the `expo.web.bundler: 'metro'` field.

## Prebuild

```sh
npx expo prebuild
```

Native source code must be generated before a native app can compile. Expo CLI provides a unique and powerful system called _prebuild_, that generates the native code for your project. To learn more, read the [Expo Prebuild docs](/workflow/prebuild).

## Lint

```sh
npx expo lint
```

Linting helps enforce best practices and ensure your code is consistent. The `npx expo lint` command will set up ESLint with Expo-specific settings and run the `npx eslint` command with options that are optimized for the Expo framework. By running `npx expo lint --fix`, linting issues can be fixed automatically.

Running `npx expo lint` targets all files in the **src**, **app**, and **components** directories by default. You can also pass custom files or directories to the lint command as arguments. For example:

```sh
npx expo lint ./utils constants.ts
```

All files matching `.js, .jsx, .ts, .tsx, .mjs, .cjs` extensions will be linted by default. You can customize the extensions by passing the `--ext` flag. For example, to lint only `.ts` and `.tsx` files, you can use the `--ext` option: `npx expo lint --ext .ts,.tsx` or `npx expo lint --ext .js --tsx .tsx`.

If you need additional customization, you can pass extra arguments using the `--` operator. For example, to pass the `--no-error-on-unmatched-pattern` flag to ESLint, you can run:

```sh
npx expo lint -- --no-error-on-unmatched-pattern
```

If you need more customization, you can use `npx eslint` directly.

[Using ESLint](/guides/using-eslint) â€” Learn more about ensuring best practices with ESLint in an Expo project.

## Config

Evaluate the app config (**app.json**, or **app.config.js**) by running:

```sh
npx expo config
```

- `--full`: Include all project config data.
- `--json`: Output in JSON format, useful for converting an **app.config.js** to an **app.config.json**.
- `-t, --type`: [Type of config](/more/expo-cli#config-type) to show.

### Config type

There are three different config types that are generated from the app config:

- `public`: The manifest file to use with OTA updates. Think of this like an `index.html` file's `<head />` element but for native apps.
- `prebuild`: The config that is used for [Expo Prebuild](/workflow/prebuild) including async modifiers. This is the only time the config is not serializable.
- `introspect`: A subset of the `prebuild` config that only shows in-memory modifications like `Info.plist` or **AndroidManifest.xml** changes. Learn more about [introspection](/config-plugins/development-and-debugging#introspection).

## Install

Unlike the web, React Native is not backwards compatible. This means that npm packages often need to be the exact right version for the currently installed copy of `react-native` in your project. Expo CLI provides a best-effort tool for doing this using a list of popular packages and the known working version combinations. Simply use the `install` command as a drop-in replacement for `npm install`:

```sh
npx expo install expo-camera
```

Running a single instance of this command, you can also install multiple packages:

```sh
npx expo install typescript expo-sms
```

You can directly pass arguments to the underlying package manager by using the `--` operator:

```sh
yarn expo install typescript -- -D
```

### Version validation

You can perform validation and correction with the `--check` and `--fix` flags:

- `--check`: Check which installed packages need to be updated.
- `--fix`: Automatically update any invalid package versions.

Example:

```sh
npx expo install --check
```

`npx expo install --check` prompts you about packages that are installed incorrectly. It also prompts about installing these packages to their compatible versions locally. It exits with non-zero in Continuous Integration (CI). This means you can use this to do continuous immutable validation. In contrast, `npx expo install --fix` will always fix packages if needed, regardless of the environment.

You can validate specific packages by passing them:

```sh
npx expo install react-native expo-sms --check
```

The command `npx expo install expo-camera` and `npx expo install expo-camera --fix` serve the same purpose, the `--fix` command is useful for upgrading all packages in your project like:

```sh
npx expo install --fix
```

### Configuring dependency validation

There may be circumstances where you want to use a version of a package that is different from the version recommended by `npx expo install`. In this case, you can exclude specific packages from version checking by using the [`expo.install.exclude`](/versions/latest/config/package-json#exclude) property in your project's **package.json**.

### Install package managers

`npx expo install` has support for `bun`, `npm`, `pnpm`, and `yarn`.

You can force the package manager using a named argument:

- `--bun`: Use `bun` to install dependencies. Default when **bun.lockb** or **bun.lock** exists.
- `--npm`: Use `npm` to install dependencies. Default when **package-lock.json** exists.
- `--pnpm`: Use `pnpm` to install dependencies. Default when **pnpm-lock.yaml** exists.
- `--yarn`: Use `yarn` to install dependencies. Default when **yarn.lock** exists.

## Authentication

Expo CLI provides authentication methods to use with the `npx expo start` command. Authentication is used to "code sign" manifests for secure OTA usage. Think of this like HTTPS on the web.

1.  Register an account with `npx expo register`.
2.  Login to your account with `npx expo login`.
3.  Check which account is currently authenticated with `npx expo whoami`.
4.  Logout with `npx expo logout`.

These credentials are shared across Expo CLI and EAS CLI.

## Customizing

Sometimes you may want to customize a project file that would otherwise be generated in memory by Expo CLI. When utilizing tools other than Expo CLI, you'll need to have the default config files present, otherwise your app may not work as expected. You can generate files by running:

```sh
npx expo customize
```

From here, you can choose to generate basic project files like:

- **babel.config.js** -- The Babel configuration. This is required to be present if you plan to use tooling other than Expo CLI to bundle your project.
- **webpack.config.js** -- The default webpack config for web development.
- **metro.config.js** -- The default Metro config for universal development. This is required for usage with `npx react-native`.
- **tsconfig.json** -- Create a TypeScript config file and install the required dependencies.

## Environment variables

| Name                                 | Type        | Description                                                                                                                                                                                                                                                                                                                                                |
| ------------------------------------ | ----------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `HTTP_PROXY`                         | **string**  | HTTP/HTTPS proxy URL to connect for all network requests. Configures [Undici EnvHttpProxyAgent](https://github.com/nodejs/undici/blob/main/docs/docs/api/EnvHttpProxyAgent.md).                                                                                                                                                                            |
| `EXPO_NO_WEB_SETUP`                  | **boolean** | Prevents the CLI from forcing web dependencies (`react-dom`, `react-native-web`, `@expo/webpack-config`) to be installed before using web functionality.This is useful for cases where you wish to perform non-standard web development.                                                                                                                   |
| `EXPO_OFFLINE`                       | **boolean** | Skip all network requests when applicable. This leads to faster development in areas with poor network connection.                                                                                                                                                                                                                                         |
| `EXPO_NO_TYPESCRIPT_SETUP`           | **boolean** | Prevents the CLI from forcing TypeScript to be configured on `npx expo start`.For more information, see [TypeScript guide](/guides/typescript).                                                                                                                                                                                                            |
| `DEBUG=expo:*`                       | **string**  | Enables debug logs for the CLI, you can configure this using the [`debug` convention](https://github.com/debug-js/debug#conventions).                                                                                                                                                                                                                      |
| `EXPO_DEBUG`                         | **boolean** | An alias for `DEBUG=expo:*`.                                                                                                                                                                                                                                                                                                                               |
| `EXPO_PROFILE`                       | **boolean** | Enable profiling stats for the CLI, this does not profile your application.                                                                                                                                                                                                                                                                                |
| `EXPO_NO_CACHE`                      | **boolean** | Disable all global caching. By default, app config JSON schemas, Expo Go binaries for simulators and emulators, and project templates are cached in the global **.expo** directory on your machine.                                                                                                                                                        |
| `CI`                                 | **boolean** | When enabled, the CLI will disable interactive functionality, skip optional prompts, and fail on non-optional prompts.Example: `CI=1 npx expo install --check` will fail if any installed packages are outdated.                                                                                                                                           |
| `EXPO_NO_TELEMETRY`                  | **boolean** | Disables anonymous usage collection. [Learn more about telemetry](/more/expo-cli#telemetry).                                                                                                                                                                                                                                                               |
| `EXPO_NO_GIT_STATUS`                 | **boolean** | Skips warning about git status during potentially dangerous actions like `npx expo prebuild --clean`.                                                                                                                                                                                                                                                      |
| `EXPO_NO_REDIRECT_PAGE`              | **boolean** | Disables the redirect page for selecting an app, that shows when a user has `expo-dev-client` installed, and starts the project with `npx expo start` instead of `npx expo start --dev-client`.                                                                                                                                                            |
| `EXPO_PUBLIC_FOLDER`                 | **string**  | Public directory path to use with Metro for web. [Learn more about customizing Metro](/guides/customizing-metro).Default: `public`                                                                                                                                                                                                                         |
| `EDITOR`                             | **string**  | Name of the editor to open when pressing O in the Terminal UI. This value is used across many command line tools.                                                                                                                                                                                                                                          |
| `EXPO_EDITOR`                        | **string**  | An Expo-specific version of the `EDITOR` variable which takes higher priority when defined.                                                                                                                                                                                                                                                                |
| `EXPO_IMAGE_UTILS_NO_SHARP`          | **boolean** | Disable the usage of global Sharp CLI installation in favor of the slower Jimp package for image manipulation. This is used in places like `npx expo prebuild` for generating app icons.                                                                                                                                                                   |
| `EXPO_TUNNEL_SUBDOMAIN`              | **boolean** | , ExperimentalDisable using `exp.direct` as the hostname for `--tunnel` connections. This enables **https://** forwarding which can be used to test universal links on iOS. This may cause unexpected issues with `expo-linking` and Expo Go. Select the exact subdomain to use by passing a `string` value that is not one of: `true`, `false`, `1`, `0`. |
| `EXPO_METRO_NO_MAIN_FIELD_OVERRIDE`  | **boolean** | Force Expo CLI to use the [`resolver.resolverMainFields`](https://metrobundler.dev/docs/configuration/#resolvermainfields) from the project's **metro.config.js** for all platforms. By default, Expo CLI will use `['browser', 'module', 'main']`, which is the default for webpack, for the web and the user-defined main fields for other platforms.    |
| ~`EXPO_NO_INSPECTOR_PROXY`~          | **boolean** | , DeprecatedDisable the customized inspector proxy with improved support for the Chrome DevTools protocol.This includes support for the network inspector.                                                                                                                                                                                                 |
| `EXPO_NO_CLIENT_ENV_VARS`            | **boolean** | Prevent inlining `EXPO_PUBLIC_` environment variables in client bundles.                                                                                                                                                                                                                                                                                   |
| `EXPO_NO_DOTENV`                     | **boolean** | Prevent all `.env` file loading across Expo CLI.                                                                                                                                                                                                                                                                                                           |
| `EXPO_NO_METRO_LAZY`                 | **boolean** | Prevent adding the `lazy=true` query parameter to Metro URLs (`metro@0.76.3` and greater). This disables `import()` support.                                                                                                                                                                                                                               |
| `EXPO_USE_TYPED_ROUTES`              | **boolean** | Use `expo.experiments.typedRoutes` to enable statically typed routes in Expo Router.                                                                                                                                                                                                                                                                       |
| ~`EXPO_METRO_UNSTABLE_ERRORS`~       | **boolean** | , DeprecatedDisable inverse dependency stack trace for Metro bundling errors. Enabled by default.                                                                                                                                                                                                                                                          |
| ~`EXPO_USE_METRO_WORKSPACE_ROOT`~    | **boolean** | , Deprecated: SDK 52+Enable auto server root detection for Metro. This will change the server root to the workspace root. Useful for monorepos.                                                                                                                                                                                                            |
| `EXPO_NO_METRO_WORKSPACE_ROOT`       | **boolean** | , SDK 52+Disable auto server root detection for Metro. Disabling will not change the server root to the workspace root. Enabling this is useful for monorepos.                                                                                                                                                                                             |
| ~`EXPO_USE_UNSTABLE_DEBUGGER`~       | **boolean** | , Deprecated: SDK 52+Enable the experimental debugger from React Native.                                                                                                                                                                                                                                                                                   |
| `EXPO_ADB_USER`                      | **string**  | Set the `user` number that should be passed to `--user` with ADB commands. Used for installing APKs on Android devices with multiple profiles. Defaults to `0`.                                                                                                                                                                                            |
| `EXPO_NO_TELEMETRY_DETACH`           | **boolean** | , SDK 51+Send telemetry events in the main thread of `@expo/cli`. This causes the CLI to slow down as it waits for all the events to be sent.                                                                                                                                                                                                              |
| `EXPO_UNSTABLE_ATLAS`                | **boolean** | , Experimental, SDK 51+Gather Metro bundle information during development or export. Starting from SDK 53, this environment variable is deprecated in favor of `EXPO_ATLAS`.                                                                                                                                                                               |
| `EXPO_ATLAS`                         | **boolean** | , SDK 53+Gather Metro bundle information during development or export.                                                                                                                                                                                                                                                                                     |
| `EXPO_NO_BUNDLE_SPLITTING`           | **boolean** | , Experimental, SDK 51+Disable Metro splitting chunks on async imports in production (web-only).                                                                                                                                                                                                                                                           |
| `EXPO_USE_METRO_REQUIRE`             | **boolean** | , SDK 52+Enable the use of Expo's custom Metro `require` implementation and `string` based module IDs. This enables better debugging and deterministic IDs for React Server Components. Does not support legacy RAM bundles.                                                                                                                               |
| `EXPO_UNSTABLE_METRO_OPTIMIZE_GRAPH` | **boolean** | , Experimental, SDK 52+Enable eager bundling where transformation runs uncached after the entire bundle has been created. This is required for production tree shaking and is less optimized for development bundling.                                                                                                                                     |
| `EXPO_UNSTABLE_TREE_SHAKING`         | **boolean** | , Experimental, SDK 52+Enable unstable tree shaking support across all platforms. See [tree shaking](/guides/tree-shaking) for more details.                                                                                                                                                                                                               |
| `EXPO_NO_REACT_NATIVE_WEB`           | **boolean** | , Experimental, SDK 52+Enable experimental mode where React Native Web isn't required to run Expo apps on web.                                                                                                                                                                                                                                             |
| `EXPO_NO_DEPENDENCY_VALIDATION`      | **boolean** | , SDK 52+Disable built-in dependency validation when installing packages through `npx expo install` and `npx expo start`.                                                                                                                                                                                                                                  |
| `EXPO_WEB_DEV_HYDRATE`               | **boolean** | Enable React hydration in development for a web project. This can help you identify hydration issues early.                                                                                                                                                                                                                                                |
| `EXPO_UNSTABLE_LIVE_BINDINGS`        | **boolean** | , Experimental, SDK 54+Disable live binding in experimental import export support. Enabled by default. Live bindings improve circular dependencies support, but can lead to slightly worse performance.                                                                                                                                                    |
| `EXPO_UNSTABLE_LOG_BOX`              | **boolean** | , Experimental, SDK 55+Enable the experimental LogBox error overlay for native applications. Enabled by default for web.                                                                                                                                                                                                                                   |
| `EXPO_NO_QR_CODE`                    | **boolean** | Prevents the CLI from showing the QR code on console.                                                                                                                                                                                                                                                                                                      |

## Telemetry

Expo dev tools collect anonymous data about general usage. This helps us know when a feature is not working as expected. Telemetry is completely optional, you can opt out by using the `EXPO_NO_TELEMETRY=1` environment variable.

---

---

modificationDate: August 26, 2025
title: Glossary of terms
description: List of non-obvious terms used within the documentation, related to Expo or cross-platform development in general.

---

# Glossary of terms

List of non-obvious terms used within the documentation, related to Expo or cross-platform development in general.

### Android

The mobile operating system that is sponsored by Google for use with **Android** devices.

### App config

A file named **app.json**, **app.config.json**, **app.config.js**, or **app.config.ts** in the root project directory. For more information, see [app config configuration](/workflow/configuration).

This file is used for the following purposes:

- To configure how [Expo CLI](/more/glossary-of-terms#expo-cli) works.
- Generate a project's public [manifest](/more/glossary-of-terms#manifest) in EAS Update (think **index.html** but for native apps).
- List Expo [config plugins](/more/glossary-of-terms#config-plugin) which influence how `npx expo prebuild` generates native code.

### app.json

An [app config](/more/glossary-of-terms#app-config) file.

### Apple capabilities

Cloud services that are provided by Apple. These services must be enabled for an application in the [Apple Developer Portal](/more/glossary-of-terms#apple-developer-portal).

### Apple Developer Portal

Apple's [official website](https://developer.apple.com/) for managing application code signing. EAS Credentials automate most of the common reasons a developer might visit this website when developing an app.

### Auto capability signing

A feature of EAS Build that automatically enables or disables [Apple capabilities](/more/glossary-of-terms#apple-capabilities) based on the project's entitlements file. [Learn more](/build-reference/ios-capabilities).

### Autolinking

A cross-platform tool for automatically linking native modules to native apps via native package managers.

- On Android the tool is used in the **android/app/build.gradle** and invoked during the [Gradle](/more/glossary-of-terms#gradle) sync process.
- On iOS the tool is used in [CocoaPods](/more/glossary-of-terms#cocoapods) **ios/Podfile** and invoked during `pod install`.

There are two versions of Autolinking: [Expo Autolinking](/more/glossary-of-terms#expo-autolinking), and [Community Autolinking](/more/glossary-of-terms#community-autolinking).

The default [Prebuild template](/more/glossary-of-terms#prebuild-template) includes support for [Expo Autolinking](/more/glossary-of-terms#expo-autolinking), and the [Community Autolinking](/more/glossary-of-terms#community-autolinking) fork.

### Babel

Transpiler used for removing language features that aren't available in the runtime's [JavaScript engine](/more/glossary-of-terms#javascript-engine). [Metro](/more/glossary-of-terms#metro-bundler) uses Babel internally.

Projects can configure how Babel is used by modifying the [**babel.config.js**](/versions/latest/config/babel) file in the project directory. This file is optional when using [Expo CLI](/more/glossary-of-terms#expo-cli). Expo projects should extend the default Babel preset [`babel-preset-expo`](https://github.com/expo/expo/tree/main/packages/babel-preset-expo).

### Bare workflow

Describes the approach when the native projects (in the **android** and **ios** directories) are versioned in Git and maintained manually. It's typical for **existing "bare" React Native apps** where you manually make changes to the native projects. There is freedom to customize them but also high maintenance overhead.

This is in contrast to using [app config and prebuild](/workflow/prebuild), where the native projects are not versioned. Instead, they are generated on demand using the `npx expo prebuild`, which is the [recommended approach](/workflow/prebuild#pitch).

### Bun

A JavaScript runtime and a drop-in alternative for Node.js. Bun can also be used as a [package manager for JavaScript](/more/glossary-of-terms#package-manager). For more information about usage with Expo and EAS, see [using Bun](/guides/using-bun) guide.

### CocoaPods

The iOS package manager that is used to link native modules to the native iOS project. This package manager is configured using the **ios/Podfile** file and updated when a user runs `pod install` in the **ios** directory.

### Community Autolinking

This refers to the React Native community [fork](https://github.com/react-native-community/cli/issues/248#issue-422591744) of the [Expo Autolinking](/more/glossary-of-terms#expo-autolinking). The requirements for linking a module are different from [Expo Autolinking](/more/glossary-of-terms#expo-autolinking), however, the implementation is the same.

### Config introspection

A process for evaluating the results of [`npx expo prebuild`](/more/glossary-of-terms#prebuild) in-memory without persisting any code changes. This is used in [Auto Capability Signing](/more/glossary-of-terms#auto-capability-signing) to determine what the entitlements file will look like without generating any native code. This process is also used in the [VS Code Expo](/more/glossary-of-terms#vs-code-expo) extension to debug [Config Mods](/more/glossary-of-terms#config-mods).

### Config Mods

Async functions that are appended to the [app config](/more/glossary-of-terms#app-config) for use in [Prebuild](/more/glossary-of-terms#prebuild). These functions are given a single native file to modify such as **AndroidManifest.xml** or **Info.plist**. Config mods are chained together and come from the package `@expo/config-plugins`. For more information, see [Config plugins](/config-plugins/introduction).

### Config Plugin

A JavaScript function that is used to append [config mods](/more/glossary-of-terms#config-mods) to the [app Config](/more/glossary-of-terms#app-config) for use in [Prebuild](/more/glossary-of-terms#prebuild). For more information, see [Config Plugins](/config-plugins/introduction).

### Continuous Native Generation (CNG)

An abstract concept that describes the process of generating native projects from a set of inputs. In the context of Expo, CNG is implemented via the [`prebuild`](/more/glossary-of-terms#prebuild) command. See [CNG](/workflow/continuous-native-generation) and [Expo Prebuild](/workflow/prebuild) for more information.

### create-expo-app

A standalone command line tool (CLI) for bootstrapping new React Native apps with the `expo` package installed. See [`create-expo-app` reference](/more/create-expo) for more information.

### create-react-native-app

A standalone command line tool (CLI) for bootstrapping new React Native apps with the `expo` package installed and the native code generated. This CLI also enables the use of bootstrapping from an example project in [expo/examples](https://github.com/expo/examples).

This package can be used by running any of the following commands:

- `npx create-expo-app`
- `yarn create expo-app`
- `npm create expo-app`

### Dangerous mods

Config [modifiers](/more/glossary-of-terms#config-mods) that apply unstable changes to a native project during [prebuild](/more/glossary-of-terms#prebuild). Using these modifiers is unpredictable and prone to breaking changes between major version bumps in [Expo SDK](/more/glossary-of-terms#expo-sdk). For more information, see [Using a dangerous mod](/config-plugins/dangerous-mods).

### Development build

A development build is a debug build of your app that contains the `expo-dev-client` package. It's like an evolution of [Expo Go](/more/glossary-of-terms#expo-go) which doesn't have Expo Go's limitations and can be customized to your application's needs.

This is the recommended approach for building production-grade apps with Expo. For more information, see [Development builds](/get-started/set-up-your-environment?mode=development-build).

### Dev clients

`expo-dev-client` is a library that allows you to create a development build and includes useful development tools. You might also come across "custom dev client", a synonym for [Development builds](/more/glossary-of-terms#development-build).

### Development server

A development server (or dev server) is a server that is started locally, usually by running `npx expo start` from [Expo CLI](/more/glossary-of-terms#expo-cli).

The development server is typically hosted on `http://localhost:8081`. It hosts a [manifest](/more/glossary-of-terms#manifest) from `/` which the client uses to request the JavaScript bundle from the bundler.

### EAS

[Expo Application Services (EAS)](/eas) are deeply integrated cloud services for Expo and React Native apps, such as [EAS Build](/build/introduction), [EAS Submit](/submit/introduction) and [EAS Update](/eas-update/introduction).

### EAS CLI

The command-line tool for working with EAS.

### EAS Config

The **eas.json** file used to configure [EAS CLI](/more/glossary-of-terms#eas-cli). For more information, see [Configuring EAS Build with eas.json](/build/eas-json).

### EAS Metadata

A command-line tool for uploading and downloading Apple App Store metadata as JSON. This tool is available in the [EAS CLI](/more/glossary-of-terms#eas-cli) package and should be used to improve the iOS submission process. For more information, see [EAS Metadata](/eas/metadata).

### EAS Update

1.  The cloud hosting service [EAS Update](/eas-update/introduction) that is used for OTA Updates.
2.  The CLI command `eas update` from [EAS CLI](/more/glossary-of-terms#eas-cli) used to publish static files to the cloud hosting service.

### Emulator

Emulator is used to describe software emulators of Android devices on your computers. Typically, iOS emulators are referred to as [Simulators](/more/glossary-of-terms#simulator).

### Entry point

The entry point usually refers to the initial JavaScript file used to load an application. In apps using [Expo CLI](/more/glossary-of-terms#expo-cli), the default entry point is **./node_modules/expo/AppEntry.js** which simply imports the **App.js** file from the root project directory and registers it as the initial component in the native app.

### Experience

A synonym for an app that usually implies something more single-use and smaller in scope, sometimes artistic and whimsical.

### Expo Autolinking

The original [Autolinking](/more/glossary-of-terms#autolinking) system is designed for projects using `expo-modules-core`. This system links modules based on the existence of an **expo-module.config.json** in the library's root directory.

### Expo CLI

The command-line tool for working with Expo. This term now refers to the [Local Expo CLI](/more/glossary-of-terms#local-expo-cli), but historically referred to the [Global Expo CLI](/more/glossary-of-terms#global-expo-cli). For more information, see [Expo CLI](/more/expo-cli).

### Expo client

The former name for the [Expo Go](/more/glossary-of-terms#expo-go) app.

### Expo export

Refers to the command `npx expo export` from [Expo CLI](/more/glossary-of-terms#expo-cli). This command is used to bundle the app's JavaScript and assets, and then export them into a static directory that can be uploaded to a hosting service like [EAS Update](/more/glossary-of-terms#eas-update), and embedded in a [native runtime](/more/glossary-of-terms#native-runtime) for offline use.

### Expo Go

The Android and iOS app that serves as a sandbox for learning and experimenting with React Native.

Due to its limitations (such as the inability to include custom native code), it's not recommended for building and distributing production apps. Instead, use a [development build](/more/glossary-of-terms#development-build).

### Expo install

Refers to the command `npx expo install` from [Expo CLI](/more/glossary-of-terms#expo-cli). This command is used to install npm packages containing [native modules](/more/glossary-of-terms#native-module) that work with the currently installed version of `expo` in the project. Not all packages are supported. This command wraps the globally installed [package managers](/more/glossary-of-terms#package-manager).

### Expo Module Config

A file named **expo-module.config.json** that lives in the root directory of a [native module](/more/glossary-of-terms#native-module). For more information, see [Module Config](/modules/module-config).

### Expo SDK

A collection of [npm](/more/glossary-of-terms#npm) packages containing [native modules](/more/glossary-of-terms#native-module) that provides access to device/system functionality such as camera, push notification, contacts, file system, and more.

- Each package supports Android, iOS, and web whenever possible.
- The interface is completely written in [TypeScript](/more/glossary-of-terms#typescript).
- All packages in the Expo SDK work with each other and can safely be compiled together.
- Any package in the SDK can be used in any [React Native](/more/glossary-of-terms#react-native) app, with minimal, shared setup. [Learn more](/bare/installing-expo-modules).
- All packages are [open source](https://github.com/expo/expo/tree/main/packages) and can be freely customized.

### Expo start

Refers to the command `npx expo start` from [Expo CLI](/more/glossary-of-terms#expo-cli). This command is used to start a local [development server](/more/glossary-of-terms#development-server) that a [client](/more/glossary-of-terms#expo-client) connects to interact with the [Metro bundler](/more/glossary-of-terms#metro-bundler).

### Fabric

The React Native rendering system which is used to create and manage native views. For more information, see [Fabric Renderer](https://reactnative.dev/architecture/fabric-renderer).

### Flipper

A mobile app debugger used internally at Meta. It was previously recommended for use with React Native, but the integration is now deprecated and no longer supported by the React Native team [(RFC-0641)](https://github.com/react-native-community/discussions-and-proposals/blob/main/proposals/0641-decoupling-flipper-from-react-native-core.md).

### FYI

Sometimes referred to as **Expo FYI**, is a collection of tailored solutions to complex issues that live at [expo.fyi](https://expo.fyi/). FYI links are utilized throughout Expo's developer tooling to help provide a better developer experience to users.

### Global Expo CLI

The package `expo-cli` was installed globally on the user's machine and used across all projects. This CLI was introduced in SDK 30 (2018), and deprecated in favor of the [Local Expo CLI](/more/glossary-of-terms#local-expo-cli) in SDK 46 (2022).

### Gradle

Gradle is a build automation tool for multi-language software development. It's used to build Android apps. It controls the development process in the tasks of compilation and packaging to testing, deployment, and publishing.

### Hermes engine

A [JavaScript engine](/more/glossary-of-terms#javascript-engine) developed by [Meta](/more/glossary-of-terms#meta) specifically for use with [React Native](/more/glossary-of-terms#react-native). Hermes features ahead-of-time static optimization and compact bytecode to improve performance with focus on mobile devices, and is the default JS engine.

### iOS

The operating system used on iPhone, iPad, and Apple TV. [Expo Go](/more/glossary-of-terms#expo-go) currently runs on iOS for iPhone and iPad.

### JavaScript engine

A native package that can evaluate JavaScript on-device. In React Native, we predominantly use [Hermes](/more/glossary-of-terms#hermes-engine) by [Meta](/more/glossary-of-terms#meta). Other options include [JavaScriptCore](/more/glossary-of-terms#javascriptcore-engine) by Apple, and V8 by Google.

### JavaScriptCore engine

A [JavaScript engine](/more/glossary-of-terms#javascript-engine) developed by Apple and built-in to [iOS](/more/glossary-of-terms#ios). React Native for [Android](/more/glossary-of-terms#android) also can use a version of JavaScriptCore for parity. Debugging with JavaScriptCore is less sophisticated than V8 or [Hermes](/more/glossary-of-terms#hermes-engine) which implement the [Chrome DevTools Protocol](https://chromedevtools.github.io/devtools-protocol/).

### Linking

Linking can mean [deep linking into apps similar to how you link to websites on the web](/linking/overview) or [autolinking](/more/glossary-of-terms#autolinking).

### Local Expo CLI

The package `@expo/cli` is installed with the `expo` package. This is sometimes referred to as the "Versioned Expo CLI" because it is installed inside the user's project as opposed to the now deprecated `expo-cli` which was installed globally.

### Manifest

An Expo app manifest is similar to a [web app manifest](https://developer.mozilla.org/en-US/docs/Web/Manifest). It provides information that Expo Go needs to know how to run the app and other relevant data.

### Meta

Formerly Facebook, Meta is the group that develops [React Native](/more/glossary-of-terms#react-native), [Metro Bundler](/more/glossary-of-terms#metro-bundler), [Hermes Engine](/more/glossary-of-terms#hermes-engine), [Yoga](/more/glossary-of-terms#yoga) and more. The Expo team collaborates with Meta to deliver the best possible developer experience.

### Metro bundler

The bundler used for converting JavaScript files and assets into a format that runs on a [native runtime](/more/glossary-of-terms#native-runtime). This bundler is maintained by [Meta](/more/glossary-of-terms#meta) and used for React Native (including web) apps. For more information, see [Metro documentation](https://metrobundler.dev/).

### Metro config

The **metro.config.js** file used to configure [Metro bundler](/more/glossary-of-terms#metro-bundler). This should extend the package `@expo/metro-config` when using [Expo CLI](/more/glossary-of-terms#expo-cli). For more information, see [Customizing Metro](/guides/customizing-metro).

### Monorepo

A project that has multiple sub-projects which are all linked together via the package manager. A monorepo is a great way to maintain codebase for a cross-platform app.

### Native directory

The React Native ecosystem has thousands of libraries. Without a purpose-built tool, it's hard to know what the libraries are, to search through them, to determine the quality, try them out, and filter out the libraries that won't work for your project (some don't work with Expo, some don't work with Android or iOS). [React Native Directory](https://reactnative.directory/) is a website that aims to solve this problem, we recommend you use it to find packages to use in your projects.

### Native module

A module written in native code that exposes native platform functionality to the JavaScript engine via the JS global. This functionality is usually accessed via `import { NativeModules } from 'react-native';`.

### Native runtime

A native application containing a [JavaScript engine](/more/glossary-of-terms#javascript-engine), and is capable of running a React application. This includes [Expo Go](/more/glossary-of-terms#expo-go), [development build](/more/glossary-of-terms#development-build), [standalone apps](/more/glossary-of-terms#standalone-app), and even web browsers like Chrome.

### npm

[npm](https://www.npmjs.com/) is a [package manager for JavaScript](/more/glossary-of-terms#package-manager) and the registry where the packages are stored.

### Package manager

Automates the process of installing, upgrading, configuring, and removing libraries, also known as dependencies, from your project. See [Bun](/more/glossary-of-terms#bun), [npm](/more/glossary-of-terms#npm), [pnpm](/more/glossary-of-terms#pnpm), and [Yarn](/more/glossary-of-terms#yarn).

### Package manager workspaces

The recommended [monorepo](/more/glossary-of-terms#monorepo) solution for Expo users. See [Working with Monorepos](/guides/monorepos) guide for more information on how to configure workspaces with supported package managers.

### Platform extensions

Platform extensions are a feature of the [Metro bundler](/more/glossary-of-terms#metro-bundler) which enables users to substitute files on a per-platform basis given a specific filename. For example, if a project has a **.index.js** file and a **.index.ios.js** file, then the **index.ios.js** will be used when bundling for iOS, and the **index.js** file will be used when bundling for all other platforms.

By default, platform extensions are resolved in `@expo/metro-config` using the following formula:

- Android: **\*.android.js**, **\*.native.js**, **\*.js**
- iOS: **\*.ios.js**, **\*.native.js**, **\*.js**
- Web: **\*.web.js**, **\*.js**

### pnpm

[pnpm](https://pnpm.io/) is [package manager for JavaScript](/more/glossary-of-terms#package-manager), focused on disk space efficiency.

### Prebuild

The process of generating the temporary native **android** and **ios** directories for a React Native project based on the [app config](/more/glossary-of-terms#app-config). This process is performed by running the command `npx expo prebuild` from [Expo CLI](/more/glossary-of-terms#expo-cli) in a project directory.

See [Prebuild template](/more/glossary-of-terms#prebuild-template) and [Autolinking](/more/glossary-of-terms#autolinking) for further information.

### Prebuild template

The React Native project template is used as the first step of [Prebuilding](/more/glossary-of-terms#prebuild). This template is versioned with the [Expo SDK](/more/glossary-of-terms#expo-sdk), and the template is chosen based on the installed version of `expo` in a project. After the template is cloned, `npx expo prebuild` evaluates the [app config](/more/glossary-of-terms#app-config) and runs the [Config mods](/more/glossary-of-terms#config-mods) which modify various files in the template.

Although the template can be changed by using the `npx expo prebuild --template /path/to/template` flag, the default prebuild template contains important initial defaults that the `npx expo prebuild` command makes assumptions about.

The default template currently lives at [`expo-template-bare-minimum`](https://github.com/expo/expo/tree/main/templates/expo-template-bare-minimum).

### Publish

We use the word "publish" as a synonym for "deploy". When you publish an app, it becomes available at a persistent URL from Expo Go, or in the case of [Standalone apps](/more/glossary-of-terms#standalone-app), it updates the app.

### React Native

[React Native](https://reactnative.dev/) lets you build mobile apps using only JavaScript. It uses the same design as React, letting you compose a rich mobile UI from declarative components.

### React Native Web

A high-performing abstraction on top of `react-dom` that enables core primitives from [React Native](/more/glossary-of-terms#react-native) to run in the browser. React Native for web (RNW) was developed at X and is currently used for their [main website](https://x.com). [Expo SDK](/more/glossary-of-terms#expo-sdk) and [Expo CLI](/more/glossary-of-terms#expo-cli) have first-class support for RNW.

### React Navigation

The preferred navigation library for React Native apps, developed and sponsored by the Expo team.

### Remote Debugging

Remote Debugging is a deprecated way of debugging React Native apps. A better alternative today is to use [Hermes](/more/glossary-of-terms#hermes-engine), as you can connect React Native DevTools to it.

Also known as Async Chrome Debugging, it was an experimental system for debugging React Native apps. The system works by executing the application JavaScript in a Chrome tab's web worker, then sending native commands over a websocket to the native device.

### Simulator

An emulator for iOS devices that you can run on macOS (or in [Snack](/more/glossary-of-terms#snack)) to work on your app without having to have a physical device handy.

### Slug

`slug` in the \[app config\]((#appjson) is a URL-friendly name for your project. It is unique across your Expo account.

### Snack

[Snack](https://snack.expo.dev/) is an in-browser development environment where you can build Expo [experiences](/more/glossary-of-terms#experience) without installing any tools on your phone or computer.

### Software Mansion

A development agency in KrakÃ³w, Poland. Maintainers of `react-native-gesture-handler`, `react-native-screens`, and `react-native-reanimated`. The platform team at Expo is composed of a number of contractors from Software Mansion. All of Software Mansion's core React Native libraries are supported in [Expo Go](/more/glossary-of-terms#expo-go).

### Standalone app

Synonymous with "Production build". An application binary that can be submitted to the Google Play Store or Apple App Store. For more information, see [Build your project for app stores](/deploy/build-project) or [Run builds locally or on your own infrastructure](/build-reference/local-builds).

### Store config

The **store.config.json** file used to configure [EAS Metadata](/more/glossary-of-terms#eas-metadata). This file can be generated from an existing App Store entry using `eas metadata:pull`.

### Sweet API

The Swift and Kotlin API for writing React Native modules. This API is provided by the library `expo-modules-core` which is shipped with the `expo` package. For more information, see [Module API](/modules/module-api).

### TypeScript

TypeScript is a strongly typed programming language that builds on JavaScript, giving you better tooling at any scale. The Expo SDK is written in TypeScript, and we highly recommend using it. For more information, see our [TypeScript guide](/guides/typescript).

### Updates

Traditionally, apps for Android and iOS are updated by submitting an updated binary to the App and Play stores. Updates allow you to push an update to your app without the overhead of submitting a new release to the stores. For more information, see [Publishing](/eas-update/introduction) documentation.

### VS Code Expo Tools

The VS Code extension for improving the developer experience of working with app config files. This extension provides autocomplete and intellisense for the [app config](/more/glossary-of-terms#app-config), [Store Config](/more/glossary-of-terms#store-config), [Expo Module Config](/more/glossary-of-terms#expo-module-config), and [EAS Config](/more/glossary-of-terms#eas-config). For more information, see the [VS Code Expo Tools extension](https://marketplace.visualstudio.com/items?itemName=expo.vscode-expo-tools).

### Watchman

The file watcher used by [Metro](/more/glossary-of-terms#metro-bundler) to perform hot reloads during development. Watchman contains native code and may cause issues when installed globally. Watchman is maintained by [Meta](/more/glossary-of-terms#meta).

### webpack

The deprecated bundler used by [Expo CLI](/more/glossary-of-terms#expo-cli) for developing [`react-native-web`](/more/glossary-of-terms#react-native-web) apps.

### Yarn

[Yarn](https://yarnpkg.com/) is a [package manager for JavaScript](/more/glossary-of-terms#package-manager), created at Meta. It has two mainline versions [Yarn v1 (Classic)](https://classic.yarnpkg.com/lang/en/) and [Yarn Berry](https://github.com/yarnpkg/berry).

### Yoga

A native cross-platform library used by React Native internally to provide [CSS FlexBox](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_flexible_box_layout/Basic_concepts_of_flexbox) support to native views. React Native styles are passed to Yoga to lay out and style elements on the screen. For more information, see [Yoga](https://github.com/facebook/yoga) documentation.

---

---

modificationDate: June 16, 2024
title: qr.expo.dev
description: Reference for the QR code generator at qr.expo.dev.

---

# qr.expo.dev

Reference for the QR code generator at qr.expo.dev.

qr.expo.dev is a cloud function that generates Expo-branded QR codes. This function creates QR codes for [EAS Update](/eas-update/introduction), which are used to preview updates in [development builds](/develop/development-builds/introduction) and Expo Go.

For example, if you and your team have a development build, and you'd like to load the latest update on a specific build's channel, you could go to the following endpoint to generate a QR code:

```text
https://qr.expo.dev/eas-update?projectId=your-project-id&runtimeVersion=your-runtime-version&channel=your-channel
```

Which would produce the following QR code SVG:

This QR code represents the following URL:

```text
exp+your-slug://expo-development-client/?url=https://u.expo.dev/your-project-id?runtime-version=your-runtime-version&channel-name=your-channel
```

This URL will deep link into a development build and instruct it to fetch the latest update on the specified channel.

> If sharing the URL is more convenient, you can request the URL directly by adding `format=url` to the query parameters.

## General

The following parameters apply to the `/eas-update` endpoint.

### Base query parameters

The following base query parameters can be included with any request to `/eas-update`.

| Param                    | Required | Default    | Description                                                                                                                                                     |
| ------------------------ | -------- | ---------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `slug`                   | No       | exp        | Use [`slug`](/versions/latest/config/app#slug) from [app config](/workflow/configuration) to target a development build. Otherwise use "exp" to target Expo Go. |
| `appScheme` (deprecated) | No       | exp        | Replaced by `slug`. Use `slug` instead.                                                                                                                         |
| `host`                   | No       | u.expo.dev | The hostname of the server that handles update requests.                                                                                                        |
| `format`                 | No       | svg        | Endpoints respond with SVGs by default. To receive a plain text URL, use `url`.                                                                                 |

### Update by device traits

Preview and production builds make requests to the EAS Update service with `runtimeVersion` and `channel` properties. You can emulate this behavior with the following query parameters:

| Param            | Required | Description                                                      |
| ---------------- | -------- | ---------------------------------------------------------------- |
| `projectId`      | Yes      | The ID of the project                                            |
| `runtimeVersion` | Yes      | The [runtime version](/eas-update/runtime-versions) of the build |
| `channel`        | Yes      | The channel name of the build                                    |

#### Example

```text
https://qr.expo.dev/eas-update?projectId=your-project-id&runtimeVersion=your-runtime-version&channel=your-channel
```

### Update by ID

You can create a QR code for a specific update given its platform-specific ID.

| Param      | Required | Description          |
| ---------- | -------- | -------------------- |
| `updateId` | Yes      | The ID of the update |

#### Example

```text
https://qr.expo.dev/eas-update?updateId=your-update-id
```

### Update by group ID

You can create a QR code for an update group given the update's group ID.

| Param       | Required | Description                |
| ----------- | -------- | -------------------------- |
| `projectId` | Yes      | The ID of the project      |
| `groupId`   | Yes      | The ID of the update group |

#### Example

```text
https://qr.expo.dev/eas-update?projectId=your-project-id&groupId=your-update-id
```

### Update by branch ID

You can create a QR code with a branch's ID, which will return the latest update available on that branch.

| Param       | Required | Description           |
| ----------- | -------- | --------------------- |
| `projectId` | Yes      | The ID of the project |
| `branchId`  | Yes      | The ID of the branch  |

#### Example

```text
https://qr.expo.dev/eas-update?projectId=your-project-id&branchId=your-branch-id
```

### Update by channel ID

You can create a QR code with a channel's ID, which will return the latest update available on the branch or branches that are mapped to that channel.

| Param       | Required | Description           |
| ----------- | -------- | --------------------- |
| `projectId` | Yes      | The ID of the project |
| `channelId` | Yes      | The ID of the channel |

#### Example

```text
https://qr.expo.dev/eas-update?projectId=your-project-id&channelId=your-channel-id
```

---

---

modificationDate: February 09, 2026
title: Release statuses
description: Learn about alpha, preview, beta, and stable release statuses and how they affect feature stability when using Expo SDK and Expo Application Services (EAS).

---

# Release statuses

Learn about alpha, preview, beta, and stable release statuses and how they affect feature stability when using Expo SDK and Expo Application Services (EAS).

Expo uses different release statuses to indicate the stability and readiness of its tools and services. Understanding these statuses can help you make informed decisions about which features and versions to use in your projects.

## Alpha

Alpha features are available for early testing but may have significant limitations. These features are in the earliest stage of development and are shared with the community to gather feedback and shape their direction.

**What to expect:**

- APIs are subject to breaking changes without major version bumps
- Implementation may change substantially based on feedback
- May have known bugs or performance issues
- Not recommended for production apps

Alpha features are opportunities to influence the future of Expo. We encourage you to test these features in development environments and [provide feedback](https://expo.dev/contact) to help us refine them before they reach a wider audience.

## Preview

Preview features provide an early look at a slice of new functionality. Unlike alpha releases, preview features are designed with minimal overhead and limited scope, but they are not yet feature-complete.

**What to expect:**

- A focused slice of functionality, not the full feature set
- Designed with minimal overhead, but not yet fully validated for all production scenarios
- APIs may evolve as the feature is built out further
- Can be used in production with thorough testing, though functionality is limited

The purpose of a preview is to share new functionality early and gather feedback about a specific slice before building it out further. Your input directly helps shape the direction of the feature. [Share your feedback](https://expo.dev/contact) to help us prioritize what to build next.

## Beta

Beta features are feature-complete and undergoing final validation. These features have core functionality implemented and are being prepared for stable release.

**What to expect:**

- Core functionality is complete and API shape is mostly settled
- May have minor bugs or edge cases that are being addressed
- Breaking changes are possible but unlikely unless critical issues are found
- Can be used in production with thorough testing

Beta features are ready for real-world testing. While we don't expect major changes, we recommend testing thoroughly if you plan to use them in production. [Your feedback](https://expo.dev/contact) during this stage helps us catch any remaining issues before the stable release.

## Stable

Features without any status badge are considered stable and are fully released for production use. These features have been thoroughly tested and follow semantic versioning for any future changes.

**What to expect:**

- Production-ready with full support
- Breaking changes only occur in major version releases
- Performance and stability have been validated
- Documentation and examples available

Stable features are ready for use in any application. You can rely on them following semantic versioning principles, meaning breaking changes will only occur in major version updates.

## Deprecated

Deprecated features are those that are no longer recommended for use and will be removed in future releases. We provide deprecation warnings to give developers time to transition away from these features.

**What to expect:**

- Warnings in documentation and code when using deprecated features
- No new features or improvements will be made
- Removal in future major releases

When you encounter a deprecated feature, we recommend planning to migrate to the suggested alternatives as soon as possible to ensure your projects remain up-to-date and maintainable.

---

---

modificationDate: May 24, 2021
title: Expo Structured Field Values
description: Version 0

---

# Expo Structured Field Values

Version 0

Structured Field Values for HTTP, [IETF RFC 8941](https://tools.ietf.org/html/rfc8941), is a proposal to formalize header syntax and facilitate nested data.

Since it is still a work in progress, Expo maintains a custom version that only implements the following subset of the protocol defined in [IETF RFC 8941](https://tools.ietf.org/html/rfc8941):

- All key values
- String, integer, and decimal items
- Dictionaries

---

---

modificationDate: March 13, 2023
title: Expo Updates v1
description: Version 1

---

# Expo Updates v1

Version 1

## Introduction

This is the specification for Expo Updates, a protocol for delivering updates to Expo apps running on multiple platforms.

### Conformance

Conforming servers and client libraries must fulfill all normative requirements. Conformance requirements are described in this document by both descriptive assertions and key words with clearly defined meanings.

The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in the normative portions of this document are to be interpreted as described in [IETF RFC 2119](https://tools.ietf.org/html/rfc2119). These key words may appear in lowercase and still retain their meaning unless explicitly declared as non-normative.

A conforming implementation of this protocol MAY provide additional functionality, but MUST NOT where explicitly disallowed or would otherwise result in non-conformance. Where relevant, unknown fields should be allowed and ignored by conforming clients.

### Overview

Conforming servers and client libraries MUST follow the HTTP spec as described in [RFC 7231](https://tools.ietf.org/html/rfc7231) as well as the more precise guidance described in this spec.

- An _update_ is defined as a [_manifest_](/technical-specs/expo-updates-1#manifest-body) together with the assets referenced inside the manifest.
- A [_directive_](/technical-specs/expo-updates-1#directive-body) is defined as a message from the server that instructs clients to perform an action.

Expo Updates is a protocol for assembling and delivering updates and directives to clients.

The primary audiences of this spec are Expo Application Services and organizations that wish to manage their own update server to satisfy internal requirements.

## Client

> See the [reference client library](https://github.com/expo/expo/tree/main/packages/expo-updates).

An app running a conformant Expo Updates client library MUST load the most recent _update_ saved in the client library's update database, possibly after filtering by the contents of the update's manifest [_metadata_](/technical-specs/expo-updates-1#manifest-body).

The following describes how a conformant Expo Updates client library MUST retrieve a new update from a conformant server:

1.  The client library MUST make a [request](/technical-specs/expo-updates-1#request) for the most recent update and directive, with constraints specified in the headers.
2.  If a [response](/technical-specs/expo-updates-1#response) is received, the client library MUST process its contents:
    - For a response containing an _update_, the client library SHALL proceed to make additional requests to download and store any new assets specified in the manifest. The manifest and assets together are considered a new _update_. The client library will edit its local state to reflect that a new update has been added to the local storage. It will also update the local state with the new `expo-manifest-filters` and `expo-server-defined-headers` found in the response [headers](/technical-specs/expo-updates-1#manifest-response-headers).
    - For a response containing a _directive_, the client library will consume the directive depending on the directive type and edit its local state accordingly.

## Request

A conformant client library MUST make a GET request with the headers:

1.  `expo-protocol-version: 1`, to specify version 1 of this Expo Updates specification.
2.  `expo-platform`, to specify the platform type the client is running on.
    - iOS MUST be `expo-platform: ios`.
    - Android MUST be `expo-platform: android`.
    - If it is not one of these platforms, the server SHOULD return a 400 or a 404
3.  `expo-runtime-version` MUST be a runtime version compatible with the client. A runtime version stipulates the native code setup a client is running. It should be set when the client is built. For example, in an iOS client, the value may be set in a plist file.
4.  Any headers stipulated by a previous responses' [server defined headers](/technical-specs/expo-updates-1#response).

A conformant client library MAY send one of `accept: application/expo+json`, `accept: application/json`, or `accept: multipart/mixed` based on the [supported response structures](/technical-specs/expo-updates-1#response), though it SHOULD send `accept: application/expo+json, application/json, multipart/mixed`. A conformant client library MAY express preference using "q" parameters as specified in [RFC 7231](https://datatracker.ietf.org/doc/html/rfc7231#section-5.3.1), which default to `1`.

A conformant client library configured to perform [code signing](/technical-specs/expo-updates-1#code-signing) verification MUST send a `expo-expect-signature` header to indicate that it expects the conformant server to include the `expo-signature` header in the manifest response. `expo-expect-signature` is an [Expo SFV](/technical-specs/expo-sfv-0) dictionary which MAY contain any of the following key value pairs:

- `sig` SHOULD contain the boolean `true` to indicate that it requires a conformant server to respond with the signature in the `sig` key.
- `keyid` SHOULD contain the keyId of the public key the client will use to verify the signature
- `alg` SHOULD contain the algorithm the client will use to verify the signature

Example:

```text
expo-protocol-version: 1
accept: application/expo+json;q=0.9, application/json;q=0.8, multipart/mixed
expo-platform: *
expo-runtime-version: *
expo-expect-signature: sig, keyid="root", alg="rsa-v1_5-sha256"
```

## Response

A conformant server MUST return a response structured in at least one of the two following response structures, MAY support either or both response structures, and when an unsupported response structure is requested the server SHOULD respond with an HTTP `406` error status. A server that wishes to respond with an incompatible response for the requested protocol version SHOULD also respond with an HTTP `406` error status instead.

- For a response with `content-type: application/json` or `content-type: application/expo+json`, the [common response headers](/technical-specs/expo-updates-1#common-response-headers) and [other response headers](/technical-specs/expo-updates-1#other-response-headers) MUST be sent in the response headers and the [manifest body](/technical-specs/expo-updates-1#manifest-body) MUST be sent in the response body. This format of response does not support multiple response parts and therefore does not support _directives_, and SHOULD respond with an HTTP `406` error status when the most recent response to be served is not an _update_.
- For a response with `content-type: multipart/mixed`, the response MUST be structured as specified in the [multipart response](/technical-specs/expo-updates-1#multipart-response) section.
- A [multipart response](/technical-specs/expo-updates-1#multipart-response) with no parts MAY respond with an HTTP `204` status and no content, and thus no `content-type` response header.

The choice of update and headers are dependent on the values of the request headers. A conformant server MUST respond with the most recent update, ordered by creation time, satisfying all parameters and constraints imposed by the [request headers](/technical-specs/expo-updates-1#request). The server MAY use any properties of the request like its headers and source IP address to choose among several updates that all satisfy the request's constraints.

### Common response headers

```text
expo-protocol-version: 1
expo-sfv-version: 0
expo-manifest-filters: <expo-sfv>
expo-server-defined-headers: <expo-sfv>
cache-control: *
content-type: *
```

- `expo-protocol-version` describes the version of the protocol defined in this spec and MUST be `1`.
- `expo-sfv-version` MUST be `0`.
- `expo-manifest-filters` is an [Expo SFV](/technical-specs/expo-sfv-0) dictionary. It is used to filter updates stored by the client library by the `metadata` attribute found in the [manifest](/technical-specs/expo-updates-1#manifest-body). If a field is mentioned in the filter, the corresponding field in the metadata must either be missing or equal for the update to be included. The client library MUST store the manifest filters until it is overwritten by a newer response.
- `expo-server-defined-headers` is an [Expo SFV](/technical-specs/expo-sfv-0) dictionary. It defines headers that a client library MUST store until overwritten by a newer dictionary, and they MUST be included in every subsequent [update request](/technical-specs/expo-updates-1#request).
- `cache-control` MUST be set to an appropriately short period of time. A value of `cache-control: private, max-age=0` is recommended to ensure the newest manifest is returned. Setting longer cache ages could result in stale updates.
- `content-type` MUST be determined by _proactive negotiation_ as defined in [RFC 7231](https://tools.ietf.org/html/rfc7231#section-3.4.1). Since the client library is [required](/technical-specs/expo-updates-1#request) to send an `accept` header with each manifest request, this will always be either `application/expo+json`, `application/json`; otherwise the request would return a `406` error.

### Other response headers

```text
expo-signature: *
```

- `expo-signature` SHOULD contain the signature of the manifest to be used during the validation step of [code signing](/technical-specs/expo-updates-1#code-signing) if the request for the manifest contained the `expo-expect-signature` header. This is an [Expo SFV](/technical-specs/expo-sfv-0) dictionary which MAY contain any of the following key value pairs:
  - `sig` MUST contain the signature of the manifest. The name of this field matches that of `expo-expect-signature`.
  - `keyid` MAY contain the keyId of the key the server used to sign the response. The client SHOULD use the certificate that matches this `keyid` to verify the signature.
  - `alg` MAY contain the algorithm the server used to sign the response. The client SHOULD use this field only if it matches the algorithm defined for the certificate matching `keyid`.

### Multipart response

An update response of this format is defined by the `multipart/mixed` MIME type as defined by [RFC 2046](https://tools.ietf.org/html/rfc2046#section-5.1).

Headers for this response format are the [common response headers](/technical-specs/expo-updates-1#common-response-headers), with the following exceptions:

- `content-type` SHOULD have a `multipart/mixed` value as defined by [RFC 2046](https://tools.ietf.org/html/rfc2046#section-5.1)

Part order is not strict. A multipart response with no parts (zero-length body) should be considered a no-op (no updates or directives available), though headers for the response SHOULD be sent nevertheless and processed by the client.

Each part is defined as follows:

1.  OPTIONAL `"manifest"` part:
    - MUST have part header `content-disposition: form-data; name="manifest"`. The first parameter (`form-data`) does not need to be `form-data`, but the `name` parameter must have `manifest` as a value.
    - MUST have part header `content-type: application/json` or `application/expo+json`.
    - SHOULD have part header `expo-signature` as defined in [other response headers](/technical-specs/expo-updates-1#other-response-headers) if code signing is being used.
    - The [manifest body](/technical-specs/expo-updates-1#manifest-body) MUST be sent in the part body.
2.  OPTIONAL `"extensions"` part:
    - MUST have part header `content-disposition: form-data; name="extensions"`. The first parameter (`form-data`) does not need to be `form-data`, but the `name` parameter must have `extensions` as a value.
    - MUST have part header `content-type: application/json`.
    - The [extensions-body](/technical-specs/expo-updates-1#extensions-body) MUST be sent in the part body.
3.  OPTIONAL `"directive"` part:
    - MUST have part header `content-disposition: form-data; name="directive"`. The first parameter (`form-data`) does not need to be `form-data`, but the `name` parameter must have `directive` as a value.
    - MUST have part header `content-type: application/json` or `application/expo+json`.
    - SHOULD have part header `expo-signature` as defined in [other response headers](/technical-specs/expo-updates-1#other-response-headers) if code signing is being used.
    - The [directive body](/technical-specs/expo-updates-1#directive-body) MUST be sent in the part body.

### Manifest body

Defined as JSON conforming to both the following `Manifest` definition expressed in [TypeScript](https://www.typescriptlang.org/) and the detailed descriptions for each field:

```ts
type Manifest = {
  id: string;
  createdAt: string;
  runtimeVersion: string;
  launchAsset: Asset;
  assets: Asset[];
  metadata: { [key: string]: string };
  extra: { [key: string]: any };
};

type Asset = {
  hash?: string;
  key: string;
  contentType: string;
  fileExtension?: string;
  url: string;
};
```

- `id`: The ID MUST uniquely specify the manifest and MUST be a UUID.
- `createdAt`: The date and time at which the update was created is essential as the client library selects the most recent update (subject to any constraints supplied by the `expo-manifest-filters` header). The datetime should be formatted according to [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).
- `runtimeVersion`: Can be any string defined by the developer. It stipulates what native code setup is required to run the associated update.
- `launchAsset`: A special asset that is the entry point of the application code. The `fileExtension` field will be ignored for this asset and SHOULD be omitted.
- `assets`: An array of assets used by the update bundle, such as JavaScript, pictures, and fonts. All assets (including the `launchAsset`) should be downloaded to disk before executing the update, and a mapping of asset `key`s to locations on disk should be provided to application code.
- Properties of each asset object:
  - `hash`: Base64URL-encoded SHA-256 hash of the file to guarantee integrity. Base64URL encoding is defined by [IETF RFC 4648](https://datatracker.ietf.org/doc/html/rfc4648#section-5).
  - `key`: Key used to reference this asset from the update's application code. This key, for example, may be generated by a separate build step that processes the application code, such as a bundler.
  - `contentType`: The MIME type of the file as defined by [RFC 2045](https://tools.ietf.org/html/rfc2045). For example, `application/javascript`, `image/jpeg`.
  - `fileExtension`: The suggested extension to use when a file is saved on a client. Some platforms, such as iOS, require certain file types to be saved with an extension. The extension MUST be prefixed with a `.`. For example, **.jpeg**. In some cases, such as the launchAsset, this field will be ignored in favor of a locally determined extension. If the field is omitted and there is no locally stipulated extension, the asset will be saved without an extension. For example, `./filename` with no `.` at the end. A conforming client SHOULD prefix a file extension with a `.` if a file extension is not empty and missing the `.` prefix.
  - `url`: Location at which the file may be fetched.

- `metadata`: The metadata associated with an update. It is a string-valued dictionary. The server MAY send back anything it wishes to be used for filtering the updates. The metadata MUST pass the filter defined in the accompanying `expo-manifest-filters` header.
- `extra`: For storage of optional "extra" information such as third-party configuration. For example, if the update is hosted on Expo Application Services (EAS), the EAS project ID may be included:

  ```json
  "extra": {
    "eas": {
      "projectId": "00000000-0000-0000-0000-000000000000"
    }
  }
  ```

### Extensions body

Defined as JSON conforming to both the following `Extensions` definition expressed in [TypeScript](https://www.typescriptlang.org/) and the detailed descriptions for each field:

```ts
type Extensions = {
  assetRequestHeaders: ExpoAssetHeaderDictionary;
  ...
}

type ExpoAssetHeaderDictionary = {
  [assetKey: string]: {
    [headerName: string]: string,
  };
}
```

- `assetRequestHeaders`: MAY contain a dictionary of header (key, value) pairs to include with asset requests. Key and value MUST both be strings.

### Directive body

Defined as JSON conforming to both the following `Directive` definition expressed in [TypeScript](https://www.typescriptlang.org/) and the detailed descriptions for each field:

```ts
type Directive = {
  type: string;
  parameters?: { [key: string]: any };
  extra?: { [key: string]: any };
};
```

- `type`: The type of directive.
- `parameters`: MAY contain any extra information specific to the `type`.
- `extra`: For storage of optional "extra" information such as third-party information. For example, if the update is hosted on Expo Application Services (EAS), the EAS project ID may be included.

A conformant client library and server MAY specify and implement directive types specific to the needs of the application. For example, Expo Application Services makes use of one type thus far, `rollBackToEmbedded`, which directs the expo-updates library to use the update embedded in the host application instead of any other downloaded updates.

## Asset request

A conformant client library MUST make a GET request to the asset URLs specified by the manifest. The client library SHOULD include a header accepting the asset's content type as specified in the manifest. Additionally, the client library SHOULD specify the compression encoding the client library is capable of handling.

Example headers:

```text
accept: image/jpeg, */*
accept-encoding: br, gzip
```

A conformant client library MUST also include any header (key, value) pairs included in [`assetRequestHeaders`](/technical-specs/expo-updates-1#manifest-extensions) for this asset key.

## Asset response

An asset located at a particular URL MUST NOT be changed or removed since client libraries may fetch assets for any update at any time. A conformant client MUST verify that the base64url-encoded SHA-256 hash of the asset matches the `hash` field for the asset from the manifest.

### Asset response headers

The asset MUST be encoded using a compression format that the client supports according to the request's `accept-encoding` header. The server MAY serve uncompressed assets. The response MUST include a `content-type` header with the MIME type of the asset. For example:

```text
content-encoding: br
content-type: application/javascript
```

An asset is RECOMMENDED to be served with a `cache-control` header set to a long duration as an asset located at a given URL must not change. For example:

```text
cache-control: public, max-age=31536000, immutable
```

### Compression

Assets SHOULD be capable of being served with [Gzip](https://www.gnu.org/software/gzip/) and [Brotli](https://github.com/google/brotli) compression.

## Code signing

Expo Updates supports code signing the manifest and directive bodies. Code signing the manifest also transitively signs the assets since their hashes are present in the manifest and verified by a conformant client. A conformant client MAY request the manifest or directive be signed using a private key, and then MUST verify the signature of the manifest or directive using the corresponding code signing certificate before it is used or any corresponding manifest assets are downloaded. The client MUST verify that the signing certificate is either a self-signed, trusted root certificate or is in a certificate chain signed by a trusted root certificate. In either case, the root certificate MUST be embedded in the application or device's operating system.

---

---

title: app.json / app.config.js
description: A reference of available properties in Expo app config.

---

# app.json / app.config.js

A reference of available properties in Expo app config.

The following is a list of properties that are available for you under the `"expo"` key in **app.json** or **app.config.json**. These properties can be passed to the top level object of **app.config.js** or **app.config.ts**.

[Configuration with app config](/workflow/configuration) â€” For information on app configuration, the differences between various app config files, and how to use them dynamically.

## Properties

### `name`

Type: `string`

The name of your app as it appears both within Expo Go and on your home screen as a standalone app.

Existing React Native app?

To change the name of your app, edit the 'Display Name' field in Xcode and the `app_name` string in `android/app/src/main/res/values/strings.xml`

### `description`

Type: `string`

A short description of what your app is and why it is great.

### `slug`

Type: `string`

A URL-friendly name for your project that is unique across your account.

### `owner`

Type: `string`

The name of the Expo account that owns the project. This is useful for teams collaborating on a project. If not provided, the owner defaults to the username of the current user.

### `currentFullName`

Type: `string`

The auto generated Expo account name and slug used for display purposes. It is not meant to be set directly. Formatted like `@username/slug`. When unauthenticated, the username is `@anonymous`. For published projects, this value may change when a project is transferred between accounts or renamed.

### `originalFullName`

Type: `string`

The auto generated Expo account name and slug used for services like Notifications and AuthSession proxy. It is not meant to be set directly. Formatted like `@username/slug`. When unauthenticated, the username is `@anonymous`. For published projects, this value will not change when a project is transferred between accounts or renamed.

### `sdkVersion`

Type: `string`

The Expo sdkVersion to run the project on. This should line up with the version specified in your package.json.

### `runtimeVersion`

One of types:

- `string` matching the following pattern: `^[a-zA-Z\d][a-zA-Z\d._+()-]{0,254}$`
- `string` matching the following pattern: `^exposdk:((\d+\.\d+\.\d+)|(UNVERSIONED))$`
- An `object` with the following properties:

  #### `policy`

  Type: `enum`â€ƒâ€¢â€ƒPath: `runtimeVersion.policy`

  Valid values: `nativeVersion`, `sdkVersion`, `appVersion`, `fingerprint`.

Property indicating compatibility between a build's native code and an OTA update.

### `version`

Type: `string`

Your app version. In addition to this field, you'll also use `ios.buildNumber` and `android.versionCode` â€” read more about how to version your app [here](https://docs.expo.dev/distribution/app-stores/#versioning-your-app). On iOS this corresponds to `CFBundleShortVersionString`, and on Android, this corresponds to `versionName`. The required format can be found [here](https://developer.apple.com/documentation/bundleresources/information_property_list/cfbundleshortversionstring).

Existing React Native app?

To change your app version, edit the 'Version' field in Xcode and the `versionName` string in `android/app/build.gradle`

### `platforms`

Type: `array`

Platforms that your project explicitly supports. If not specified, it defaults to `["ios", "android"]`.

Example

`[ "ios", "android", "web" ]`

### `githubUrl`

Type: `string`

If you would like to share the source code of your app on Github, enter the URL for the repository here and it will be linked to from your Expo project page.

Example

`"https://github.com/expo/expo"`

### `orientation`

Type: `enum`

Locks your app to a specific orientation with portrait or landscape. Defaults to no lock. Valid values: `default`, `portrait`, `landscape`

### `userInterfaceStyle`

Type: `enum`

Configuration to force the app to always use the light or dark user-interface appearance, such as "dark mode", or make it automatically adapt to the system preferences. If not provided, defaults to `light`. Requires `expo-system-ui` be installed in your project to work on Android.

### `backgroundColor`

Type: `string`

The background color for your app, behind any of your React views. This is also known as the root view background color. Requires `expo-system-ui` be installed in your project to work on iOS.

6 character long hex color string, for example, `'#000000'`. Default is white: `'#ffffff'`

### `primaryColor`

Type: `string`

On Android, this will determine the color of your app in the multitasker. Currently this is not used on iOS, but it may be used for other purposes in the future.

6 character long hex color string, for example, `'#000000'`

### `icon`

Type: `string`

Local path or remote URL to an image to use for your app's icon. We recommend that you use a 1024x1024 png file. This icon will appear on the home screen and within the Expo Go app.

Existing React Native app?

To change your app's icon, edit or replace the files in `ios/<PROJECT-NAME>/Assets.xcassets/AppIcon.appiconset` (we recommend using Xcode), and `android/app/src/main/res/mipmap-<RESOLUTION>`. Be sure to follow the guidelines for each platform ([iOS](https://developer.apple.com/design/human-interface-guidelines/ios/icons-and-images/app-icon/), [Android 7.1 and below](https://material.io/design/iconography/#icon-treatments), and [Android 8+](https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive)) and to provide your new icon in each existing size.

### `notification`

Type: `object`

@deprecated in favor of the expo-notifications config plugin. This field will be removed in SDK 55. Configuration for remote (push) notifications.

#### `icon`

Type: `string`â€ƒâ€¢â€ƒPath: `notification.icon`

(Android only) Local path or remote URL to an image to use as the icon for push notifications. 96x96 png grayscale with transparency. We recommend following [Google's design guidelines](https://material.io/design/iconography/product-icons.html#design-principles). If not provided, defaults to your app icon.

#### `color`

Type: `string`â€ƒâ€¢â€ƒPath: `notification.color`

(Android only) Tint color for the push notification image when it appears in the notification tray. Defaults to `#ffffff`

6 character long hex color string, for example, `'#000000'`

#### `iosDisplayInForeground`

Type: `boolean`â€ƒâ€¢â€ƒPath: `notification.iosDisplayInForeground`

Whether or not to display notifications when the app is in the foreground on iOS. `_displayInForeground` option in the individual push notification message overrides this option. [Learn more.](https://docs.expo.dev/push-notifications/receiving-notifications/#foreground-notification-behavior) Defaults to `false`.

#### `androidMode`

Type: `enum`â€ƒâ€¢â€ƒPath: `notification.androidMode`

Show each push notification individually (`default`) or collapse into one (`collapse`).

#### `androidCollapsedTitle`

Type: `string`â€ƒâ€¢â€ƒPath: `notification.androidCollapsedTitle`

If `androidMode` is set to `collapse`, this title is used for the collapsed notification message. For example, `'#{unread_notifications} new interactions'`.

### `androidStatusBar`

Type: `object`

Configuration for the status bar on Android. For more details navigate to [Configuring StatusBar](https://docs.expo.dev/guides/configuring-statusbar/).

#### `barStyle`

Type: `enum`â€ƒâ€¢â€ƒPath: `androidStatusBar.barStyle`

Configures the status bar icons to have a light or dark color. Valid values: `light-content`, `dark-content`. Defaults to `dark-content`

#### `backgroundColor`

Type: `string`â€ƒâ€¢â€ƒPath: `androidStatusBar.backgroundColor`

Specifies the background color of the status bar. Defaults to `#00000000` (transparent) for `dark-content` bar style and `#00000088` (semi-transparent black) for `light-content` bar style

6 character long hex color string `'#RRGGBB'`, for example, `'#000000'` for black. Or 8 character long hex color string `'#RRGGBBAA'`, for example, `'#00000088'` for semi-transparent black.

#### `hidden`

Type: `boolean`â€ƒâ€¢â€ƒPath: `androidStatusBar.hidden`

Instructs the system whether the status bar should be visible or not. Defaults to `false`

#### `translucent`

Type: `boolean`â€ƒâ€¢â€ƒPath: `androidStatusBar.translucent`

When false, the system status bar pushes the content of your app down (similar to `position: relative`). When true, the status bar floats above the content in your app (similar to `position: absolute`). Defaults to `true` to match the iOS status bar behavior (which can only float above content). Explicitly setting this property to `true` will add `android:windowTranslucentStatus` to `styles.xml` and may cause unexpected keyboard behavior on Android when using the `softwareKeyboardLayoutMode` set to `resize`. In this case you will have to use `KeyboardAvoidingView` to manage the keyboard layout.

### `androidNavigationBar`

Type: `object`

Configuration for the bottom navigation bar on Android. Can be used to configure the `expo-navigation-bar` module in EAS Build.

#### `visible`

Type: `enum`â€ƒâ€¢â€ƒPath: `androidNavigationBar.visible`

Determines how and when the navigation bar is shown. [Learn more](https://developer.android.com/training/system-ui/immersive). Requires `expo-navigation-bar` be installed in your project. Valid values: `leanback`, `immersive`, `sticky-immersive`

`leanback` results in the navigation bar being hidden until the first touch gesture is registered.

`immersive` results in the navigation bar being hidden until the user swipes up from the edge where the navigation bar is hidden.

`sticky-immersive` is identical to `'immersive'` except that the navigation bar will be semi-transparent and will be hidden again after a short period of time.

#### `barStyle`

Type: `enum`â€ƒâ€¢â€ƒPath: `androidNavigationBar.barStyle`

Configure the navigation bar icons to have a light or dark color. Supported on Android Oreo and newer. Valid values: `'light-content'`, `'dark-content'`

#### `backgroundColor`

Type: `string`â€ƒâ€¢â€ƒPath: `androidNavigationBar.backgroundColor`

Specifies the background color of the navigation bar.

6 character long hex color string, for example, `'#000000'`

#### `enforceContrast`

Type: `boolean`â€ƒâ€¢â€ƒPath: `androidNavigationBar.enforceContrast`

Determines whether the operating system should keep the navigation bar translucent to provide contrast between the navigation buttons and app content. Defaults to true.

### `developmentClient`

Type: `object`

Settings that apply specifically to running this app in a development client

#### `silentLaunch`

Type: `boolean`â€ƒâ€¢â€ƒPath: `developmentClient.silentLaunch`

If true, the app will launch in a development client with no additional dialogs or progress indicators, just like in a standalone app.

### `scheme`

One of types:

- `string` matching the following pattern: `^[a-z][a-z0-9+.-]*$`
  `{ "type": "array", "items": { "type": "string", "pattern": "^[a-z][a-z0-9+.-]*$" } }`

URL scheme(s) to link into your app. For example, if we set this to `'demo'`, then demo:// URLs would open your app when tapped. This is a build-time configuration, it has no effect in Expo Go.

String beginning with a **lowercase** letter followed by any combination of **lowercase** letters, digits, "+", "." or "-"

Existing React Native app?

To change your app's scheme, replace all occurrences of the old scheme in `Info.plist` and `AndroidManifest.xml`

### `extra`

Type: `object`

Any extra fields you want to pass to your experience. Values are accessible via `Constants.expoConfig.extra` ([Learn more](https://docs.expo.dev/versions/latest/sdk/constants/#constantsmanifest))

### `updates`

Type: `object`

Configuration for the expo-updates library

#### `enabled`

Type: `boolean`â€ƒâ€¢â€ƒPath: `updates.enabled`

Whether the updates system will run. Defaults to true. If set to false, builds will only use code and assets bundled at time of build.

#### `checkAutomatically`

Type: `enum`â€ƒâ€¢â€ƒPath: `updates.checkAutomatically`

By default, expo-updates will check for updates every time the app is loaded. Set this to `ON_ERROR_RECOVERY` to disable automatic checking unless recovering from an error. Set this to `NEVER` to disable automatic checking. Valid values: `ON_LOAD` (default value), `ON_ERROR_RECOVERY`, `WIFI_ONLY`, `NEVER`

#### `useEmbeddedUpdate`

Type: `boolean`â€ƒâ€¢â€ƒPath: `updates.useEmbeddedUpdate`

Whether to load the embedded update. Defaults to true. If set to false, an update will be fetched at launch. When set to false, ensure that `checkAutomatically` is set to `ON_LOAD` and `fallbackToCacheTimeout` is large enough for the initial remote update to download. This should not be used in production.

#### `fallbackToCacheTimeout`

Type: `number`â€ƒâ€¢â€ƒPath: `updates.fallbackToCacheTimeout`

How long (in ms) to wait for the app to check for and fetch a new update upon launch before falling back to the most recent update already present on the device. Defaults to 0. Must be between 0 and 300000 (5 minutes). If the startup update check takes longer than this value, any update downloaded during the check will be applied upon the next app launch.

#### `url`

Type: `string`â€ƒâ€¢â€ƒPath: `updates.url`

URL from which expo-updates will fetch update manifests

#### `codeSigningCertificate`

Type: `string`â€ƒâ€¢â€ƒPath: `updates.codeSigningCertificate`

Local path of a PEM-formatted X.509 certificate used for verifying codesigned updates. When provided, all updates downloaded by expo-updates must be signed.

#### `codeSigningMetadata`

Type: `object`â€ƒâ€¢â€ƒPath: `updates.codeSigningMetadata`

Metadata for `codeSigningCertificate`

##### `alg`

Type: `enum`â€ƒâ€¢â€ƒPath: `updates.codeSigningMetadata.alg`

Algorithm used to generate manifest code signing signature. Valid values: `rsa-v1_5-sha256`

##### `keyid`

Type: `string`â€ƒâ€¢â€ƒPath: `updates.codeSigningMetadata.keyid`

Identifier for the key in the certificate. Used to instruct signing mechanisms when signing or verifying signatures.

#### `requestHeaders`

Type: `object`â€ƒâ€¢â€ƒPath: `updates.requestHeaders`

Extra HTTP headers to include in HTTP requests made by `expo-updates` when fetching manifests or assets. These may override preset headers.

#### `assetPatternsToBeBundled`

Type: `array`â€ƒâ€¢â€ƒPath: `updates.assetPatternsToBeBundled`

Array of glob patterns specifying which files should be included in updates. Glob patterns are relative to the project root. A value of `['**']` will match all asset files within the project root. When not supplied all asset files will be included. Example: Given a value of `['app/images/**/*.png', 'app/fonts/**/*.woff']` all `.png` files in all subdirectories of `app/images` and all `.woff` files in all subdirectories of `app/fonts` will be included in updates.

#### `disableAntiBrickingMeasures`

Type: `boolean`â€ƒâ€¢â€ƒPath: `updates.disableAntiBrickingMeasures`

Whether to disable the built-in expo-updates anti-bricking measures. Defaults to false. If set to true, this will allow overriding certain configuration options from the JS API, which is liable to leave an app in a bricked state if not done carefully. This should not be used in production.

#### `useNativeDebug`

Type: `boolean`â€ƒâ€¢â€ƒPath: `updates.useNativeDebug`

Enable debugging of native code with updates enabled. Defaults to false. If set to true, the EX_UPDATES_NATIVE_DEBUG environment variable will be set in Podfile.properties.json and gradle.properties. This causes Xcode and Android Studio debug builds to be built with expo-updates enabled, and JS debugging (with dev client or packager) disabled. This should not be used in production.

#### `enableBsdiffPatchSupport`

Type: `boolean`â€ƒâ€¢â€ƒPath: `updates.enableBsdiffPatchSupport`

Whether to enable support for downloading and applying bundle diffs using bsdiff. Defaults to false.

### `locales`

Type: `object`

Provide per-locale values for System Dialog prompts such as Permissions Boxes. Platform-specific locale strings should be nested under `ios` and `android` keys.

Existing React Native app?

To add or change language and localization information in your iOS app, you need to use Xcode.

### `plugins`

Type: `array`

Config plugins for adding extra functionality to your project. [Learn more](https://docs.expo.dev/guides/config-plugins/).

Existing React Native app?

Plugins that add modifications can only be used with [prebuilding](https://expo.fyi/prebuilding) and managed EAS Build

### `splash`

Type: `object`

Configuration for loading and splash screen for standalone apps.

Existing React Native app?

To change your app's icon, edit or replace the files in `ios/<PROJECT-NAME>/Assets.xcassets/AppIcon.appiconset` (we recommend using Xcode), and `android/app/src/main/res/mipmap-<RESOLUTION>` (Android Studio can [generate the appropriate image files for you](https://developer.android.com/studio/write/image-asset-studio)). Be sure to follow the guidelines for each platform ([iOS](https://developer.apple.com/design/human-interface-guidelines/ios/icons-and-images/app-icon/), [Android 7.1 and below](https://material.io/design/iconography/#icon-treatments), and [Android 8+](https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive)) and to provide your new icon in each required size.

#### `backgroundColor`

Type: `string`â€ƒâ€¢â€ƒPath: `splash.backgroundColor`

Color to fill the loading screen background

6 character long hex color string, for example, `'#000000'`

Existing React Native app?

For Android, edit the `colorPrimary` item in `android/app/src/main/res/values/colors.xml`

#### `resizeMode`

Type: `enum`â€ƒâ€¢â€ƒPath: `splash.resizeMode`

Determines how the `image` will be displayed in the splash loading screen. Must be one of `cover` or `contain`, defaults to `contain`.

#### `image`

Type: `string`â€ƒâ€¢â€ƒPath: `splash.image`

Local path or remote URL to an image to fill the background of the loading screen. Image size and aspect ratio are up to you. Must be a .png.

### `jsEngine`

Type: `enum`

@deprecated This field will be removed in a future release. When it is removed, you can continue using JavaScriptCore instead of Hermes by following the instructions in [@react-native-community/javascriptcore](https://github.com/react-native-community/javascriptcore). Specifies the JavaScript engine for Android apps. Defaults to `hermes`. Valid values: `hermes`, `jsc`.

Existing React Native app?

To change the JavaScript engine, update the `expo.jsEngine` value in `ios/Podfile.properties.json` or `android/gradle.properties`

### `newArchEnabled`

Type: `boolean`

A Boolean value that indicates whether the app should use the new architecture. Defaults to true.

### `buildCacheProvider`

Type: `undefined`

Enable downloading cached builds from remote.

### `ios`

Type: `object`

Configuration that is specific to the iOS platform.

#### `appleTeamId`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.appleTeamId`

The Apple development team ID to use for all native targets. You can find your team ID in [the Apple Developer Portal](https://developer.apple.com/help/account/manage-your-team/locate-your-team-id/).

#### `publishManifestPath`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.publishManifestPath`

The manifest for the iOS version of your app will be written to this path during publish.

#### `publishBundlePath`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.publishBundlePath`

The bundle for the iOS version of your app will be written to this path during publish.

#### `bundleIdentifier`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.bundleIdentifier`

The bundle identifier for your iOS standalone app. You make it up, but it needs to be unique on the App Store. See [this StackOverflow question](http://stackoverflow.com/questions/11347470/what-does-bundle-identifier-mean-in-the-ios-project).

iOS bundle identifier notation unique name for your app. For example, `host.exp.expo`, where `exp.host` is our domain and `expo` is our app name.

Existing React Native app?

Set this value in `info.plist` under `CFBundleIdentifier`

#### `buildNumber`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.buildNumber`

Build number for your iOS standalone app. Corresponds to `CFBundleVersion` and must match Apple's [specified format](https://developer.apple.com/documentation/bundleresources/information_property_list/cfbundleversion). (Note: Transporter will pull the value for `Version Number` from `expo.version` and NOT from `expo.ios.buildNumber`.)

Existing React Native app?

Set this value in `info.plist` under `CFBundleVersion`

#### `backgroundColor`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.backgroundColor`

The background color for your iOS app, behind any of your React views. Overrides the top-level `backgroundColor` key if it is present. Requires `expo-system-ui` be installed in your project to work on iOS.

6 character long hex color string, for example, `'#000000'`

#### `scheme`

One of types:

- `string` matching the following pattern: `^[a-z][a-z0-9+.-]*$`
  `{ "type": "array", "items": { "type": "string", "pattern": "^[a-z][a-z0-9+.-]*$" } }`

URL scheme(s) to link into your iOS app. Schemes added to this field will be merged with the schemes in the `scheme` key at the top level of the config.

String beginning with a **lowercase** letter followed by any combination of **lowercase** letters, digits, "+", "." or "-"

Existing React Native app?

To change your app's scheme, replace all occurrences of the old scheme in `Info.plist` and `AndroidManifest.xml`

#### `icon`

One of types:

- `string` matching the following pattern: `\.icon$`
- `string`
- An `object` with the following properties:

  ##### `light`

  Type: `string`â€ƒâ€¢â€ƒPath: `ios.icon.light`

  The light icon. It will appear when neither dark nor tinted icons are used, or if they are not provided.

  ##### `dark`

  Type: `string`â€ƒâ€¢â€ƒPath: `ios.icon.dark`

  The dark icon. It will appear for the app when the user's system appearance is dark. See Apple's [Human Interface Guidelines](https://developer.apple.com/design/human-interface-guidelines/app-icons#iOS-iPadOS) for more information.

  ##### `tinted`

  Type: `string`â€ƒâ€¢â€ƒPath: `ios.icon.tinted`

  The tinted icon. It will appear for the app when the user's system appearance is tinted. See Apple's [Human Interface Guidelines](https://developer.apple.com/design/human-interface-guidelines/app-icons#iOS-iPadOS) for more information.

Local path or remote URL to an image to use for your app's icon on iOS. Alternatively, an object specifying different icons for various system appearances (e.g., dark, tinted) can be provided. You can also provide a path to a .icon directory. If specified, this overrides the top-level `icon` key. Use a 1024x1024 icon which follows Apple's interface guidelines for icons, including color profile and transparency.

Expo will generate the other required sizes. This icon will appear on the home screen and within the Expo Go app.

#### `appStoreUrl`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.appStoreUrl`

URL to your app on the Apple App Store, if you have deployed it there. This is used to link to your store page from your Expo project page if your app is public.

Example

`"https://apps.apple.com/us/app/expo-client/id982107779"`

#### `bitcode`

Type: `undefined`â€ƒâ€¢â€ƒPath: `ios.bitcode`

Enable iOS Bitcode optimizations in the native build. Accepts the name of an iOS build configuration to enable for a single configuration and disable for all others, e.g. Debug, Release. Not available in Expo Go. Defaults to `undefined` which uses the template's predefined settings.

#### `config`

Type: `object`â€ƒâ€¢â€ƒPath: `ios.config`

Note: This property key is not included in the production manifest and will evaluate to `undefined`. It is used internally only in the build process, because it contains API keys that some may want to keep private.

##### `branch`

Type: `object`â€ƒâ€¢â€ƒPath: `ios.config.branch`

[Branch](https://branch.io/) key to hook up Branch linking services.

##### `apiKey`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.config.branch.apiKey`

Your Branch API key

##### `usesNonExemptEncryption`

Type: `boolean`â€ƒâ€¢â€ƒPath: `ios.config.usesNonExemptEncryption`

Sets `ITSAppUsesNonExemptEncryption` in the standalone ipa's Info.plist to the given boolean value.

##### `googleMapsApiKey`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.config.googleMapsApiKey`

[Google Maps iOS SDK](https://developers.google.com/maps/documentation/ios-sdk/start) key for your standalone app.

##### `googleMobileAdsAppId`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.config.googleMobileAdsAppId`

[Google Mobile Ads App ID](https://support.google.com/admob/answer/6232340) Google AdMob App ID.

##### `googleMobileAdsAutoInit`

Type: `boolean`â€ƒâ€¢â€ƒPath: `ios.config.googleMobileAdsAutoInit`

A boolean indicating whether to initialize Google App Measurement and begin sending user-level event data to Google immediately when the app starts. The default in Expo (Go and in standalone apps) is `false`. [Sets the opposite of the given value to the following key in `Info.plist`.](https://developers.google.com/admob/ios/eu-consent#delay_app_measurement_optional)

#### `googleServicesFile`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.googleServicesFile`

[Firebase Configuration File](https://support.google.com/firebase/answer/7015592) Location of the `GoogleService-Info.plist` file for configuring Firebase.

#### `supportsTablet`

Type: `boolean`â€ƒâ€¢â€ƒPath: `ios.supportsTablet`

Whether your standalone iOS app supports tablet screen sizes. Defaults to `false`.

Existing React Native app?

Set this value in `info.plist` under `UISupportedInterfaceOrientations~ipad`

#### `isTabletOnly`

Type: `boolean`â€ƒâ€¢â€ƒPath: `ios.isTabletOnly`

If true, indicates that your standalone iOS app does not support handsets, and only supports tablets.

Existing React Native app?

Set this value in `info.plist` under `UISupportedInterfaceOrientations`

#### `requireFullScreen`

Type: `boolean`â€ƒâ€¢â€ƒPath: `ios.requireFullScreen`

If true, indicates that your standalone iOS app does not support Slide Over and Split View on iPad. Defaults to `false`

Existing React Native app?

Use Xcode to set `UIRequiresFullScreen`

#### `userInterfaceStyle`

Type: `enum`â€ƒâ€¢â€ƒPath: `ios.userInterfaceStyle`

Configuration to force the app to always use the light or dark user-interface appearance, such as "dark mode", or make it automatically adapt to the system preferences. If not provided, defaults to `light`.

#### `infoPlist`

Type: `object`â€ƒâ€¢â€ƒPath: `ios.infoPlist`

Dictionary of arbitrary configuration to add to your standalone app's native Info.plist. Applied prior to all other Expo-specific configuration. No other validation is performed, so use this at your own risk of rejection from the App Store.

#### `entitlements`

Type: `object`â€ƒâ€¢â€ƒPath: `ios.entitlements`

Dictionary of arbitrary configuration to add to your standalone app's native \*.entitlements (plist). Applied prior to all other Expo-specific configuration. No other validation is performed, so use this at your own risk of rejection from the App Store.

#### `privacyManifests`

Type: `object`â€ƒâ€¢â€ƒPath: `ios.privacyManifests`

Dictionary of privacy manifest definitions to add to your app's native PrivacyInfo.xcprivacy file. [Learn more](https://developer.apple.com/documentation/bundleresources/privacy_manifest_files)

##### `NSPrivacyAccessedAPITypes`

Type: `array`â€ƒâ€¢â€ƒPath: `ios.privacyManifests.NSPrivacyAccessedAPITypes`

A list of required reasons of why your app uses restricted API categories. [Learn more](https://developer.apple.com/documentation/bundleresources/privacy_manifest_files/describing_use_of_required_reason_api)

##### `NSPrivacyAccessedAPIType`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.privacyManifests.NSPrivacyAccessedAPITypes.NSPrivacyAccessedAPIType`

A string that identifies the category of required reason APIs your app uses

##### `NSPrivacyAccessedAPITypeReasons`

Type: `array`â€ƒâ€¢â€ƒPath: `ios.privacyManifests.NSPrivacyAccessedAPITypes.NSPrivacyAccessedAPITypeReasons`

A list of reasons for a specific category.

##### `NSPrivacyTrackingDomains`

Type: `array`â€ƒâ€¢â€ƒPath: `ios.privacyManifests.NSPrivacyTrackingDomains`

A list of domains that your app uses for tracking.

##### `NSPrivacyTracking`

Type: `boolean`â€ƒâ€¢â€ƒPath: `ios.privacyManifests.NSPrivacyTracking`

A Boolean that indicates whether your app or third-party SDK uses data for tracking.

##### `NSPrivacyCollectedDataTypes`

Type: `array`â€ƒâ€¢â€ƒPath: `ios.privacyManifests.NSPrivacyCollectedDataTypes`

A list of collected data types that your app uses.

##### `NSPrivacyCollectedDataType`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.privacyManifests.NSPrivacyCollectedDataTypes.NSPrivacyCollectedDataType`

##### `NSPrivacyCollectedDataTypeLinked`

Type: `boolean`â€ƒâ€¢â€ƒPath: `ios.privacyManifests.NSPrivacyCollectedDataTypes.NSPrivacyCollectedDataTypeLinked`

##### `NSPrivacyCollectedDataTypeTracking`

Type: `boolean`â€ƒâ€¢â€ƒPath: `ios.privacyManifests.NSPrivacyCollectedDataTypes.NSPrivacyCollectedDataTypeTracking`

##### `NSPrivacyCollectedDataTypePurposes`

Type: `array`â€ƒâ€¢â€ƒPath: `ios.privacyManifests.NSPrivacyCollectedDataTypes.NSPrivacyCollectedDataTypePurposes`

#### `associatedDomains`

Type: `array`â€ƒâ€¢â€ƒPath: `ios.associatedDomains`

An array that contains Associated Domains for the standalone app. [Learn more](https://developer.apple.com/documentation/safariservices/supporting_associated_domains).

Entries must follow the format `applinks:<fully qualified domain>[:port number]`. [Learn more](https://developer.apple.com/documentation/safariservices/supporting_associated_domains).

Existing React Native app?

Build with EAS, or use Xcode to enable this capability manually. [Learn more](https://developer.apple.com/documentation/safariservices/supporting_associated_domains).

#### `usesIcloudStorage`

Type: `boolean`â€ƒâ€¢â€ƒPath: `ios.usesIcloudStorage`

A boolean indicating if the app uses iCloud Storage for `DocumentPicker`. See `DocumentPicker` docs for details.

Existing React Native app?

Use Xcode, or ios.entitlements to configure this.

#### `usesAppleSignIn`

Type: `boolean`â€ƒâ€¢â€ƒPath: `ios.usesAppleSignIn`

A boolean indicating if the app uses Apple Sign-In. See `AppleAuthentication` docs for details.

#### `usesBroadcastPushNotifications`

Type: `boolean`â€ƒâ€¢â€ƒPath: `ios.usesBroadcastPushNotifications`

A boolean indicating if the app uses Push Notifications Broadcast option for Push Notifications capability. If true, EAS CLI will use the value during capability syncing. If EAS CLI is not used, this configuration will not have any effect unless another tool is used to operate on it, so enable the capability manually on the Apple Developer Portal in that case.

#### `accessesContactNotes`

Type: `boolean`â€ƒâ€¢â€ƒPath: `ios.accessesContactNotes`

A Boolean value that indicates whether the app may access the notes stored in contacts. You must [receive permission from Apple](https://developer.apple.com/documentation/bundleresources/entitlements/com_apple_developer_contacts_notes) before you can submit your app for review with this capability.

#### `splash`

Type: `object`â€ƒâ€¢â€ƒPath: `ios.splash`

Configuration for loading and splash screen for standalone iOS apps.

##### `backgroundColor`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.splash.backgroundColor`

Color to fill the loading screen background

6 character long hex color string, for example, `'#000000'`

##### `resizeMode`

Type: `enum`â€ƒâ€¢â€ƒPath: `ios.splash.resizeMode`

Determines how the `image` will be displayed in the splash loading screen. Must be one of `cover` or `contain`, defaults to `contain`.

##### `image`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.splash.image`

Local path or remote URL to an image to fill the background of the loading screen. Image size and aspect ratio are up to you. Must be a .png.

##### `tabletImage`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.splash.tabletImage`

Local path or remote URL to an image to fill the background of the loading screen. Image size and aspect ratio are up to you. Must be a .png.

##### `dark`

Type: `object`â€ƒâ€¢â€ƒPath: `ios.splash.dark`

Configuration for loading and splash screen for standalone iOS apps in dark mode.

##### `backgroundColor`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.splash.dark.backgroundColor`

Color to fill the loading screen background

6 character long hex color string, for example, `'#000000'`

##### `resizeMode`

Type: `enum`â€ƒâ€¢â€ƒPath: `ios.splash.dark.resizeMode`

Determines how the `image` will be displayed in the splash loading screen. Must be one of `cover` or `contain`, defaults to `contain`.

##### `image`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.splash.dark.image`

Local path or remote URL to an image to fill the background of the loading screen. Image size and aspect ratio are up to you. Must be a .png.

##### `tabletImage`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.splash.dark.tabletImage`

Local path or remote URL to an image to fill the background of the loading screen. Image size and aspect ratio are up to you. Must be a .png.

#### `jsEngine`

Type: `enum`â€ƒâ€¢â€ƒPath: `ios.jsEngine`

@deprecated This field will be removed in a future release. When it is removed, you can continue using JavaScriptCore instead of Hermes by following the instructions in [@react-native-community/javascriptcore](https://github.com/react-native-community/javascriptcore). Specifies the JavaScript engine for iOS apps. Not supported in Expo Go. Defaults to `hermes`. Valid values: `hermes`, `jsc`.

Existing React Native app?

To change the JavaScript engine, update the `expo.jsEngine` value in `ios/Podfile.properties.json`

#### `newArchEnabled`

Type: `boolean`â€ƒâ€¢â€ƒPath: `ios.newArchEnabled`

A Boolean value that indicates whether the iOS app should use the new architecture.

#### `runtimeVersion`

One of types:

- `string` matching the following pattern: `^[a-zA-Z\d][a-zA-Z\d._+()-]{0,254}$`
- `string` matching the following pattern: `^exposdk:((\d+\.\d+\.\d+)|(UNVERSIONED))$`
- An `object` with the following properties:

  ##### `policy`

  Type: `enum`â€ƒâ€¢â€ƒPath: `ios.runtimeVersion.policy`

  Valid values: `nativeVersion`, `sdkVersion`, `appVersion`, `fingerprint`.

Property indicating compatibility between an iOS build's native code and an OTA update for the iOS platform. If provided, this will override the value of the top level `runtimeVersion` key on iOS.

#### `version`

Type: `string`â€ƒâ€¢â€ƒPath: `ios.version`

Your iOS app version. Takes precedence over the root `version` field. In addition to this field, you'll also use `ios.buildNumber` â€” read more about how to version your app [here](https://docs.expo.dev/distribution/app-stores/#versioning-your-app). This corresponds to `CFBundleShortVersionString`. The required format can be found [here](https://developer.apple.com/documentation/bundleresources/information_property_list/cfbundleshortversionstring).

Existing React Native app?

To change your app version, edit the 'Version' field in Xcode\`

### `android`

Type: `object`

Configuration that is specific to the Android platform.

#### `publishManifestPath`

Type: `string`â€ƒâ€¢â€ƒPath: `android.publishManifestPath`

The manifest for the Android version of your app will be written to this path during publish.

#### `publishBundlePath`

Type: `string`â€ƒâ€¢â€ƒPath: `android.publishBundlePath`

The bundle for the Android version of your app will be written to this path during publish.

#### `package`

Type: `string`â€ƒâ€¢â€ƒPath: `android.package`

The package name for your Android standalone app. You make it up, but it needs to be unique on the Play Store. See [this StackOverflow question](http://stackoverflow.com/questions/6273892/android-package-name-convention).

Reverse DNS notation unique name for your app. Valid Android Application ID. For example, `com.example.app`, where `com.example` is our domain and `app` is our app. The name may only contain lowercase and uppercase letters (a-z, A-Z), numbers (0-9) and underscores (\_), separated by periods (.). Each component of the name should start with a lowercase letter.

Existing React Native app?

This is set in `android/app/build.gradle` as `applicationId` as well as in your `AndroidManifest.xml` file (multiple places).

#### `versionCode`

Type: `integer`â€ƒâ€¢â€ƒPath: `android.versionCode`

Version number required by Google Play. Increment by one for each release. Must be a positive integer. [Learn more](https://developer.android.com/studio/publish/versioning.html)

Existing React Native app?

This is set in `android/app/build.gradle` as `versionCode`

#### `backgroundColor`

Type: `string`â€ƒâ€¢â€ƒPath: `android.backgroundColor`

The background color for your Android app, behind any of your React views. Overrides the top-level `backgroundColor` key if it is present.

6 character long hex color string, for example, `'#000000'`

Existing React Native app?

This is set in `android/app/src/main/AndroidManifest.xml` under `android:windowBackground`

#### `userInterfaceStyle`

Type: `enum`â€ƒâ€¢â€ƒPath: `android.userInterfaceStyle`

Configuration to force the app to always use the light or dark user-interface appearance, such as "dark mode", or make it automatically adapt to the system preferences. If not provided, defaults to `light`. Requires `expo-system-ui` be installed in your project to work on Android.

#### `scheme`

One of types:

- `string` matching the following pattern: `^[a-z][a-z0-9+.-]*$`
  `{ "type": "array", "items": { "type": "string", "pattern": "^[a-z][a-z0-9+.-]*$" } }`

URL scheme(s) to link into your Android app. Schemes added to this field will be merged with the schemes in the `scheme` key at the top level of the config.

String beginning with a **lowercase** letter followed by any combination of **lowercase** letters, digits, "+", "." or "-"

Existing React Native app?

To change your app's scheme, replace all occurrences of the old scheme in `Info.plist` and `AndroidManifest.xml`

#### `icon`

Type: `string`â€ƒâ€¢â€ƒPath: `android.icon`

Local path or remote URL to an image to use for your app's icon on Android. If specified, this overrides the top-level `icon` key. We recommend that you use a 1024x1024 png file (transparency is recommended for the Google Play Store). This icon will appear on the home screen and within the Expo Go app.

#### `adaptiveIcon`

Type: `object`â€ƒâ€¢â€ƒPath: `android.adaptiveIcon`

Settings for an Adaptive Launcher Icon on Android. [Learn more](https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive)

##### `foregroundImage`

Type: `string`â€ƒâ€¢â€ƒPath: `android.adaptiveIcon.foregroundImage`

Local path or remote URL to an image to use for your app's icon on Android. If specified, this overrides the top-level `icon` and the `android.icon` keys. Should follow the [specified guidelines](https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive). This icon will appear on the home screen.

##### `monochromeImage`

Type: `string`â€ƒâ€¢â€ƒPath: `android.adaptiveIcon.monochromeImage`

Local path or remote URL to an image representing the Android 13+ monochromatic icon. Should follow the [specified guidelines](https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive). This icon will appear on the home screen when the user enables 'Themed icons' in system settings on a device running Android 13+.

##### `backgroundImage`

Type: `string`â€ƒâ€¢â€ƒPath: `android.adaptiveIcon.backgroundImage`

Local path or remote URL to a background image for your app's Adaptive Icon on Android. If specified, this overrides the `backgroundColor` key. Must have the same dimensions as `foregroundImage`, and has no effect if `foregroundImage` is not specified. Should follow the [specified guidelines](https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive).

##### `backgroundColor`

Type: `string`â€ƒâ€¢â€ƒPath: `android.adaptiveIcon.backgroundColor`

Color to use as the background for your app's Adaptive Icon on Android. Defaults to white, `#FFFFFF`. Has no effect if `foregroundImage` is not specified.

6 character long hex color string, for example, `'#000000'`

#### `playStoreUrl`

Type: `string`â€ƒâ€¢â€ƒPath: `android.playStoreUrl`

URL to your app on the Google Play Store, if you have deployed it there. This is used to link to your store page from your Expo project page if your app is public.

Example

`"https://play.google.com/store/apps/details?id=host.exp.exponent"`

#### `permissions`

Type: `array`â€ƒâ€¢â€ƒPath: `android.permissions`

A list of permissions to add to the app `AndroidManifest.xml` during prebuild. For example: `['android.permission.SCHEDULE_EXACT_ALARM']`

Existing React Native app?

To change the permissions your app requests, edit `AndroidManifest.xml` directly. To prevent your app from requesting specific permissions (which may automatically be added through an installed native package), add those permissions to `AndroidManifest.xml` along with a `tools:node="remove"` tag.

#### `blockedPermissions`

Type: `array`â€ƒâ€¢â€ƒPath: `android.blockedPermissions`

List of permissions to block in the final `AndroidManifest.xml`. This is useful for removing permissions that are added by native package `AndroidManifest.xml` files which are merged into the final manifest. Internally this feature uses the `tools:node="remove"` XML attribute to remove permissions. Not available in Expo Go.

#### `googleServicesFile`

Type: `string`â€ƒâ€¢â€ƒPath: `android.googleServicesFile`

[Firebase Configuration File](https://support.google.com/firebase/answer/7015592) Location of the `google-services.json` file for configuring Firebase. Including this key automatically enables FCM in your standalone app.

Existing React Native app?

Add or edit the file directly at `android/app/google-services.json`

#### `config`

Type: `object`â€ƒâ€¢â€ƒPath: `android.config`

Note: This property key is not included in the production manifest and will evaluate to `undefined`. It is used internally only in the build process, because it contains API keys that some may want to keep private.

##### `branch`

Type: `object`â€ƒâ€¢â€ƒPath: `android.config.branch`

[Branch](https://branch.io/) key to hook up Branch linking services.

##### `apiKey`

Type: `string`â€ƒâ€¢â€ƒPath: `android.config.branch.apiKey`

Your Branch API key

##### `googleMaps`

Type: `object`â€ƒâ€¢â€ƒPath: `android.config.googleMaps`

[Google Maps Android SDK](https://developers.google.com/maps/documentation/android-api/signup) configuration for your standalone app.

##### `apiKey`

Type: `string`â€ƒâ€¢â€ƒPath: `android.config.googleMaps.apiKey`

Your Google Maps Android SDK API key

##### `googleMobileAdsAppId`

Type: `string`â€ƒâ€¢â€ƒPath: `android.config.googleMobileAdsAppId`

[Google Mobile Ads App ID](https://support.google.com/admob/answer/6232340) Google AdMob App ID.

##### `googleMobileAdsAutoInit`

Type: `boolean`â€ƒâ€¢â€ƒPath: `android.config.googleMobileAdsAutoInit`

A boolean indicating whether to initialize Google App Measurement and begin sending user-level event data to Google immediately when the app starts. The default in Expo (Client and in standalone apps) is `false`. [Sets the opposite of the given value to the following key in `Info.plist`](https://developers.google.com/admob/ios/eu-consent#delay_app_measurement_optional)

#### `splash`

Type: `object`â€ƒâ€¢â€ƒPath: `android.splash`

Configuration for loading and splash screen for managed and standalone Android apps.

##### `backgroundColor`

Type: `string`â€ƒâ€¢â€ƒPath: `android.splash.backgroundColor`

Color to fill the loading screen background

6 character long hex color string, for example, `'#000000'`

##### `resizeMode`

Type: `enum`â€ƒâ€¢â€ƒPath: `android.splash.resizeMode`

Determines how the `image` will be displayed in the splash loading screen. Must be one of `cover`, `contain` or `native`, defaults to `contain`.

##### `image`

Type: `string`â€ƒâ€¢â€ƒPath: `android.splash.image`

Local path or remote URL to an image to fill the background of the loading screen. Image size and aspect ratio are up to you. Must be a .png.

##### `mdpi`

Type: `string`â€ƒâ€¢â€ƒPath: `android.splash.mdpi`

Local path or remote URL to an image to fill the background of the loading screen in "native" mode. Image size and aspect ratio are up to you. [Learn more](https://developer.android.com/training/multiscreen/screendensities)

`Natural sized image (baseline)`

##### `hdpi`

Type: `string`â€ƒâ€¢â€ƒPath: `android.splash.hdpi`

Local path or remote URL to an image to fill the background of the loading screen in "native" mode. Image size and aspect ratio are up to you. [Learn more](https://developer.android.com/training/multiscreen/screendensities)

`Scale 1.5x`

##### `xhdpi`

Type: `string`â€ƒâ€¢â€ƒPath: `android.splash.xhdpi`

Local path or remote URL to an image to fill the background of the loading screen in "native" mode. Image size and aspect ratio are up to you. [Learn more](https://developer.android.com/training/multiscreen/screendensities)

`Scale 2x`

##### `xxhdpi`

Type: `string`â€ƒâ€¢â€ƒPath: `android.splash.xxhdpi`

Local path or remote URL to an image to fill the background of the loading screen in "native" mode. Image size and aspect ratio are up to you. [Learn more](https://developer.android.com/training/multiscreen/screendensities)

`Scale 3x`

##### `xxxhdpi`

Type: `string`â€ƒâ€¢â€ƒPath: `android.splash.xxxhdpi`

Local path or remote URL to an image to fill the background of the loading screen in "native" mode. Image size and aspect ratio are up to you. [Learn more](https://developer.android.com/training/multiscreen/screendensities)

`Scale 4x`

##### `dark`

Type: `object`â€ƒâ€¢â€ƒPath: `android.splash.dark`

Configuration for loading and splash screen for managed and standalone Android apps in dark mode.

##### `backgroundColor`

Type: `string`â€ƒâ€¢â€ƒPath: `android.splash.dark.backgroundColor`

Color to fill the loading screen background

6 character long hex color string, for example, `'#000000'`

##### `resizeMode`

Type: `enum`â€ƒâ€¢â€ƒPath: `android.splash.dark.resizeMode`

Determines how the `image` will be displayed in the splash loading screen. Must be one of `cover`, `contain` or `native`, defaults to `contain`.

##### `image`

Type: `string`â€ƒâ€¢â€ƒPath: `android.splash.dark.image`

Local path or remote URL to an image to fill the background of the loading screen. Image size and aspect ratio are up to you. Must be a .png.

##### `mdpi`

Type: `string`â€ƒâ€¢â€ƒPath: `android.splash.dark.mdpi`

Local path or remote URL to an image to fill the background of the loading screen in "native" mode. Image size and aspect ratio are up to you. [Learn more](https://developer.android.com/training/multiscreen/screendensities)

`Natural sized image (baseline)`

##### `hdpi`

Type: `string`â€ƒâ€¢â€ƒPath: `android.splash.dark.hdpi`

Local path or remote URL to an image to fill the background of the loading screen in "native" mode. Image size and aspect ratio are up to you. [Learn more](https://developer.android.com/training/multiscreen/screendensities)

`Scale 1.5x`

##### `xhdpi`

Type: `string`â€ƒâ€¢â€ƒPath: `android.splash.dark.xhdpi`

Local path or remote URL to an image to fill the background of the loading screen in "native" mode. Image size and aspect ratio are up to you. [Learn more](https://developer.android.com/training/multiscreen/screendensities)

`Scale 2x`

##### `xxhdpi`

Type: `string`â€ƒâ€¢â€ƒPath: `android.splash.dark.xxhdpi`

Local path or remote URL to an image to fill the background of the loading screen in "native" mode. Image size and aspect ratio are up to you. [Learn more](https://developer.android.com/training/multiscreen/screendensities)

`Scale 3x`

##### `xxxhdpi`

Type: `string`â€ƒâ€¢â€ƒPath: `android.splash.dark.xxxhdpi`

Local path or remote URL to an image to fill the background of the loading screen in "native" mode. Image size and aspect ratio are up to you. [Learn more](https://developer.android.com/training/multiscreen/screendensities)

`Scale 4x`

#### `intentFilters`

Type: `array`â€ƒâ€¢â€ƒPath: `android.intentFilters`

Configuration for setting an array of custom intent filters in Android manifest. [Learn more](https://developer.android.com/guide/components/intents-filters)

Existing React Native app?

This is set in `AndroidManifest.xml` directly. [Learn more.](https://developer.android.com/guide/components/intents-filters)

Example

`[ { "autoVerify": true, "action": "VIEW", "data": { "scheme": "https", "host": "*.example.com" }, "category": [ "BROWSABLE", "DEFAULT" ] } ]`

##### `autoVerify`

Type: `boolean`â€ƒâ€¢â€ƒPath: `android.intentFilters.autoVerify`

You may also use an intent filter to set your app as the default handler for links (without showing the user a dialog with options). To do so use `true` and then configure your server to serve a JSON file verifying that you own the domain. [Learn more](https://developer.android.com/training/app-links)

##### `action`

Type: `string`â€ƒâ€¢â€ƒPath: `android.intentFilters.action`

##### `data`

Type: `undefined`â€ƒâ€¢â€ƒPath: `android.intentFilters.data`

##### `category`

Type: `undefined`â€ƒâ€¢â€ƒPath: `android.intentFilters.category`

#### `allowBackup`

Type: `boolean`â€ƒâ€¢â€ƒPath: `android.allowBackup`

Allows your user's app data to be automatically backed up to their Google Drive. If this is set to false, no backup or restore of the application will ever be performed (this is useful if your app deals with sensitive information). Defaults to the Android default, which is `true`.

#### `softwareKeyboardLayoutMode`

Type: `enum`â€ƒâ€¢â€ƒPath: `android.softwareKeyboardLayoutMode`

Determines how the software keyboard will impact the layout of your application. This maps to the `android:windowSoftInputMode` property. Defaults to `resize`. Valid values: `resize`, `pan`.

#### `jsEngine`

Type: `enum`â€ƒâ€¢â€ƒPath: `android.jsEngine`

@deprecated This field will be removed in a future release. When it is removed, you can continue using JavaScriptCore instead of Hermes by following the instructions in [@react-native-community/javascriptcore](https://github.com/react-native-community/javascriptcore). Specifies the JavaScript engine for Android apps. Defaults to `hermes`. Valid values: `hermes`, `jsc`.

Existing React Native app?

To change the JavaScript engine, update the `expo.jsEngine` value in `android/gradle.properties`

#### `newArchEnabled`

Type: `boolean`â€ƒâ€¢â€ƒPath: `android.newArchEnabled`

A Boolean value that indicates whether the Android app should use the new architecture.

#### `runtimeVersion`

One of types:

- `string` matching the following pattern: `^[a-zA-Z\d][a-zA-Z\d._+()-]{0,254}$`
- `string` matching the following pattern: `^exposdk:((\d+\.\d+\.\d+)|(UNVERSIONED))$`
- An `object` with the following properties:

  ##### `policy`

  Type: `enum`â€ƒâ€¢â€ƒPath: `android.runtimeVersion.policy`

  Valid values: `nativeVersion`, `sdkVersion`, `appVersion`, `fingerprint`.

Property indicating compatibility between a Android build's native code and an OTA update for the Android platform. If provided, this will override the value of top level `runtimeVersion` key on Android.

#### `version`

Type: `string`â€ƒâ€¢â€ƒPath: `android.version`

Your android app version. Takes precedence over the root `version` field. In addition to this field, you'll also use `android.versionCode` â€” read more about how to version your app [here](https://docs.expo.dev/distribution/app-stores/#versioning-your-app). This corresponds to `versionName`. The required format can be found [here](https://developer.apple.com/documentation/bundleresources/information_property_list/cfbundleshortversionstring).

Existing React Native app?

To change your app version, edit the `versionName` string in `android/app/build.gradle`

#### `edgeToEdgeEnabled`

Type: `boolean`â€ƒâ€¢â€ƒPath: `android.edgeToEdgeEnabled`

Enable your app to run in [edge-to-edge](https://developer.android.com/develop/ui/views/layout/edge-to-edge) mode. Default to false.

Existing React Native app?

To change the setting, update the `expo.edgeToEdgeEnabled` value in `android/gradle.properties` and update the `AppTheme`'s `parent` attribute to one of the [Theme.EdgeToEdge values](https://github.com/zoontek/react-native-edge-to-edge#pick-a-parent-theme) in `styles.xml`

#### `predictiveBackGestureEnabled`

Type: `boolean`â€ƒâ€¢â€ƒPath: `android.predictiveBackGestureEnabled`

Enable your app to use the [predictive back gesture](https://developer.android.com/guide/navigation/custom-back/predictive-back-gesture) on Android 13 (API level 33) and later. Default to false.

Existing React Native app?

To change the setting, update the `android:enableOnBackInvokedCallback` value in `AndroidManifest.xml`.

### `web`

Type: `object`

Configuration that is specific to the web platform.

#### `output`

Type: `enum`â€ƒâ€¢â€ƒPath: `web.output`

Sets the export method for the web app for both `expo start` and `expo export`. `static` statically renders HTML files for every route in the `app/` directory, which is available only in Expo Router apps. `single` outputs a Single Page Application (SPA), with a single `index.html` in the output folder, and has no statically indexable HTML. `server` outputs static HTML, and API Routes for hosting with a custom Node.js server. Defaults to `single`.

#### `favicon`

Type: `string`â€ƒâ€¢â€ƒPath: `web.favicon`

Relative path of an image to use for your app's favicon.

#### `name`

Type: `string`â€ƒâ€¢â€ƒPath: `web.name`

Defines the title of the document, defaults to the outer level name

#### `shortName`

Type: `string`â€ƒâ€¢â€ƒPath: `web.shortName`

A short version of the app's name, 12 characters or fewer. Used in app launcher and new tab pages. Maps to `short_name` in the PWA manifest.json. Defaults to the `name` property.

Maximum 12 characters long

#### `lang`

Type: `string`â€ƒâ€¢â€ƒPath: `web.lang`

Specifies the primary language for the values in the name and short_name members. This value is a string containing a single language tag.

#### `scope`

Type: `string`â€ƒâ€¢â€ƒPath: `web.scope`

Defines the navigation scope of this website's context. This restricts what web pages can be viewed while the manifest is applied. If the user navigates outside the scope, it returns to a normal web page inside a browser tab/window. If the scope is a relative URL, the base URL will be the URL of the manifest.

#### `themeColor`

Type: `string`â€ƒâ€¢â€ƒPath: `web.themeColor`

Defines the color of the Android tool bar, and may be reflected in the app's preview in task switchers.

6 character long hex color string, for example, `'#000000'`

#### `description`

Type: `string`â€ƒâ€¢â€ƒPath: `web.description`

Provides a general description of what the pinned website does.

#### `dir`

Type: `enum`â€ƒâ€¢â€ƒPath: `web.dir`

Specifies the primary text direction for the name, short_name, and description members. Together with the lang member, it helps the correct display of right-to-left languages.

#### `display`

Type: `enum`â€ƒâ€¢â€ƒPath: `web.display`

Defines the developersâ€™ preferred display mode for the website.

#### `startUrl`

Type: `string`â€ƒâ€¢â€ƒPath: `web.startUrl`

The URL that loads when a user launches the application (e.g., when added to home screen), typically the index. Note: This has to be a relative URL, relative to the manifest URL.

#### `orientation`

Type: `enum`â€ƒâ€¢â€ƒPath: `web.orientation`

Defines the default orientation for all the website's top level browsing contexts.

#### `backgroundColor`

Type: `string`â€ƒâ€¢â€ƒPath: `web.backgroundColor`

Defines the expected â€œbackground colorâ€ for the website. This value repeats what is already available in the siteâ€™s CSS, but can be used by browsers to draw the background color of a shortcut when the manifest is available before the stylesheet has loaded. This creates a smooth transition between launching the web application and loading the site's content.

6 character long hex color string, for example, `'#000000'`

#### `barStyle`

Type: `enum`â€ƒâ€¢â€ƒPath: `web.barStyle`

If content is set to default, the status bar appears normal. If set to black, the status bar has a black background. If set to black-translucent, the status bar is black and translucent. If set to default or black, the web content is displayed below the status bar. If set to black-translucent, the web content is displayed on the entire screen, partially obscured by the status bar.

#### `preferRelatedApplications`

Type: `boolean`â€ƒâ€¢â€ƒPath: `web.preferRelatedApplications`

Hints for the user agent to indicate to the user that the specified native applications (defined in expo.ios and expo.android) are recommended over the website.

#### `dangerous`

Type: `object`â€ƒâ€¢â€ƒPath: `web.dangerous`

Experimental features. These will break without deprecation notice.

#### `splash`

Type: `object`â€ƒâ€¢â€ƒPath: `web.splash`

Configuration for PWA splash screens.

Existing React Native app?

Use [expo-splash-screen](https://github.com/expo/expo/tree/main/packages/expo-splash-screen#expo-splash-screen)

##### `backgroundColor`

Type: `string`â€ƒâ€¢â€ƒPath: `web.splash.backgroundColor`

Color to fill the loading screen background

6 character long hex color string, for example, `'#000000'`

##### `resizeMode`

Type: `enum`â€ƒâ€¢â€ƒPath: `web.splash.resizeMode`

Determines how the `image` will be displayed in the splash loading screen. Must be one of `cover` or `contain`, defaults to `contain`.

##### `image`

Type: `string`â€ƒâ€¢â€ƒPath: `web.splash.image`

Local path or remote URL to an image to fill the background of the loading screen. Image size and aspect ratio are up to you. Must be a .png.

#### `config`

Type: `object`â€ƒâ€¢â€ƒPath: `web.config`

Firebase web configuration. Used by the expo-firebase packages on both web and native. [Learn more](https://firebase.google.com/docs/reference/js/firebase.html#initializeapp)

##### `firebase`

Type: `object`â€ƒâ€¢â€ƒPath: `web.config.firebase`

##### `apiKey`

Type: `string`â€ƒâ€¢â€ƒPath: `web.config.firebase.apiKey`

##### `authDomain`

Type: `string`â€ƒâ€¢â€ƒPath: `web.config.firebase.authDomain`

##### `databaseURL`

Type: `string`â€ƒâ€¢â€ƒPath: `web.config.firebase.databaseURL`

##### `projectId`

Type: `string`â€ƒâ€¢â€ƒPath: `web.config.firebase.projectId`

##### `storageBucket`

Type: `string`â€ƒâ€¢â€ƒPath: `web.config.firebase.storageBucket`

##### `messagingSenderId`

Type: `string`â€ƒâ€¢â€ƒPath: `web.config.firebase.messagingSenderId`

##### `appId`

Type: `string`â€ƒâ€¢â€ƒPath: `web.config.firebase.appId`

##### `measurementId`

Type: `string`â€ƒâ€¢â€ƒPath: `web.config.firebase.measurementId`

#### `bundler`

Type: `enum`â€ƒâ€¢â€ƒPath: `web.bundler`

Sets the bundler to use for the web platform. Only supported in the local CLI `npx expo`. Defaults to `webpack` if the `@expo/webpack-config` package is installed, if not, it defaults to `metro`.

### `experiments`

Type: `object`

Enable experimental features that may be unstable, unsupported, or removed without deprecation notices.

#### `autolinkingModuleResolution`

Type: `boolean`â€ƒâ€¢â€ƒPath: `experiments.autolinkingModuleResolution`

Apply Expo Autolinking's search results to Metro's module resolution. This forces your project's dependencies on `react`, `react-dom`, and `react-native`, and the autolinked versions of any Expo and React Native modules to be resolved when bundling your app. This prevents version misalignment and is useful for monorepos and to prevent conflicts.

#### `baseUrl`

Type: `string`â€ƒâ€¢â€ƒPath: `experiments.baseUrl`

Export a website relative to a subpath of a domain. The path will be prepended as-is to links to all bundled resources. Prefix the path with a `/` (recommended) to load all resources relative to the server root. If the path **does not** start with a `/` then resources will be loaded relative to the code that requests them, this could lead to unexpected behavior. Example '/subpath'. Defaults to '' (empty string).

#### `buildCacheProvider`

Type: `undefined`â€ƒâ€¢â€ƒPath: `experiments.buildCacheProvider`

@deprecated This field is not longer marked as experimental and will be removed in a future release, use the `buildCacheProvider` field instead.

#### `supportsTVOnly`

Type: `boolean`â€ƒâ€¢â€ƒPath: `experiments.supportsTVOnly`

If true, indicates that this project does not support tablets or handsets, and only supports Apple TV and Android TV

#### `tsconfigPaths`

Type: `boolean`â€ƒâ€¢â€ƒPath: `experiments.tsconfigPaths`

Enable tsconfig/jsconfig `compilerOptions.paths` and `compilerOptions.baseUrl` support for import aliases in Metro.

#### `typedRoutes`

Type: `boolean`â€ƒâ€¢â€ƒPath: `experiments.typedRoutes`

Enable support for statically typed links in Expo Router. This feature requires TypeScript be set up in your Expo Router v2 project.

#### `turboModules`

Type: `boolean`â€ƒâ€¢â€ƒPath: `experiments.turboModules`

Enables Turbo Modules, which are a type of native modules that use a different way of communicating between JS and platform code. When installing a Turbo Module you will need to enable this experimental option (the library still needs to be a part of Expo SDK already, like react-native-reanimated v2). Turbo Modules do not support remote debugging and enabling this option will disable remote debugging.

#### `reactCanary`

Type: `boolean`â€ƒâ€¢â€ƒPath: `experiments.reactCanary`

Experimentally use a vendored canary build of React for testing upcoming features.

#### `reactCompiler`

Type: `boolean`â€ƒâ€¢â€ƒPath: `experiments.reactCompiler`

Experimentally enable React Compiler.

#### `reactServerComponentRoutes`

Type: `boolean`â€ƒâ€¢â€ƒPath: `experiments.reactServerComponentRoutes`

Experimentally enable React Server Components by default in Expo Router and concurrent routing for transitions.

#### `reactServerFunctions`

Type: `boolean`â€ƒâ€¢â€ƒPath: `experiments.reactServerFunctions`

Experimentally enable React Server Functions support in Expo CLI and Expo Router.

### `_internal`

Type: `object`

Internal properties for developer tools

#### `pluginHistory`

Type: `object`â€ƒâ€¢â€ƒPath: `_internal.pluginHistory`

List of plugins already run on the config

---

---

title: babel.config.js
description: A reference for Babel configuration file.

---

# babel.config.js

A reference for Babel configuration file.

Babel is used as the JavaScript compiler to transform modern JavaScript (ES6+) into a version compatible with the JavaScript engine on mobile devices.

Each new Expo project created using `npx create-expo-app` configures Babel automatically and uses [`babel-preset-expo`](https://github.com/expo/expo/tree/main/packages/babel-preset-expo) as the default preset. There is no need to create a **babel.config.js** file unless you need to customize the Babel configuration.

## Create babel.config.js

If your project requires a custom Babel configuration, you need to create the **babel.config.js** file in your project by following the steps below:

1.  Navigate to the root of your project and run the following command inside a terminal. This will generate a **babel.config.js** file in the root of your project.

```sh
npx expo customize babel.config.js
```

2.  The **babel.config.js** file contains the following default configuration:

```js
module.exports = function (api) {
  api.cache(true);
  return {
    presets: ["babel-preset-expo"],
  };
};
```

3.  If you make a change to the **babel.config.js** file, you need to restart the Metro bundler to apply the changes and use `--clear` option from Expo CLI to clear the Metro bundler cache:

```sh
npx expo start --clear
```

## babel-preset-expo

[`babel-preset-expo`](https://github.com/expo/expo/tree/main/packages/babel-preset-expo) is the default preset used in Expo projects. It extends the default React Native preset (`@react-native/babel-preset`) and adds support for decorators, tree-shaking web libraries, and loading font icons.

---

---

title: metro.config.js
description: A reference of available configurations in Metro.

---

# metro.config.js

A reference of available configurations in Metro.

See more information about **metro.config.js** in the [customizing Metro guide](/guides/customizing-metro).

## Environment variables

Expo CLI can load environment variables from **.env** files. Learn more about how to use environment variables in Expo CLI in the [environment variables guide](/guides/environment-variables).

EAS CLI uses a different mechanism for environment variables, except when it invokes Expo CLI for compiling and bundling. Learn more about [environment variables in EAS](/build-reference/variables).

If you are migrating an older project, then you should ignore local env files by adding the following to your **.gitignore**:

```sh
# local env files
.env*.local
```

### Disabling dotenv files

Dotenv file loading can be fully disabled in Expo CLI by enabling the `EXPO_NO_DOTENV` environment variable, before invoking any Expo CLI command.

```sh
npx cross-env EXPO_NO_DOTENV=1 expo start
EXPO_NO_DOTENV=1 npx expo start
```

### Disabling `EXPO_PUBLIC_`-prefixed client environment variables

Environment variables prefixed with `EXPO_PUBLIC_` will be exposed to the app at build-time. For example, `EXPO_PUBLIC_API_KEY` will be available as `process.env.EXPO_PUBLIC_API_KEY`.

Client environment variable inlining can be disabled with the environment variable `EXPO_NO_CLIENT_ENV_VARS=1`, this must be defined before any bundling is performed.

```sh
npx cross-env EXPO_NO_CLIENT_ENV_VARS=1 expo start
EXPO_NO_CLIENT_ENV_VARS=1 npx expo start
```

## CSS

> CSS support is under development and currently only works on web.

Expo supports CSS in your project. You can import CSS files from any component. CSS Modules are also supported.

CSS support is enabled by default. You can disable the feature by setting `isCSSEnabled` in the Metro config.

```js
/** @type {import('expo/metro-config').MetroConfig} */
const config = getDefaultConfig(__dirname, {
  // Disable CSS support.
  isCSSEnabled: false,
});
```

### Global CSS

> Global styles are web-only, usage will cause your application to diverge visually on native.

You can import a CSS file from any component. The CSS will be applied to the entire page.

Here, we'll define a global style for the class name `.container`:

```css
.container {
  background-color: red;
}
```

We can then use the class name in our component by importing the stylesheet and using `.container`:

```jsx
import { View } from "react-native";
import "./styles.css";

export default function App() {
  return (
    <>
      {/* Use `className` to assign the style with React DOM components. */}
      <div className="container">Hello World</div>

      {/* Use `style` with the following syntax to append class names in React Native for web. */}
      <View
        style={{
          $$css: true,
          _: "container",
        }}
      >
        Hello World
      </View>
    </>
  );
}
```

You can also import stylesheets that are vendored in libraries, just like you would any node module:

```js
// Applies the styles app-wide.
import "emoji-mart/css/emoji-mart.css";
```

- On native, all global stylesheets are automatically ignored.
- Hot reloading is supported for global stylesheets, simply save the file and the changes will be applied.

### CSS Modules

> CSS Modules for native are under development and currently only work on web.

CSS Modules are a way to scope CSS to a specific component. This is useful for avoiding naming collisions and for ensuring that styles are only applied to the intended component.

In Expo, CSS Modules are defined by creating a file with the `.module.css` extension. The file can be imported from any component. The exported value is an object with the class names as keys and the web-only scoped names as the values. The import `unstable_styles` can be used to access `react-native-web`-safe styles.

CSS Modules support platform extensions to allow you to define different styles for different platforms. For example, you can define a `module.ios.css` and `module.android.css` file to define styles for Android and iOS respectively. You'll need to import without the extension, for example:

Flipping the extension, for example, `App.ios.module.css` will not work and result in a universal module named `App.ios.module`.

> You cannot pass styles to the `className` prop of a React Native or React Native for web component. Instead, you must use the `style` prop.

```jsx
import styles, { unstable_styles } from "./App.module.css";

export default function Page() {
  return (
    <>
      <Text
        style={{
          // This is how react-native-web class names are applied
          $$css: true,
          _: styles.text,
        }}
      >
        Hello World
      </Text>
      <Text style={unstable_styles.text}>Hello World</Text>
      {/* Web-only usage: */}
      <p className={styles.text}>Hello World</p>
    </>
  );
}
```

```css
.text {
  color: red;
}
```

- On web, all CSS values are available. CSS is not processed or auto-prefixed like it is with the React Native Web `StyleSheet` API. You can use `postcss.config.js` to autoprefix your CSS.
- CSS Modules use [lightningcss](https://github.com/parcel-bundler/lightningcss) under the hood, check [the issues](https://github.com/parcel-bundler/lightningcss/issues) for unsupported features.

### PostCSS

[PostCSS](https://github.com/postcss/postcss) can be customized by adding a `postcss.config.json` file to the root of your project. This file should export a function that returns a PostCSS configuration object. For example:

```json
{
  "plugins": {
    "tailwindcss": {}
  }
}
```

Both `postcss.config.json` and `postcss.config.js` are supported, but `postcss.config.json` enables better caching.

Expo CLI automatically handles CSS vendor prefixes with built-in support for [browserslist](https://browsersl.ist/). Avoid adding `autoprefixer` as this duplicates the functionality and slows down bundling.

#### Resetting cache after updates

Changing the Post CSS or `browserslist` config will require you to clear the Metro cache:

```sh
npx expo start --clear
npx expo export --clear
```

### browserslist

Expo has automatic [browserslist](https://browsersl.ist/) support via the Rust-based CSS parser. You can customize the CSS vendor prefixes and browser support by adding a **browserslist** field to your **package.json** file. For example:

```json
{
  "browserslist": [">0.2%", "not dead", "not op_mini all"]
}
```

### SASS

Expo Metro has _partial_ support for SCSS/SASS.

To setup, install the `sass` package in your project:

```sh
yarn add -D sass
```

Then, ensure [CSS is setup](/versions/latest/config/metro#css) in the **metro.config.js** file.

- When `sass` is installed, then modules without extensions will be resolved in the following order: `scss`, `sass`, `css`.
- Only use the intended syntax with `sass` files.
- Importing other files from inside a scss/sass file is not currently supported.

### Tailwind

> Standard Tailwind CSS supports only web platform. For universal support, use a library such as [NativeWind](https://www.nativewind.dev/), which allows creating styled React Native components with Tailwind CSS.

[Tailwind CSS](/guides/tailwind) â€” Learn how to configure and use Tailwind CSS in your Expo project.

## Extending the Babel transformer

Expo's Metro config uses a custom `transformer.babelTransformerPath` value to ensure `expo-babel-preset` is always used and web/Node.js environments are supported.

If you want to extend the Babel transformer, import the upstream transformer from `@expo/metro-config/babel-transformer` instead of `metro-react-native-babel-transformer`. For example:

```js
const upstreamTransformer = require("@expo/metro-config/babel-transformer");

module.exports.transform = async ({ src, filename, options }) => {
  // Do something custom for SVG files...
  if (filename.endsWith(".svg")) {
    src = "...";
  }
  // Pass the source through the upstream Expo transformer.
  return upstreamTransformer.transform({ src, filename, options });
};
```

## Custom resolving

Expo CLI extends the default Metro resolver to add features like Web, Server, and tsconfig aliases support. You can similarly customize the default resolution behavior of Metro by chaining the `config.resolver.resolveRequest` function.

```tsx
const { getDefaultConfig } = require("expo/metro-config");

/** @type {import('expo/metro-config').MetroConfig} */
const config = getDefaultConfig(__dirname);

config.resolver.resolveRequest = (context, moduleName, platform) => {
  if (moduleName.startsWith("my-custom-resolver:")) {
    // Logic to resolve the module name to a file path...
    // NOTE: Throw an error if there is no resolution.
    return {
      filePath: "path/to/file",
      type: "sourceFile",
    };
  }

  // Ensure you call the default resolver.
  return context.resolveRequest(context, moduleName, platform);
};

module.exports = config;
```

Unlike traditional bundlers, Metro shared the same resolver function across all platforms. As a result, you can mutate the resolution settings dynamically on each request with the `context` object.

### Mocking modules

If you want a module to be empty for a given platform, you can return a `type: 'empty'` object from the resolver. The following example will cause `lodash` to be empty on web:

```ts
const { getDefaultConfig } = require("expo/metro-config");

/** @type {import('expo/metro-config').MetroConfig} */
const config = getDefaultConfig(__dirname);

config.resolver.resolveRequest = (context, moduleName, platform) => {
  if (platform === "web" && moduleName === "lodash") {
    return {
      type: "empty",
    };
  }

  // Ensure you call the default resolver.
  return context.resolveRequest(context, moduleName, platform);
};

module.exports = config;
```

This technique is equivalent to using empty externals in Webpack or Vite, but with the added benefit of being able to target specific platforms.

### Virtual modules

Metro doesn't support virtual modules at the moment. One technique you can use to obtain similar behavior is to create a module in the `node_modules/.cache/...` directory and redirect the resolution to that file.

The following example will create a module at `node_modules/.cache/virtual/virtual-module.js` and redirect the resolution of `virtual:my-module` to that file:

```ts
const path = require("path");
const fs = require("fs");

const { getDefaultConfig } = require("expo/metro-config");

/** @type {import('expo/metro-config').MetroConfig} */
const config = getDefaultConfig(__dirname);

const virtualPath = path.resolve(
  __dirname,
  "node_modules/.cache/virtual/virtual-module.js",
);

// Create the virtual module in a generated directory...
fs.mkdirSync(path.dirname(virtualPath), { recursive: true });
fs.writeFileSync(virtualPath, 'export default "Hello World";');

config.resolver.resolveRequest = (context, moduleName, platform) => {
  if (moduleName === "virtual:my-module") {
    return {
      filePath: virtualPath,
      type: "sourceFile",
    };
  }

  // Ensure you call the default resolver.
  return context.resolveRequest(context, moduleName, platform);
};

module.exports = config;
```

This can be used to emulate `externals` with custom imports. For example, if you want to redirect `require('expo')` to something custom like `SystemJS.require('expo')`, you can create a virtual module that exports `SystemJS.require('expo')` and redirect the resolution of `expo` to that file.

## Custom transforming

> Transformations are heavily cached in Metro. If you update something, use the `--clear` flag to see updates. For example, `npx expo start --clear`.

Metro doesn't have a very expressive plugin system for transforming files, instead opt to use the [**babel.config.js**](/versions/latest/config/babel) and caller object to customize the transformation.

```js
module.exports = function (api) {
  // Get the platform that Expo CLI is transforming for.
  const platform = api.caller(caller => (caller ? caller.platform : "ios"));

  // Detect if the bundling operation is for Hermes engine or not, e.g. `'hermes'` | `undefined`.
  const engine = api.caller(caller => (caller ? caller.engine : null));

  // Is bundling for a server environment, e.g. API Routes.
  const isServer = api.caller(caller => (caller ? caller.isServer : false));

  // Is bundling for development or production.
  const isDev = api.caller(caller =>
    caller
      ? caller.isDev
      : process.env.BABEL_ENV === "development" ||
        process.env.NODE_ENV === "development",
  );

  // Ensure the config is not cached otherwise the platform will not be updated.
  api.cache(false);
  // You can alternatively provide a more robust CONFIG cache invalidation:
  // api.cache.invalidate(() => platform);

  return {
    presets: ["babel-preset-expo"],
    plugins: [
      // Add a plugin based on the platform...
      platform === "web" && "my-plugin",

      // Ensure you filter out falsy values.
    ].filter(Boolean),
  };
};
```

If the caller doesn't have `engine`, `platform`, `bundler`, and so on, then ensure you are using `@expo/metro-config/babel-transformer` for the transformer. If you're using a custom transformer then it may need to extend the Expo transformer.

Always try to implement custom logic in the resolver if possible, caching is much simpler and easier to reason about. For example, if you need to remap an import, it's simpler and faster to resolve to a static file with the resolver than to parse all possible import methods and remap them with the transformer.

Always use `babel-preset-expo` as the default Babel preset, this ensures the transformation is always compatible with Expo runtimes. `babel-preset-expo` uses all of the caller inputs internally to optimize for a given platform, engine, and environment.

## Node.js built-ins

When bundling for a server environment, Expo's Metro config automatically supports externalizing Node.js built-in modules (`fs`, `path`, `node:crypto`, and more) based on the current Node.js version. If the CLI is bundling for a browser environment, then built-ins will first check if the module is installed locally, then fallback on an empty shim. For example, if you install `path` for use in the browser, this can be used, otherwise, the module will automatically be skipped.

## Environment settings

> These environment variables will not be defined in test environments.

Expo's Metro config injects build settings that can be used in the client bundle via environment variables. All variables will be inlined and cannot be used dynamically. For example, `process.env["EXPO_BASE_URL"]` won't work.

- `process.env.EXPO_BASE_URL` exposes the base URL defined in `experiments.baseUrl`. This is used in Expo Router to respect the production base URL for deployment.

## Bundle splitting

Expo CLI automatically splits web bundles into multiple chunks based on async imports in production. This feature requires `@expo/metro-runtime` to be installed and imported somewhere in the entry bundle (available by default in Expo Router).

Shared dependencies of async bundles are merged into a single chunk to reduce the number of requests. For example, if you have two async bundles that import `lodash`, then the library is merged into a single initial chunk.

The chunk splitting heuristic cannot be customized. For example:

`math.js`

`index.js`

```js
export function add(a, b) {
  return a + b;
}
```

```js
import "@expo/metro-runtime";

// This will be split into a separate chunk.
import("./math").then(math => {
  console.log(math.add(1, 2));
});
```

When you run `npx expo export -p web`, the bundles are split into multiple files, and the entry bundle is added to the main HTML file. `@expo/metro-runtime` adds the runtime code that loads and evaluates the async bundles.

## Source map debug ID

If a bundle is exported with an external source map, a [**Debug ID**](https://sentry.engineering/blog/the-case-for-debug-ids) annotation will be added to the end of the file, along with a matching `debugId` in the source map for corresponding the files together. If no source maps are exported, or inline source maps are used then this annotation will not be added.

```js
// <all source code>

//# debugId=<deterministic chunk hash>
```

The associated `*.js.map` or `*.hbc.map` source map will be a JSON file containing an equivalent `debugId` property. The `debugId` will be injected before hermes bytecode generation to ensure matching in all cases.

The `debugId` is a deterministic hash of the bundle's contents without the external bundle splitting references. This is the same value used to create a chunks filename but formatted as a UUID. For example, `431b98e2-c997-4975-a3d9-2987710abd44`.

`@expo/metro-config` injects `debugId` during `npx expo export` and `npx expo export:embed`. Any additional optimization steps in `npx expo export:embed` like Hermes bytecode generation will need to have the `debugId` injected manually.

## Metro require runtime

You can optionally enable a custom Metro `require` implementation with the environment variable `EXPO_USE_METRO_REQUIRE=1`. This runtime has the following features:

- String module IDs that are human-readable and make missing module errors easier to follow.
- Deterministic IDs that are the same between runs and across modules (required for React Server Components in development).
- Removed support for legacy RAM bundles.

## Magic import comments

> Available from SDK 52 on all platforms.

Server environments such as Workers, and Node.js support import arbitrary files at runtime, so you may want to keep `import` syntax in-tact instead of using Metro's require system. You can opt-out dynamic imports with the `/* @metro-ignore */` comment in `import()` statements.

```js
// Manually ensure `./my-module.js` is included in the correct spot relative to the module.
const myModule = await import(/* @metro-ignore */ "./my-module.js");
```

Expo CLI will skip the `./my-module.js` dependency and assume that the developer has manually added it to the output bundle. Internally, this is used for exporting custom server code that dynamically switches between files based on the request. Avoid using this syntax for native bundles since `import()` is generally not available in React Native with Hermes enabled.

Many React libraries shipped the Webpack `/* webpackIgnore: true */` comment to achieve similar behavior. To bridge the gap, we've also added support for Webpack's comment but recommend using the Metro equivalent in your app.

## ES Module resolution

> This sections applies from SDK 53 on all platforms.

Metro resolves ES Module `import` and CommonJS `require` with separate resolution strategies.

Previously, Metro applied the classic Node.js module resolution strategy (which matches Node.js versions before v12), with some additions to support ES Modules. In this resolution strategy, Metro resolves modules from `node_modules`, JS files, optionally while omitting extensions, such as `.js`, and uses `package.json` fields such as `main`, `module`, and `react-native`.

Now, with the modern ES Modules resolution strategy, Metro instead resolves modules from `node_modules`, then matches different `package.json` fields, such as `exports`, [a nested map of sub-paths a package exposes](https://nodejs.org/api/packages.html#conditional-exports), and `main`.

Depending on how a package is imported, one of these two resolution strategies will be used. Typically, a file that is imported with `import` from a Node module (rather than `require`), will use the ES Modules resolution strategy, and fall back on regular classic Node.js resolution. A file that wasn't resolved with ES Modules resolution or has been imported with CommonJS `require` will use the classic resolution strategy.

### `package.json:exports`

When performing ES Modules resolution, Metro will look at the `package.json:exports` conditions map. This is a mapping of import subpaths and conditions to files in the Node module package.

For example, a package that always exposes an **index.js** file, and matches Metro's classic CommonJS module resolution, may specify a map with the `default` condition.

```json
{
  "exports": {
    "default": "./index.js"
  }
}
```

However, a package providing both a CommonJS and ES Modules entrypoint may provide a mapping with the `import` and `require` conditions.

```json
{
  "exports": {
    "import": "./index.mjs",
    "require": "./index.cjs"
  }
}
```

By default, Metro will match different conditions depending on the platform and whether the resolution has started from a CommonJS `require` call, or an ES Modules `import` statement and will change the condition accordingly.

For native platforms, the condition `react-native` is added, for web exports, the `browser` condition is added, and for server exports (such as API routes or React Server functions), the `node`, `react-server`, and `workerd` conditions are added. These conditions aren't matched in the order they're defined in. Instead, they're matched against the order of properties in the `package.json:exports` map.

TypeScript performs ES Module resolution separately from Metro and will also respect `package.json:exports` maps, when its `compilerOptions.moduleResolution` configuration option has either been set to `"bundler"` (which matches Metro's behavior more closely) or to `"node16"` / `"nodenext"`. TypeScript will however also match the `types` condition. As such, types may not resolve properly when a package doesn't put the `types` condition first in its exports map.

Since an exports map may contain subpaths, a package import may not have to match a file in the package's modules folder any longer, but may be a "redirected" import. Importing `'package/submodule'` may match a different file than **node_modules/package/submodule.js** if it's specified in `package.json:exports`.

```json
{
  "exports": {
    ".": "./index.js",
    "./submodule": "./submodule/submodule.js"
  }
}
```

If you're encountering packages that are incompatible or unprepared for the new ES Modules resolution strategy, you may be able to resolve problems by patching its `package.json` file and add or correct its `package.json:exports` conditions map. However, it's also possible to prevent Metro from using `package.json:exports` maps in its resolution by disabling the `unstable_enablePackageExports` option.

```js
const { getDefaultConfig } = require("expo/metro-config");

/** @type {import('expo/metro-config').MetroConfig} */
const config = getDefaultConfig(__dirname);

config.resolver.unstable_enablePackageExports = false;

module.exports = config;
```

## Asset imports

When assets are imported, a virtual module is created to represent the data required for importing the asset.

On native platforms, an asset will be a numeric ID: `1`, `2`, `3`, and so on, which can be looked up using `require("@react-native/assets-registry/registry").getAssetByID(<NUMBER>)`. On web and server platforms, the asset will change depending on the file type. If the file is an image, then the asset will be `{ uri: string, width?: number, height?: number }`, otherwise the asset will be a `string` representing the remote URL for the asset.

The assets can be used as follows:

```jsx
import { Image } from "react-native";

import asset from "./img.png";

function Demo() {
  return <Image source={asset} />;
}
```

In API routes, you can always assume the type of the asset will not be a number:

```js
import asset from './img.png';

export async function GET(req: Request) {
  const ImageData = await fetch(
    new URL(
      // Access the asset URI.
      asset.uri,
      // Append to the current request URL origin.
      req.url
    )
  ).then(res => res.arrayBuffer());

  return new Response(ImageData, {
    headers: {
      'Content-Type': 'image/png',
    },
  });
}
```

## Web workers

> This feature is in alpha and subject to breaking changes.

```ts
new Worker(new URL("./worker", window.location.href));
```

Expo Metro has experimental web worker support. This feature is currently web-only and does not work on native, usage on native will trigger an error "Property 'Worker' doesn't exist".

Web workers can be used to offload work to a separate thread on web, allowing the main thread to remain responsive. This is useful for computationally expensive tasks, such as image processing, cryptography, or other tasks that would otherwise block the main thread.

Workers can be generated inline using `Blob`, but sometimes you may want to leverage modern features like TypeScript or importing other modules.

Web workers depend on Expo bundle splitting support, which means you need to either use Expo Router or install and import `@expo/metro-runtime`. You also cannot use the environment `EXPO_NO_METRO_LAZY=1` with web workers.

Consider the following example of a worker that doubles a number:

```ts
self.onmessage = ({ data }) => {
  const result = data * 2; // Example: double the number
  self.postMessage(result);
};
```

This worker file can be imported as a `Worker` in the main app:

```ts
// worker is of type `Worker`
const worker = new Worker(new URL("./worker", window.location.href));

worker.onmessage = ({ data }) => {
  console.log(`Worker responded: ${data}`);
};

worker.postMessage(5);
```

Behind the scenes, Expo CLI is generating code like this:

```ts
const worker = new Worker(
  new URL("/worker.bundle?platform=web&dev=true&etc", window.location.href),
);
```

The generated bundle URL changes based on development/production to ensure the worker is loaded and bundled correctly. Unlike traditional bundle splitting, a worker file needs to contain its own copy of all modules and cannot depend on common modules in the main bundle.

The native API `Worker` is traditionally unavailable in React Native and not provided by the Expo SDK, so even though this bundling feature technically works for all platforms, it's only useful on web. You could theoretically write a native Expo module that polyfills the `Worker` API if you want to support native platforms too. Alternatively, you can use the "worklet" API in React Native Reanimated to offload work to a separate thread on native.

Alternatively, you can import Workers using the public path by first putting a transformed JS file in the **public** directory, then referencing it in the worker import with a variable:

```ts
// Will avoid the transform and use the public path directly.
const worker = new Worker("/worker.js");

// The variable breaks the transform causing the literal path to be used instead of the transformed path.
const path = "/worker.js";

const anotherWorker = new Worker(new URL(path, window.location.href));
```

Using a variable in the `Worker` constructor is not supported for bundling. To inspect the internal URL, you may use the internal syntax `require.unstable_resolveWorker('./path/to/worker.js')` to get the URL fragment.

## Bare workflow setup

> This guide is versioned and will need to be revisited when upgrading/downgrading Expo. Alternatively, use [Expo Prebuild](/workflow/prebuild) for fully automated setup.

Projects that don't use [Expo Prebuild](/workflow/prebuild) must configure native files to ensure the Expo Metro config is always used to bundle the project.

These modifications are meant to replace `npx react-native bundle` and `npx react-native start` with `npx expo export:embed` and `npx expo start` respectively.

### metro.config.js

Ensure the **metro.config.js** extends `expo/metro-config`:

```js
const { getDefaultConfig } = require("expo/metro-config");

const config = getDefaultConfig(__dirname);

module.exports = config;
```

### `android/app/build.gradle`

The Android **app/build.gradle** must be configured to use Expo CLI for production bundling. Modify the `react` config object:

### `ios/<Project>.xcodeproj/project.pbxproj`

In your **ios/<Project>.xcodeproj/project.pbxproj** file, replace the following scripts:

#### "Start Packager" script

Remove the **"Start Packager"** script. The dev server must be started with `npx expo` before/after running the app.

#### "Bundle React Native code and images" script

Alternatively, in the Xcode project, select the **"Bundle React Native code and images"** build phase and add the following modifications:

> You can set `CLI_PATH`, `BUNDLE_COMMAND`, and `ENTRY_FILE` environment variables to overwrite these defaults.

### Custom entry file

By default, React Native only supports using a root `index.js` file as the entry file (or platform-specific variation like `index.ios.js`). Expo projects allow using any entry file, but this requires addition bare setup.

#### Development

Development mode entry files can be enabled by using the [`expo-dev-client`](/versions/latest/sdk/dev-client) package. Alternatively you can add the following configuration:

#### Production

In your **ios/<Project>.xcodeproj/project.pbxproj** file, replace the **"Bundle React Native code and images"** script to set `$ENTRY_FILE` according using Metro:

The Android **app/build.gradle** must be configured to use Metro module resolution to find the root entry file. Modify the `react` config object:

---

---

title: package.json
description: A reference for Expo-specific properties that can be used in the package.json file.

---

# package.json

A reference for Expo-specific properties that can be used in the package.json file.

**package.json** is a JSON file that contains the metadata for a JavaScript project. This is a reference to Expo-specific properties that can be used in the **package.json** file.

## `install.exclude`

The following commands perform a version check for the libraries installed in a project and give a warning when a library's version is different from the version recommended by Expo:

- `npx expo start` and `npx expo-doctor`
- `npx expo install` (when installing a new version of that library or using `--check` or `--fix` options)

By specifying the library under the `install.exclude` array in the **package.json** file, you can exclude it from the version checks:

```json
{
  "expo": {
    "install": {
      "exclude": ["expo-updates", "expo-splash-screen"]
    }
  }
}
```

## `autolinking`

Allows configuring module resolution behavior by using `autolinking` property in **package.json**.

For complete reference, see [Autolinking configuration](/modules/autolinking#configuration).

## `doctor`

Allows configuring the behavior of the [`npx expo-doctor`](/develop/tools#expo-doctor) command.

### `reactNativeDirectoryCheck`

By default, Expo Doctor validates your project's packages against the [React Native directory](https://reactnative.directory/). This check throws a warning with a list of packages that are not included in the React Native Directory.

You can customize this check by adding the following configuration in your project's **package.json** file:

```json
{
  "expo": {
    "doctor": {
      "reactNativeDirectoryCheck": {
        "enabled": true,
        "exclude": ["/foo/", "bar"],
        "listUnknownPackages": true
      }
    }
  }
}
```

By default, the check is enabled and unknown packages are listed.

### `appConfigFieldsNotSyncedCheck`

Expo Doctor checks if your project includes native project directories such as **android** or **ios**. If these directories exist but are not listed in your **.gitignore** or [**.easignore**](/build-reference/easignore) files, Expo Doctor verifies the presence of an app config file. If this file exists, it means your project is configured to use [Prebuild](/workflow/prebuild).

When the **android** or **ios** directories are present, EAS Build does not sync app config properties to the native projects. Expo Doctor throws a warning if these conditions are true.

You can disable or enable this check by adding the following configuration to your project's **package.json** file:

```json
{
  "expo": {
    "doctor": {
      "appConfigFieldsNotSyncedCheck": {
        "enabled": false
      }
    }
  }
}
```

---

---

## title: Reference

# Reference

The Expo SDK provides access to device and system functionality such as contacts, camera, gyroscope, GPS location, and so on, in the form of packages. You can install any Expo SDK package using the `npx expo install` command. For example, three different packages are installed using the following command:

```sh
npx expo install expo-camera expo-contacts expo-sensors
```

After installing one or more packages, you can import them into your JavaScript code:

```js
import * as Contacts from "expo-contacts";
import { Gyroscope } from "expo-sensors";
import { CameraView } from "expo-camera";
```

This allows you to write [`Contacts.getContactsAsync()`](/versions/latest/sdk/contacts#contactsgetcontactsasynccontactquery) and read the contacts from the device, read the gyroscope sensor to detect device movement, or start the phone's camera and take photos.

## All Expo SDK packages work in any React Native app

Expo apps are React Native apps, so all Expo SDK packages work in any React Native app with the `expo` package installed and configured. The easiest way to create a React Native app with support for Expo SDK packages is to use `create-expo-app`. However, you can also add Expo SDK support to an existing React Native app with the `npx install-expo-modules` command.

```sh
npx create-expo-app my-app --template bare-minimum
```

[Install Expo SDK packages in existing React Native apps](/bare/installing-expo-modules) â€” Learn more about configuring projects created with npx @react-native-community/cli@latest init to Expo SDK packages. â€” npx @react-native-community/cli@latest init

[Use libraries](/workflow/using-libraries) â€” Learn how to install Expo SDK packages in your project.

## Using pre-release versions

New Expo SDK versions are released three times each year. Between these releases, we publish pre-release versions of the `expo` package and all of the Expo SDK packages. Pre-releases are not considered stable and should only be used if you are comfortable with the risk of encountering bugs or other issues.

### Canary releases

Canary releases represent a snapshot of the state of the `main` branch at the time they are published. Canary package versions include `-canary` in the name, along with the date and commit hash, such as `54.0.0-canary-20240418-8d74597`. To install the latest canary release:

```sh
npm install expo@canary && npx expo install --fix
```

You can often use pre-release versions of individual packages with stable releases of the Expo SDK. There may occasionally be incompatibilities or other issues that arise in canary-quality releases. You may want to [silence dependency validation warnings](/more/expo-cli#configuring-dependency-validation) if you opt in to the canary package and once you have verified that it works well for your use cases.

### Beta releases

Before each Expo SDK release, we publish beta versions of the `expo` package and all of the Expo SDK packages. Beta releases are considered much more stable than canary releases, and we encourage developers to try them out on their apps and share their feedback. Beta releases use the `beta` tag on npm and follow the instructions in the related [changelog](https://expo.dev/changelog) post.

## Each Expo SDK version depends on a React Native version

| Expo SDK version | React Native version | React version | React Native Web version | React Native TV version | Minimum Node.js version |
| ---------------- | -------------------- | ------------- | ------------------------ | ----------------------- | ----------------------- |
| 54.0.0           | 0.81                 | 19.1.0        | 0.21.0                   | 0.81-stable             | 20.19.x                 |
| 53.0.0           | 0.79                 | 19.0.0        | 0.20.0                   | 0.79-stable             | 20.18.x                 |
| 52.0.0           | 0.76                 | 18.3.1        | 0.19.13                  | 0.77-stable             | 20.18.x                 |

### Additional information

Expo SDK policy for tracking React Native releases

- Expo SDK versions are released three times each year, and each Expo SDK release targets a single React Native version. This is typically the latest stable version at the time of the release.
- The release cadence of React Native has varied over its history and it is currently on pace for six releases in 2025. While on this cadence, you can expect that there will be an Expo SDK version for every second React Native release.
- Pre-release versions of the upcoming Expo SDK will include support for the latest version of React Native quickly, usually the same day it is released. A member of the Expo SDK team works on the React Native releases team for each release, and is responsible for continuously updating the React Native version in the Expo repository, verifying compatibility, and reporting regressions back to the team at Meta.

Why not release a new Expo SDK version immediately for every React Native release?

At Expo, we have found that releasing three major version provides a good balance of stability and innovation for developers depending on our open source tools. Expo and Meta work closely together on releases, and we will keep improving our processes to get the latest Expo and React Native features to you as quickly as possible.

What if I need a change from the latest React Native version and it's not yet in an Expo SDK release?

We work closely with the team at Meta to ensure that any urgent fixes are included in the React Native version used by the latest Expo SDK. If your issue won't be cherrypicked into an existing release because it is more niche, or it involves a breaking change, then you have two options:

1.  Use [`patch-package`](https://github.com/ds300/patch-package) to pull in the fix.
2.  Use a [pre-release version of the Expo SDK](/versions/latest#using-pre-release-versions). An ([example](https://expo.dev/changelog/react-native-78)).

Can I use an older version of React Native with the latest Expo SDK?

Packages in the Expo SDK are intended to support the target React Native version for that SDK. Typically, they will not support older versions of React Native, but they may. When a new version of React Native is released, the latest versions of the Expo SDK packages are typically updated to support it. However, this may take weeks or more, depending on the extent of the changes in the release.

## Support for Android and iOS versions

Each version of Expo SDK supports a minimum OS version of Android and iOS. For Android, the `compileSdkVersion` is defined which tells the [Gradle](https://developer.android.com/studio/build) which Android SDK version to use to compile the app. This also means that you can use the Android API features included in that SDK version and from the previous versions. For iOS, the [Xcode](https://developer.apple.com/news/upcoming-requirements/) tells the minimum Xcode SDK version to use to compile the app.

| Expo SDK version | Android version | `compileSdkVersion` | `targetSdkVersion` | iOS version | Xcode version |
| ---------------- | --------------- | ------------------- | ------------------ | ----------- | ------------- |
| 54.0.0           | 7+              | 36                  | 36                 | 15.1+       | 16.1+         |
| 53.0.0           | 7+              | 35                  | 35                 | 15.1+       | 16.0+         |
| 52.0.0           | 7+              | 35                  | 34                 | 15.1+       | 16.0+         |

When deciding whether to upgrade your Expo SDK version, consider both Expo's SDK version and app store submission requirements, as described in the above table. Google Play Store and Apple App Store periodically increase their minimum required OS versions and API levels, which are required for new app submissions. Expo has no control over the app store requirements, and you should check [Google](https://developer.android.com/studio/build) and [Apple](https://developer.apple.com/news/upcoming-requirements/) for the current store submission requirements.

---

---

title: Accelerometer
description: A library that provides access to the device's accelerometer sensor.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-sensors'
packageName: 'expo-sensors'
iconUrl: '/static/images/packages/expo-sensors.png'
platforms: ['android', 'ios*', 'web', 'expo-go']

---

# Expo Accelerometer

A library that provides access to the device's accelerometer sensor.
Android, iOS (device only), Web, Included in Expo Go

`Accelerometer` from `expo-sensors` provides access to the device accelerometer sensor(s) and associated listeners to respond to changes in acceleration in three-dimensional space, meaning any movement or vibration.

## Installation

```sh
npx expo install expo-sensors
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { StyleSheet, Text, TouchableOpacity, View } from "react-native";
import { Accelerometer } from "expo-sensors";
import { useState, useEffect } from "react";

export default function App() {
  const [{ x, y, z }, setData] = useState({
    x: 0,
    y: 0,
    z: 0,
  });
  const [subscription, setSubscription] = useState(null);

  const _slow = () => Accelerometer.setUpdateInterval(1000);
  const _fast = () => Accelerometer.setUpdateInterval(16);

  const _subscribe = () => {
    setSubscription(Accelerometer.addListener(setData));
  };

  const _unsubscribe = () => {
    subscription && subscription.remove();
    setSubscription(null);
  };

  useEffect(() => {
    _subscribe();
    return () => _unsubscribe();
  }, []);

  return (
    <View style={styles.container}>
      <Text style={styles.text}>
        Accelerometer: (in gs where 1g = 9.81 m/s^2)
      </Text>
      <Text style={styles.text}>x: {x}</Text>
      <Text style={styles.text}>y: {y}</Text>
      <Text style={styles.text}>z: {z}</Text>
      <View style={styles.buttonContainer}>
        <TouchableOpacity
          onPress={subscription ? _unsubscribe : _subscribe}
          style={styles.button}
        >
          <Text>{subscription ? "On" : "Off"}</Text>
        </TouchableOpacity>
        <TouchableOpacity
          onPress={_slow}
          style={[styles.button, styles.middleButton]}
        >
          <Text>Slow</Text>
        </TouchableOpacity>
        <TouchableOpacity
          onPress={_fast}
          style={styles.button}
        >
          <Text>Fast</Text>
        </TouchableOpacity>
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    paddingHorizontal: 20,
  },
  text: {
    textAlign: "center",
  },
  buttonContainer: {
    flexDirection: "row",
    alignItems: "stretch",
    marginTop: 15,
  },
  button: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
    backgroundColor: "#eee",
    padding: 10,
  },
  middleButton: {
    borderLeftWidth: 1,
    borderRightWidth: 1,
    borderColor: "#ccc",
  },
});
```

## API

```js
import { Accelerometer } from "expo-sensors";
```

## Classes

### `Accelerometer`

Supported platforms: Android, iOS, Web.

Type: Class extends [DeviceSensor](/versions/latest/sdk/sensors)<[AccelerometerMeasurement](#accelerometermeasurement)\>

A base class for subscribable sensors. The events emitted by this class are measurements specified by the parameter type `Measurement`.

Accelerometer Methods

### `addListener(listener)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type                                                             | Description                                                                                                                                                                  |
| ---------- | ---------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `listener` | Listener<[AccelerometerMeasurement](#accelerometermeasurement)\> | A callback that is invoked when an accelerometer update is available. When invoked, the listener is provided a single argument that is an `AccelerometerMeasurement` object. |

Subscribe for updates to the accelerometer.

Returns: `EventSubscription`

A subscription that you can call `remove()` on when you would like to unsubscribe the listener.

### `getListenerCount()`

Supported platforms: Android, iOS, Web.

Returns the registered listeners count.

Returns: `number`

### `getPermissionsAsync()`

Supported platforms: Android, iOS, Web.

Checks user's permissions for accessing sensor.

Returns: `Promise<permissionresponse>`

### `hasListeners()`

Supported platforms: Android, iOS, Web.

Returns boolean which signifies if sensor has any listeners registered.

Returns: `boolean`

### `isAvailableAsync()`

Supported platforms: Android, iOS, Web.

> You should always check the sensor availability before attempting to use it.

Returns whether the accelerometer is enabled on the device.

On mobile web, you must first invoke `Accelerometer.requestPermissionsAsync()` in a user interaction (i.e. touch event) before you can use this module. If the `status` is not equal to `granted` then you should inform the end user that they may have to open settings.

On **web** this starts a timer and waits to see if an event is fired. This should predict if the iOS device has the **device orientation** API disabled in **Settings > Safari > Motion & Orientation Access**. Some devices will also not fire if the site isn't hosted with **HTTPS** as `DeviceMotion` is now considered a secure API. There is no formal API for detecting the status of `DeviceMotion` so this API can sometimes be unreliable on web.

Returns: `Promise<boolean>`

A promise that resolves to a `boolean` denoting the availability of the accelerometer.

### `removeAllListeners()`

Supported platforms: Android, iOS, Web.

Removes all registered listeners.

Returns: `void`

### `removeSubscription(subscription)`

Supported platforms: Android, iOS, Web.

| Parameter      | Type                | Description               |
| -------------- | ------------------- | ------------------------- |
| `subscription` | `EventSubscription` | A subscription to remove. |

Removes the given subscription.

Returns: `void`

### `requestPermissionsAsync()`

Supported platforms: Android, iOS, Web.

Asks the user to grant permissions for accessing sensor.

Returns: `Promise<permissionresponse>`

### `setUpdateInterval(intervalMs)`

Supported platforms: Android, iOS, Web.

| Parameter    | Type     | Description                                                                                                                                             |
| ------------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `intervalMs` | `number` | Desired interval in milliseconds between sensor updates. Starting from Android 12 (API level 31), the system has a 200ms limit for each sensor updates. |

Set the sensor update interval.

Returns: `void`

## Interfaces

### `Subscription`

Supported platforms: Android, iOS, Web.

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Supported platforms: Android, iOS, Web.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

## Types

### `AccelerometerMeasurement`

Supported platforms: Android, iOS, Web.

Each of these keys represents the acceleration along that particular axis in g-force (measured in `g`s).

A `g` is a unit of gravitational force equal to that exerted by the earthâ€™s gravitational field (`9.81 m/s^2`).

| Property  | Type     | Description                              |
| --------- | -------- | ---------------------------------------- |
| timestamp | `number` | Timestamp of the measurement in seconds. |
| x         | `number` | Value of `g`s device reported in X axis. |
| y         | `number` | Value of `g`s device reported in Y axis. |
| z         | `number` | Value of `g`s device reported in Z axis. |

### `PermissionExpiration`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionResponse`

Supported platforms: Android, iOS, Web.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

## Enums

### `PermissionStatus`

Supported platforms: Android, iOS, Web.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

---

---

title: AgeRange
description: A library that provides access to age range information using Play Age Signals API on Android and Declared Age Range framework on iOS.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-age-range'
packageName: 'expo-age-range'
platforms: ['android', 'ios', 'expo-go']
isAlpha: true

---

# Expo AgeRange

A library that provides access to age range information using Play Age Signals API on Android and Declared Age Range framework on iOS.
Android, iOS, Included in Expo Go

> **This library is currently in alpha and will frequently experience breaking changes.**

`expo-age-range` provides access to user age range information. It uses Google's [Play Age Signals API](https://developer.android.com/google/play/age-signals/use-age-signals-api) on Android and Apple's [Declared Age Range framework](https://developer.apple.com/documentation/declaredagerange/) on iOS.

This library allows you to request age range information from your app users to help you comply with age-appropriate content regulations (such as in [Texas, USA](https://developer.apple.com/news/?id=btkirlj8)) and provide age-appropriate experiences in your app.

### Limitations

We strongly recommend testing the functionality on a real device, as simulator runtimes may not work as expected.

On Android, the Play Age Signals API (beta) may throw an exception until January 1, 2026, as per the [official Android documentation](https://developer.android.com/google/play/age-signals/use-age-signals-api#integrate-play-age-signals). From January 1, the API will return live responses.

## Installation

```sh
npx expo install expo-age-range
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

### Setup iOS project

To use the age range API on iOS, you need to build your project with Xcode 26.0 or later. The `com.apple.developer.declared-age-range` entitlement is required. Add it to your [app config](/versions/latest/sdk/config/app) file:

```json
{
  "expo": {
    "ios": {
      "entitlements": {
        "com.apple.developer.declared-age-range": true
      }
    }
  }
}
```

Are you using this library in an existing React Native app?

For existing React Native projects, add the entitlement to your project's **ios/[app]/[app].entitlements** file:

```xml
<key>com.apple.developer.declared-age-range</key>
<true/>
```

## Usage

```tsx
import { StyleSheet, Text, View, Button } from "react-native";
import * as AgeRange from "expo-age-range";
import { useState } from "react";

export default function App() {
  const [result, setResult] = useState<
    AgeRange.AgeRangeResponse | { error: string } | null
  >(null);

  const requestAgeRange = async () => {
    try {
      const ageRange = await AgeRange.requestAgeRangeAsync({
        threshold1: 10,
        threshold2: 13,
        threshold3: 18,
      });
      setResult(ageRange);
    } catch (error) {
      setResult({ error: error.message });
    }
  };

  return (
    <View style={styles.container}>
      <Button
        title="Request Age Range"
        onPress={requestAgeRange}
      />
      {result && (
        <Text style={styles.result}>
          {"error" in result
            ? `Error: ${result.error}`
            : `Lower age bound: ${result.lowerBound}`}
        </Text>
      )}
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    padding: 20,
  },
  result: {
    marginTop: 20,
    fontSize: 16,
  },
});
```

## Additional resources

- [Play Age Signals API](https://developer.android.com/google/play/age-signals/use-age-signals-api): Android documentation for age signals
- [Declared Age Range framework](https://developer.apple.com/documentation/declaredagerange/): iOS documentation for declared age range

## API

```ts
import * as AgeRange from "expo-age-range";
```

## Methods

### `AgeRange.requestAgeRangeAsync(options)`

Supported platforms: Android, iOS 26.0+.

| Parameter | Type                                |
| --------- | ----------------------------------- |
| `options` | [AgeRangeRequest](#agerangerequest) |

Prompts the user to share their age range with the app. Responses may be cached by the OS for future requests.

Returns: `Promise<agerangeresponse>`

A promise that resolves with user's age range response, or rejects with an error. The user needs to be signed in on the device to get a valid response. When not supported (earlier than iOS 26 and web), the call returns `lowerBound: 18`, which is equivalent to the response of an adult user.

## Types

### `AgeRangeRequest`

Supported platforms: iOS.

Options for requesting age range information from the user.

| Property             | Type     | Description                                      |
| -------------------- | -------- | ------------------------------------------------ |
| threshold1           | `number` | The required minimum age for your app.           |
| threshold2(optional) | `number` | An optional additional minimum age for your app. |
| threshold3(optional) | `number` | An optional additional minimum age for your app. |

### `AgeRangeResponse`

Supported platforms: Android, iOS.

Response containing the user's age range information.

Contains age boundaries and platform-specific metadata.

| Property                         | Type            | Description                                                                                                                          |
| -------------------------------- | --------------- | ------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------- | ---------- | -------------------------------------------------------------------------------- |
| activeParentalControls(optional) | `string[]`      | Supported platforms: iOS. List of parental controls enabled and shared as a part of age range declaration.                           |
| ageRangeDeclaration(optional)    | `'selfDeclared' | 'guardianDeclared'`                                                                                                                  | Supported platforms: iOS. Indicates whether the age range was declared by the user themselves or someone else (parent, guardian, or Family Organizer in a Family Sharing group). |
| installId(optional)              | `string`        | Supported platforms: Android. An ID assigned to supervised user installs by Google Play, used to notify you of revoked app approval. |
| lowerBound(optional)             | `number`        | The lower limit of the personâ€™s age range.                                                                                           |
| mostRecentApprovalDate(optional) | `number`        | Supported platforms: Android. The effective date (timestamp) of the most recent significant change that was approved.                |
| upperBound(optional)             | `number`        | The upper limit of the personâ€™s age range.                                                                                           |
| userStatus(optional)             | `'VERIFIED'     | 'SUPERVISED'                                                                                                                         | 'SUPERVISED_APPROVAL_PENDING'                                                                                                                                                    | 'SUPERVISED_APPROVAL_DENIED' | 'UNKNOWN'` | Supported platforms: Android. The user's age verification or supervision status. |

## Error codes

Available in the `code` property of any error thrown by the native module. For Android-specific error codes, see "Handle API error codes" in [Use Play Age Signals API docs](https://developer.android.com/google/play/age-signals/use-age-signals-api#handle-api-errors).

| Code                            | Platform | Description                                                                                                        |
| ------------------------------- | -------- | ------------------------------------------------------------------------------------------------------------------ |
| `ERR_AGE_RANGE_USER_DECLINED`   | iOS      | User declined to share their age range.                                                                            |
| `ERR_AGE_RANGE_NOT_AVAILABLE`   | iOS      | Age range not available. The most likely cause is that user is not signed in to their Apple account on the device. |
| `ERR_AGE_RANGE_INVALID_REQUEST` | iOS      | The provided params were invalid. The age ranges need to be minimum 2 years apart.                                 |

---

---

title: AppIntegrity
description: A library that provides access to Google's Play Integrity API on Android and Apple's App Attest service on iOS.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-app-integrity'
packageName: '@expo/app-integrity'
platforms: ['android', 'ios', 'expo-go']
isAlpha: true

---

# AppIntegrity

A library that provides access to Google's Play Integrity API on Android and Apple's App Attest service on iOS.
Android, iOS, Included in Expo Go

`@expo/app-integrity` provides APIs to help ensure your backend resources are accessed only by legitimate installations of your app running on genuine devices. It uses Google's [Play Integrity APIs](https://developer.android.com/google/play/integrity) on Android and Apple's [App Attest service](https://developer.apple.com/documentation/devicecheck/establishing-your-app-s-integrity) on iOS to verify app authenticity, helping prevent unauthorized clients, modified apps, or automated scripts from making requests to your server.

Generally, `@expo/app-integrity` helps your server tell the difference between:

- Your **real app** running on a **real device**
- Anything else (modified apps, scripts, emulators)

It does this by using the platform-recommended app attestation services.

## Installation

```sh
npx expo install @expo/app-integrity
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage on Android

`@expo/app-integrity` uses Play Integrity's [Standard request flow](https://developer.android.com/google/play/integrity/standard) for integrity checks.

### Configuration

Refer to the [Play Integrity setup guide](https://developer.android.com/google/play/integrity/setup#set-integrity-responses) for instructions to enable integrity APIs in your app.

### Prepare the integrity token provider (one time)

You need to prepare the integrity token provider before you make integrity check requests. You can do this when your app launches or in the background before the integrity check is needed.

```js
import * as AppIntegrity from "@expo/app-integrity";

const cloudProjectNumber = "your-cloud-project-number";
await AppIntegrity.prepareIntegrityTokenProviderAsync(cloudProjectNumber);
```

### Request an integrity token (on demand)

Whenever your app makes a server request that you want to check is genuine, you request an integrity token and send it to your app's backend server for decryption and verification. Then, your backend server can determine how to act.

```js
const requestHash = "2cp24z...";
const result = await AppIntegrity.requestIntegrityCheckAsync(requestHash);
```

Before calling [`requestIntegrityCheckAsync`](/versions/latest/sdk/app-integrity#appintegrityrequestintegritycheckasyncrequesthash), ensure that [`prepareIntegrityTokenProviderAsync`](/versions/latest/sdk/app-integrity#appintegrityprepareintegritytokenproviderasynccloudprojectnumber) was called successfully.

In this example, `requestHash` is a hash unique to the specific user action being verified. You can call [`requestIntegrityCheckAsync`](/versions/latest/sdk/app-integrity#appintegrityprepareintegritytokenproviderasynccloudprojectnumber) multiple times with different hashes for different user actions.

On success, send the result to your server for verification.

> **Note**: If your app uses the same token provider for too long, the token provider can expire which results in the `ERR_APP_INTEGRITY_PROVIDER_INVALID` error on the next token request. You should handle this error by requesting a new provider by calling `prepareIntegrityTokenProviderAsync` again.

### Decrypt and verify the integrity verdict

Refer [Play Integrity's guide](https://developer.android.com/google/play/integrity/standard#decrypt-and) to verify the integrity token in your server.

### Additional resources

- [Google Pay Integrity documentation](https://developer.android.com/google/play/integrity/overview): Refer to Google's official guide to understand the APIs and verification flow that power `@expo/app-integrity`.
- [Play Integrity Standard request flow](https://developer.android.com/google/play/integrity/standard): This page describes making standard API requests for integrity verdicts, which are supported on Android 5.0 (API level 21) or higher. You can make a standard API request for an integrity verdict whenever your app is making a server call to check whether the interaction is genuine.
- [About Integrity verdicts](https://developer.android.com/google/play/integrity/verdicts): The integrity verdict communicates information about the validity of devices, apps, and accounts. Your app's server can use the resulting payload in a decrypted, verified verdict to determine how best to proceed with a particular action or request in your app.
- [Handling error codes](https://developer.android.com/google/play/integrity/reference/com/google/android/play/core/integrity/model/StandardIntegrityErrorCode): If your app makes a Play Integrity API request and the call fails, your app receives an error code. These errors can happen for various reasons, such as environmental issues like a weak network connection, problems with your API integration, or malicious activity and active attacks.

## Usage on iOS

### Configuration

In Xcode, go to **Signing & Capabilities**, click **\+ Capability**, add **App Attest**. Xcode will automatically add the required entitlement to your app.

> **Note**: To use the App Attest service, your app must have an App ID that you register on the Apple Developer website.

For verification logic on your server, see [Validating apps that connect to your server](https://developer.apple.com/documentation/devicecheck/validating-apps-that-connect-to-your-server).

### Check if the device supports app attestation

Not all devices can use the App Attest service, so it's important to have your app run a compatibility check before accessing the service. If the user's app doesn't pass the compatibility check, gracefully bypass the service. You can check for availability by reading the `isSupported` property.

```js
import * as AppIntegrity from "@expo/app-integrity";

if (AppIntegrity.isSupported) {
  // Perform key generation and attestation.
}
// Continue with your server API access.
```

> **Note**: App Attest is not supported on iOS Simulator.

> Most app extensions don't support App Attest. Generally, when executing code in these extensions, bypass key generation and attestation, even if the `isSupported` method property is `true`. The only app extensions that support App Attest are watchOS extensions in watchOS 9 or later. For these extensions, you can use the results from `isSupported` to indicate whether your WatchKit extension bypasses attestation.

### Create a key pair

For each user account on each device running your app, generate a unique, hardware-based, cryptographic key pair by calling the `generateKey` method.

```js
const keyId = await AppIntegrity.generateKeyAsync();
```

On success, the method returns a key identifier (`keyId`) that you use later to access the key. Record the identifier in persistent storage because there's no way to use the key without the identifier and no way to get the identifier later. The device automatically stores the associated private key in the Secure Enclave, from where the App Attest service can use it to create signatures, but from where no process can ever directly read or modify it, ensuring its security.

> If you create a key pair in an App Clip, use the same key pair in the corresponding app. To support this, be sure to store the identifier in a shared container accessible from your full app. See Expoâ€™s guide on sharing a database between apps/extensions using [expo-sqlite](https://docs.expo.dev/versions/latest/sdk/sqlite/#sharing-a-database-between-appsextensions-ios), or use React Native MMKV's [App Groups / extensions](https://github.com/mrousavy/react-native-mmkv?tab=readme-ov-file#app-groups-or-extensions) shared storage to persist the identifier across both targets.

Don't reuse a key among multiple users on a device because this weakens security protections. In particular, it becomes hard to detect an attack that uses a single compromised device to serve multiple remote users running a compromised version of your app. For more information, see [Assessing fraud risk](https://developer.apple.com/documentation/devicecheck/assessing-fraud-risk).

### Get a challenge from your server

Request a unique, one-time challenge from your server. This challenge will be embedded in the attestation step below, ensuring it can't be reused by an attacker. The challenge should be at least 16 bytes long to provide enough entropy so that guessing it is infeasible.

### Certify the key pairs as valid

Pass the `keyId` alongwith the challenge from your server created in the previous steps in `attestKey` method as shown below:

```js
const attestationObject = await AppIntegrity.attestKeyAsync(keyId, challenge);
```

On success, send the received `attestationObject` and the `keyId` to your server for verification.

If the method returns `ERR_APP_INTEGRITY_SERVER_UNAVAILABLE` error, try attestation again later with the same key. For any other error, discard the key identifier and create a new key when you want to try again.

> If your app already has millions of daily active users and you want to start calling the `attestKey` method to initiate attestation from your app, review the [Preparing to use the app attest service](https://developer.apple.com/documentation/DeviceCheck/preparing-to-use-the-app-attest-service) for guidance on safely ramping your users.

Your server deems the app instance to be valid if it can successfully verify the attestation object. In this case, be sure to persistently store the key identifier â€” not the attestation object â€” in your app to sign server requests in the future.

### Generate assertions on sensitive requests

After successfully verifying a key's attestation, your server can require the app to assert its legitimacy for any or all future server requests. The app does this by signing the request. In the app, obtain a unique, one-time challenge from the server. You use a challenge here, like for attestation, to avoid replay attacks.

```js
const challenge = "A string from your server";
const request = {
  action: "getGameLevel",
  levelId: "1234",
  challenge: challenge,
};
const assertion = await AppIntegrity.generateAssertionAsync(
  keyId,
  JSON.stringify(request),
);
```

On success, pass the assertion object, along with the client data, to the server. If the assertion object fails verification, it's your responsibility to decide how to handle the request.

There's no restriction on the number of assertions that you can make with a key. Nevertheless, you typically reserve assertions for requests made at sensitive moments in your app's life cycle, like when the app downloads premium content.

### Start over on reinstallation

The keys that you generate remain valid through regular app updates, but don't survive app reinstallation, device migration, or restoration of a device from a backup. In these cases, you need to start the process from the beginning and generate a new key. Try to limit new key generation to only these events, or to the addition of new users. Keeping the key count low on a device helps when trying to detect certain kinds of fraud.

### Additional resources

- [Apple's App Attest documentation](https://developer.apple.com/documentation/devicecheck/establishing-your-app-s-integrity): Refer to Apple's official guide to understand the APIs and verification flow that power `@expo/app-integrity`.
- [Validating apps that connect to your server](https://developer.apple.com/documentation/devicecheck/validating-apps-that-connect-to-your-server): Verify the app attestation and assertion on your server.
- [Assessing fraud risk](https://developer.apple.com/documentation/devicecheck/assessing-fraud-risk): Request and analyze risk data using server-to-server calls.
- [Preparing to use the app attest service](https://developer.apple.com/documentation/devicecheck/preparing-to-use-the-app-attest-service): Test your implementation in a development environment and onboard users gradually.

## API

```js
import * as AppIntegrity from "@expo/app-integrity";
```

## Constants

### `AppIntegrity.isSupported`

Supported platforms: iOS.

Type: `boolean`

A boolean value that indicates whether a particular device provides the [App Attest](https://developer.apple.com/documentation/devicecheck/establishing-your-app-s-integrity) service. Not all device types support the App Attest service, so check for support before using the service.

## Methods

### `AppIntegrity.attestKeyAsync(keyId, challenge)`

Supported platforms: iOS.

| Parameter   | Type     | Description                                                        |
| ----------- | -------- | ------------------------------------------------------------------ |
| `keyId`     | `string` | The identifier you received by calling the `generateKey` function. |
| `challenge` | `string` | A challenge string from your server.                               |

Asks Apple to attest to the validity of a generated cryptographic key.

Returns: `Promise<string>`

A Promise that is fulfilled with a string that contains the attestation data. A statement from Apple about the validity of the key associated with keyId. Send this to your server for processing.

### `AppIntegrity.generateAssertionAsync(keyId, challenge)`

Supported platforms: iOS.

| Parameter   | Type     | Description                                                        |
| ----------- | -------- | ------------------------------------------------------------------ |
| `keyId`     | `string` | The identifier you received by calling the `generateKey` function. |
| `challenge` | `string` | A string to be signed with the attested private key.               |

Creates a block of data that demonstrates the legitimacy of an instance of your app running on a device.

Returns: `Promise<string>`

A Promise that is fulfilled with a string that contains the assertion object. A data structure that you send to your server for processing.

### `AppIntegrity.generateHardwareAttestedKeyAsync(keyAlias, challenge)`

Supported platforms: Android.

| Parameter   | Type     | Description                          |
| ----------- | -------- | ------------------------------------ |
| `keyAlias`  | `string` | A unique identifier for the key.     |
| `challenge` | `string` | A challenge string from your server. |

Generates a hardware-attested key pair in the Android Keystore. This key can be used for attestation on GrapheneOS and other secure Android distributions.

Returns: `Promise<void>`

A Promise that resolves when the key is generated successfully.

### `AppIntegrity.generateKeyAsync()`

Supported platforms: iOS.

Creates a new cryptographic key for use with the App Attest service.

Returns: `Promise<string>`

A Promise that is fulfilled with a string that contains the key identifier. The key itself is stored securely in the Secure Enclave.

### `AppIntegrity.getAttestationCertificateChainAsync(keyAlias)`

Supported platforms: Android.

| Parameter  | Type     | Description                                        |
| ---------- | -------- | -------------------------------------------------- |
| `keyAlias` | `string` | The identifier of the key to get certificates for. |

Retrieves the attestation certificate chain for a hardware-attested key. The certificate chain can be validated on your server to verify device integrity.

Returns: `Promise<string[]>`

A Promise that is fulfilled with an array of base64-encoded X.509 certificates.

### `AppIntegrity.isHardwareAttestationSupportedAsync()`

Supported platforms: Android.

Checks if hardware attestation is supported on this device.

Returns: `Promise<boolean>`

A Promise that is fulfilled with a boolean indicating support.

### `AppIntegrity.prepareIntegrityTokenProviderAsync(cloudProjectNumber)`

Supported platforms: Android.

| Parameter            | Type     | Description               |
| -------------------- | -------- | ------------------------- |
| `cloudProjectNumber` | `string` | The cloud project number. |

Prepares the integrity token provider for the given cloud project number.

Returns: `Promise<void>`

A Promise that is fulfilled if the integrity token provider is prepared successfully.

### `AppIntegrity.requestIntegrityCheckAsync(requestHash)`

Supported platforms: Android.

| Parameter     | Type     | Description                             |
| ------------- | -------- | --------------------------------------- |
| `requestHash` | `string` | A string representing the request hash. |

Requests an integrity verdict for the given request hash from Google Play.

Returns: `Promise<string>`

A Promise that is fulfilled with a string that contains the integrity check result.

---

---

title: AppleAuthentication
description: A library that provides Sign-in with Apple capability for iOS.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-apple-authentication'
packageName: 'expo-apple-authentication'
platforms: ['ios', 'tvos', 'expo-go']

---

# Expo AppleAuthentication

A library that provides Sign-in with Apple capability for iOS.
iOS, tvOS, Included in Expo Go

`expo-apple-authentication` provides Apple authentication for iOS. It does not yet support Android or web.

Any app that includes third-party authentication options **must** provide Apple authentication as an option to comply with App Store Review guidelines. For more information, see Apple authentication on the [Sign In with Apple](https://developer.apple.com/sign-in-with-apple/) website.

## Installation

```sh
npx expo install expo-apple-authentication
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-apple-authentication` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Setup iOS project

To enable the **Sign In with Apple** capability in your app, set the [`ios.usesAppleSignIn`](/versions/latest/config/app#usesapplesignin) property to `true` in your project's app config:

```json
{
  "expo": {
    "ios": {
      "usesAppleSignIn": true
    }
  }
}
```

### Example app.json with config plugin

Running [EAS Build](/build/introduction) locally will use [iOS capabilities signing](/build-reference/ios-capabilities) to enable the required capabilities before building.

```json
{
  "expo": {
    "plugins": ["expo-apple-authentication"]
  }
}
```

Are you using this library in an existing React Native app?

Apps that don't use [EAS Build](/build/introduction) must [manually configure](/build-reference/ios-capabilities#manual-setup) the **Apple Sign In** capability for their bundle identifier.

If you enable the **Apple Sign In** capability through the [Apple Developer Console](/build-reference/ios-capabilities#apple-developer-console), then be sure to add the following entitlements in your **ios/[app]/[app].entitlements** file:

```xml
<key>com.apple.developer.applesignin</key>
<array>
  <string>Default</string>
</array>
```

Also, set `CFBundleAllowMixedLocalizations` to `true` in your **ios/[app]/Info.plist** to ensure the sign-in button uses the device locale.

## Usage

```jsx
import * as AppleAuthentication from "expo-apple-authentication";
import { View, StyleSheet } from "react-native";

export default function App() {
  return (
    <View style={styles.container}>
      <AppleAuthentication.AppleAuthenticationButton
        buttonType={AppleAuthentication.AppleAuthenticationButtonType.SIGN_IN}
        buttonStyle={AppleAuthentication.AppleAuthenticationButtonStyle.BLACK}
        cornerRadius={5}
        style={styles.button}
        onPress={async () => {
          try {
            const credential = await AppleAuthentication.signInAsync({
              requestedScopes: [
                AppleAuthentication.AppleAuthenticationScope.FULL_NAME,
                AppleAuthentication.AppleAuthenticationScope.EMAIL,
              ],
            });
            // signed in
          } catch (e) {
            if (e.code === "ERR_REQUEST_CANCELED") {
              // handle that the user canceled the sign-in flow
            } else {
              // handle other errors
            }
          }
        }}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    justifyContent: "center",
  },
  button: {
    width: 200,
    height: 44,
  },
});
```

## Development and testing

You can test this library in Expo Go on iOS without following any of the instructions above. However, you'll need to add the config plugin to use this library if you are using EAS Build. When you sign into Expo Go, the identifiers and values you receive will likely be different than what you'll receive in standalone apps.

You can do limited testing of this library on the iOS Simulator. However, not all methods will behave the same as on a device, so we highly recommend testing on a real device when possible while developing.

## Verifying the Response from Apple

Apple's response includes a signed JWT with information about the user. To ensure that the response came from Apple, you can cryptographically verify the signature with Apple's public key, which is published at [https://appleid.apple.com/auth/keys](https://appleid.apple.com/auth/keys). This process is not specific to Expo.

## API

```js
import * as AppleAuthentication from "expo-apple-authentication";
```

## Component

### `AppleAuthenticationButton`

Supported platforms: iOS, tvOS.

Type: React.Element<[AppleAuthenticationButtonProps](#appleauthenticationbuttonprops)\>

This component displays the proprietary "Sign In with Apple" / "Continue with Apple" button on your screen. The App Store Guidelines require you to use this component to start the authentication process instead of a custom button. Limited customization of the button is available via the provided properties.

You should only attempt to render this if [`AppleAuthentication.isAvailableAsync()`](#appleauthenticationisavailableasync) resolves to `true`. This component will render nothing if it is not available, and you will get a warning in development mode (`__DEV__ === true`).

The properties of this component extend from `View`; however, you should not attempt to set `backgroundColor` or `borderRadius` with the `style` property. This will not work and is against the App Store Guidelines. Instead, you should use the `buttonStyle` property to choose one of the predefined color styles and the `cornerRadius` property to change the border radius of the button.

Make sure to attach height and width via the style props as without these styles, the button will not appear on the screen.

> **See:** [Apple Documentation](https://developer.apple.com/documentation/authenticationservices/asauthorizationappleidbutton) for more details.

AppleAuthenticationButtonProps

### `buttonStyle`

Supported platforms: iOS, tvOS.

Type: [AppleAuthenticationButtonStyle](#appleauthenticationbuttonstyle)

The Apple-defined color scheme to use to display the button.

### `buttonType`

Supported platforms: iOS, tvOS.

Type: [AppleAuthenticationButtonType](#appleauthenticationbuttontype)

The type of button text to display ("Sign In with Apple" vs. "Continue with Apple").

### `cornerRadius`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: `number`

The border radius to use when rendering the button. This works similarly to `style.borderRadius` in other Views.

### `onPress`

Supported platforms: iOS, tvOS.

Type: `() => void`

The method to call when the user presses the button. You should call [`AppleAuthentication.signInAsync`](#appleauthenticationisavailableasync) in here.

### `style`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: StyleProp<[Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[ViewStyle](https://reactnative.dev/docs/view-style-props), 'backgroundColor' | 'borderRadius'\>\>

The custom style to apply to the button. Should not include `backgroundColor` or `borderRadius` properties.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

## Methods

### `AppleAuthentication.formatFullName(fullName, formatStyle)`

Supported platforms: iOS, tvOS.

| Parameter               | Type                                                                              | Description                                      |
| ----------------------- | --------------------------------------------------------------------------------- | ------------------------------------------------ |
| `fullName`              | [AppleAuthenticationFullName](#appleauthenticationfullname)                       | The full name object with the tokenized portions |
| `formatStyle`(optional) | [AppleAuthenticationFullNameFormatStyle](#appleauthenticationfullnameformatstyle) | The style in which the name should be formatted  |

Creates a locale-aware string representation of a person's name from an object representing the tokenized portions of a user's full name

Returns: `string`

A locale-aware string representation of a person's name

### `AppleAuthentication.getCredentialStateAsync(user)`

Supported platforms: iOS, tvOS.

| Parameter | Type     | Description                                                                                                                                                                                              |
| --------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `user`    | `string` | The unique identifier for the user whose credential state you'd like to check. This should come from the user field of an [`AppleAuthenticationCredential`](#appleauthenticationcredentialstate) object. |

Queries the current state of a user credential, to determine if it is still valid or if it has been revoked.

> **Note:** This method must be tested on a real device. On the iOS simulator it always throws an error.

Returns: `Promise<appleauthenticationcredentialstate>`

A promise that fulfills with an [`AppleAuthenticationCredentialState`](#appleauthenticationcredentialstate) value depending on the state of the credential.

### `AppleAuthentication.isAvailableAsync()`

Supported platforms: iOS, tvOS.

Determine if the current device's operating system supports Apple authentication.

Returns: `Promise<boolean>`

A promise that fulfills with `true` if the system supports Apple authentication, and `false` otherwise.

### `AppleAuthentication.refreshAsync(options)`

Supported platforms: iOS, tvOS.

| Parameter | Type                                                                    | Description                                                                         |
| --------- | ----------------------------------------------------------------------- | ----------------------------------------------------------------------------------- |
| `options` | [AppleAuthenticationRefreshOptions](#appleauthenticationrefreshoptions) | An [`AppleAuthenticationRefreshOptions`](#appleauthenticationrefreshoptions) object |

An operation that refreshes the logged-in userâ€™s credentials. Calling this method will show the sign in modal before actually refreshing the user credentials.

Returns: `Promise<appleauthenticationcredential>`

A promise that fulfills with an [`AppleAuthenticationCredential`](#appleauthenticationcredential) object after a successful authentication, and rejects with `ERR_REQUEST_CANCELED` if the user cancels the refresh operation.

### `AppleAuthentication.signInAsync(options)`

Supported platforms: iOS, tvOS.

| Parameter           | Type                                                                  | Description                                                                                |
| ------------------- | --------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ |
| `options`(optional) | [AppleAuthenticationSignInOptions](#appleauthenticationsigninoptions) | An optional [`AppleAuthenticationSignInOptions`](#appleauthenticationsigninoptions) object |

Sends a request to the operating system to initiate the Apple authentication flow, which will present a modal to the user over your app and allow them to sign in.

You can request access to the user's full name and email address in this method, which allows you to personalize your UI for signed in users. However, users can deny access to either or both of these options at runtime.

Additionally, you will only receive Apple Authentication Credentials the first time users sign into your app, so you must store it for later use. It's best to store this information either server-side, or using [SecureStore](/versions/latest/sdk/securestore), so that the data persists across app installs. You can use [`AppleAuthenticationCredential.user`](#appleauthenticationcredential) to identify the user, since this remains the same for apps released by the same developer.

Returns: `Promise<appleauthenticationcredential>`

A promise that fulfills with an [`AppleAuthenticationCredential`](#appleauthenticationcredential) object after a successful authentication, and rejects with `ERR_REQUEST_CANCELED` if the user cancels the sign-in operation.

### `AppleAuthentication.signOutAsync(options)`

Supported platforms: iOS, tvOS.

| Parameter | Type                                                                    | Description                                                                         |
| --------- | ----------------------------------------------------------------------- | ----------------------------------------------------------------------------------- |
| `options` | [AppleAuthenticationSignOutOptions](#appleauthenticationsignoutoptions) | An [`AppleAuthenticationSignOutOptions`](#appleauthenticationsignoutoptions) object |

An operation that ends the authenticated session. Calling this method will show the sign in modal before actually signing the user out.

It is not recommended to use this method to sign out the user as it works counterintuitively. Instead of using this method it is recommended to simply clear all the user's data collected from using [`signInAsync`](#appleauthenticationsigninasyncoptions) or [`refreshAsync`](#appleauthenticationrefreshasyncoptions) methods.

Returns: `Promise<appleauthenticationcredential>`

A promise that fulfills with an [`AppleAuthenticationCredential`](#appleauthenticationcredential) object after a successful authentication, and rejects with `ERR_REQUEST_CANCELED` if the user cancels the sign-out operation.

## Event Subscriptions

### `AppleAuthentication.addRevokeListener(listener)`

Supported platforms: iOS, tvOS.

| Parameter  | Type         |
| ---------- | ------------ |
| `listener` | `() => void` |

Returns: `EventSubscription`

## Interfaces

### `Subscription`

Supported platforms: iOS, tvOS.

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Supported platforms: iOS, tvOS.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

## Types

### `AppleAuthenticationCredential`

Supported platforms: iOS, tvOS.

The object type returned from a successful call to [`AppleAuthentication.signInAsync()`](#appleauthenticationsigninasyncoptions), [`AppleAuthentication.refreshAsync()`](#appleauthenticationrefreshasyncoptions), or [`AppleAuthentication.signOutAsync()`](#appleauthenticationsignoutasyncoptions) which contains all of the pertinent user and credential information.

> **See:** [Apple Documentation](https://developer.apple.com/documentation/authenticationservices/asauthorizationappleidcredential) for more details.

| Property          | Type                                                                              | Description                                                                                                                                                                                                                                                                                            |
| ----------------- | --------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| authorizationCode | `string                                                                           | null`                                                                                                                                                                                                                                                                                                  | A short-lived session token used by your app for proof of authorization when interacting with the app's server counterpart. Unlike `user`, this is ephemeral and will change each session.                                                                                                                   |
| email             | `string                                                                           | null`                                                                                                                                                                                                                                                                                                  | The user's email address. Might not be present if you didn't request the `EMAIL` scope. May also be null if this is not the first time the user has signed into your app. If the user chose to withhold their email address, this field will instead contain an obscured email address with an Apple domain. |
| fullName          | [AppleAuthenticationFullName](#appleauthenticationfullname)                       | null                                                                                                                                                                                                                                                                                                   | The user's name. May be `null` or contain `null` values if you didn't request the `FULL_NAME` scope, if the user denied access, or if this is not the first time the user has signed into your app.                                                                                                          |
| identityToken     | `string                                                                           | null`                                                                                                                                                                                                                                                                                                  | A JSON Web Token (JWT) that securely communicates information about the user to your app.                                                                                                                                                                                                                    |
| realUserStatus    | [AppleAuthenticationUserDetectionStatus](#appleauthenticationuserdetectionstatus) | A value that indicates whether the user appears to the system to be a real person.                                                                                                                                                                                                                     |
| state             | `string                                                                           | null`                                                                                                                                                                                                                                                                                                  | An arbitrary string that your app provided as `state` in the request that generated the credential. Used to verify that the response was from the request you made. Can be used to avoid replay attacks. If you did not provide `state` when making the sign-in request, this field will be `null`.          |
| user              | `string`                                                                          | An identifier associated with the authenticated user. You can use this to check if the user is still authenticated later. This is stable and can be shared across apps released under the same development team. The same user will have a different identifier for apps released by other developers. |

### `AppleAuthenticationFullName`

Supported platforms: iOS, tvOS.

An object representing the tokenized portions of the user's full name. Any of all of the fields may be `null`. Only applicable fields that the user has allowed your app to access will be nonnull.

| Property   | Type    | Description |
| ---------- | ------- | ----------- | --- |
| familyName | `string | null`       | -   |
| givenName  | `string | null`       | -   |
| middleName | `string | null`       | -   |
| namePrefix | `string | null`       | -   |
| nameSuffix | `string | null`       | -   |
| nickname   | `string | null`       | -   |

### `AppleAuthenticationFullNameFormatStyle`

Supported platforms: iOS, tvOS.

Literal Type: `string`

A value to specify the style for formatting a name.

> **See:** [Apple Documentation](https://developer.apple.com/documentation/foundation/personnamecomponentsformatter) for more details.

Acceptable values are: `'default'` | `'short'` | `'medium'` | `'long'` | `'abbreviated'`

### `AppleAuthenticationRefreshOptions`

Supported platforms: iOS, tvOS.

The options you can supply when making a call to [`AppleAuthentication.refreshAsync()`](#appleauthenticationrefreshasyncoptions). You must include the ID string of the user whose credentials you'd like to refresh.

> **See:** [Apple Documentation](https://developer.apple.com/documentation/authenticationservices/asauthorizationopenidrequest) for more details.

| Property                  | Type                                                    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ------------------------- | ------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| requestedScopes(optional) | [AppleAuthenticationScope[]](#appleauthenticationscope) | Array of user information scopes to which your app is requesting access. Note that the user can choose to deny your app access to any scope at the time of logging in. You will still need to handle `null` values for any scopes you request. Additionally, note that the requested scopes will only be provided to you the first time each user signs into your app; in subsequent requests they will be `null`. Defaults to `[]` (no scopes). |
| state(optional)           | `string`                                                | An arbitrary string that is returned unmodified in the corresponding credential after a successful authentication. This can be used to verify that the response was from the request you made and avoid replay attacks. More information on this property is available in the OAuth 2.0 protocol [RFC6749](https://tools.ietf.org/html/rfc6749#section-10.12).                                                                                   |
| user                      | `string`                                                | -                                                                                                                                                                                                                                                                                                                                                                                                                                                |

### `AppleAuthenticationSignInOptions`

Supported platforms: iOS, tvOS.

The options you can supply when making a call to [`AppleAuthentication.signInAsync()`](#appleauthenticationsigninasyncoptions). None of these options are required.

> **See:** [Apple Documentation](https://developer.apple.com/documentation/authenticationservices/asauthorizationopenidrequest) for more details.

| Property                  | Type                                                    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ------------------------- | ------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| nonce(optional)           | `string`                                                | An arbitrary string that is used to prevent replay attacks. See more information on this in the [OpenID Connect specification](https://openid.net/specs/openid-connect-core-1_0.html#CodeFlowSteps).                                                                                                                                                                                                                                             |
| requestedScopes(optional) | [AppleAuthenticationScope[]](#appleauthenticationscope) | Array of user information scopes to which your app is requesting access. Note that the user can choose to deny your app access to any scope at the time of logging in. You will still need to handle `null` values for any scopes you request. Additionally, note that the requested scopes will only be provided to you the first time each user signs into your app; in subsequent requests they will be `null`. Defaults to `[]` (no scopes). |
| state(optional)           | `string`                                                | An arbitrary string that is returned unmodified in the corresponding credential after a successful authentication. This can be used to verify that the response was from the request you made and avoid replay attacks. More information on this property is available in the OAuth 2.0 protocol [RFC6749](https://tools.ietf.org/html/rfc6749#section-10.12).                                                                                   |

### `AppleAuthenticationSignOutOptions`

Supported platforms: iOS, tvOS.

The options you can supply when making a call to [`AppleAuthentication.signOutAsync()`](#appleauthenticationsignoutasyncoptions). You must include the ID string of the user to sign out.

> **See:** [Apple Documentation](https://developer.apple.com/documentation/authenticationservices/asauthorizationopenidrequest) for more details.

| Property        | Type     | Description                                                                                                                                                                                                                                                                                                                                                    |
| --------------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| state(optional) | `string` | An arbitrary string that is returned unmodified in the corresponding credential after a successful authentication. This can be used to verify that the response was from the request you made and avoid replay attacks. More information on this property is available in the OAuth 2.0 protocol [RFC6749](https://tools.ietf.org/html/rfc6749#section-10.12). |
| user            | `string` | -                                                                                                                                                                                                                                                                                                                                                              |

## Enums

### `AppleAuthenticationButtonStyle`

Supported platforms: iOS, tvOS.

An enum whose values control which pre-defined color scheme to use when rendering an [`AppleAuthenticationButton`](#appleauthenticationbutton).

#### `WHITE`

`AppleAuthenticationButtonStyle.WHITE = 0`

White button with black text.

#### `WHITE_OUTLINE`

`AppleAuthenticationButtonStyle.WHITE_OUTLINE = 1`

White button with a black outline and black text.

#### `BLACK`

`AppleAuthenticationButtonStyle.BLACK = 2`

Black button with white text.

### `AppleAuthenticationButtonType`

Supported platforms: iOS, tvOS.

An enum whose values control which pre-defined text to use when rendering an [`AppleAuthenticationButton`](#appleauthenticationbutton).

#### `SIGN_IN`

`AppleAuthenticationButtonType.SIGN_IN = 0`

"Sign in with Apple"

#### `CONTINUE`

`AppleAuthenticationButtonType.CONTINUE = 1`

"Continue with Apple"

#### `SIGN_UP`

Supported platforms: iOS 13.2+.

`AppleAuthenticationButtonType.SIGN_UP = 2`

"Sign up with Apple"

### `AppleAuthenticationCredentialState`

Supported platforms: iOS, tvOS.

An enum whose values specify state of the credential when checked with [`AppleAuthentication.getCredentialStateAsync()`](#appleauthenticationgetcredentialstateasyncuser).

> **See:** [Apple Documentation](https://developer.apple.com/documentation/authenticationservices/asauthorizationappleidprovidercredentialstate) for more details.

#### `REVOKED`

`AppleAuthenticationCredentialState.REVOKED = 0`

#### `AUTHORIZED`

`AppleAuthenticationCredentialState.AUTHORIZED = 1`

#### `NOT_FOUND`

`AppleAuthenticationCredentialState.NOT_FOUND = 2`

#### `TRANSFERRED`

`AppleAuthenticationCredentialState.TRANSFERRED = 3`

### `AppleAuthenticationOperation`

Supported platforms: iOS, tvOS.

#### `IMPLICIT`

`AppleAuthenticationOperation.IMPLICIT = 0`

An operation that depends on the particular kind of credential provider.

#### `LOGIN`

`AppleAuthenticationOperation.LOGIN = 1`

#### `REFRESH`

`AppleAuthenticationOperation.REFRESH = 2`

#### `LOGOUT`

`AppleAuthenticationOperation.LOGOUT = 3`

### `AppleAuthenticationScope`

Supported platforms: iOS, tvOS.

An enum whose values specify scopes you can request when calling [`AppleAuthentication.signInAsync()`](#appleauthenticationsigninasyncoptions).

> Note that it is possible that you will not be granted all of the scopes which you request. You will still need to handle null values for any fields you request.

> **See:** [Apple Documentation](https://developer.apple.com/documentation/authenticationservices/asauthorizationscope) for more details.

#### `FULL_NAME`

`AppleAuthenticationScope.FULL_NAME = 0`

#### `EMAIL`

`AppleAuthenticationScope.EMAIL = 1`

### `AppleAuthenticationUserDetectionStatus`

Supported platforms: iOS, tvOS.

An enum whose values specify the system's best guess for how likely the current user is a real person.

> **See:** [Apple Documentation](https://developer.apple.com/documentation/authenticationservices/asuserdetectionstatus) for more details.

#### `UNSUPPORTED`

`AppleAuthenticationUserDetectionStatus.UNSUPPORTED = 0`

The system does not support this determination and there is no data.

#### `UNKNOWN`

`AppleAuthenticationUserDetectionStatus.UNKNOWN = 1`

The system has not determined whether the user might be a real person.

#### `LIKELY_REAL`

`AppleAuthenticationUserDetectionStatus.LIKELY_REAL = 2`

The user appears to be a real person.

## Error codes

Most of the error codes match the official [Apple Authorization errors](https://developer.apple.com/documentation/authenticationservices/asauthorizationerror/code).

| Code                        | Description                                                                                                                |
| --------------------------- | -------------------------------------------------------------------------------------------------------------------------- |
| ERR_INVALID_OPERATION       | An invalid authorization operation has been performed.                                                                     |
| ERR_INVALID_RESPONSE        | The authorization request received an invalid response.                                                                    |
| ERR_INVALID_SCOPE           | An invalid [`AppleAuthenticationScope`](/versions/latest/sdk/apple-authentication#appleauthenticationscope) was passed in. |
| ERR_REQUEST_CANCELED        | The user canceled the authorization attempt.                                                                               |
| ERR_REQUEST_FAILED          | The authorization attempt failed. See the error message for additional information.                                        |
| ERR_REQUEST_NOT_HANDLED     | The authorization request wasn't correctly handled.                                                                        |
| ERR_REQUEST_NOT_INTERACTIVE | The authorization request isn't interactive.                                                                               |
| ERR_REQUEST_UNKNOWN         | The authorization attempt failed for an unknown reason.                                                                    |

---

---

title: Application
description: A universal library that provides information about the native application's ID, app name, and build version at runtime.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-application'
packageName: 'expo-application'
platforms: ['android', 'ios', 'web', 'tvos', 'expo-go']

---

# Expo Application

A universal library that provides information about the native application's ID, app name, and build version at runtime.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-application` provides useful information about the native application's ID, app name, and build version at runtime.

## Installation

```sh
npx expo install expo-application
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## API

```js
import * as Application from "expo-application";
```

## Constants

### `Application.applicationId`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string | null`

The ID of the application. On Android, this is the application ID. On iOS, this is the bundle ID. On web, this is `null`.

Example

`"com.cocoacasts.scribbles"`, `"com.apple.Pages"`

### `Application.applicationName`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string | null`

The human-readable name of the application that is displayed with the app's icon on the device's home screen or desktop. On Android and iOS, this value is a `string` unless the name could not be retrieved, in which case this value will be `null`. On web this value is `null`.

Example

`"Expo"`, `"Yelp"`, `"Instagram"`

### `Application.nativeApplicationVersion`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string | null`

The human-readable version of the native application that may be displayed in the app store. At time when native app is built, on Android, this is the version name set by `version` in app config, and on iOS, the `Info.plist` value for `CFBundleShortVersionString`. On web, this value is `null`.

Example

`"2.11.0"`

### `Application.nativeBuildVersion`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string | null`

The internal build version of the native application that the app stores may use to distinguish between different binaries. At the time when native app is built, On Android, this is the version code set by `android.versionCode` in app config, and on iOS, the `Info.plist` value for `CFBundleVersion` (set with `ios.buildNumber` value in app config in a standalone app). On web, this value is `null`. The return type on Android and iOS is `string`.

Example

`"114"`

## Methods

### `Application.getAndroidId()`

Supported platforms: Android.

Gets the value of [`Settings.Secure.ANDROID_ID`](https://developer.android.com/reference/android/provider/Settings.Secure.html#ANDROID_ID). This is a hexadecimal `string` unique to each combination of app-signing key, user, and device. The value may change if a factory reset is performed on the device or if an APK signing key changes. For more information about how the platform handles `ANDROID_ID` in Android 8.0 (API level 26) and higher, see [Android 8.0 Behavior Changes](https://developer.android.com/about/versions/oreo/android-8.0-changes.html#privacy-all). On iOS and web, this function is unavailable.

> In versions of the platform lower than Android 8.0 (API level 26), this value remains constant for the lifetime of the user's device. See the [ANDROID_ID](https://developer.android.com/reference/android/provider/Settings.Secure.html#ANDROID_ID) official docs for more information.

Returns: `string`

Example

```ts
Application.getAndroidId();
// "dd96dec43fb81c97"
```

### `Application.getInstallationTimeAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Gets the time the app was installed onto the device, not counting subsequent updates. If the app is uninstalled and reinstalled, this method returns the time the app was reinstalled.

- On Android, this method uses [`PackageInfo.firstInstallTime`](https://developer.android.com/reference/android/content/pm/PackageInfo.html#firstInstallTime).
- On iOS, this method uses the [`NSFileCreationDate`](https://developer.apple.com/documentation/foundation/nsfilecreationdate?language=objc) of the app's document root directory.
- On web, this method returns `null`.

Returns: `Promise<date>`

A `Promise` that fulfills with a `Date` object that specifies the time the app was installed on the device.

Example

```ts
await Application.getInstallationTimeAsync();
// 2019-07-18T18:08:26.121Z
```

### `Application.getInstallReferrerAsync()`

Supported platforms: Android.

Gets the referrer URL of the installed app with the [`Install Referrer API`](https://developer.android.com/google/play/installreferrer) from the Google Play Store. In practice, the referrer URL may not be a complete, absolute URL.

Returns: `Promise<string>`

A `Promise` that fulfills with a `string` of the referrer URL of the installed app.

Example

```ts
await Application.getInstallReferrerAsync();
// "utm_source=google-play&utm_medium=organic"
```

### `Application.getIosApplicationReleaseTypeAsync()`

Supported platforms: iOS.

Gets the iOS application release type.

Returns: `Promise<applicationreleasetype>`

A `Promise` which fulfills with an [`ApplicationReleaseType`](#applicationreleasetype).

### `Application.getIosIdForVendorAsync()`

Supported platforms: iOS.

Gets the iOS "identifier for vendor" ([IDFV](https://developer.apple.com/documentation/uikit/uidevice/1620059-identifierforvendor)) value, a string ID that uniquely identifies a device to the appâ€™s vendor. This method may sometimes return `nil`, in which case wait and call the method again later. This might happen when the device has been restarted before the user has unlocked the device.

The OS will change the vendor identifier if all apps from the current app's vendor have been uninstalled.

Returns: `Promise<string>`

A `Promise` that fulfills with a `string` specifying the app's vendor ID. Apps from the same vendor will return the same ID. See Apple's documentation for more information about the vendor ID's semantics.

Example

```ts
await Application.getIosIdForVendorAsync();
// "68753A44-4D6F-1226-9C60-0050E4C00067"
```

### `Application.getIosPushNotificationServiceEnvironmentAsync()`

Supported platforms: iOS.

Gets the current [Apple Push Notification (APN)](https://developer.apple.com/documentation/bundleresources/entitlements/aps-environment?language=objc) service environment.

Returns: `Promise<pushnotificationserviceenvironment>`

A `Promise` that fulfills with the string, either `'development'` or `'production'`, based on the current APN environment, or `null` on the simulator as it does not support registering with APNs.

### `Application.getLastUpdateTimeAsync()`

Supported platforms: Android.

Gets the last time the app was updated from the Google Play Store.

Returns: `Promise<date>`

A `Promise` that fulfills with a `Date` object that specifies the last time the app was updated via the Google Play Store.

Example

```ts
await Application.getLastUpdateTimeAsync();
// 2019-07-18T21:20:16.887Z
```

## Types

### `PushNotificationServiceEnvironment`

Supported platforms: iOS.

Literal Type: `union`

Maps to the [`aps-environment`](https://developer.apple.com/documentation/bundleresources/entitlements/aps-environment) key in the native target's registered entitlements.

Acceptable values are: `'development'` | `'production'` | `null`

## Enums

### `ApplicationReleaseType`

Supported platforms: iOS.

#### `UNKNOWN`

`ApplicationReleaseType.UNKNOWN = 0`

#### `SIMULATOR`

`ApplicationReleaseType.SIMULATOR = 1`

#### `ENTERPRISE`

`ApplicationReleaseType.ENTERPRISE = 2`

#### `DEVELOPMENT`

`ApplicationReleaseType.DEVELOPMENT = 3`

#### `AD_HOC`

`ApplicationReleaseType.AD_HOC = 4`

#### `APP_STORE`

`ApplicationReleaseType.APP_STORE = 5`

## Error codes

| Code                                                    | Description                                                                                                                                                                                                                                                                                                                                                                                                    |
| ------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `ERR_APPLICATION_PACKAGE_NAME_NOT_FOUND`                | Error code thrown by `getInstallationTimeAsync` and `getLastUpdateTimeAsync`. This may be thrown if the package information or package name could not be retrieved.                                                                                                                                                                                                                                            |
| `ERR_APPLICATION_INSTALL_REFERRER_UNAVAILABLE`          | The current Play Store app doesn't provide the installation referrer API, or the Play Store may not be installed. This error code may come up when testing on an AVD that doesn't come with the Play Store pre-installed, such as the Google Pixel 3 and Nexus 6.                                                                                                                                              |
| `ERR_APPLICATION_INSTALL_REFERRER_CONNECTION`           | A connection could not be established to the Google Play Store.                                                                                                                                                                                                                                                                                                                                                |
| `ERR_APPLICATION_INSTALL_REFERRER_REMOTE_EXCEPTION`     | A `RemoteException` was thrown after a connection was established to the Play Store. This may happen if the process hosting the remote object is no longer available, which usually means the process crashed. See [this StackOverflow answer on `RemoteException`](https://stackoverflow.com/questions/3156389/android-remoteexceptions-and-services) for more information.                                   |
| `ERR_APPLICATION_INSTALL_REFERRER`                      | General default case error code for the `getInstallReferrerAsync` method. This error code will be thrown if an exception occurred when getting the install referrer, but the exception was none of the more precise errors. The [`responseCode`](https://developer.android.com/reference/com/android/installreferrer/api/InstallReferrerClient.InstallReferrerResponse.html) is provided along with the error. |
| `ERR_APPLICATION_INSTALL_REFERRER_SERVICE_DISCONNECTED` | Connection to the install referrer service was lost. This error is thrown when an attempt was made to connect and set up the install referrer service, but the connection was lost. See the [Android documentation](https://developer.android.com/reference/com/android/installreferrer/api/InstallReferrerStateListener) for more information.                                                                |

---

---

title: Asset
description: A universal library that allows downloading assets and using them with other libraries.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-asset'
packageName: 'expo-asset'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo Asset

A universal library that allows downloading assets and using them with other libraries.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-asset` provides an interface to Expo's asset system. An asset is any file that lives alongside the source code of your app that the app needs at runtime. Examples include images, fonts, and sounds. Expo's asset system integrates with React Native's, so that you can refer to files with `require('path/to/file')`. This is how you refer to static image files in React Native for use in an `Image` component, for example. Check out React Native's [documentation on static image resources](https://reactnative.dev/docs/images#static-image-resources) for more information. This method of referring to static image resources works out of the box with Expo.

## Installation

```sh
npx expo install expo-asset
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-asset` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-asset",
        {
          "assets": ["path/to/file.png", "path/to/directory"]
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name     | Default | Description                                                                                                                                                                                                                                           |
| -------- | ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `assets` | `[]`    | An array of asset files or directories to link to the native project. The paths should be relative to the project root so that the file names, whether specified directly or using a directory, will become the resource names. Supported file types: |

- Images: `.png`, `.jpg`, `.gif`
- Media: `.mp4`, `.mp3`, `.lottie`, `.riv`
- SQLite database files: `.db`

Note: To import an existing database file (.db), see instructions in SQLite API reference. For other file types (such as .lottie or .riv), see how to add a file extension to assetExts in metro config. |

### Usage

Learn more about how to use the `expo-asset` config plugin to embed an asset file in your project in [Load an asset at build time](/develop/user-interface/assets#load-an-asset-at-build-time).

## API

```js
import { Asset } from "expo-asset";
```

## Hooks

### `useAssets(moduleIds)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter   | Type    |
| ----------- | ------- | --------- |
| `moduleIds` | `number | number[]` |

Downloads and stores one or more assets locally. After the assets are loaded, this hook returns a list of asset instances. If something went wrong when loading the assets, an error is returned.

> Note, the assets are not "reloaded" when you dynamically change the asset list.

Returns: `[Asset[] | undefined, Error | undefined]`

Returns an array containing:

- on the first position, a list of all loaded assets. If they aren't loaded yet, this value is `undefined`.
- on the second position, an error which encountered when loading the assets. If there was no error, this value is `undefined`.

Example

```tsx
const [assets, error] = useAssets([
  require("path/to/asset.jpg"),
  require("path/to/other.png"),
]);

return assets ? <Image source={assets[0]} /> : null;
```

## Classes

### `Asset`

Supported platforms: Android, iOS, tvOS, Web.

The `Asset` class represents an asset in your app. It gives metadata about the asset (such as its name and type) and provides facilities to load the asset data.

Asset Properties

### `downloaded`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Whether the asset has finished downloading from a call to [`downloadAsync()`](#downloadasync).

### `hash`

Supported platforms: Android, iOS, tvOS, Web.

Read Onlyâ€ƒâ€¢â€ƒLiteral type: `union`â€ƒâ€¢â€ƒDefault: `null`

The MD5 hash of the asset's data.

Acceptable values are: `null` | `string`

### `height`

Supported platforms: Android, iOS, tvOS, Web.

Literal type: `union`â€ƒâ€¢â€ƒDefault: `null`

If the asset is an image, the height of the image data divided by the scale factor. The scale factor is the number after `@` in the filename, or `1` if not present.

Acceptable values are: `null` | `number`

### `localUri`

Supported platforms: Android, iOS, tvOS, Web.

Literal type: `union`â€ƒâ€¢â€ƒDefault: `null`

If the asset has been downloaded (by calling [`downloadAsync()`](#downloadasync)), the `file://` URI pointing to the local file on the device that contains the asset data.

Acceptable values are: `null` | `string`

### `name`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string`

The name of the asset file without the extension. Also without the part from `@` onward in the filename (used to specify scale factor for images).

### `type`

Supported platforms: Android, iOS, tvOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: `string`

The extension of the asset filename.

### `uri`

Supported platforms: Android, iOS, tvOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: `string`

A URI that points to the asset's data on the remote server. When running the published version of your app, this refers to the location on Expo's asset server where Expo has stored your asset. When running the app from Expo CLI during development, this URI points to Expo CLI's server running on your computer and the asset is served directly from your computer. If you are not using Classic Updates (legacy), this field should be ignored as we ensure your assets are on device before running your application logic.

### `width`

Supported platforms: Android, iOS, tvOS, Web.

Literal type: `union`â€ƒâ€¢â€ƒDefault: `null`

If the asset is an image, the width of the image data divided by the scale factor. The scale factor is the number after `@` in the filename, or `1` if not present.

Acceptable values are: `null` | `number`

Asset Methods

### `downloadAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Downloads the asset data to a local file in the device's cache directory. Once the returned promise is fulfilled without error, the [`localUri`](#localuri) field of this asset points to a local file containing the asset data. The asset is only downloaded if an up-to-date local file for the asset isn't already present due to an earlier download. The downloaded `Asset` will be returned when the promise is resolved.

> **Note:** There is no guarantee that files downloaded via `downloadAsync` persist between app sessions. `downloadAsync` stores files in the caches directory, so it's up to the OS to clear this folder at its own discretion or when the user manually purges the caches directory. Downloaded assets are stored as `ExponentAsset-{cacheFileId}.{extension}` within the cache directory. To manually clear cached assets, you can use [`expo-file-system`](/versions/latest/sdk/filesystem) to delete the cache directory: `Paths.cache.delete()` or use the legacy API `deleteAsync(cacheDirectory)`.

Returns: `Promise<asset>`

Returns a Promise which fulfills with an `Asset` instance.

### `fromMetadata(meta)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type                            |
| --------- | ------------------------------- |
| `meta`    | [AssetMetadata](#assetmetadata) |

Returns: `Asset`

### `fromModule(virtualAssetModule)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter            | Type    | Description |
| -------------------- | ------- | ----------- | ----------------------------------------------- | ---------------------------------------------------------------------------- |
| `virtualAssetModule` | `string | number      | { height: number, uri: string, width: number }` | The value of `require('path/to/file')` for the asset or external network URL |

Returns the [`Asset`](#asset) instance representing an asset given its module or URL.

Returns: `Asset`

The [`Asset`](#asset) instance for the asset.

### `fromURI(uri)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type     |
| --------- | -------- |
| `uri`     | `string` |

Returns: `Asset`

### `loadAsync(moduleId)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter  | Type    | Description |
| ---------- | ------- | ----------- | -------- | --------- | -------------------------------------------------------------------------------------------------------------------- |
| `moduleId` | `string | number      | number[] | string[]` | An array of `require('path/to/file')` or external network URLs. Can also be just one module or URL without an Array. |

A helper that wraps `Asset.fromModule(module).downloadAsync` for convenience.

Returns: `Promise<asset[]>`

Returns a Promise that fulfills with an array of `Asset`s when the asset(s) has been saved to disk.

Example

```ts
const [{ localUri }] = await Asset.loadAsync(
  require("./assets/snack-icon.png"),
);
```

## Types

### `AssetDescriptor`

Supported platforms: Android, iOS, tvOS, Web.

| Property         | Type     | Description |
| ---------------- | -------- | ----------- | --- |
| hash(optional)   | `string  | null`       | -   |
| height(optional) | `number  | null`       | -   |
| name             | `string` | -           |
| type             | `string` | -           |
| uri              | `string` | -           |
| width(optional)  | `number  | null`       | -   |

### `AssetMetadata`

Supported platforms: Android, iOS, tvOS, Web.

Type: [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<[PackagerAsset](https://github.com/facebook/react-native/blob/main/packages/assets/registry.js), 'httpServerLocation' | 'name' | 'hash' | 'type' | 'scales' | 'width' | 'height'\> extended by:

| Property             | Type       | Description |
| -------------------- | ---------- | ----------- |
| fileHashes(optional) | `string[]` | -           |
| fileUris(optional)   | `string[]` | -           |
| uri(optional)        | `string`   | -           |

---

---

title: '@react-native-async-storage/async-storage'
description: A library that provides an asynchronous, unencrypted, persistent, key-value storage API.
sourceCodeUrl: 'https://github.com/react-native-async-storage/async-storage'
packageName: '@react-native-async-storage/async-storage'
platforms: ['android', 'ios', 'tvos', 'macos', 'web', 'expo-go']
inExpoGo: true

---

# @react-native-async-storage/async-storage

A library that provides an asynchronous, unencrypted, persistent, key-value storage API.
Android, iOS, macOS, tvOS, Web, Included in Expo Go

Async Storage is asynchronous, unencrypted, persistent, key-value storage solution.

## Installation

```sh
npx expo install @react-native-async-storage/async-storage
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://react-native-async-storage.github.io/async-storage/docs/install#android--ios) provided in the library's README or documentation.

## Learn more

[Visit official documentation](https://react-native-async-storage.github.io/async-storage/docs/usage) â€” Get full information on API and its usage.

---

---

title: Audio (expo-av)
description: A library that provides an API to implement audio playback and recording in apps.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-av'
packageName: 'expo-av'
iconUrl: '/static/images/packages/expo-av.png'
platforms: ['android', 'ios', 'tvos', 'web']
isDeprecated: true

---

# Expo Audio (expo-av)

A library that provides an API to implement audio playback and recording in apps.
Android, iOS, tvOS, Web

> **Deprecated:** The `Audio` component from `expo-av`, which is documented on this page, has now been deprecated and replaced by an improved version in `expo-audio`. [Learn about `expo-audio`](/versions/latest/sdk/audio).

`Audio` from `expo-av` allows you to implement audio playback and recording in your app.

Note that audio automatically stops if headphones/bluetooth audio devices are disconnected.

See the [playlist example app](https://github.com/expo/playlist-example) for an example on the media playback API, and the [recording example app](https://github.com/expo/audio-recording-example) for an example of the recording API.

## Installation

```sh
npx expo install expo-av
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

### Playing sounds

```jsx
import { View, StyleSheet, Button } from "react-native";
import { useEffect, useState } from "react";
import { Audio } from "expo-av";

export default function App() {
  const [sound, setSound] = useState();

  async function playSound() {
    console.log("Loading Sound");
    const { sound } = await Audio.Sound.createAsync(
      require("./assets/Hello.mp3"),
    );
    setSound(sound);

    console.log("Playing Sound");
    await sound.playAsync();
  }

  useEffect(() => {
    return sound
      ? () => {
          console.log("Unloading Sound");
          sound.unloadAsync();
        }
      : undefined;
  }, [sound]);

  return (
    <View style={styles.container}>
      <Button
        title="Play Sound"
        onPress={playSound}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    backgroundColor: "#ecf0f1",
    padding: 10,
  },
});
```

### Recording sounds

```jsx
import { View, StyleSheet, Button } from "react-native";
import { useState } from "react";
import { Audio } from "expo-av";

export default function App() {
  const [recording, setRecording] = useState();
  const [permissionResponse, requestPermission] = Audio.usePermissions();

  async function startRecording() {
    try {
      if (permissionResponse.status !== "granted") {
        console.log("Requesting permission..");
        await requestPermission();
      }
      await Audio.setAudioModeAsync({
        allowsRecordingIOS: true,
        playsInSilentModeIOS: true,
      });

      console.log("Starting recording..");
      const { recording } = await Audio.Recording.createAsync(
        Audio.RecordingOptionsPresets.HIGH_QUALITY,
      );
      setRecording(recording);
      console.log("Recording started");
    } catch (err) {
      console.error("Failed to start recording", err);
    }
  }

  async function stopRecording() {
    console.log("Stopping recording..");
    setRecording(undefined);
    await recording.stopAndUnloadAsync();
    await Audio.setAudioModeAsync({
      allowsRecordingIOS: false,
    });
    const uri = recording.getURI();
    console.log("Recording stopped and stored at", uri);
  }

  return (
    <View style={styles.container}>
      <Button
        title={recording ? "Stop Recording" : "Start Recording"}
        onPress={recording ? stopRecording : startRecording}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    backgroundColor: "#ecf0f1",
    padding: 10,
  },
});
```

### Playing or recording audio in backgroundâ€‚

On iOS, audio playback and recording in background is only available in standalone apps, and it requires some extra configuration. On iOS, each background feature requires a special key in `UIBackgroundModes` array in your **Info.plist** file. In standalone apps this array is empty by default, so to use background features you will need to add appropriate keys to your **app.json** configuration.

See an example of **app.json** that enables audio playback in background:

```json
{
  "expo": {
    ...
    "ios": {
      ...
      "infoPlist": {
        ...
        "UIBackgroundModes": [
          "audio"
        ]
      }
    }
  }
}
```

### Notes on web usage

- A MediaRecorder issue on Chrome produces WebM files missing the duration metadata. [See the open Chromium issue](https://bugs.chromium.org/p/chromium/issues/detail?id=642012).
- MediaRecorder encoding options and other configurations are inconsistent across browsers, utilizing a Polyfill such as [kbumsik/opus-media-recorder](https://github.com/kbumsik/opus-media-recorder) or [ai/audio-recorder-polyfill](https://github.com/ai/audio-recorder-polyfill) in your application will improve your experience. Any options passed to `prepareToRecordAsync` will be passed directly to the MediaRecorder API and as such the polyfill.
- Web browsers require sites to be served securely for them to listen to a mic. See [MediaDevices `getUserMedia()` security](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#security) for more details.

## API

```js
import { Audio } from "expo-av";
```

## Constants

### `Audio.RecordingOptionsPresets`

Supported platforms: Android, iOS, tvOS, Web.

Type: Record<string, [RecordingOptions](#recordingoptions)\>

Constant which contains definitions of the two preset examples of `RecordingOptions`, as implemented in the Audio SDK.

#### `HIGH_QUALITY`

```ts
RecordingOptionsPresets.HIGH_QUALITY = {
  isMeteringEnabled: true,
  android: {
    extension: ".m4a",
    outputFormat: AndroidOutputFormat.MPEG_4,
    audioEncoder: AndroidAudioEncoder.AAC,
    sampleRate: 44100,
    numberOfChannels: 2,
    bitRate: 128000,
  },
  ios: {
    extension: ".m4a",
    outputFormat: IOSOutputFormat.MPEG4AAC,
    audioQuality: IOSAudioQuality.MAX,
    sampleRate: 44100,
    numberOfChannels: 2,
    bitRate: 128000,
    linearPCMBitDepth: 16,
    linearPCMIsBigEndian: false,
    linearPCMIsFloat: false,
  },
  web: {
    mimeType: "audio/webm",
    bitsPerSecond: 128000,
  },
};
```

#### `LOW_QUALITY`

```ts
RecordingOptionsPresets.LOW_QUALITY = {
  isMeteringEnabled: true,
  android: {
    extension: ".3gp",
    outputFormat: AndroidOutputFormat.THREE_GPP,
    audioEncoder: AndroidAudioEncoder.AMR_NB,
    sampleRate: 44100,
    numberOfChannels: 2,
    bitRate: 128000,
  },
  ios: {
    extension: ".caf",
    audioQuality: IOSAudioQuality.MIN,
    sampleRate: 44100,
    numberOfChannels: 2,
    bitRate: 128000,
    linearPCMBitDepth: 16,
    linearPCMIsBigEndian: false,
    linearPCMIsFloat: false,
  },
  web: {
    mimeType: "audio/webm",
    bitsPerSecond: 128000,
  },
};
```

## Hooks

### `usePermissions(options)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter           | Type                            |
| ------------------- | ------------------------------- |
| `options`(optional) | `PermissionHookOptions<object>` |

Check or request permissions to record audio. This uses both `requestPermissionAsync` and `getPermissionsAsync` to interact with the permissions.

Returns: `[null | PermissionResponse, RequestPermissionMethod<permissionresponse>, GetPermissionMethod]</permissionresponse>`

Example

```ts
const [permissionResponse, requestPermission] = Audio.usePermissions();
```

## Classes

### `Recording`

Supported platforms: Android, iOS.

> **Warning**: Experimental for web.

This class represents an audio recording. After creating an instance of this class, `prepareToRecordAsync` must be called in order to record audio. Once recording is finished, call `stopAndUnloadAsync`. Note that only one recorder is allowed to exist in the state between `prepareToRecordAsync` and `stopAndUnloadAsync` at any given time.

Note that your experience must request audio recording permissions in order for recording to function. See the [`Permissions` module](/guides/permissions) for more details.

Additionally, audio recording is [not supported in the iOS Simulator](/workflow/ios-simulator#limitations).

Returns

A newly constructed instance of `Audio.Recording`.

Example

```ts
const recording = new Audio.Recording();
try {
  await recording.prepareToRecordAsync(
    Audio.RecordingOptionsPresets.HIGH_QUALITY,
  );
  await recording.startAsync();
  // You are now recording!
} catch (error) {
  // An error occurred!
}
```

Recording Methods

### `createAsync(options, onRecordingStatusUpdate, progressUpdateIntervalMillis)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                                | Type                                  | Description                                                                                                                                                                                                                                                                                                          |
| ---------------------------------------- | ------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------- |
| `options`(optional)                      | [RecordingOptions](#recordingoptions) | Options for the recording, including sample rate, bitrate, channels, format, encoder, and extension. If no options are passed to, the recorder will be created with options `Audio.RecordingOptionsPresets.LOW_QUALITY`. See below for details on `RecordingOptions`. Default: `RecordingOptionsPresets.LOW_QUALITY` |
| `onRecordingStatusUpdate`(optional)      | null                                  | (status: [RecordingStatus](#recordingstatus)) => void                                                                                                                                                                                                                                                                | A function taking a single parameter `status` (a dictionary, described in `getStatusAsync`). Default: `null`      |
| `progressUpdateIntervalMillis`(optional) | `null                                 | number`                                                                                                                                                                                                                                                                                                              | The interval between calls of `onRecordingStatusUpdate`. This value defaults to 500 milliseconds. Default: `null` |

Creates and starts a recording using the given options, with optional `onRecordingStatusUpdate` and `progressUpdateIntervalMillis`.

```ts
const { recording, status } = await Audio.Recording.createAsync(
  options,
  onRecordingStatusUpdate,
  progressUpdateIntervalMillis,
);

// Which is equivalent to the following:
const recording = new Audio.Recording();
await recording.prepareToRecordAsync(options);
recording.setOnRecordingStatusUpdate(onRecordingStatusUpdate);
await recording.startAsync();
```

Returns: `Promise<recordingobject>`

A `Promise` that is rejected if creation failed, or fulfilled with the following dictionary if creation succeeded.

Example

```ts
try {
  const { recording: recordingObject, status } =
    await Audio.Recording.createAsync(
      Audio.RecordingOptionsPresets.HIGH_QUALITY,
    );
  // You are now recording!
} catch (error) {
  // An error occurred!
}
```

> **Deprecated:** Use `createNewLoadedSoundAsync()` instead.

### `createNewLoadedSound(initialStatus, onPlaybackStatusUpdate)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                          | Type                                                                   |
| ---------------------------------- | ---------------------------------------------------------------------- | ------------------------------------------------------------------------------ |
| `initialStatus`(optional)          | [AVPlaybackStatusToSet](/versions/latest/sdk/av#avplaybackstatustoset) |
| `onPlaybackStatusUpdate`(optional) | null                                                                   | (status: [AVPlaybackStatus](/versions/latest/sdk/av#avplaybackstatus)) => void |

Returns: `Promise<soundobject>`

### `createNewLoadedSoundAsync(initialStatus, onPlaybackStatusUpdate)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                          | Type                                                                   | Description                                                                                                                                                                                                                                                                                                                     |
| ---------------------------------- | ---------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `initialStatus`(optional)          | [AVPlaybackStatusToSet](/versions/latest/sdk/av#avplaybackstatustoset) | The initial intended `PlaybackStatusToSet` of the sound, whose values will override the default initial playback status. This value defaults to `{}` if no parameter is passed. See the [AV documentation](/versions/latest/sdk/av) for details on `PlaybackStatusToSet` and the default initial playback status. Default: `{}` |
| `onPlaybackStatusUpdate`(optional) | null                                                                   | (status: [AVPlaybackStatus](/versions/latest/sdk/av#avplaybackstatus)) => void                                                                                                                                                                                                                                                  | A function taking a single parameter `PlaybackStatus`. This value defaults to `null` if no parameter is passed. See the [AV documentation](/versions/latest/sdk/av) for details on the functionality provided by `onPlaybackStatusUpdate`. Default: `null` |

Creates and loads a new `Sound` object to play back the `Recording`. Note that this will only succeed once the `Recording` is done recording and `stopAndUnloadAsync()` has been called.

Returns: `Promise<soundobject>`

A `Promise` that is rejected if creation failed, or fulfilled with the `SoundObject`.

### `getAvailableInputs()`

Supported platforms: Android, iOS, tvOS, Web.

Returns a list of available recording inputs. This method can only be called if the `Recording` has been prepared.

Returns: `Promise<recordinginput[]>`

A `Promise` that is fulfilled with an array of `RecordingInput` objects.

### `getCurrentInput()`

Supported platforms: Android, iOS, tvOS, Web.

Returns the currently-selected recording input. This method can only be called if the `Recording` has been prepared.

Returns: `Promise<recordinginput>`

A `Promise` that is fulfilled with a `RecordingInput` object.

### `getStatusAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Gets the `status` of the `Recording`.

Returns: `Promise<recordingstatus>`

A `Promise` that is resolved with the `RecordingStatus` object.

### `getURI()`

Supported platforms: Android, iOS, tvOS, Web.

Gets the local URI of the `Recording`. Note that this will only succeed once the `Recording` is prepared to record. On web, this will not return the URI until the recording is finished.

Returns: `null | string`

A `string` with the local URI of the `Recording`, or `null` if the `Recording` is not prepared to record (or, on Web, if the recording has not finished).

### `pauseAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Pauses recording. This method can only be called if the `Recording` has been prepared.

> This is only available on Android API version 24 and later.

Returns: `Promise<recordingstatus>`

A `Promise` that is fulfilled when recording has paused, or rejects if recording could not be paused. If the Android API version is less than 24, the `Promise` will reject. The promise is resolved with the `RecordingStatus` of the recording.

### `prepareToRecordAsync(options)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter           | Type                                  | Description                                                                                                                                                                                                                                                                                                 |
| ------------------- | ------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `options`(optional) | [RecordingOptions](#recordingoptions) | `RecordingOptions` for the recording, including sample rate, bitrate, channels, format, encoder, and extension. If no options are passed to `prepareToRecordAsync()`, the recorder will be created with options `Audio.RecordingOptionsPresets.LOW_QUALITY`. Default: `RecordingOptionsPresets.LOW_QUALITY` |

Loads the recorder into memory and prepares it for recording. This must be called before calling `startAsync()`. This method can only be called if the `Recording` instance has never yet been prepared.

Returns: `Promise<recordingstatus>`

A `Promise` that is fulfilled when the recorder is loaded and prepared, or rejects if this failed. If another `Recording` exists in your experience that is currently prepared to record, the `Promise` will reject. If the `RecordingOptions` provided are invalid, the `Promise` will also reject. The promise is resolved with the `RecordingStatus` of the recording.

### `setInput(inputUid)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter  | Type     | Description                    |
| ---------- | -------- | ------------------------------ |
| `inputUid` | `string` | The uid of a `RecordingInput`. |

Sets the current recording input.

Returns: `Promise<void>`

A `Promise` that is resolved if successful or rejected if not.

### `setOnRecordingStatusUpdate(onRecordingStatusUpdate)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                 | Type | Description                                           |
| ------------------------- | ---- | ----------------------------------------------------- | ------------------------------------------------------- |
| `onRecordingStatusUpdate` | null | (status: [RecordingStatus](#recordingstatus)) => void | A function taking a single parameter `RecordingStatus`. |

Sets a function to be called regularly with the `RecordingStatus` of the `Recording`.

`onRecordingStatusUpdate` will be called when another call to the API for this recording completes (such as `prepareToRecordAsync()`, `startAsync()`, `getStatusAsync()`, or `stopAndUnloadAsync()`), and will also be called at regular intervals while the recording can record. Call `setProgressUpdateInterval()` to modify the interval with which `onRecordingStatusUpdate` is called while the recording can record.

Returns: `void`

### `setProgressUpdateInterval(progressUpdateIntervalMillis)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                      | Type     | Description                                                  |
| ------------------------------ | -------- | ------------------------------------------------------------ |
| `progressUpdateIntervalMillis` | `number` | The new interval between calls of `onRecordingStatusUpdate`. |

Sets the interval with which `onRecordingStatusUpdate` is called while the recording can record. See `setOnRecordingStatusUpdate` for details. This value defaults to 500 milliseconds.

Returns: `void`

### `startAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Begins recording. This method can only be called if the `Recording` has been prepared.

Returns: `Promise<recordingstatus>`

A `Promise` that is fulfilled when recording has begun, or rejects if recording could not be started. The promise is resolved with the `RecordingStatus` of the recording.

### `stopAndUnloadAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Stops the recording and deallocates the recorder from memory. This reverts the `Recording` instance to an unprepared state, and another `Recording` instance must be created in order to record again. This method can only be called if the `Recording` has been prepared.

> On Android this method may fail with `E_AUDIO_NODATA` when called too soon after `startAsync` and no audio data has been recorded yet. In that case the recorded file will be invalid and should be discarded.

Returns: `Promise<recordingstatus>`

A `Promise` that is fulfilled when recording has stopped, or rejects if recording could not be stopped. The promise is resolved with the `RecordingStatus` of the recording.

### `Sound`

Supported platforms: Android, iOS, tvOS, Web.

Type: Class implements [Playback](/versions/latest/sdk/av#playback)

This class represents a sound corresponding to an Asset or URL.

Returns

A newly constructed instance of `Audio.Sound`.

Example

```ts
const sound = new Audio.Sound();
try {
  await sound.loadAsync(require("./assets/sounds/hello.mp3"));
  await sound.playAsync();
  // Your sound is playing!

  // Don't forget to unload the sound from memory
  // when you are done using the Sound object
  await sound.unloadAsync();
} catch (error) {
  // An error occurred!
}
```

> Method not described below and the rest of the API for `Audio.Sound` is the same as the imperative playback API for `Video`. See the [AV documentation](/versions/latest/sdk/av) for further information.

Sound Methods

> **Deprecated:** Use `Sound.createAsync()` instead

### `create(source, initialStatus, onPlaybackStatusUpdate, downloadFirst)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                          | Type                                                                   |
| ---------------------------------- | ---------------------------------------------------------------------- | ------------------------------------------------------------------------------ |
| `source`                           | [AVPlaybackSource](/versions/latest/sdk/av#avplaybacksource)           |
| `initialStatus`(optional)          | [AVPlaybackStatusToSet](/versions/latest/sdk/av#avplaybackstatustoset) |
| `onPlaybackStatusUpdate`(optional) | null                                                                   | (status: [AVPlaybackStatus](/versions/latest/sdk/av#avplaybackstatus)) => void |
| `downloadFirst`(optional)          | `boolean`                                                              |

Returns: `Promise<soundobject>`

### `createAsync(source, initialStatus, onPlaybackStatusUpdate, downloadFirst)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                          | Type                                                                   | Description                                                                                                                                                                                                                                                                                                                     |
| ---------------------------------- | ---------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `source`                           | [AVPlaybackSource](/versions/latest/sdk/av#avplaybacksource)           | The source of the sound. See the [AV documentation](/versions/latest/sdk/av#playback-api) for details on the possible `source` values.                                                                                                                                                                                          |
| `initialStatus`(optional)          | [AVPlaybackStatusToSet](/versions/latest/sdk/av#avplaybackstatustoset) | The initial intended `PlaybackStatusToSet` of the sound, whose values will override the default initial playback status. This value defaults to `{}` if no parameter is passed. See the [AV documentation](/versions/latest/sdk/av) for details on `PlaybackStatusToSet` and the default initial playback status. Default: `{}` |
| `onPlaybackStatusUpdate`(optional) | null                                                                   | (status: [AVPlaybackStatus](/versions/latest/sdk/av#avplaybackstatus)) => void                                                                                                                                                                                                                                                  | A function taking a single parameter `PlaybackStatus`. This value defaults to `null` if no parameter is passed. See the [AV documentation](/versions/latest/sdk/av) for details on the functionality provided by `onPlaybackStatusUpdate`. Default: `null` |
| `downloadFirst`(optional)          | `boolean`                                                              | If set to true, the system will attempt to download the resource to the device before loading. This value defaults to `true`. Note that at the moment, this will only work for `source`s of the form `require('path/to/file')` or `Asset` objects. Default: `true`                                                              |

Creates and loads a sound from source.

```ts
const { sound } = await Audio.Sound.createAsync(
  source,
  initialStatus,
  onPlaybackStatusUpdate,
  downloadFirst,
);

// Which is equivalent to the following:
const sound = new Audio.Sound();
sound.setOnPlaybackStatusUpdate(onPlaybackStatusUpdate);
await sound.loadAsync(source, initialStatus, downloadFirst);
```

Returns: `Promise<soundobject>`

A `Promise` that is rejected if creation failed, or fulfilled with the `SoundObject` if creation succeeded.

Example

```ts
try {
  const { sound: soundObject, status } = await Audio.Sound.createAsync(
    require("./assets/sounds/hello.mp3"),
    { shouldPlay: true },
  );
  // Your sound is playing!
} catch (error) {
  // An error occurred!
}
```

### `setOnAudioSampleReceived(callback)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter  | Type                                                                 | Description                                               |
| ---------- | -------------------------------------------------------------------- | --------------------------------------------------------- |
| `callback` | [AudioSampleCallback](/versions/latest/sdk/av#avplaybackstatustoset) | A function taking the `AudioSampleCallback` as parameter. |

Sets a function to be called during playback, receiving the audio sample as parameter.

Returns: `void`

### `setOnMetadataUpdate(onMetadataUpdate)`

Supported platforms: iOS.

| Parameter          | Type                                                                 | Description                                                            |
| ------------------ | -------------------------------------------------------------------- | ---------------------------------------------------------------------- |
| `onMetadataUpdate` | (metadata: [AVMetadata](/versions/latest/sdk/av#avmetadata)) => void | A function taking a single object of type `AVMetadata` as a parameter. |

Sets a function to be called whenever the metadata of the sound object changes, if one is set.

Returns: `void`

### `setOnPlaybackStatusUpdate(onPlaybackStatusUpdate)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                | Type | Description                                                                    |
| ------------------------ | ---- | ------------------------------------------------------------------------------ | -------------------------------------------------------- |
| `onPlaybackStatusUpdate` | null | (status: [AVPlaybackStatus](/versions/latest/sdk/av#avplaybackstatus)) => void | A function taking a single parameter `AVPlaybackStatus`. |

Sets a function to be called regularly with the `AVPlaybackStatus` of the playback object.

`onPlaybackStatusUpdate` will be called whenever a call to the API for this playback object completes (such as `setStatusAsync()`, `getStatusAsync()`, or `unloadAsync()`), nd will also be called at regular intervals while the media is in the loaded state.

Set `progressUpdateIntervalMillis` via `setStatusAsync()` or `setProgressUpdateIntervalAsync()` to modify the interval with which `onPlaybackStatusUpdate` is called while loaded.

Returns: `void`

## Methods

### `Audio.getPermissionsAsync()`

Supported platforms: Android, iOS.

Checks user's permissions for audio recording.

Returns: `Promise<permissionresponse>`

A promise that resolves to an object of type `PermissionResponse`.

### `Audio.requestPermissionsAsync()`

Supported platforms: Android, iOS.

Asks the user to grant permissions for audio recording.

Returns: `Promise<permissionresponse>`

A promise that resolves to an object of type `PermissionResponse`.

### `Audio.setAudioModeAsync(partialMode)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter     | Type                                                                                                             |
| ------------- | ---------------------------------------------------------------------------------------------------------------- |
| `partialMode` | [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[AudioMode](#audiomode)\> |

We provide this API to customize the audio experience on iOS and Android.

Returns: `Promise<void>`

A `Promise` that will reject if the audio mode could not be enabled for the device.

### `Audio.setIsEnabledAsync(value)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type      | Description                                    |
| --------- | --------- | ---------------------------------------------- |
| `value`   | `boolean` | `true` enables Audio, and `false` disables it. |

Audio is enabled by default, but if you want to write your own Audio API in a bare workflow app, you might want to disable the Audio API.

Returns: `Promise<void>`

A `Promise` that will reject if audio playback could not be enabled for the device.

## Types

### `AudioChannel`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type       | Description                                                                 |
| -------- | ---------- | --------------------------------------------------------------------------- |
| frames   | `number[]` | All samples for this specific Audio Channel in PCM Buffer format (-1 to 1). |

### `AudioMode`

Supported platforms: Android, iOS, tvOS, Web.

| Property                             | Type                                                | Description                                                                                                                                                                                                                                                                                                                                      |
| ------------------------------------ | --------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| allowsRecordingIOS(optional)         | `boolean`                                           | A boolean selecting if recording is enabled on iOS. When this flag is set to true, playback may be routed to the phone earpiece instead of to the speaker. Set it back to false after stopping recording to reenable playback through the speaker. Default: `false`                                                                              |
| interruptionModeAndroid              | [InterruptionModeAndroid](#interruptionmodeandroid) | An enum selecting how your experience's audio should interact with the audio from other apps on Android.                                                                                                                                                                                                                                         |
| interruptionModeIOS                  | [InterruptionModeIOS](#interruptionmodeios)         | An enum selecting how your experience's audio should interact with the audio from other apps on iOS.                                                                                                                                                                                                                                             |
| playsInSilentModeIOS(optional)       | `boolean`                                           | A boolean selecting if your experience's audio should play in silent mode on iOS. Default: `false`                                                                                                                                                                                                                                               |
| playThroughEarpieceAndroid(optional) | `boolean`                                           | A boolean selecting if the audio is routed to earpiece on Android. Default: `false`                                                                                                                                                                                                                                                              |
| shouldDuckAndroid(optional)          | `boolean`                                           | A boolean selecting if your experience's audio should automatically be lowered in volume ("duck") if audio from another app interrupts your experience. If `false`, audio from other apps will pause your audio. Default: `true`                                                                                                                 |
| staysActiveInBackground(optional)    | `boolean`                                           | A boolean selecting if the audio session (playback or recording) should stay active even when the app goes into background. This is not available in Expo Go for iOS, it will only work in standalone apps. To enable it for standalone apps, follow the instructions below to add UIBackgroundModes to your app configuration. Default: `false` |

### `AudioSample`

Supported platforms: Android, iOS, tvOS, Web.

Object passed to the `onAudioSampleReceived` function. Represents a single sample from an audio source. The sample contains all frames (PCM Buffer values) for each channel of the audio, so if the audio is _stereo_ (interleaved), there will be two channels, one for left and one for right audio.

| Property  | Type                            | Description                                                                                                                                                                                                               |
| --------- | ------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| channels  | [AudioChannel[]](#audiochannel) | An array representing the data from each channel in PCM Buffer format. Array elements are objects in the following format: `{ frames: number[] }`, where each frame is a number in PCM Buffer format (`-1` to `1` range). |
| timestamp | `number`                        | A number representing the timestamp of the current sample in seconds, relative to the audio track's timeline. Known issue: When using the ExoPlayer Android implementation, the timestamp is always -1.                   |

### `AudioSampleCallback`

Supported platforms: Android, iOS, tvOS, Web.

Type: `null` or `object` shaped as below:

#### `` (sample) => `void` ``

| Parameter                                                                                               | Type                        | Description |
| ------------------------------------------------------------------------------------------------------- | --------------------------- | ----------- |
| sample[(index signature)](https://www.typescriptlang.org/docs/handbook/2/objects.html#index-signatures) | [AudioSample](#audiosample) | -           |

### `PermissionHookOptions`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `union`

Acceptable values are: `PermissionHookBehavior` | `Options`

### `PermissionResponse`

Supported platforms: Android, iOS, tvOS, Web.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

### `RecordingInput`

Supported platforms: Android, iOS.

| Property | Type     | Description |
| -------- | -------- | ----------- |
| name     | `string` | -           |
| type     | `string` | -           |
| uid      | `string` | -           |

### `RecordingObject`

Supported platforms: Android, iOS.

| Property  | Type                                | Description                                                                                                                   |
| --------- | ----------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- |
| recording | [Recording](#recording)             | The newly created and started `Recording` object.                                                                             |
| status    | [RecordingStatus](#recordingstatus) | The `RecordingStatus` of the `Recording` object. See the [AV documentation](/versions/latest/sdk/av) for further information. |

### `RecordingOptions`

Supported platforms: Android, iOS, tvOS, Web.

The recording extension, sample rate, bitrate, channels, format, encoder, etc. which can be customized by passing options to `prepareToRecordAsync()`.

We provide the following preset options for convenience, as used in the example above. See below for the definitions of these presets.

- `Audio.RecordingOptionsPresets.HIGH_QUALITY`
- `Audio.RecordingOptionsPresets.LOW_QUALITY`

We also provide the ability to define your own custom recording options, but **we recommend you use the presets, as not all combinations of options will allow you to successfully `prepareToRecordAsync()`.** You will have to test your custom options on iOS and Android to make sure it's working. In the future, we will enumerate all possible valid combinations, but at this time, our goal is to make the basic use-case easy (with presets) and the advanced use-case possible (by exposing all the functionality available on all supported platforms).

| Property                      | Type                                                | Description                                                                                                                                                                                                                                                                                                                                  |
| ----------------------------- | --------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| android                       | [RecordingOptionsAndroid](#recordingoptionsandroid) | Recording options for the Android platform.                                                                                                                                                                                                                                                                                                  |
| ios                           | [RecordingOptionsIOS](#recordingoptionsios)         | Recording options for the iOS platform.                                                                                                                                                                                                                                                                                                      |
| isMeteringEnabled(optional)   | `boolean`                                           | A boolean that determines whether audio level information will be part of the status object under the "metering" key.                                                                                                                                                                                                                        |
| keepAudioActiveHint(optional) | `boolean`                                           | A boolean that hints to keep the audio active after `prepareToRecordAsync` completes. Setting this value can improve the speed at which the recording starts. Only set this value to `true` when you call `startAsync` immediately after `prepareToRecordAsync`. This value is automatically set when using `Audio.recording.createAsync()`. |
| web                           | [RecordingOptionsWeb](#recordingoptionsweb)         | Recording options for the Web platform.                                                                                                                                                                                                                                                                                                      |

### `RecordingOptionsAndroid`

Supported platforms: Android.

| Property                   | Type                                        | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| -------------------------- | ------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------- |
| audioEncoder               | [AndroidAudioEncoder](#androidaudioencoder) | number                                                                                                                                                                                                                                                                                                                                                                                                                                                          | The desired audio encoder. See the [`AndroidAudioEncoder`](#androidaudioencoder) enum for all valid values. |
| bitRate(optional)          | `number`                                    | The desired bit rate. Note that `prepareToRecordAsync()` may perform additional checks on the parameter to make sure whether the specified bit rate is applicable, and sometimes the passed bitRate will be clipped internally to ensure the audio recording can proceed smoothly based on the capabilities of the platform. . Example. `128000`                                                                                                                |
| extension                  | `string`                                    | The desired file extension. Example valid values are `.3gp` and `.m4a`. For more information, see the [Android docs](https://developer.android.com/guide/topics/media/media-formats) for supported output formats.                                                                                                                                                                                                                                              |
| maxFileSize(optional)      | `number`                                    | The desired maximum file size in bytes, after which the recording will stop (but `stopAndUnloadAsync()` must still be called after this point). . Example. `65536`                                                                                                                                                                                                                                                                                              |
| numberOfChannels(optional) | `number`                                    | The desired number of channels. Note that `prepareToRecordAsync()` may perform additional checks on the parameter to make sure whether the specified number of audio channels are applicable. . Example. `1`, `2`                                                                                                                                                                                                                                               |
| outputFormat               | [AndroidOutputFormat](#androidoutputformat) | number                                                                                                                                                                                                                                                                                                                                                                                                                                                          | The desired file format. See the [`AndroidOutputFormat`](#androidoutputformat) enum for all valid values.   |
| sampleRate(optional)       | `number`                                    | The desired sample rate. Note that the sampling rate depends on the format for the audio recording, as well as the capabilities of the platform. For instance, the sampling rate supported by AAC audio coding standard ranges from 8 to 96 kHz, the sampling rate supported by AMRNB is 8kHz, and the sampling rate supported by AMRWB is 16kHz. Please consult with the related audio coding standard for the supported audio sampling rate. . Example. 44100 |

### `RecordingOptionsIOS`

Supported platforms: iOS.

| Property                       | Type                                | Description                                                                                                      |
| ------------------------------ | ----------------------------------- | ---------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| audioQuality                   | [IOSAudioQuality](#iosaudioquality) | number                                                                                                           | The desired audio quality. See the [`IOSAudioQuality`](#iosaudioquality) enum for all valid values. |
| bitDepthHint(optional)         | `number`                            | The desired bit depth hint. . Example. `16`                                                                      |
| bitRate                        | `number`                            | The desired bit rate. . Example. `128000`                                                                        |
| bitRateStrategy(optional)      | `number`                            | The desired bit rate strategy. See the next section for an enumeration of all valid values of `bitRateStrategy`. |
| extension                      | `string`                            | The desired file extension. . Example. `'.caf'`                                                                  |
| linearPCMBitDepth(optional)    | `number`                            | The desired PCM bit depth. . Example. `16`                                                                       |
| linearPCMIsBigEndian(optional) | `boolean`                           | A boolean describing if the PCM data should be formatted in big endian.                                          |
| linearPCMIsFloat(optional)     | `boolean`                           | A boolean describing if the PCM data should be encoded in floating point or integral values.                     |
| numberOfChannels               | `number`                            | The desired number of channels. . Example. `1`, `2`                                                              |
| outputFormat(optional)         | string                              | [IOSOutputFormat](#iosoutputformat)                                                                              | number                                                                                              | The desired file format. See the [`IOSOutputFormat`](#iosoutputformat) enum for all valid values. |
| sampleRate                     | `number`                            | The desired sample rate. . Example. `44100`                                                                      |

### `RecordingOptionsWeb`

Supported platforms: Android, iOS, tvOS, Web.

| Property                | Type     | Description |
| ----------------------- | -------- | ----------- |
| bitsPerSecond(optional) | `number` | -           |
| mimeType(optional)      | `string` | -           |

### `RecordingStatus`

Supported platforms: Android, iOS, tvOS, Web.

| Property                        | Type      | Description                                                                                                                                                                                                                                                                                   |
| ------------------------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --- |
| canRecord                       | `boolean` | Supported platforms: Android, iOS. A boolean describing if the `Recording` can initiate the recording.                                                                                                                                                                                        |
| durationMillis                  | `number`  | Supported platforms: Android, iOS. The current duration of the recorded audio or the final duration is the recording has been stopped.                                                                                                                                                        |
| isDoneRecording                 | `boolean` | Supported platforms: Android, iOS. A boolean describing if the `Recording` has been stopped.                                                                                                                                                                                                  |
| isRecording                     | `boolean` | Supported platforms: Android, iOS. A boolean describing if the `Recording` is currently recording.                                                                                                                                                                                            |
| mediaServicesDidReset(optional) | `boolean` | Supported platforms: iOS. A boolean indicating whether media services were reset during recording. This may occur if the active input ceases to be available during recording. For example: airpods are the active input and they run out of batteries during recording.                      |
| metering(optional)              | `number`  | Supported platforms: Android, iOS. A number that's the most recent reading of the loudness in dB. The value ranges from `â€“160` dBFS, indicating minimum power, to `0` dBFS, indicating maximum power. Present or not based on Recording options. See `RecordingOptions` for more information. |
| uri(optional)                   | `string   | null`                                                                                                                                                                                                                                                                                         | -   |

### `SoundObject`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type                                                         | Description                                                                                                              |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------ |
| sound    | [Sound](#sound)                                              | The newly created and loaded `Sound` object.                                                                             |
| status   | [AVPlaybackStatus](/versions/latest/sdk/av#avplaybackstatus) | The `PlaybackStatus` of the `Sound` object. See the [AV documentation](/versions/latest/sdk/av) for further information. |

## Enums

### `AndroidAudioEncoder`

Supported platforms: Android.

Defines the audio encoding.

#### `DEFAULT`

`AndroidAudioEncoder.DEFAULT = 0`

#### `AMR_NB`

`AndroidAudioEncoder.AMR_NB = 1`

AMR (Narrowband) audio codec.

#### `AMR_WB`

`AndroidAudioEncoder.AMR_WB = 2`

AMR (Wideband) audio codec.

#### `AAC`

`AndroidAudioEncoder.AAC = 3`

AAC Low Complexity (AAC-LC) audio codec.

#### `HE_AAC`

`AndroidAudioEncoder.HE_AAC = 4`

High Efficiency AAC (HE-AAC) audio codec.

#### `AAC_ELD`

`AndroidAudioEncoder.AAC_ELD = 5`

Enhanced Low Delay AAC (AAC-ELD) audio codec.

### `AndroidOutputFormat`

Supported platforms: Android.

Defines the output format.

#### `DEFAULT`

`AndroidOutputFormat.DEFAULT = 0`

#### `THREE_GPP`

`AndroidOutputFormat.THREE_GPP = 1`

3GPP media file format.

#### `MPEG_4`

`AndroidOutputFormat.MPEG_4 = 2`

MPEG4 media file format.

#### `AMR_NB`

`AndroidOutputFormat.AMR_NB = 3`

AMR NB file format.

#### `AMR_WB`

`AndroidOutputFormat.AMR_WB = 4`

AMR WB file format.

#### `AAC_ADIF`

`AndroidOutputFormat.AAC_ADIF = 5`

#### `AAC_ADTS`

`AndroidOutputFormat.AAC_ADTS = 6`

AAC ADTS file format.

#### `RTP_AVP`

`AndroidOutputFormat.RTP_AVP = 7`

#### `MPEG2TS`

`AndroidOutputFormat.MPEG2TS = 8`

H.264/AAC data encapsulated in MPEG2/TS.

#### `WEBM`

`AndroidOutputFormat.WEBM = 9`

VP8/VORBIS data in a WEBM container.

### `InterruptionModeAndroid`

Supported platforms: Android.

#### `DoNotMix`

`InterruptionModeAndroid.DoNotMix = 1`

If this option is set, your experience's audio interrupts audio from other apps.

#### `DuckOthers`

`InterruptionModeAndroid.DuckOthers = 2`

**This is the default option.** If this option is set, your experience's audio lowers the volume ("ducks") of audio from other apps while your audio plays.

### `InterruptionModeIOS`

Supported platforms: iOS.

#### `MixWithOthers`

`InterruptionModeIOS.MixWithOthers = 0`

**This is the default option.** If this option is set, your experience's audio is mixed with audio playing in background apps.

#### `DoNotMix`

`InterruptionModeIOS.DoNotMix = 1`

If this option is set, your experience's audio interrupts audio from other apps.

#### `DuckOthers`

`InterruptionModeIOS.DuckOthers = 2`

If this option is set, your experience's audio lowers the volume ("ducks") of audio from other apps while your audio plays.

### `IOSAudioQuality`

Supported platforms: iOS.

#### `MIN`

`IOSAudioQuality.MIN = 0`

#### `LOW`

`IOSAudioQuality.LOW = 32`

#### `MEDIUM`

`IOSAudioQuality.MEDIUM = 64`

#### `HIGH`

`IOSAudioQuality.HIGH = 96`

#### `MAX`

`IOSAudioQuality.MAX = 127`

### `IOSBitRateStrategy`

Supported platforms: iOS.

#### `CONSTANT`

`IOSBitRateStrategy.CONSTANT = 0`

#### `LONG_TERM_AVERAGE`

`IOSBitRateStrategy.LONG_TERM_AVERAGE = 1`

#### `VARIABLE_CONSTRAINED`

`IOSBitRateStrategy.VARIABLE_CONSTRAINED = 2`

#### `VARIABLE`

`IOSBitRateStrategy.VARIABLE = 3`

### `IOSOutputFormat`

Supported platforms: iOS.

> **Note:** Not all of the iOS formats included in this list of constants are currently supported by iOS, in spite of appearing in the Apple source code. For an accurate list of formats supported by iOS, see [Core Audio Codecs](https://developer.apple.com/library/content/documentation/MusicAudio/Conceptual/CoreAudioOverview/CoreAudioEssentials/CoreAudioEssentials.html) and [iPhone Audio File Formats](https://developer.apple.com/library/content/documentation/MusicAudio/Conceptual/CoreAudioOverview/CoreAudioEssentials/CoreAudioEssentials.html).

#### `MPEGLAYER1`

`IOSOutputFormat.MPEGLAYER1 = ".mp1"`

#### `MPEGLAYER2`

`IOSOutputFormat.MPEGLAYER2 = ".mp2"`

#### `MPEGLAYER3`

`IOSOutputFormat.MPEGLAYER3 = ".mp3"`

#### `MPEG4AAC`

`IOSOutputFormat.MPEG4AAC = "aac "`

#### `MPEG4AAC_ELD`

`IOSOutputFormat.MPEG4AAC_ELD = "aace"`

#### `MPEG4AAC_ELD_SBR`

`IOSOutputFormat.MPEG4AAC_ELD_SBR = "aacf"`

#### `MPEG4AAC_ELD_V2`

`IOSOutputFormat.MPEG4AAC_ELD_V2 = "aacg"`

#### `MPEG4AAC_HE`

`IOSOutputFormat.MPEG4AAC_HE = "aach"`

#### `MPEG4AAC_LD`

`IOSOutputFormat.MPEG4AAC_LD = "aacl"`

#### `MPEG4AAC_HE_V2`

`IOSOutputFormat.MPEG4AAC_HE_V2 = "aacp"`

#### `MPEG4AAC_SPATIAL`

`IOSOutputFormat.MPEG4AAC_SPATIAL = "aacs"`

#### `AC3`

`IOSOutputFormat.AC3 = "ac-3"`

#### `AES3`

`IOSOutputFormat.AES3 = "aes3"`

#### `APPLELOSSLESS`

`IOSOutputFormat.APPLELOSSLESS = "alac"`

#### `ALAW`

`IOSOutputFormat.ALAW = "alaw"`

#### `AUDIBLE`

`IOSOutputFormat.AUDIBLE = "AUDB"`

#### `60958AC3`

`IOSOutputFormat.60958AC3 = "cac3"`

#### `MPEG4CELP`

`IOSOutputFormat.MPEG4CELP = "celp"`

#### `ENHANCEDAC3`

`IOSOutputFormat.ENHANCEDAC3 = "ec-3"`

#### `MPEG4HVXC`

`IOSOutputFormat.MPEG4HVXC = "hvxc"`

#### `ILBC`

`IOSOutputFormat.ILBC = "ilbc"`

#### `APPLEIMA4`

`IOSOutputFormat.APPLEIMA4 = "ima4"`

#### `LINEARPCM`

`IOSOutputFormat.LINEARPCM = "lpcm"`

#### `MACE3`

`IOSOutputFormat.MACE3 = "MAC3"`

#### `MACE6`

`IOSOutputFormat.MACE6 = "MAC6"`

#### `AMR`

`IOSOutputFormat.AMR = "samr"`

#### `AMR_WB`

`IOSOutputFormat.AMR_WB = "sawb"`

#### `DVIINTELIMA`

`IOSOutputFormat.DVIINTELIMA = 1836253201`

#### `MICROSOFTGSM`

`IOSOutputFormat.MICROSOFTGSM = 1836253233`

#### `QUALCOMM`

`IOSOutputFormat.QUALCOMM = "Qclp"`

#### `QDESIGN2`

`IOSOutputFormat.QDESIGN2 = "QDM2"`

#### `QDESIGN`

`IOSOutputFormat.QDESIGN = "QDMC"`

#### `MPEG4TWINVQ`

`IOSOutputFormat.MPEG4TWINVQ = "twvq"`

#### `ULAW`

`IOSOutputFormat.ULAW = "ulaw"`

### `PermissionStatus`

Supported platforms: Android, iOS, tvOS, Web.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

### `PitchCorrectionQuality`

Supported platforms: Android, iOS, tvOS, Web.

Check [official Apple documentation](https://developer.apple.com/documentation/avfoundation/audio_settings/time_pitch_algorithm_settings) for more information.

#### `High`

`PitchCorrectionQuality.High = number`

Equivalent to `AVAudioTimePitchAlgorithmSpectral`.

#### `Low`

`PitchCorrectionQuality.Low = number`

Equivalent to `AVAudioTimePitchAlgorithmLowQualityZeroLatency`.

#### `Medium`

`PitchCorrectionQuality.Medium = number`

Equivalent to `AVAudioTimePitchAlgorithmTimeDomain`.

## Unified API

The rest of the API on the `Sound.Audio` is the same as the API for `Video` component `ref`. See the [AV documentation](/versions/latest/sdk/av#playback) for more information.

---

---

title: Audio (expo-audio)
description: A library that provides an API to implement audio playback and recording in apps.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-audio'
packageName: 'expo-audio'
iconUrl: '/static/images/packages/expo-av.png'
platforms: ['android', 'ios', 'web', 'tvos', 'expo-go']

---

# Expo Audio (expo-audio)

A library that provides an API to implement audio playback and recording in apps.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-audio` is a cross-platform audio library for accessing the native audio capabilities of the device.

The [Android media format support documentation](https://developer.android.com/media/media3/exoplayer/supported-formats) covers formats supported when using Expo Player on Android. The [iOS audio and video format documentation](https://developer.apple.com/documentation/coreaudiotypes/audio-format-identifiers) lists supported media formats for Apple devices.

Note that audio automatically stops if headphones/bluetooth audio devices are disconnected.

## Installation

```sh
npx expo install expo-audio
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-audio` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-audio",
        {
          "microphonePermission": "Allow $(PRODUCT_NAME) to access your microphone."
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                   | Default                                             | Description                                                                                                                              |
| ---------------------- | --------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| `microphonePermission` | `"Allow $(PRODUCT_NAME) to access your microphone"` | Only for: iOS. A string to set the `NSMicrophoneUsageDescription` permission message. Setting it to `false` will disable the permission. |
| `recordAudioAndroid`   | `true`                                              | Only for: Android. A boolean that determines whether to enable the `RECORD_AUDIO` permission on Android.                                 |

## Usage

### Playing sounds

```jsx
import { View, StyleSheet, Button } from "react-native";
import { useAudioPlayer } from "expo-audio";

const audioSource = require("./assets/Hello.mp3");

export default function App() {
  const player = useAudioPlayer(audioSource);

  return (
    <View style={styles.container}>
      <Button
        title="Play Sound"
        onPress={() => player.play()}
      />
      <Button
        title="Replay Sound"
        onPress={() => {
          player.seekTo(0);
          player.play();
        }}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    backgroundColor: "#ecf0f1",
    padding: 10,
  },
});
```

> **Note:** If you're migrating from [`expo-av`](/versions/latest/sdk/av), you'll notice that `expo-audio` doesn't automatically reset the playback position when audio finishes. After [`play()`](/versions/latest/sdk/audio#play), the player stays paused at the end of the sound. To play it again, call [`seekTo(seconds)`](/versions/latest/sdk/audio#seektoseconds-tolerancemillisbefore-tolerancemillisafter) to reset the position â€” as shown in the example above.

### Recording sounds

```jsx
import {
  useAudioRecorder,
  AudioModule,
  RecordingPresets,
  setAudioModeAsync,
  useAudioRecorderState,
} from "expo-audio";
import { View, StyleSheet, Button } from "react-native";
import { useState, useEffect } from "react";

export default function App() {
  const audioRecorder = useAudioRecorder(RecordingPresets.HIGH_QUALITY);
  const recorderState = useAudioRecorderState(audioRecorder);

  const record = async () => {
    await audioRecorder.prepareToRecordAsync();
    audioRecorder.record();
  };

  const stopRecording = async () => {
    // The recording will be available on `audioRecorder.uri`.
    await audioRecorder.stop();
  };

  useEffect(() => {
    (async () => {
      const status = await AudioModule.requestRecordingPermissionsAsync();
      if (!status.granted) {
        Alert.alert("Permission to access microphone was denied");
      }

      setAudioModeAsync({
        playsInSilentMode: true,
        allowsRecording: true,
      });
    })();
  }, []);

  return (
    <View style={styles.container}>
      <Button
        title={recorderState.isRecording ? "Stop Recording" : "Start Recording"}
        onPress={recorderState.isRecording ? stopRecording : record}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    backgroundColor: "#ecf0f1",
    padding: 10,
  },
});
```

### Playing or recording audio in backgroundâ€‚

On iOS, audio playback and recording in background is only available in standalone apps, and it requires some extra configuration. On iOS, each background feature requires a special key in `UIBackgroundModes` array in your **Info.plist** file. In standalone apps this array is empty by default, so to use background features you will need to add appropriate keys to your **app.json** configuration.

See an example of **app.json** that enables audio playback in background:

```json
{
  "expo": {
    ...
    "ios": {
      ...
      "infoPlist": {
        ...
        "UIBackgroundModes": [
          "audio"
        ]
      }
    }
  }
}
```

### Using the AudioPlayer directly

In most cases, the [`useAudioPlayer`](/versions/latest/sdk/audio#useaudioplayersource-options) hook should be used to create a `AudioPlayer` instance. It manages the player's lifecycle and ensures that it is properly disposed of when the component is unmounted. However, in some advanced use cases, it might be necessary to create a `AudioPlayer` that does not get automatically destroyed when the component is unmounted. In those cases, the `AudioPlayer` can be created using the [`createAudioPlayer`](/versions/latest/sdk/audio#audiocreateaudioplayersource-options) function. You need to be aware of the risks that come with this approach, as it is your responsibility to call the [`release()`](/versions/latest/sdk/expo#release) method when the player is no longer needed. If not handled properly, this approach may lead to memory leaks.

```tsx
import { createAudioPlayer } from "expo-audio";
const player = createAudioPlayer(audioSource);
```

### Notes on web usage

- A MediaRecorder issue on Chrome produces WebM files missing the duration metadata. [See the open Chromium issue](https://bugs.chromium.org/p/chromium/issues/detail?id=642012).
- MediaRecorder encoding options and other configurations are inconsistent across browsers, utilizing a Polyfill such as [kbumsik/opus-media-recorder](https://github.com/kbumsik/opus-media-recorder) or [ai/audio-recorder-polyfill](https://github.com/ai/audio-recorder-polyfill) in your application will improve your experience. Any options passed to `prepareToRecordAsync` will be passed directly to the MediaRecorder API and as such the polyfill.
- Web browsers require sites to be served securely for them to listen to a mic. See [MediaDevices `getUserMedia()` security](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#security) for more details.

## API

```js
import { useAudioPlayer, useAudioRecorder } from "expo-audio";
```

## Constants

### `Audio.RecordingPresets`

Supported platforms: Android, iOS, tvOS, Web.

Type: { HIGH_QUALITY: [RecordingOptions](#recordingoptions), LOW_QUALITY: [RecordingOptions](#recordingoptions) }

Constant which contains definitions of the two preset examples of `RecordingOptions`, as implemented in the Audio SDK.

#### `HIGH_QUALITY`

```ts
RecordingPresets.HIGH_QUALITY = {
  extension: ".m4a",
  sampleRate: 44100,
  numberOfChannels: 2,
  bitRate: 128000,
  android: {
    outputFormat: "mpeg4",
    audioEncoder: "aac",
  },
  ios: {
    outputFormat: IOSOutputFormat.MPEG4AAC,
    audioQuality: AudioQuality.MAX,
    linearPCMBitDepth: 16,
    linearPCMIsBigEndian: false,
    linearPCMIsFloat: false,
  },
  web: {
    mimeType: "audio/webm",
    bitsPerSecond: 128000,
  },
};
```

#### `LOW_QUALITY`

```ts
RecordingPresets.LOW_QUALITY = {
  extension: ".m4a",
  sampleRate: 44100,
  numberOfChannels: 2,
  bitRate: 64000,
  android: {
    extension: ".3gp",
    outputFormat: "3gp",
    audioEncoder: "amr_nb",
  },
  ios: {
    audioQuality: AudioQuality.MIN,
    outputFormat: IOSOutputFormat.MPEG4AAC,
    linearPCMBitDepth: 16,
    linearPCMIsBigEndian: false,
    linearPCMIsFloat: false,
  },
  web: {
    mimeType: "audio/webm",
    bitsPerSecond: 128000,
  },
};
```

## Hooks

### `useAudioPlayer(source, options)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter           | Type                                      | Description                                                                                                                  |
| ------------------- | ----------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------- |
| `source`(optional)  | [AudioSource](#audiosource)               | The audio source to load. Can be a local asset via `require()`, a remote URL, or null for no initial source. Default: `null` |
| `options`(optional) | [AudioPlayerOptions](#audioplayeroptions) | Audio player configuration options. Default: `{}`                                                                            |

Creates an `AudioPlayer` instance that automatically releases when the component unmounts.

This hook manages the player's lifecycle and ensures it's properly disposed when no longer needed. The player will start loading the audio source immediately upon creation.

Returns: `AudioPlayer`

An `AudioPlayer` instance that's automatically managed by the component lifecycle.

Example

```tsx
import { useAudioPlayer } from "expo-audio";

function MyComponent() {
  const player = useAudioPlayer(require("./sound.mp3"));

  return (
    <Button
      title="Play"
      onPress={() => player.play()}
    />
  );
}
```

Example

```tsx
import { useAudioPlayer } from "expo-audio";

function MyComponent() {
  const player = useAudioPlayer("https://example.com/audio.mp3", {
    updateInterval: 1000,
    downloadFirst: true,
  });

  return (
    <Button
      title="Play"
      onPress={() => player.play()}
    />
  );
}
```

### `useAudioPlayerStatus(player)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type                        | Description                            |
| --------- | --------------------------- | -------------------------------------- |
| `player`  | [AudioPlayer](#audioplayer) | The `AudioPlayer` instance to monitor. |

Hook that provides real-time playback status updates for an `AudioPlayer`.

This hook automatically subscribes to playback status changes and returns the current status. The status includes information about playback state, current time, duration, loading state, and more.

Returns: `AudioStatus`

The current `AudioStatus` object containing playback information.

Example

```tsx
import { useAudioPlayer, useAudioPlayerStatus } from "expo-audio";

function PlayerComponent() {
  const player = useAudioPlayer(require("./sound.mp3"));
  const status = useAudioPlayerStatus(player);

  return (
    <View>
      <Text>Playing: {status.playing ? "Yes" : "No"}</Text>
      <Text>Current Time: {status.currentTime}s</Text>
      <Text>Duration: {status.duration}s</Text>
    </View>
  );
}
```

### `useAudioRecorder(options, statusListener)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                  | Type                                                  | Description                                                                  |
| -------------------------- | ----------------------------------------------------- | ---------------------------------------------------------------------------- |
| `options`                  | [RecordingOptions](#recordingoptions)                 | Recording configuration options including format, quality, sample rate, etc. |
| `statusListener`(optional) | (status: [RecordingStatus](#recordingstatus)) => void | Optional callback function that receives recording status updates.           |

Hook that creates an `AudioRecorder` instance for recording audio.

This hook manages the recorder's lifecycle and ensures it's properly disposed when no longer needed. The recorder is automatically prepared with the provided options and can be used to record audio.

Returns: `AudioRecorder`

An `AudioRecorder` instance that's automatically managed by the component lifecycle.

Example

```tsx
import { useAudioRecorder, RecordingPresets } from "expo-audio";

function RecorderComponent() {
  const recorder = useAudioRecorder(RecordingPresets.HIGH_QUALITY, status =>
    console.log("Recording status:", status),
  );

  const startRecording = async () => {
    await recorder.prepareToRecordAsync();
    recorder.record();
  };

  return (
    <Button
      title="Start Recording"
      onPress={startRecording}
    />
  );
}
```

### `useAudioRecorderState(recorder, interval)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter            | Type                            | Description                                                                                  |
| -------------------- | ------------------------------- | -------------------------------------------------------------------------------------------- |
| `recorder`           | [AudioRecorder](#audiorecorder) | The `AudioRecorder` instance to monitor.                                                     |
| `interval`(optional) | `number`                        | How often (in milliseconds) to poll the recorder's status. Defaults to 500ms. Default: `500` |

Hook that provides real-time recording state updates for an `AudioRecorder`.

This hook polls the recorder's status at regular intervals and returns the current recording state. Use this when you need to monitor the recording status without setting up a status listener.

Returns: `RecorderState`

The current `RecorderState` containing recording information.

Example

```tsx
import {
  useAudioRecorder,
  useAudioRecorderState,
  RecordingPresets,
} from "expo-audio";

function RecorderStatusComponent() {
  const recorder = useAudioRecorder(RecordingPresets.HIGH_QUALITY);
  const state = useAudioRecorderState(recorder);

  return (
    <View>
      <Text>Recording: {state.isRecording ? "Yes" : "No"}</Text>
      <Text>Duration: {Math.round(state.durationMillis / 1000)}s</Text>
      <Text>Can Record: {state.canRecord ? "Yes" : "No"}</Text>
    </View>
  );
}
```

### `useAudioSampleListener(player, listener)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter  | Type                                        | Description                                                      |
| ---------- | ------------------------------------------- | ---------------------------------------------------------------- |
| `player`   | [AudioPlayer](#audioplayer)                 | The `AudioPlayer` instance to sample audio from.                 |
| `listener` | (data: [AudioSample](#audiosample)) => void | Function called with each audio sample containing waveform data. |

Hook that sets up audio sampling for an `AudioPlayer` and calls a listener with audio data.

This hook enables audio sampling on the player (if supported) and subscribes to audio sample updates. Audio sampling provides real-time access to audio waveform data for visualization or analysis.

> **Note:** Audio sampling requires `RECORD_AUDIO` permission on Android and is not supported on all platforms.

Returns: `void`

Example

```tsx
import {
  useAudioPlayer,
  useAudioSampleListener,
  requestRecordingPermissionsAsync,
} from "expo-audio";
import { useEffect } from "react";

function AudioVisualizerComponent() {
  const player = useAudioPlayer(require("./music.mp3"));

  // if required on Android, request recording permissions
  useEffect(() => {
    async function requestPermission() {
      const { granted } = await requestRecordingPermissionsAsync();
      if (granted) {
        console.log("Permission granted");
      }
    }

    requestPermission();
  }, []);

  useAudioSampleListener(player, sample => {
    // Use sample.channels array for audio visualization
    console.log("Audio sample:", sample.channels[0].frames);
  });

  return <AudioWaveform player={player} />;
}
```

## Classes

### `AudioPlayer`

Supported platforms: Android, iOS, tvOS, Web.

Type: Class extends [SharedObject](/versions/v54.0.0/sdk/expo#sharedobjecttype)<[AudioEvents](#audioevents)\>

AudioPlayer Properties

### `currentTime`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number`

The current position through the audio item in seconds.

### `duration`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number`

The total duration of the audio in seconds.

### `id`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number`

Unique identifier for the player object.

### `isAudioSamplingSupported`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean`

Boolean value indicating whether audio sampling is supported on the platform.

### `isBuffering`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean`

Boolean value indicating whether the player is buffering.

### `isLoaded`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean`

Boolean value indicating whether the player is finished loading.

### `loop`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean`

Boolean value indicating whether the player is currently looping.

### `muted`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean`

Boolean value indicating whether the player is currently muted.

### `paused`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean`

Boolean value indicating whether the player is currently paused.

### `playbackRate`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number`

The current playback rate of the audio. It accepts different values depending on the platform:

- **Android**: `0.1` to `2.0`
- **iOS**: `0.0` to `2.0`
- **Web**: Follows browser implementation

Example

```tsx
import { useAudioPlayer } from "expo-audio";

export default function App() {
  const player = useAudioPlayer(source);

  // Normal playback speed
  player.playbackRate = 1.0;

  // Slow motion (half speed)
  player.playbackRate = 0.5;

  // Fast playback (1.5x speed)
  player.playbackRate = 1.5;

  // Maximum speed on mobile
  player.playbackRate = 2.0;
}
```

### `playing`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean`

Boolean value indicating whether the player is currently playing.

### `shouldCorrectPitch`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean`

A boolean describing if we are correcting the pitch for a changed rate.

### `volume`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number`

The current volume of the audio.

**Range:** `0.0` to `1.0`. For example, `0.0` is completely silent (0%), `0.5` is half volume (50%), and `1.0` is full volume (100%).

Example

```tsx
import { useAudioPlayer } from "expo-audio";

export default function App() {
  const player = useAudioPlayer(source);

  // Mute the audio
  player.volume = 0.0;

  // Set volume to 50%
  player.volume = 0.5;

  // Set to full volume
  player.volume = 1.0;
}
```

AudioPlayer Methods

### `clearLockScreenControls()`

Supported platforms: Android, iOS, tvOS, Web.

Removes this player from lock screen controls if it's currently active. This will clear the lock screen's now playing info.

Returns: `void`

### `pause()`

Supported platforms: Android, iOS, tvOS, Web.

Pauses the player.

Returns: `void`

### `play()`

Supported platforms: Android, iOS, tvOS, Web.

Start playing audio.

Returns: `void`

### `remove()`

Supported platforms: Android, iOS, tvOS, Web.

Remove the player from memory to free up resources.

Returns: `void`

### `replace(source)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type                        |
| --------- | --------------------------- |
| `source`  | [AudioSource](#audiosource) |

Replaces the current audio source with a new one.

Returns: `void`

### `seekTo(seconds, toleranceMillisBefore, toleranceMillisAfter)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                         | Type     | Description                                                                      |
| --------------------------------- | -------- | -------------------------------------------------------------------------------- |
| `seconds`                         | `number` | The number of seconds to seek by.                                                |
| `toleranceMillisBefore`(optional) | `number` | The tolerance allowed before the requested seek time, in milliseconds. iOS only. |
| `toleranceMillisAfter`(optional)  | `number` | The tolerance allowed after the requested seek time, in milliseconds. iOS only.  |

Seeks the playback by the given number of seconds.

Returns: `Promise<void>`

### `setActiveForLockScreen(active, metadata, options)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter            | Type                                              | Description                                                                      |
| -------------------- | ------------------------------------------------- | -------------------------------------------------------------------------------- |
| `active`             | `boolean`                                         | Whether this player should be active for lock screen controls.                   |
| `metadata`(optional) | [AudioMetadata](#audiometadata)                   | Optional metadata to display on the lock screen (title, artist, album, artwork). |
| `options`(optional)  | [AudioLockScreenOptions](#audiolockscreenoptions) | Optional configuration to configure the lock screen controls.                    |

Sets or removes this audio player as the active player for lock screen controls. Only one player can control the lock screen at a time.

Returns: `void`

### `setPlaybackRate(rate, pitchCorrectionQuality)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                          | Type                                              | Description                                                                                                  |
| ---------------------------------- | ------------------------------------------------- | ------------------------------------------------------------------------------------------------------------ |
| `rate`                             | `number`                                          | The playback rate of the audio. See [`playbackRate`](#playbackrate) property for detailed range information. |
| `pitchCorrectionQuality`(optional) | [PitchCorrectionQuality](#pitchcorrectionquality) | The quality of the pitch correction.                                                                         |

Sets the current playback rate of the audio.

Returns: `void`

### `updateLockScreenMetadata(metadata)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter  | Type                            | Description                                              |
| ---------- | ------------------------------- | -------------------------------------------------------- |
| `metadata` | [AudioMetadata](#audiometadata) | The metadata to display (title, artist, album, artwork). |

Updates the metadata displayed on the lock screen for this player. This method only has an effect if this player is currently active for lock screen controls.

Returns: `void`

### `AudioRecorder`

Supported platforms: Android, iOS, tvOS, Web.

Type: Class extends [SharedObject](/versions/v54.0.0/sdk/expo#sharedobjecttype)<[RecordingEvents](#recordingevents)\>

AudioRecorder Properties

### `currentTime`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number`

The current length of the recording, in seconds.

### `id`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number`

Unique identifier for the recorder object.

### `isRecording`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean`

Boolean value indicating whether the recording is in progress.

### `uri`

Supported platforms: Android, iOS, tvOS, Web.

Literal type: `union`

The uri of the recording.

Acceptable values are: `null` | `string`

AudioRecorder Methods

### `getAvailableInputs()`

Supported platforms: Android, iOS, tvOS, Web.

Returns a list of available recording inputs. This method can only be called if the `Recording` has been prepared.

Returns: `RecordingInput[]`

A `Promise` that is fulfilled with an array of `RecordingInput` objects.

### `getCurrentInput()`

Supported platforms: Android, iOS, tvOS, Web.

Returns the currently-selected recording input. This method can only be called if the `Recording` has been prepared.

Returns: `Promise<recordinginput>`

A `Promise` that is fulfilled with a `RecordingInput` object.

### `getStatus()`

Supported platforms: Android, iOS, tvOS, Web.

Status of the current recording.

Returns: `RecorderState`

### `pause()`

Supported platforms: Android, iOS, tvOS, Web.

Pause the recording.

Returns: `void`

### `prepareToRecordAsync(options)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter           | Type                                                                                                                           |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------ |
| `options`(optional) | [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[RecordingOptions](#recordingoptions)\> |

Prepares the recording for recording.

Returns: `Promise<void>`

### `record(options)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter           | Type                                            | Description                               |
| ------------------- | ----------------------------------------------- | ----------------------------------------- |
| `options`(optional) | [RecordingStartOptions](#recordingstartoptions) | Optional recording configuration options. |

Starts the recording.

Returns: `void`

> **Deprecated:** Use `record({ forDuration: seconds })` instead.

### `recordForDuration(seconds)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type     | Description                               |
| --------- | -------- | ----------------------------------------- |
| `seconds` | `number` | The time in seconds to stop recording at. |

Stops the recording once the specified time has elapsed.

Returns: `void`

### `setInput(inputUid)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter  | Type     | Description                    |
| ---------- | -------- | ------------------------------ |
| `inputUid` | `string` | The uid of a `RecordingInput`. |

Sets the current recording input.

Returns: `void`

A `Promise` that is resolved if successful or rejected if not.

> **Deprecated:** Use `record({ atTime: seconds })` instead.

### `startRecordingAtTime(seconds)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type     | Description                                |
| --------- | -------- | ------------------------------------------ |
| `seconds` | `number` | The time in seconds to start recording at. |

Starts the recording at the given time.

Returns: `void`

### `stop()`

Supported platforms: Android, iOS, tvOS, Web.

Stop the recording.

Returns: `Promise<void>`

## Methods

### `Audio.createAudioPlayer(source, options)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter           | Type                                      | Description                                       |
| ------------------- | ----------------------------------------- | ------------------------------------------------- |
| `source`(optional)  | [AudioSource](#audiosource)               | The audio source to load. Default: `null`         |
| `options`(optional) | [AudioPlayerOptions](#audioplayeroptions) | Audio player configuration options. Default: `{}` |

Creates an instance of an `AudioPlayer` that doesn't release automatically.

> For most use cases you should use the [`useAudioPlayer`](#useaudioplayersource-options) hook instead. See the [Using the `AudioPlayer` directly](#using-the-audioplayer-directly) section for more details.

Returns: `AudioPlayer`

### `Audio.getRecordingPermissionsAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Checks the current status of recording permissions without requesting them.

This function returns the current permission status for microphone access without triggering a permission request dialog. Use this to check permissions before deciding whether to call `requestRecordingPermissionsAsync()`.

Returns: `Promise<permissionresponse>`

A Promise that resolves to a `PermissionResponse` object containing the current permission status.

Example

```tsx
import {
  getRecordingPermissionsAsync,
  requestRecordingPermissionsAsync,
} from "expo-audio";

const ensureRecordingPermissions = async () => {
  const { status } = await getRecordingPermissionsAsync();

  if (status !== "granted") {
    // Permission not granted, request it
    const { granted } = await requestRecordingPermissionsAsync();
    return granted;
  }

  return true; // Already granted
};
```

### `Audio.requestRecordingPermissionsAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Requests permission to record audio from the microphone.

This function prompts the user for microphone access permission, which is required for audio recording functionality. On iOS, this will show the system permission dialog. On Android, this requests the `RECORD_AUDIO` permission.

Returns: `Promise<permissionresponse>`

A Promise that resolves to a `PermissionResponse` object containing the permission status.

Example

```tsx
import { requestRecordingPermissionsAsync } from "expo-audio";

const checkPermissions = async () => {
  const { status, granted } = await requestRecordingPermissionsAsync();

  if (granted) {
    console.log("Recording permission granted");
  } else {
    console.log("Recording permission denied:", status);
  }
};
```

### `Audio.setAudioModeAsync(mode)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type                                                                                                             | Description                                                                         |
| --------- | ---------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------- |
| `mode`    | [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[AudioMode](#audiomode)\> | Partial audio mode configuration object. Only specified properties will be updated. |

Configures the global audio behavior and session settings.

This function allows you to control how your app's audio interacts with other apps, background playback behavior, audio routing, and interruption handling.

Returns: `Promise<void>`

A Promise that resolves when the audio mode has been applied.

Example

```tsx
import { setAudioModeAsync } from "expo-audio";

// Configure audio for background playback with mixing
await setAudioModeAsync({
  playsInSilentMode: true,
  shouldPlayInBackground: true,
  interruptionMode: "mixWithOthers",
});

// Configure audio for recording
await setAudioModeAsync({
  allowsRecording: true,
  playsInSilentMode: true,
});
```

### `Audio.setIsAudioActiveAsync(active)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type      | Description                                                    |
| --------- | --------- | -------------------------------------------------------------- |
| `active`  | `boolean` | Whether audio should be active (`true`) or disabled (`false`). |

Enables or disables the audio subsystem globally.

When set to `false`, this will pause all audio playback and prevent new audio from playing. This is useful for implementing app-wide audio controls or responding to system events.

Returns: `Promise<void>`

A Promise that resolves when the audio state has been updated.

Example

```tsx
import { setIsAudioActiveAsync } from "expo-audio";

// Disable all audio when app goes to background
const handleAppStateChange = async nextAppState => {
  if (nextAppState === "background") {
    await setIsAudioActiveAsync(false);
  } else if (nextAppState === "active") {
    await setIsAudioActiveAsync(true);
  }
};
```

## Event Subscriptions

### `Audio.useAudioSampleListener(player, listener)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter  | Type                                        | Description                                                      |
| ---------- | ------------------------------------------- | ---------------------------------------------------------------- |
| `player`   | [AudioPlayer](#audioplayer)                 | The `AudioPlayer` instance to sample audio from.                 |
| `listener` | (data: [AudioSample](#audiosample)) => void | Function called with each audio sample containing waveform data. |

Hook that sets up audio sampling for an `AudioPlayer` and calls a listener with audio data.

This hook enables audio sampling on the player (if supported) and subscribes to audio sample updates. Audio sampling provides real-time access to audio waveform data for visualization or analysis.

> **Note:** Audio sampling requires `RECORD_AUDIO` permission on Android and is not supported on all platforms.

Returns: `void`

Example

```tsx
import {
  useAudioPlayer,
  useAudioSampleListener,
  requestRecordingPermissionsAsync,
} from "expo-audio";
import { useEffect } from "react";

function AudioVisualizerComponent() {
  const player = useAudioPlayer(require("./music.mp3"));

  // if required on Android, request recording permissions
  useEffect(() => {
    async function requestPermission() {
      const { granted } = await requestRecordingPermissionsAsync();
      if (granted) {
        console.log("Permission granted");
      }
    }

    requestPermission();
  }, []);

  useAudioSampleListener(player, sample => {
    // Use sample.channels array for audio visualization
    console.log("Audio sample:", sample.channels[0].frames);
  });

  return <AudioWaveform player={player} />;
}
```

## Types

### `AndroidAudioEncoder`

Supported platforms: Android.

Literal Type: `string`

Audio encoder options for Android recording.

Specifies the audio codec used to encode recorded audio on Android. Different encoders offer different quality, compression, and compatibility trade-offs.

Acceptable values are: `'default'` | `'amr_nb'` | `'amr_wb'` | `'aac'` | `'he_aac'` | `'aac_eld'`

### `AndroidOutputFormat`

Supported platforms: Android.

Literal Type: `string`

Audio output format options for Android recording.

Specifies the container format for recorded audio files on Android. Different formats have different compatibility and compression characteristics.

Acceptable values are: `'default'` | `'3gp'` | `'mpeg4'` | `'amrnb'` | `'amrwb'` | `'aac_adts'` | `'mpeg2ts'` | `'webm'`

### `AudioEvents`

Supported platforms: Android, iOS, tvOS, Web.

Event types that an `AudioPlayer` can emit.

These events allow you to listen for changes in playback state and receive real-time audio data. Use `player.addListener()` to subscribe to these events.

| Property             | Type                                          | Description                                                               |
| -------------------- | --------------------------------------------- | ------------------------------------------------------------------------- |
| audioSampleUpdate    | (data: [AudioSample](#audiosample)) => void   | Fired when audio sampling is enabled and new sample data is available.    |
| playbackStatusUpdate | (status: [AudioStatus](#audiostatus)) => void | Fired when the player's status changes (play/pause/seek/load and so on.). |

> **Deprecated:** Use `AudioPlayerOptions` instead. Options for audio loading behavior.

### `AudioLoadOptions`

Supported platforms: Android, iOS, tvOS, Web.

Type: [AudioPlayerOptions](#audioplayeroptions)

### `AudioLockScreenOptions`

Supported platforms: Android, iOS, tvOS, Web.

Options for configuring which playback controls should be displayed on the lock screen.

| Property                   | Type      | Description                                                              |
| -------------------------- | --------- | ------------------------------------------------------------------------ |
| showSeekBackward(optional) | `boolean` | Whether the seek backward button should be displayed on the lock screen. |
| showSeekForward(optional)  | `boolean` | Whether the seek forward button should be displayed on the lock screen.  |

### `AudioMetadata`

Supported platforms: Android, iOS, tvOS, Web.

| Property             | Type     | Description |
| -------------------- | -------- | ----------- |
| albumTitle(optional) | `string` | -           |
| artist(optional)     | `string` | -           |
| artworkUrl(optional) | `string` | -           |
| title(optional)      | `string` | -           |

### `AudioMode`

Supported platforms: Android, iOS, tvOS, Web.

| Property                            | Type                                  | Description                                                                                                                       |
| ----------------------------------- | ------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| allowsBackgroundRecording(optional) | `boolean`                             | Supported platforms: Android, iOS. Whether audio recording should continue when the app moves to the background. Default: `false` |
| allowsRecording(optional)           | `boolean`                             | Supported platforms: iOS. Whether the audio session allows recording. Default: `false`                                            |
| interruptionMode                    | [InterruptionMode](#interruptionmode) | Determines how the audio session interacts with other audio sessions.                                                             |

- `'doNotMix'`: Requests exclusive audio focus. Other apps will pause their audio.
- `'duckOthers'`: Requests audio focus with ducking. Other apps lower their volume but continue playing.
- `'mixWithOthers'`: Audio plays alongside other apps without interrupting them. On Android, this means no audio focus is requested. Best suited for sound effects, UI feedback, or short audio clips.

|
| interruptionModeAndroid(optional) | [InterruptionModeAndroid](#interruptionmodeandroid) | Deprecated: Use interruptionMode instead, which now works on both platforms. . Supported platforms: Android. Determines how the audio session interacts with other sessions on Android. |
| playsInSilentMode | `boolean` | Supported platforms: iOS. Determines if audio playback is allowed when the device is in silent mode. |
| shouldPlayInBackground(optional) | `boolean` | Whether the audio session stays active when the app moves to the background. Default: `false` |
| shouldRouteThroughEarpiece | `boolean` | Supported platforms: Android. Whether the audio should route through the earpiece. |

### `AudioPlayerOptions`

Supported platforms: Android, iOS, tvOS, Web.

Options for configuring audio player behavior.

| Property                | Type         | Description                                                                                                                                                                          |
| ----------------------- | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| crossOrigin(optional)   | `'anonymous' | 'use-credentials'`                                                                                                                                                                   | Supported platforms: Web. Determines the [cross origin policy](https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Attributes/crossorigin) used by the underlying native view on web. If `undefined` (default), does not use CORS at all. If set to `'anonymous'`, the audio will be loaded with CORS enabled. Note that some audio may not play if CORS is enabled, depending on the CDN settings. If you encounter issues, consider adjusting the `crossOrigin` property. Default: `undefined` |
| downloadFirst(optional) | `boolean`    | Supported platforms: Android, iOS, Web. If set to `true`, the system will attempt to download the resource to the device before loading. This value defaults to `false`. Works with: |

- Local assets from `require('path/to/file')`
- Remote HTTP/HTTPS URLs
- Asset objects

. When enabled, this ensures the audio file is fully downloaded before playback begins. This can improve playback performance and reduce buffering, especially for users managing multiple audio players simultaneously. On Android and iOS, this will download the audio file to the device's tmp directory before playback begins. The system will purge the file at its discretion. On web, this will download the audio file to the user's device memory and make it available for the user to play. The system will usually purge the file from memory after a reload or on memory pressure. On web, CORS restrictions apply to the blob url, so you need to make sure the server returns the `Access-Control-Allow-Origin` header. |
| keepAudioSessionActive(optional) | `boolean` | Supported platforms: iOS. If set to `true`, the audio session will not be deactivated when this player pauses or finishes playback. This prevents interrupting other audio sources (like videos) when the audio ends. Useful for sound effects that should not interfere with ongoing video playback or other audio. The audio session for this player will not be deactivated automatically when the player finishes playback. Note: If needed, you can manually deactivate the audio session using setIsAudioActiveAsync(false). Default: `false` |
| updateInterval(optional) | `number` | Supported platforms: Android, iOS, Web. How often (in milliseconds) to emit playback status updates. Defaults to 500ms. Default: `500ms`. Example

```tsx
import { useAudioPlayer } from "expo-audio";

export default function App() {
  const player = useAudioPlayer(source);

  // High-frequency updates for smooth progress bars
  const player = useAudioPlayer(source, { updateInterval: 100 });

  // Standard updates (default behavior)
  const player = useAudioPlayer(source, { updateInterval: 500 });

  // Low-frequency updates for better performance
  const player = useAudioPlayer(source, { updateInterval: 1000 });
}
```

|

### `AudioSample`

Supported platforms: Android, iOS, tvOS, Web.

Represents a single audio sample containing waveform data from all audio channels.

Audio samples are provided in real-time when audio sampling is enabled on an `AudioPlayer`. Each sample contains the raw PCM audio data for all channels (mono has 1 channel, stereo has 2). This data can be used for audio visualization, analysis, or processing.

| Property  | Type                                        | Description                                                                                              |
| --------- | ------------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| channels  | [AudioSampleChannel[]](#audiosamplechannel) | Array of audio channels, each containing PCM frame data. Stereo audio will have 2 channels (left/right). |
| timestamp | `number`                                    | Timestamp of this sample relative to the audio track's timeline, in seconds.                             |

### `AudioSampleChannel`

Supported platforms: Android, iOS, tvOS, Web.

Represents audio data for a single channel (for example, left or right in stereo audio).

Contains the raw PCM (Pulse Code Modulation) audio frames for this channel. Frame values are normalized between -1.0 and 1.0, where 0 represents silence.

| Property | Type       | Description                                                 |
| -------- | ---------- | ----------------------------------------------------------- |
| frames   | `number[]` | Array of PCM audio frame values, each between -1.0 and 1.0. |

### `AudioSource`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string` or `number` or `null` or `object` shaped as below:

| Property          | Type                     | Description                                                                                                                                                                                                      |
| ----------------- | ------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| assetId(optional) | `number`                 | The asset ID of a local audio asset, acquired with the `require` function. This property is exclusive with the `uri` property. When both are present, the `assetId` will be ignored.                             |
| headers(optional) | `Record<string, string>` | An object representing the HTTP headers to send along with the request for a remote audio source. On web requires the `Access-Control-Allow-Origin` header returned by the server to include the current domain. |
| uri(optional)     | `string`                 | A string representing the resource identifier for the audio, which could be an HTTPS address, a local file path, or the name of a static audio file resource.                                                    |

### `AudioStatus`

Supported platforms: Android, iOS, tvOS, Web.

Comprehensive status information for an `AudioPlayer`.

This object contains all the current state information about audio playback, including playback position, duration, loading state, and playback settings. Used by `useAudioPlayerStatus()` to provide real-time status updates.

| Property                     | Type      | Description                                                                         |
| ---------------------------- | --------- | ----------------------------------------------------------------------------------- |
| currentTime                  | `number`  | Current playback position in seconds.                                               |
| didJustFinish                | `boolean` | Whether the audio just finished playing.                                            |
| duration                     | `number`  | Total duration of the audio in seconds, or 0 if not yet determined.                 |
| id                           | `number`  | Unique identifier for the player instance.                                          |
| isBuffering                  | `boolean` | Whether the player is currently buffering data.                                     |
| isLoaded                     | `boolean` | Whether the audio has finished loading and is ready to play.                        |
| loop                         | `boolean` | Whether the audio is set to loop when it reaches the end.                           |
| mute                         | `boolean` | Whether the player is currently muted.                                              |
| playbackRate                 | `number`  | Current playback rate (1.0 = normal speed).                                         |
| playbackState                | `string`  | String representation of the player's internal playback state.                      |
| playing                      | `boolean` | Whether the audio is currently playing.                                             |
| reasonForWaitingToPlay       | `string`  | Reason why the player is waiting to play (if applicable).                           |
| shouldCorrectPitch(optional) | `boolean` | Whether pitch correction is enabled for rate changes. Default: `true`               |
| timeControlStatus            | `string`  | String representation of the player's time control status (playing/paused/waiting). |

### `BitRateStrategy`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `string`

Bit rate strategies for audio encoding.

Determines how the encoder manages bit rate during recording, affecting file size consistency and quality characteristics.

Acceptable values are: `'constant'` | `'longTermAverage'` | `'variableConstrained'` | `'variable'`

### `InterruptionMode`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `string`

Audio interruption behavior modes.

Controls how your app's audio interacts with other apps' audio.

- `'doNotMix'`: Requests exclusive audio focus. Other apps will pause their audio.
- `'duckOthers'`: Requests audio focus with ducking. Other apps lower their volume but continue playing.
- `'mixWithOthers'`: Audio plays alongside other apps without interrupting them.

  On Android, this means no audio focus is requested. Best suited for sound effects, UI feedback, or short audio clips. Note that on Android your app won't receive audio focus loss callbacks (for example, during phone calls) when using this mode.

> **Note:** When using `setActiveForLockScreen`, this must be set to `doNotMix`.

Acceptable values are: `'mixWithOthers'` | `'doNotMix'` | `'duckOthers'`

> **Deprecated:** Use `InterruptionMode` instead, which now works on both platforms.

### `InterruptionModeAndroid`

Supported platforms: Android, iOS, tvOS, Web.

Type: [InterruptionMode](#interruptionmode)

### `PermissionExpiration`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionResponse`

Supported platforms: Android, iOS, tvOS, Web.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

### `PitchCorrectionQuality`

Supported platforms: iOS.

Literal Type: `string`

Pitch correction quality settings for audio playback rate changes.

When changing playback rate, pitch correction can be applied to maintain the original pitch. Different quality levels offer trade-offs between processing power and audio quality.

Acceptable values are: `'low'` | `'medium'` | `'high'`

### `RecorderState`

Supported platforms: Android, iOS, tvOS, Web.

Current state information for an `AudioRecorder`.

This object contains detailed information about the recorder's current state, including recording status, duration, and technical details. This is what you get when calling `recorder.getStatus()` or using `useAudioRecorderState()`.

| Property              | Type      | Description                                                                             |
| --------------------- | --------- | --------------------------------------------------------------------------------------- | --------------------------------------------------------- |
| canRecord             | `boolean` | Whether the recorder is ready and able to record.                                       |
| durationMillis        | `number`  | Duration of the current recording in milliseconds.                                      |
| isRecording           | `boolean` | Whether recording is currently in progress.                                             |
| mediaServicesDidReset | `boolean` | Whether the media services have been reset (typically indicates a system interruption). |
| metering(optional)    | `number`  | Current audio level/volume being recorded (if metering is enabled).                     |
| url                   | `string   | null`                                                                                   | File URL where the recording will be saved, if available. |

### `RecordingEvents`

Supported platforms: Android, iOS, tvOS, Web.

Event types that an `AudioRecorder` can emit.

These events are used internally by `expo-audio` hooks to provide real-time status updates. Use `useAudioRecorderState()` or the `statusListener` parameter in `useAudioRecorder()` instead of subscribing directly.

| Property              | Type                                                  | Description                                                                   |
| --------------------- | ----------------------------------------------------- | ----------------------------------------------------------------------------- |
| recordingStatusUpdate | (status: [RecordingStatus](#recordingstatus)) => void | Fired when the recorder's status changes (start/stop/pause/error, and so on). |

### `RecordingInput`

Supported platforms: Android, iOS, tvOS, Web.

Represents an available audio input device for recording.

This type describes audio input sources like built-in microphones, external microphones, or other audio input devices that can be used for recording. Each input has an identifying information that can be used to select the preferred recording source.

| Property | Type     | Description                                                                                                                    |
| -------- | -------- | ------------------------------------------------------------------------------------------------------------------------------ |
| name     | `string` | Human-readable name of the audio input device.                                                                                 |
| type     | `string` | Type or category of the input device (for example, 'Built-in Microphone', 'External Microphone').                              |
| uid      | `string` | Unique identifier for the input device, used to select the input ('Built-in Microphone', 'External Microphone') for recording. |

### `RecordingOptions`

Supported platforms: Android, iOS, tvOS, Web.

| Property                    | Type                                                | Description                                                                                                           |
| --------------------------- | --------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------- |
| android                     | [RecordingOptionsAndroid](#recordingoptionsandroid) | Supported platforms: Android. Recording options for the Android platform.                                             |
| bitRate                     | `number`                                            | The desired bit rate. . Example. `128000`                                                                             |
| extension                   | `string`                                            | The desired file extension. . Example. `.caf`                                                                         |
| ios                         | [RecordingOptionsIos](#recordingoptionsios)         | Supported platforms: iOS. Recording options for the iOS platform.                                                     |
| isMeteringEnabled(optional) | `boolean`                                           | A boolean that determines whether audio level information will be part of the status object under the "metering" key. |
| numberOfChannels            | `number`                                            | The desired number of channels. . Example. `2`                                                                        |
| sampleRate                  | `number`                                            | The desired sample rate. . Example. `44100`                                                                           |
| web                         | [RecordingOptionsWeb](#recordingoptionsweb)         | Supported platforms: Web. Recording options for the Web platform.                                                     |

### `RecordingOptionsAndroid`

Supported platforms: Android.

Recording configuration options specific to Android.

Android recording uses `MediaRecorder` with options for format, encoder, and file constraints. These settings control the output format and quality characteristics.

| Property              | Type                                        | Description                                                                                                                                                        |
| --------------------- | ------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| audioEncoder          | [AndroidAudioEncoder](#androidaudioencoder) | The desired audio encoder. See the [`AndroidAudioEncoder`](#androidaudioencoder) type for all valid values.                                                        |
| audioSource(optional) | [RecordingSource](#recordingsource)         | The desired audio Source. See the [`RecordingSource`](#recordingsource) type for all valid values.                                                                 |
| extension(optional)   | `string`                                    | The desired file extension. . Example. `.caf`                                                                                                                      |
| maxFileSize(optional) | `number`                                    | The desired maximum file size in bytes, after which the recording will stop (but `stopAndUnloadAsync()` must still be called after this point). . Example. `65536` |
| outputFormat          | [AndroidOutputFormat](#androidoutputformat) | The desired file format. See the [`AndroidOutputFormat`](#androidoutputformat) type for all valid values.                                                          |
| sampleRate(optional)  | `number`                                    | The desired sample rate. . Example. `44100`                                                                                                                        |

### `RecordingOptionsIos`

Supported platforms: iOS.

Recording configuration options specific to iOS.

iOS recording uses `AVAudioRecorder` with extensive format and quality options. These settings provide fine-grained control over the recording characteristics.

| Property                       | Type                          | Description                                                                                                      |
| ------------------------------ | ----------------------------- | ---------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| audioQuality                   | [AudioQuality](#audioquality) | number                                                                                                           | The desired audio quality. See the [`AudioQuality`](#audioquality) enum for all valid values. |
| bitDepthHint(optional)         | `number`                      | The desired bit depth hint. . Example. `16`                                                                      |
| bitRateStrategy(optional)      | `number`                      | The desired bit rate strategy. See the next section for an enumeration of all valid values of `bitRateStrategy`. |
| extension(optional)            | `string`                      | The desired file extension. . Example. `.caf`                                                                    |
| linearPCMBitDepth(optional)    | `number`                      | The desired PCM bit depth. . Example. `16`                                                                       |
| linearPCMIsBigEndian(optional) | `boolean`                     | A boolean describing if the PCM data should be formatted in big endian.                                          |
| linearPCMIsFloat(optional)     | `boolean`                     | A boolean describing if the PCM data should be encoded in floating point or integral values.                     |
| outputFormat(optional)         | string                        | [IOSOutputFormat](#iosoutputformat)                                                                              | number                                                                                        | The desired file format. See the [`IOSOutputFormat`](#iosoutputformat) enum for all valid values. |
| sampleRate(optional)           | `number`                      | The desired sample rate. . Example. `44100`                                                                      |

### `RecordingOptionsWeb`

Supported platforms: Web.

Recording options for the web.

Web recording uses the `MediaRecorder` API, which has different capabilities compared to native platforms. These options map directly to `MediaRecorder` settings.

| Property                | Type     | Description                                                           |
| ----------------------- | -------- | --------------------------------------------------------------------- |
| bitsPerSecond(optional) | `number` | Target bits per second for the recording.                             |
| mimeType(optional)      | `string` | MIME type for the recording (for example, 'audio/webm', 'audio/mp4'). |

### `RecordingSource`

Supported platforms: Android.

Literal Type: `string`

Recording source for android.

An audio source defines both a default physical source of audio signal, and a recording configuration.

- `camcorder`: Microphone audio source tuned for video recording, with the same orientation as the camera if available.
- `default`: The default audio source.
- `mic`: Microphone audio source.
- `unprocessed`: Microphone audio source tuned for unprocessed (raw) sound if available, behaves like `default` otherwise.
- `voice_communication`: Microphone audio source tuned for voice communications such as VoIP. It will for instance take advantage of echo cancellation or automatic gain control if available.
- `voice_performance`: Source for capturing audio meant to be processed in real time and played back for live performance (e.g karaoke). The capture path will minimize latency and coupling with playback path.
- `voice_recognition`: Microphone audio source tuned for voice recognition.

> **See:** [https://developer.android.com/reference/android/media/MediaRecorder.AudioSource](https://developer.android.com/reference/android/media/MediaRecorder.AudioSource)

Acceptable values are: `'camcorder'` | `'default'` | `'mic'` | `'remote_submix'` | `'unprocessed'` | `'voice_communication'` | `'voice_performance'` | `'voice_recognition'`

### `RecordingStartOptions`

Supported platforms: Android, iOS, tvOS, Web.

Options for controlling how audio recording is started.

| Property         | Type     | Description                                                                                                                                                |
| ---------------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| atTime(optional) | `number` | Supported platforms: iOS. The time in seconds to wait before starting the recording. If not provided, recording starts immediately. **Platform behavior:** |

- Android: Ignored, recording starts immediately
- iOS: Uses native AVAudioRecorder.record(atTime:) for precise timing.
- Web: Ignored, recording starts immediately

|
| forDuration(optional) | `number` | Supported platforms: Android, iOS, Web. The duration in seconds after which recording should automatically stop. If not provided, recording continues until manually stopped. |

### `RecordingStatus`

Supported platforms: Android, iOS, tvOS, Web.

Status information for recording operations from the event system.

This type represents the status data emitted by `recordingStatusUpdate` events. It contains high-level information about the recording session and any errors. Used internally by the event system. Most users should use `useAudioRecorderState()` instead.

| Property   | Type      | Description                                   |
| ---------- | --------- | --------------------------------------------- | ----------------------------------------------------- |
| error      | `string   | null`                                         | Error message if an error occurred, `null` otherwise. |
| hasError   | `boolean` | Whether an error occurred during recording.   |
| id         | `number`  | Unique identifier for the recording session.  |
| isFinished | `boolean` | Whether the recording has finished (stopped). |
| url        | `string   | null`                                         | File URL of the completed recording, if available.    |

## Enums

### `AudioQuality`

Supported platforms: Android, iOS, tvOS, Web.

Audio quality levels for recording.

Predefined quality levels that balance file size and audio fidelity. Higher quality levels produce better sound but larger files and require more processing power.

#### `MIN`

`AudioQuality.MIN = 0`

Minimum quality: smallest file size, lowest fidelity.

#### `LOW`

`AudioQuality.LOW = 32`

Low quality: good for voice recordings where file size matters.

#### `MEDIUM`

`AudioQuality.MEDIUM = 64`

Medium quality: balanced option for most use cases.

#### `HIGH`

`AudioQuality.HIGH = 96`

High quality: good fidelity, larger file size.

#### `MAX`

`AudioQuality.MAX = 127`

Maximum quality: best fidelity, largest file size.

### `IOSOutputFormat`

Supported platforms: iOS.

Audio output format options for iOS recording.

Comprehensive enum of audio formats supported by iOS for recording. Each format has different characteristics in terms of quality, file size, and compatibility. Some formats like LINEARPCM offer the highest quality but larger file sizes, while compressed formats like AAC provide good quality with smaller files.

#### `MPEGLAYER1`

`IOSOutputFormat.MPEGLAYER1 = ".mp1"`

#### `MPEGLAYER2`

`IOSOutputFormat.MPEGLAYER2 = ".mp2"`

#### `MPEGLAYER3`

`IOSOutputFormat.MPEGLAYER3 = ".mp3"`

#### `MPEG4AAC`

`IOSOutputFormat.MPEG4AAC = "aac "`

#### `MPEG4AAC_ELD`

`IOSOutputFormat.MPEG4AAC_ELD = "aace"`

#### `MPEG4AAC_ELD_SBR`

`IOSOutputFormat.MPEG4AAC_ELD_SBR = "aacf"`

#### `MPEG4AAC_ELD_V2`

`IOSOutputFormat.MPEG4AAC_ELD_V2 = "aacg"`

#### `MPEG4AAC_HE`

`IOSOutputFormat.MPEG4AAC_HE = "aach"`

#### `MPEG4AAC_LD`

`IOSOutputFormat.MPEG4AAC_LD = "aacl"`

#### `MPEG4AAC_HE_V2`

`IOSOutputFormat.MPEG4AAC_HE_V2 = "aacp"`

#### `MPEG4AAC_SPATIAL`

`IOSOutputFormat.MPEG4AAC_SPATIAL = "aacs"`

#### `AC3`

`IOSOutputFormat.AC3 = "ac-3"`

#### `AES3`

`IOSOutputFormat.AES3 = "aes3"`

#### `APPLELOSSLESS`

`IOSOutputFormat.APPLELOSSLESS = "alac"`

#### `ALAW`

`IOSOutputFormat.ALAW = "alaw"`

#### `AUDIBLE`

`IOSOutputFormat.AUDIBLE = "AUDB"`

#### `60958AC3`

`IOSOutputFormat.60958AC3 = "cac3"`

#### `MPEG4CELP`

`IOSOutputFormat.MPEG4CELP = "celp"`

#### `ENHANCEDAC3`

`IOSOutputFormat.ENHANCEDAC3 = "ec-3"`

#### `MPEG4HVXC`

`IOSOutputFormat.MPEG4HVXC = "hvxc"`

#### `ILBC`

`IOSOutputFormat.ILBC = "ilbc"`

#### `APPLEIMA4`

`IOSOutputFormat.APPLEIMA4 = "ima4"`

#### `LINEARPCM`

`IOSOutputFormat.LINEARPCM = "lpcm"`

#### `MACE3`

`IOSOutputFormat.MACE3 = "MAC3"`

#### `MACE6`

`IOSOutputFormat.MACE6 = "MAC6"`

#### `AMR`

`IOSOutputFormat.AMR = "samr"`

#### `AMR_WB`

`IOSOutputFormat.AMR_WB = "sawb"`

#### `DVIINTELIMA`

`IOSOutputFormat.DVIINTELIMA = 1836253201`

#### `MICROSOFTGSM`

`IOSOutputFormat.MICROSOFTGSM = 1836253233`

#### `QUALCOMM`

`IOSOutputFormat.QUALCOMM = "Qclp"`

#### `QDESIGN2`

`IOSOutputFormat.QDESIGN2 = "QDM2"`

#### `QDESIGN`

`IOSOutputFormat.QDESIGN = "QDMC"`

#### `MPEG4TWINVQ`

`IOSOutputFormat.MPEG4TWINVQ = "twvq"`

#### `ULAW`

`IOSOutputFormat.ULAW = "ulaw"`

### `PermissionStatus`

Supported platforms: Android, iOS, tvOS, Web.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

---

---

title: AuthSession
description: A universal library that provides an API to handle browser-based authentication.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-auth-session'
packageName: 'expo-auth-session'
platforms: ['android', 'ios', 'web']

---

# Expo AuthSession

A universal library that provides an API to handle browser-based authentication.
Android, iOS, Web

`AuthSession` enables web browser-based authentication (for example, browser-based OAuth flows) in your app by utilizing [WebBrowser](/versions/latest/sdk/webbrowser) and [Crypto](/versions/latest/sdk/crypto). For implementation details, refer to this reference, and for usage, see the [Authentication](/guides/authentication) guide.

> **Note:** `AuthSession` enables general-purpose OAuth and OpenID Connect browser-based auth workflows. Where available, we recommend using a library supplied by your identity provider, as it will handle implementation details specific to that provider. For example, use [`@react-native-google-signin/google-signin`](/guides/google-authentication) for Google authentication and [`react-native-fbsdk-next`](/guides/facebook-authentication) for Facebook. For more information, see [Authentication](/develop/authentication) overview.

## Installation

> `expo-crypto` is a peer dependency and must be installed alongside `expo-auth-session`.

```sh
npx expo install expo-auth-session expo-crypto
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration

Are you using this library in an existing React Native app?

To use this library, you need to set up deep linking in your app by setting up a `scheme`. Use the [`uri-scheme` CLI](https://www.npmjs.com/package/uri-scheme) utility to easily add, remove, list, and open your URIs.

For example, to make your native app handle `mycoolredirect://`, run:

```sh
npx uri-scheme add mycoolredirect
```

You should now be able to see a list of all your project's schemes by running:

```sh
npx uri-scheme list
```

You can test it to ensure it works like this:

```sh
yarn android
yarn ios
npx uri-scheme open mycoolredirect://some/redirect
```

### Usage in standalone apps

```json
{
  "expo": {
    "scheme": "mycoolredirect"
  }
}
```

To be able to deep link back into your app, you will need to set a `scheme` in your project's app config, and then build your standalone app (it can't be updated with an update). If you do not include a scheme, the authentication flow will complete, but it will be unable to pass the information back into your application and the user will have to manually exit the authentication modal (resulting in a canceled event).

## Guides

> The guides have moved: [Authentication Guide](/guides/authentication).

## How web browser based authentication flows work

The typical flow for browser-based authentication in mobile apps is as follows:

- **Initiation**: the user presses a sign in button
- **Open web browser**: the app opens up a web browser to the authentication provider sign in page. The url that is opened for the sign in page usually includes information to identify the app, and a URL to redirect to on success. _Note: the web browser should share cookies with your system web browser so that users do not need to sign in again if they are already authenticated on the system browser -- Expo's [WebBrowser](/versions/latest/sdk/webbrowser) API takes care of this._
- **Authentication provider redirects**: upon successful authentication, the authentication provider should redirect back to the application by redirecting to URL provided by the app in the query parameters on the sign in page ([read more about how linking works in mobile apps](/linking/overview)), _provided that the URL is in the allowlist of allowed redirect URLs_. Allowlisting redirect URLs is important to prevent malicious actors from pretending to be your application. The redirect includes data in the URL (such as user id and token), either in the location hash, query parameters, or both.
- **App handles redirect**: the redirect is handled by the app and data is parsed from the redirect URL.

## Security considerations

- **Never put any secret keys inside your application code, there is no secure way to do this!** Instead, you should store your secret key(s) on a server and expose an endpoint that makes API calls for your client and passes the data back.

## API

```js
import * as AuthSession from "expo-auth-session";
```

## Hooks

### `useAuthRequest(config, discovery)`

Supported platforms: Android, iOS, Web.

| Parameter   | Type                                    | Description                                                                            |
| ----------- | --------------------------------------- | -------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `config`    | [AuthRequestConfig](#authrequestconfig) | A valid [`AuthRequestConfig`](#authrequestconfig) that specifies what provider to use. |
| `discovery` | null                                    | [DiscoveryDocument](#discoverydocument)                                                | A loaded [`DiscoveryDocument`](#discoverydocument) with endpoints used for authenticating. Only `authorizationEndpoint` is required for requesting an authorization code. |

Load an authorization request for a code. When the prompt method completes then the response will be fulfilled.

> In order to close the popup window on web, you need to invoke `WebBrowser.maybeCompleteAuthSession()`. See the [GitHub example](/guides/authentication#github) for more info.

If an Implicit grant flow was used, you can pass the `response.params` to `TokenResponse.fromQueryParams()` to get a `TokenResponse` instance which you can use to easily refresh the token.

Returns: `[AuthRequest | null, AuthSessionResult | null, (options: AuthRequestPromptOptions) => Promise<authsessionresult>]</authsessionresult>`

Returns a loaded request, a response, and a prompt method in a single array in the following order:

- `request` - An instance of [`AuthRequest`](#authrequest) that can be used to prompt the user for authorization. This will be `null` until the auth request has finished loading.
- `response` - This is `null` until `promptAsync` has been invoked. Once fulfilled it will return information about the authorization.
- `promptAsync` - When invoked, a web browser will open up and prompt the user for authentication. Accepts an [`AuthRequestPromptOptions`](#authrequestpromptoptions) object with options about how the prompt will execute.

Example

```ts
const [request, response, promptAsync] = useAuthRequest({ ... }, { ... });
```

### `useAuthRequestResult(request, discovery, customOptions)`

Supported platforms: Android, iOS, Web.

| Parameter                 | Type                                                  |
| ------------------------- | ----------------------------------------------------- | --------------------------------------- |
| `request`                 | null                                                  | [AuthRequest](#authrequest)             |
| `discovery`               | null                                                  | [DiscoveryDocument](#discoverydocument) |
| `customOptions`(optional) | [AuthRequestPromptOptions](#authrequestpromptoptions) |

Returns: `[AuthSessionResult | null, PromptMethod]`

### `useAutoDiscovery(issuerOrDiscovery)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                    | Description                                                                                                    |
| ------------------- | --------------------------------------- | -------------------------------------------------------------------------------------------------------------- |
| `issuerOrDiscovery` | [IssuerOrDiscovery](#issuerordiscovery) | URL using the `https` scheme with no query or fragment component that the OP asserts as its Issuer Identifier. |

Given an OpenID Connect issuer URL, this will fetch and return the [`DiscoveryDocument`](#discoverydocument) (a collection of URLs) from the resource provider.

Returns: `DiscoveryDocument | null`

Returns `null` until the [`DiscoveryDocument`](#discoverydocument) has been fetched from the provided issuer URL.

Example

```ts
const discovery = useAutoDiscovery("https://example.com/auth");
```

### `useLoadedAuthRequest(config, discovery, AuthRequestInstance)`

Supported platforms: Android, iOS, Web.

| Parameter             | Type                                    |
| --------------------- | --------------------------------------- | --------------------------------------- |
| `config`              | [AuthRequestConfig](#authrequestconfig) |
| `discovery`           | null                                    | [DiscoveryDocument](#discoverydocument) |
| `AuthRequestInstance` | `AuthRequest`                           |

Returns: `AuthRequest | null`

## Classes

### `AccessTokenRequest`

Supported platforms: Android, iOS, Web.

Type: Class extends [TokenRequest](#tokenrequest)<[AccessTokenRequestConfig](#accesstokenrequestconfig)\> implements [AccessTokenRequestConfig](#accesstokenrequestconfig)

Access token request. Exchange an authorization code for a user access token.

[Section 4.1.3](https://tools.ietf.org/html/rfc6749#section-4.1.3)

AccessTokenRequest Properties

### `grantType`

Supported platforms: Android, iOS, Web.

Type: [GrantType](#granttype)

AccessTokenRequest Methods

### `getHeaders()`

Supported platforms: Android, iOS, Web.

Returns: `Headers`

### `getQueryBody()`

Supported platforms: Android, iOS, Web.

Returns: `Record<string,>`

### `getRequestConfig()`

Supported platforms: Android, iOS, Web.

Returns: `{ clientId: string, clientSecret: undefined | string, code: string, extraParams: undefined | Record<string,>, grantType: GrantType, redirectUri: string, scopes: undefined | string[] }</string,>`

### `performAsync(discovery)`

Supported platforms: Android, iOS, Web.

| Parameter   | Type                                                                                                                                             |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| `discovery` | [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<[DiscoveryDocument](#discoverydocument), 'tokenEndpoint'\> |

Returns: `Promise<tokenresponse>`

### `AuthError`

Supported platforms: Android, iOS, Web.

Type: Class extends [ResponseError](#responseerror)

Represents an authorization response error: [Section 5.2](https://tools.ietf.org/html/rfc6749#section-5.2). Often times providers will fail to return the proper error message for a given error code. This error method will add the missing description for more context on what went wrong.

AuthError Properties

### `code`

Supported platforms: Android, iOS, Web.

Type: `string`

### `description`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`

Used to assist the client developer in understanding the error that occurred.

### `info`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `any`

### `params`

Supported platforms: Android, iOS, Web.

Type: `Record<string, string>`

Raw results of the error.

### `state`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`

Required only if state is used in the initial request

### `uri`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`

A URI identifying a human-readable web page with information about the error, used to provide the client developer with additional information about the error.

### `AuthRequest`

Supported platforms: Android, iOS, Web.

Type: Class implements [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[AuthRequestConfig](#authrequestconfig), 'state'\>

Used to manage an authorization request according to the OAuth spec: [Section 4.1.1](https://tools.ietf.org/html/rfc6749#section-4.1.1). You can use this class directly for more info around the authorization.

**Common use-cases:**

- Parse a URL returned from the authorization server with `parseReturnUrlAsync()`.
- Get the built authorization URL with `makeAuthUrlAsync()`.
- Get a loaded JSON representation of the auth request with crypto state loaded with `getAuthRequestConfigAsync()`.

Example

```ts
// Create a request.
const request = new AuthRequest({ ... });

// Prompt for an auth code
const result = await request.promptAsync(discovery);

// Get the URL to invoke
const url = await request.makeAuthUrlAsync(discovery);

// Get the URL to invoke
const parsed = await request.parseReturnUrlAsync("<URL From Server>");
```

AuthRequest Properties

### `codeVerifier`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`

### `state`

Supported platforms: Android, iOS, Web.

Type: `string`

Used for protection against [Cross-Site Request Forgery](https://tools.ietf.org/html/rfc6749#section-10.12).

### `url`

Supported platforms: Android, iOS, Web.

Literal type: `union`â€ƒâ€¢â€ƒDefault: `null`

Acceptable values are: `null` | `string`

AuthRequest Methods

### `getAuthRequestConfigAsync()`

Supported platforms: Android, iOS, Web.

Load and return a valid auth request based on the input config.

Returns: `Promise<authrequestconfig>`

### `makeAuthUrlAsync(discovery)`

Supported platforms: Android, iOS, Web.

| Parameter   | Type                                            |
| ----------- | ----------------------------------------------- |
| `discovery` | [AuthDiscoveryDocument](#authdiscoverydocument) |

Create the URL for authorization.

Returns: `Promise<string>`

### `parseReturnUrl(url)`

Supported platforms: Android, iOS, Web.

| Parameter | Type     |
| --------- | -------- |
| `url`     | `string` |

Returns: `AuthSessionResult`

### `promptAsync(discovery, promptOptions)`

Supported platforms: Android, iOS, Web.

| Parameter                 | Type                                                  |
| ------------------------- | ----------------------------------------------------- |
| `discovery`               | [AuthDiscoveryDocument](#authdiscoverydocument)       |
| `promptOptions`(optional) | [AuthRequestPromptOptions](#authrequestpromptoptions) |

Prompt a user to authorize for a code.

Returns: `Promise<authsessionresult>`

### `RefreshTokenRequest`

Supported platforms: Android, iOS, Web.

Type: Class extends [TokenRequest](#tokenrequest)<[RefreshTokenRequestConfig](#refreshtokenrequestconfig)\> implements [RefreshTokenRequestConfig](#refreshtokenrequestconfig)

Refresh request.

[Section 6](https://tools.ietf.org/html/rfc6749#section-6)

RefreshTokenRequest Properties

### `grantType`

Supported platforms: Android, iOS, Web.

Type: [GrantType](#granttype)

RefreshTokenRequest Methods

### `getHeaders()`

Supported platforms: Android, iOS, Web.

Returns: `Headers`

### `getQueryBody()`

Supported platforms: Android, iOS, Web.

Returns: `Record<string,>`

### `getRequestConfig()`

Supported platforms: Android, iOS, Web.

Returns: `{ clientId: string, clientSecret: undefined | string, extraParams: undefined | Record<string,>, grantType: GrantType, refreshToken: undefined | string, scopes: undefined | string[] }</string,>`

### `performAsync(discovery)`

Supported platforms: Android, iOS, Web.

| Parameter   | Type                                                                                                                                             |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| `discovery` | [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<[DiscoveryDocument](#discoverydocument), 'tokenEndpoint'\> |

Returns: `Promise<tokenresponse>`

### `Request`

Supported platforms: Android, iOS, Web.

Request Methods

### `getQueryBody()`

Supported platforms: Android, iOS, Web.

Returns: `Record<string,>`

### `getRequestConfig()`

Supported platforms: Android, iOS, Web.

Returns: `T`

### `performAsync(discovery)`

Supported platforms: Android, iOS, Web.

| Parameter   | Type                                    |
| ----------- | --------------------------------------- |
| `discovery` | [DiscoveryDocument](#discoverydocument) |

Returns: `Promise`

### `ResponseError`

Supported platforms: Android, iOS, Web.

Type: Class extends `CodedError`

[Section 4.1.2.1](https://tools.ietf.org/html/rfc6749#section-4.1.2.1)

ResponseError Properties

### `code`

Supported platforms: Android, iOS, Web.

Type: `string`

### `description`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`

Used to assist the client developer in understanding the error that occurred.

### `info`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `any`

### `params`

Supported platforms: Android, iOS, Web.

Type: `Record<string, string>`

Raw results of the error.

### `uri`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`

A URI identifying a human-readable web page with information about the error, used to provide the client developer with additional information about the error.

### `RevokeTokenRequest`

Supported platforms: Android, iOS, Web.

Type: Class extends [Request](#request)<[RevokeTokenRequestConfig](#revoketokenrequestconfig), boolean\> implements [RevokeTokenRequestConfig](#revoketokenrequestconfig)

Revocation request for a given token.

[Section 2.1](https://tools.ietf.org/html/rfc7009#section-2.1)

RevokeTokenRequest Methods

### `getHeaders()`

Supported platforms: Android, iOS, Web.

Returns: `Headers`

### `getQueryBody()`

Supported platforms: Android, iOS, Web.

Returns: `Record<string,>`

### `getRequestConfig()`

Supported platforms: Android, iOS, Web.

Returns: `{ clientId: undefined | string, clientSecret: undefined | string, token: string, tokenTypeHint: undefined | TokenTypeHint }`

### `performAsync(discovery)`

Supported platforms: Android, iOS, Web.

| Parameter   | Type                                                                                                                                                  | Description                              |
| ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------- |
| `discovery` | [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<[DiscoveryDocument](#discoverydocument), 'revocationEndpoint'\> | The `revocationEndpoint` for a provider. |

Perform a token revocation request.

Returns: `Promise<boolean>`

### `TokenError`

Supported platforms: Android, iOS, Web.

Type: Class extends [ResponseError](#responseerror)

[Section 4.1.2.1](https://tools.ietf.org/html/rfc6749#section-4.1.2.1)

TokenError Properties

### `code`

Supported platforms: Android, iOS, Web.

Type: `string`

### `description`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`

Used to assist the client developer in understanding the error that occurred.

### `info`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `any`

### `params`

Supported platforms: Android, iOS, Web.

Type: `Record<string, string>`

Raw results of the error.

### `uri`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`

A URI identifying a human-readable web page with information about the error, used to provide the client developer with additional information about the error.

### `TokenRequest`

Supported platforms: Android, iOS, Web.

Type: Class extends [Request](#request)<T, [TokenResponse](#tokenresponse)\> implements [TokenRequestConfig](#tokenrequestconfig)

A generic token request.

TokenRequest Properties

### `grantType`

Supported platforms: Android, iOS, Web.

Type: [GrantType](#granttype)

TokenRequest Methods

### `getHeaders()`

Supported platforms: Android, iOS, Web.

Returns: `Headers`

### `getQueryBody()`

Supported platforms: Android, iOS, Web.

Returns: `Record<string,>`

### `getRequestConfig()`

Supported platforms: Android, iOS, Web.

Returns: `T`

### `performAsync(discovery)`

Supported platforms: Android, iOS, Web.

| Parameter   | Type                                                                                                                                             |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| `discovery` | [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<[DiscoveryDocument](#discoverydocument), 'tokenEndpoint'\> |

Returns: `Promise<tokenresponse>`

### `TokenResponse`

Supported platforms: Android, iOS, Web.

Type: Class implements [TokenResponseConfig](#tokenresponseconfig)

Token Response.

[Section 5.1](https://tools.ietf.org/html/rfc6749#section-5.1)

TokenResponse Properties

### `rawResponse`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `unknown`

Contains the unprocessed token response. Use it to access properties which aren't part of RFC 6749.

TokenResponse Methods

### `fromQueryParams(params)`

Supported platforms: Android, iOS, Web.

| Parameter | Type                  |
| --------- | --------------------- |
| `params`  | `Record<string, any>` |

Creates a `TokenResponse` from query parameters returned from an `AuthRequest`.

Returns: `TokenResponse`

### `getRequestConfig()`

Supported platforms: Android, iOS, Web.

Returns: `TokenResponseConfig`

### `isTokenFresh(token, secondsMargin)`

Supported platforms: Android, iOS, Web.

| Parameter                 | Type                                                                                                                               |
| ------------------------- | ---------------------------------------------------------------------------------------------------------------------------------- | ------------ |
| `token`                   | [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<[TokenResponse](#tokenresponse), 'expiresIn' | 'issuedAt'\> |
| `secondsMargin`(optional) | `number`                                                                                                                           |

Determines whether a token refresh request must be made to refresh the tokens

Returns: `boolean`

### `refreshAsync(config, discovery)`

Supported platforms: Android, iOS, Web.

| Parameter   | Type                                                                                                                                             |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------------- |
| `config`    | [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[TokenRequestConfig](#tokenrequestconfig), 'refreshToken'  | 'grantType'\> |
| `discovery` | [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<[DiscoveryDocument](#discoverydocument), 'tokenEndpoint'\> |

Returns: `Promise<tokenresponse>`

### `shouldRefresh()`

Supported platforms: Android, iOS, Web.

Returns: `boolean`

## Methods

### `AuthSession.dismiss()`

Supported platforms: Android, iOS, Web.

Cancels an active `AuthSession` if there is one.

Returns: `void`

### `AuthSession.exchangeCodeAsync(config, discovery)`

Supported platforms: Android, iOS, Web.

| Parameter   | Type                                                                                                                                             | Description                                          |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------- |
| `config`    | [AccessTokenRequestConfig](#accesstokenrequestconfig)                                                                                            | Configuration used to exchange the code for a token. |
| `discovery` | [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<[DiscoveryDocument](#discoverydocument), 'tokenEndpoint'\> | The `tokenEndpoint` for a provider.                  |

Exchange an authorization code for an access token that can be used to get data from the provider.

Returns: `Promise<tokenresponse>`

Returns a discovery document with a valid `tokenEndpoint` URL.

### `AuthSession.fetchDiscoveryAsync(issuer)`

Supported platforms: Android, iOS, Web.

| Parameter | Type     | Description                    |
| --------- | -------- | ------------------------------ |
| `issuer`  | `string` | An `Issuer` URL to fetch from. |

Fetch a `DiscoveryDocument` from a well-known resource provider that supports auto discovery.

Returns: `Promise<discoverydocument>`

Returns a discovery document that can be used for authentication.

### `AuthSession.fetchUserInfoAsync(config, discovery)`

Supported platforms: Android, iOS, Web.

| Parameter   | Type                                                                                                                                                | Description                                                                  |
| ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------- |
| `config`    | [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<[TokenResponse](#tokenresponse), 'accessToken'\>              | The `accessToken` for a user, returned from a code exchange or auth request. |
| `discovery` | [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<[DiscoveryDocument](#discoverydocument), 'userInfoEndpoint'\> | The `userInfoEndpoint` for a provider.                                       |

Fetch generic user info from the provider's OpenID Connect `userInfoEndpoint` (if supported).

Returns: `Promise<record</record`

> **See:** [UserInfo](https://openid.net/specs/openid-connect-core-1_0.html#UserInfo).

### `AuthSession.getCurrentTimeInSeconds()`

Supported platforms: Android, iOS, Web.

Returns the current time in seconds.

Returns: `number`

### `AuthSession.getDefaultReturnUrl(urlPath, options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                                                                                                                                                     |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `urlPath`(optional) | `string`                                                                                                                                                                 |
| `options`(optional) | [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[CreateURLOptions](/versions/latest/sdk/linking#createurloptions), 'queryParams'\> |

Returns: `string`

> **Deprecated:** Use `makeRedirectUri()` instead.

### `AuthSession.getRedirectUrl(path)`

Supported platforms: Android, iOS, Web.

| Parameter        | Type     |
| ---------------- | -------- |
| `path`(optional) | `string` |

Get the URL that your authentication provider needs to redirect to. For example: `https://auth.expo.io/@your-username/your-app-slug`. You can pass an additional path component to be appended to the default redirect URL.

> **Note** This method will throw an exception if you're using the bare workflow on native.

Returns: `string`

Example

```ts
const url = AuthSession.getRedirectUrl("redirect");

// Managed: https://auth.expo.io/@your-username/your-app-slug/redirect
// Web: https://localhost:19006/redirect
```

### `AuthSession.issuerWithWellKnownUrl(issuer)`

Supported platforms: Android, iOS, Web.

| Parameter | Type     |
| --------- | -------- |
| `issuer`  | `string` |

Append the well known resources path and OpenID connect discovery document path to a URL [https://tools.ietf.org/html/rfc5785](https://tools.ietf.org/html/rfc5785)

Returns: `string`

### `AuthSession.loadAsync(config, issuerOrDiscovery)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                    | Description                                                                                                                                        |
| ------------------- | --------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| `config`            | [AuthRequestConfig](#authrequestconfig) | A valid [`AuthRequestConfig`](#authrequestconfig) that specifies what provider to use.                                                             |
| `issuerOrDiscovery` | [IssuerOrDiscovery](#issuerordiscovery) | A loaded [`DiscoveryDocument`](#discoverydocument) or issuer URL. (Only `authorizationEndpoint` is required for requesting an authorization code). |

Build an `AuthRequest` and load it before returning.

Returns: `Promise<authrequest>`

Returns an instance of `AuthRequest` that can be used to prompt the user for authorization.

### `AuthSession.makeRedirectUri(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                                            | Description                                                |
| ------------------- | --------------------------------------------------------------- | ---------------------------------------------------------- |
| `options`(optional) | [AuthSessionRedirectUriOptions](#authsessionredirecturioptions) | Additional options for configuring the path. Default: `{}` |

Create a redirect url for the current platform and environment. You need to manually define the redirect that will be used in a bare workflow React Native app, or an Expo standalone app, this is because it cannot be inferred automatically.

- **Web:** Generates a path based on the current `window.location`. For production web apps, you should hard code the URL as well.
- **Managed workflow:** Uses the `scheme` property of your app config.
- **Bare workflow:** Will fallback to using the `native` option for bare workflow React Native apps.

Returns: `string`

The `redirectUri` to use in an authentication request.

Example

```ts
const redirectUri = makeRedirectUri({
  scheme: "my-scheme",
  path: "redirect",
});
// Development Build: my-scheme://redirect
// Expo Go: exp://127.0.0.1:8081/--/redirect
// Web dev: https://localhost:19006/redirect
// Web prod: https://yourwebsite.com/redirect

const redirectUri2 = makeRedirectUri({
  scheme: "scheme2",
  preferLocalhost: true,
  isTripleSlashed: true,
});
// Development Build: scheme2:///
// Expo Go: exp://localhost:8081
// Web dev: https://localhost:19006
// Web prod: https://yourwebsite.com
```

### `AuthSession.refreshAsync(config, discovery)`

Supported platforms: Android, iOS, Web.

| Parameter   | Type                                                                                                                                             | Description                                           |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------- |
| `config`    | [RefreshTokenRequestConfig](#refreshtokenrequestconfig)                                                                                          | Configuration used to refresh the given access token. |
| `discovery` | [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<[DiscoveryDocument](#discoverydocument), 'tokenEndpoint'\> | The `tokenEndpoint` for a provider.                   |

Refresh an access token.

- If the provider didn't return a `refresh_token` then the access token may not be refreshed.
- If the provider didn't return a `expires_in` then it's assumed that the token does not expire.
- Determine if a token needs to be refreshed via `TokenResponse.isTokenFresh()` or `shouldRefresh()` on an instance of `TokenResponse`.

Returns: `Promise<tokenresponse>`

Returns a discovery document with a valid `tokenEndpoint` URL.

> **See:** [Section 6](https://tools.ietf.org/html/rfc6749#section-6).

### `AuthSession.requestAsync(requestUrl, fetchRequest)`

Supported platforms: Android, iOS, Web.

| Parameter      | Type                          |
| -------------- | ----------------------------- |
| `requestUrl`   | `string`                      |
| `fetchRequest` | [FetchRequest](#fetchrequest) |

Returns: `Promise<t>`

### `AuthSession.resolveDiscoveryAsync(issuerOrDiscovery)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                    |
| ------------------- | --------------------------------------- |
| `issuerOrDiscovery` | [IssuerOrDiscovery](#issuerordiscovery) |

Utility method for resolving the discovery document from an issuer or object.

Returns: `Promise<discoverydocument>`

### `AuthSession.revokeAsync(config, discovery)`

Supported platforms: Android, iOS, Web.

| Parameter   | Type                                                                                                                                                  | Description                                             |
| ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------- |
| `config`    | [RevokeTokenRequestConfig](#revoketokenrequestconfig)                                                                                                 | Configuration used to revoke a refresh or access token. |
| `discovery` | [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<[DiscoveryDocument](#discoverydocument), 'revocationEndpoint'\> | The `revocationEndpoint` for a provider.                |

Revoke a token with a provider. This makes the token unusable, effectively requiring the user to login again.

Returns: `Promise<boolean>`

Resolves to `true` when the revocation request completes. Rejects with an error if the provider does not expose a `revocationEndpoint` or the request fails. Many providers do not support this feature.

## Types

### `AccessTokenRequestConfig`

Supported platforms: Android, iOS, Web.

Config used to exchange an authorization code for an access token.

> **See:** [Section 4.1.3](https://tools.ietf.org/html/rfc6749#section-4.1.3)

Type: [TokenRequestConfig](#tokenrequestconfig) extended by:

| Property    | Type     | Description                                                                                                                                                                 |
| ----------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| code        | `string` | The authorization code received from the authorization server.                                                                                                              |
| redirectUri | `string` | If the `redirectUri` parameter was included in the `AuthRequest`, then it must be supplied here as well. [Section 3.1.2](https://tools.ietf.org/html/rfc6749#section-3.1.2) |

### `AuthDiscoveryDocument`

Supported platforms: Android, iOS, Web.

Type: [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<[DiscoveryDocument](#discoverydocument), 'authorizationEndpoint'\>

### `AuthErrorConfig`

Supported platforms: Android, iOS, Web.

Type: [ResponseErrorConfig](#responseerrorconfig) extended by:

| Property        | Type     | Description                                           |
| --------------- | -------- | ----------------------------------------------------- |
| state(optional) | `string` | Required only if state is used in the initial request |

### `AuthRequestConfig`

Supported platforms: Android, iOS, Web.

Represents an OAuth authorization request as JSON.

| Property                      | Type                                        | Description                                                                                                                                                                                                                                                                                                                                     |
| ----------------------------- | ------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| clientId                      | `string`                                    | A unique string representing the registration information provided by the client. The client identifier is not a secret; it is exposed to the resource owner and shouldn't be used alone for client authentication. The client identifier is unique to the authorization server. [Section 2.2](https://tools.ietf.org/html/rfc6749#section-2.2) |
| clientSecret(optional)        | `string`                                    | Client secret supplied by an auth provider. There is no secure way to store this on the client. [Section 2.3.1](https://tools.ietf.org/html/rfc6749#section-2.3.1)                                                                                                                                                                              |
| codeChallenge(optional)       | `string`                                    | Derived from the code verifier by using the `CodeChallengeMethod`. [Section 4.2](https://tools.ietf.org/html/rfc7636#section-4.2)                                                                                                                                                                                                               |
| codeChallengeMethod(optional) | [CodeChallengeMethod](#codechallengemethod) | Method used to generate the code challenge. You should never use `Plain` as it's not good enough for secure verification. Default: `CodeChallengeMethod.S256`                                                                                                                                                                                   |
| extraParams(optional)         | `Record<string, string>`                    | Extra query params that'll be added to the query string.                                                                                                                                                                                                                                                                                        |
| prompt(optional)              | [Prompt](#prompt)                           | [Prompt[]](#prompt)                                                                                                                                                                                                                                                                                                                             | Informs the server if the user should be prompted to login or consent again. This can be used to present a dialog for switching accounts after the user has already been logged in. [Section 3.1.2.1](https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationRequest) |
| redirectUri                   | `string`                                    | After completing an interaction with a resource owner the server will redirect to this URI. Learn more about [linking in Expo](/guides/linking). [Section 3.1.2](https://tools.ietf.org/html/rfc6749#section-3.1.2)                                                                                                                             |
| responseType(optional)        | [ResponseType](#responsetype)               | string                                                                                                                                                                                                                                                                                                                                          | Specifies what is returned from the authorization server. [Section 3.1.1](https://tools.ietf.org/html/rfc6749#section-3.1.1). Default: `ResponseType.Code`                                                                                                                        |
| scopes(optional)              | `string[]`                                  | List of strings to request access to. [Section 3.3](https://tools.ietf.org/html/rfc6749#section-3.3)                                                                                                                                                                                                                                            |
| state(optional)               | `string`                                    | Used for protection against [Cross-Site Request Forgery](https://tools.ietf.org/html/rfc6749#section-10.12).                                                                                                                                                                                                                                    |
| usePKCE(optional)             | `boolean`                                   | Should use [Proof Key for Code Exchange](https://oauth.net/2/pkce/). Default: `true`                                                                                                                                                                                                                                                            |

### `AuthRequestPromptOptions`

Supported platforms: Android, iOS, Web.

Options passed to the `promptAsync()` method of `AuthRequest`s. This can be used to configure how the web browser should look and behave.

Type: [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[AuthSessionOpenOptions](/versions/latest/sdk/webbrowser#authsessionopenoptions), 'windowFeatures'\> extended by:

| Property                 | Type                                                                                 | Description                                                                                                        |
| ------------------------ | ------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------ |
| url(optional)            | `string`                                                                             | URL to open when prompting the user. This usually should be defined internally and left `undefined` in most cases. |
| windowFeatures(optional) | [WebBrowserWindowFeatures](/versions/latest/sdk/webbrowser#webbrowserwindowfeatures) | Supported platforms: Web. Features to use with `window.open()`.                                                    |

### `AuthSessionRedirectUriOptions`

Supported platforms: Android, iOS, Web.

Options passed to `makeRedirectUri`.

| Property                  | Type                   | Description                                                                                                                                                                                                                                                                                                                                       |
| ------------------------- | ---------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ |
| isTripleSlashed(optional) | `boolean`              | Should the URI be triple slashed `scheme:///path` or double slashed `scheme://path`. Defaults to `false`.                                                                                                                                                                                                                                         |
| native(optional)          | `string`               | Manual scheme to use in Bare and Standalone native app contexts. Takes precedence over all other properties. You must define the URI scheme that will be used in a custom built native application or standalone Expo application. The value should conform to your native app's URI schemes. You can see conformance with `npx uri-scheme list`. |
| path(optional)            | `string`               | Optional path to append to a URI. This will not be added to `native`.                                                                                                                                                                                                                                                                             |
| preferLocalhost(optional) | `boolean`              | Attempt to convert the Expo server IP address to localhost. This is useful for testing when your IP changes often, this will only work for iOS simulator. Default: `false`                                                                                                                                                                        |
| queryParams(optional)     | `Record<string, string | undefined>`                                                                                                                                                                                                                                                                                                                                       | Optional native scheme URI protocol `<scheme>://` that must be built into your native app. |
| scheme(optional)          | `string`               | URI protocol `<scheme>://` that must be built into your native app.                                                                                                                                                                                                                                                                               |

### `AuthSessionResult`

Supported platforms: Android, iOS, Web.

Object returned after an auth request has completed.

- If the user cancelled the authentication session by closing the browser, the result is `{ type: 'cancel' }`.
- If the authentication is dismissed manually with `AuthSession.dismiss()`, the result is `{ type: 'dismiss' }`.
- If the authentication flow is successful, the result is `{ type: 'success', params: Object, event: Object }`.
- If the authentication flow is returns an error, the result is `{ type: 'error', params: Object, error: string, event: Object }`.

Type: `object` shaped as below:

| Property | Type      | Description |
| -------- | --------- | ----------- | -------- | --------- | ----------------------- |
| type     | `'cancel' | 'dismiss'   | 'opened' | 'locked'` | How the auth completed. |

Or `object` shaped as below:

| Property        | Type                            | Description                               |
| --------------- | ------------------------------- | ----------------------------------------- | ---------------------------------------------------------------- |
| authentication  | [TokenResponse](#tokenresponse) | null                                      | Returned when the auth finishes with an `access_token` property. |
| error(optional) | [AuthError](#autherror)         | null                                      | Possible error if the auth failed with type `error`.             |
| errorCode       | `string                         | null`                                     | Deprecated: Legacy error code query param, use error instead.    |
| params          | `Record<string, string>`        | Query params from the `url` as an object. |
| type            | `'error'                        | 'success'`                                | How the auth completed.                                          |
| url             | `string`                        | Auth URL that was opened                  |

### `DiscoveryDocument`

Supported platforms: Android, iOS, Web.

| Property                        | Type                                  | Description                                                                                                                                                                                                                                                                                                  |
| ------------------------------- | ------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| authorizationEndpoint(optional) | `string`                              | Used to interact with the resource owner and obtain an authorization grant. [Section 3.1](https://tools.ietf.org/html/rfc6749#section-3.1)                                                                                                                                                                   |
| discoveryDocument(optional)     | [ProviderMetadata](#providermetadata) | All metadata about the provider.                                                                                                                                                                                                                                                                             |
| endSessionEndpoint(optional)    | `string`                              | URL at the OP to which an RP can perform a redirect to request that the End-User be logged out at the OP. [OPMetadata](https://openid.net/specs/openid-connect-session-1_0-17.html#OPMetadata)                                                                                                               |
| registrationEndpoint(optional)  | `string`                              | URL of the OP's [Dynamic Client Registration](https://openid.net/specs/openid-connect-discovery-1_0.html#OpenID.Registration) Endpoint.                                                                                                                                                                      |
| revocationEndpoint(optional)    | `string`                              | Used to revoke a token (generally for signing out). The spec requires a revocation endpoint, but some providers (like Spotify) do not support one. [Section 2.1](https://tools.ietf.org/html/rfc7009#section-2.1)                                                                                            |
| tokenEndpoint(optional)         | `string`                              | Used by the client to obtain an access token by presenting its authorization grant or refresh token. The token endpoint is used with every authorization grant except for the implicit grant type (since an access token is issued directly). [Section 3.2](https://tools.ietf.org/html/rfc6749#section-3.2) |
| userInfoEndpoint(optional)      | `string`                              | URL of the OP's UserInfo Endpoint used to return info about the authenticated user. [UserInfo](https://openid.net/specs/openid-connect-core-1_0.html#UserInfo)                                                                                                                                               |

> **Deprecated:** See [Facebook authentication](/guides/facebook-authentication).

### `FacebookAuthRequestConfig`

Supported platforms: Android, iOS, Web.

Type: [ProviderAuthRequestConfig](#providerauthrequestconfig) extended by:

| Property                  | Type     | Description                                                               |
| ------------------------- | -------- | ------------------------------------------------------------------------- |
| androidClientId(optional) | `string` | Android native client ID for use in development builds and bare workflow. |
| iosClientId(optional)     | `string` | iOS native client ID for use in development builds and bare workflow.     |
| webClientId(optional)     | `string` | Expo web client ID for use in the browser.                                |

### `FetchRequest`

Supported platforms: Android, iOS, Web.

| Property           | Type                                                                | Description |
| ------------------ | ------------------------------------------------------------------- | ----------- |
| body(optional)     | `Record<string, string>`                                            | -           |
| dataType(optional) | `string`                                                            | -           |
| headers(optional)  | [Headers](https://developer.mozilla.org/en-US/docs/Web/API/Headers) | -           |
| method(optional)   | `string`                                                            | -           |

> **Deprecated:** See [Google authentication](/guides/google-authentication).

### `GoogleAuthRequestConfig`

Supported platforms: Android, iOS, Web.

Type: [ProviderAuthRequestConfig](#providerauthrequestconfig) extended by:

| Property                         | Type      | Description                                                                                                                                                                                                     |
| -------------------------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| androidClientId(optional)        | `string`  | Android native client ID for use in standalone, and bare workflow.                                                                                                                                              |
| iosClientId(optional)            | `string`  | iOS native client ID for use in standalone, bare workflow, and custom clients.                                                                                                                                  |
| language(optional)               | `string`  | Language code ISO 3166-1 alpha-2 region code, such as 'it' or 'pt-PT'.                                                                                                                                          |
| loginHint(optional)              | `string`  | If the user's email address is known ahead of time, it can be supplied to be the default option. If the user has approved access for this app in the past then auth may return without any further interaction. |
| selectAccount(optional)          | `boolean` | When `true`, the service will allow the user to switch between accounts (if possible). Default: `false.`                                                                                                        |
| shouldAutoExchangeCode(optional) | `boolean` | Should the hook automatically exchange the response code for an authentication token. Defaults to `true` on installed apps (Android, iOS) when `ResponseType.Code` is used (default).                           |
| webClientId(optional)            | `string`  | Expo web client ID for use in the browser.                                                                                                                                                                      |

### `Headers`

Supported platforms: Android, iOS, Web.

Type: `Record<string, string>` extended by:

| Property                | Type     | Description |
| ----------------------- | -------- | ----------- |
| Accept(optional)        | `string` | -           |
| Authorization(optional) | `string` | -           |
| Content-Type            | `string` | -           |

### `Issuer`

Supported platforms: Android, iOS, Web.

URL using the `https` scheme with no query or fragment component that the OP asserts as its Issuer Identifier.

Type: `string`

### `IssuerOrDiscovery`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Acceptable values are: [Issuer](#issuer) | [DiscoveryDocument](#discoverydocument)

### `PromptMethod(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                                  |
| ------------------- | ----------------------------------------------------- |
| `options`(optional) | [AuthRequestPromptOptions](#authrequestpromptoptions) |

Returns:

[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<[AuthSessionResult](#authsessionresult)\>

### `ProviderAuthRequestConfig`

Supported platforms: Android, iOS, Web.

Type: [AuthRequestConfig](#authrequestconfig) extended by:

| Property           | Type     | Description                                                                                                                                                                                                                                                                |
| ------------------ | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| language(optional) | `string` | Language for the sign in UI, in the form of ISO 639-1 language code optionally followed by a dash and ISO 3166-1 alpha-2 region code, such as 'it' or 'pt-PT'. Only set this value if it's different from the system default (which you can access via expo-localization). |

### `ProviderMetadata`

Supported platforms: Android, iOS, Web.

OpenID Providers have metadata describing their configuration. [ProviderMetadata](https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata)

Type: `Record<string, string | boolean | string[]>` [ProviderMetadataEndpoints](#providermetadataendpoints) extended by:

| Property                                        | Type                                          | Description                                                                                                                                                                                                                                                                                                                     |
| ----------------------------------------------- | --------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------- | ----------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------ |
| backchannel_logout_session_supported(optional)  | `boolean`                                     | -                                                                                                                                                                                                                                                                                                                               |
| backchannel_logout_supported(optional)          | `boolean`                                     | -                                                                                                                                                                                                                                                                                                                               |
| check_session_iframe(optional)                  | `string`                                      | -                                                                                                                                                                                                                                                                                                                               |
| claim_types_supported(optional)                 | `string[]`                                    | a list of the Claim Types that the OpenID Provider supports.                                                                                                                                                                                                                                                                    |
| claims_locales_supported(optional)              | `string[]`                                    | Languages and scripts supported for values in Claims being returned.                                                                                                                                                                                                                                                            |
| claims_parameter_supported(optional)            | `boolean`                                     | Boolean value specifying whether the OP supports use of the claims parameter, with `true` indicating support. Default: `false`                                                                                                                                                                                                  |
| claims_supported(optional)                      | `string[]`                                    | a list of the Claim Names of the Claims that the OpenID Provider may be able to supply values for. Note that for privacy or other reasons, this might not be an exhaustive list.                                                                                                                                                |
| code_challenge_methods_supported(optional)      | [CodeChallengeMethod[]](#codechallengemethod) | -                                                                                                                                                                                                                                                                                                                               |
| display_values_supported(optional)              | `string[]`                                    | a list of the `display` parameter values that the OpenID Provider supports.                                                                                                                                                                                                                                                     |
| frontchannel_logout_session_supported(optional) | `boolean`                                     | -                                                                                                                                                                                                                                                                                                                               |
| frontchannel_logout_supported(optional)         | `boolean`                                     | -                                                                                                                                                                                                                                                                                                                               |
| grant_types_supported(optional)                 | `string[]`                                    | JSON array containing a list of the OAuth 2.0 Grant Type values that this OP supports. Dynamic OpenID Providers MUST support the authorization_code and implicit Grant Type values and MAY support other Grant Types. If omitted, the default value is ["authorization_code", "implicit"].                                      |
| id_token_signing_alg_values_supported(optional) | `string[]`                                    | JSON array containing a list of the JWS signing algorithms (alg values) supported by the OP for the ID Token to encode the Claims in a JWT. The algorithm RS256 MUST be included.                                                                                                                                               |
| jwks_uri(optional)                              | `string`                                      | URL of the OP's JSON Web Key Set [JWK](https://openid.net/specs/openid-connect-discovery-1_0.html#JWK) document.                                                                                                                                                                                                                |
| op_policy_uri(optional)                         | `string`                                      | URL that the OpenID Provider provides to the person registering the Client to read about the OP's requirements on how the Relying Party can use the data provided by the OP. The registration process SHOULD display this URL to the person registering the Client if it is given.                                              |
| op_tos_uri(optional)                            | `string`                                      | URL that the OpenID Provider provides to the person registering the Client to read about OpenID Provider's terms of service. The registration process should display this URL to the person registering the Client if it is given.                                                                                              |
| request_parameter_supported(optional)           | `boolean`                                     | Boolean value specifying whether the OP supports use of the request parameter, with `true` indicating support. Default: `false`                                                                                                                                                                                                 |
| request_uri_parameter_supported(optional)       | `boolean`                                     | Whether the OP supports use of the `request_uri` parameter, with `true` indicating support. Default: `true`                                                                                                                                                                                                                     |
| require_request_uri_registration(optional)      | `boolean`                                     | Whether the OP requires any `request_uri` values used to be pre-registered using the `request_uris` registration parameter. Pre-registration is required when the value is `true`. Default: `false`                                                                                                                             |
| response_modes_supported(optional)              | `string[]`                                    | JSON array containing a list of the OAuth 2.0 `response_mode` values that this OP supports, as specified in [OAuth 2.0 Multiple Response Type Encoding Practices](https://openid.net/specs/openid-connect-discovery-1_0.html#OAuth.Responses). If omitted, the default for Dynamic OpenID Providers is `["query", "fragment"]`. |
| response_types_supported(optional)              | `string[]`                                    | JSON array containing a list of the OAuth 2.0 `response_type` values that this OP supports. Dynamic OpenID Providers must support the `code`, `id_token`, and the `token` `id_token` Response Type values                                                                                                                       |
| scopes_supported(optional)                      | `string[]`                                    | JSON array containing a list of the OAuth 2.0 [RFC6749](https://openid.net/specs/openid-connect-discovery-1_0.html#RFC6749) scope values that this server supports.                                                                                                                                                             |
| service_documentation(optional)                 | `string`                                      | URL of a page containing human-readable information that developers might want or need to know when using the OpenID Provider. In particular, if the OpenID Provider does not support Dynamic Client Registration, then information on how to register Clients needs to be provided in this documentation.                      |
| subject_types_supported(optional)               | `string[]`                                    | JSON array containing a list of the Subject Identifier types that this OP supports. Valid types include `pairwise` and `public`.                                                                                                                                                                                                |
| token_endpoint_auth_methods_supported(optional) | `('client_secret_post'                        | 'client_secret_basic'                                                                                                                                                                                                                                                                                                           | 'client_secret_jwt' | 'private_key_jwt' | string)[]` | A list of Client authentication methods supported by this Token Endpoint. If omitted, the default is `['client_secret_basic']` |
| ui_locales_supported(optional)                  | `string[]`                                    | Languages and scripts supported for the user interface, represented as a JSON array of [BCP47](https://openid.net/specs/openid-connect-discovery-1_0.html#RFC5646) language tag values.                                                                                                                                         |

### `ProviderMetadataEndpoints`

Supported platforms: Android, iOS, Web.

| Property                                | Type              | Description                                                                                       |
| --------------------------------------- | ----------------- | ------------------------------------------------------------------------------------------------- |
| authorization_endpoint                  | `string`          | URL of the OP's OAuth 2.0 Authorization Endpoint.                                                 |
| device_authorization_endpoint(optional) | `string`          | -                                                                                                 |
| end_session_endpoint(optional)          | `string`          | -                                                                                                 |
| introspection_endpoint(optional)        | `string`          | -                                                                                                 |
| issuer(optional)                        | [Issuer](#issuer) | -                                                                                                 |
| registration_endpoint(optional)         | `string`          | -                                                                                                 |
| revocation_endpoint(optional)           | `string`          | -                                                                                                 |
| token_endpoint                          | `string`          | URL of the OP's OAuth 2.0 Token Endpoint. This is required unless only the Implicit Flow is used. |
| userinfo_endpoint(optional)             | `string`          | URL of the OP's UserInfo Endpoint.                                                                |

### `RefreshTokenRequestConfig`

Supported platforms: Android, iOS, Web.

Config used to request a token refresh, or code exchange.

> **See:** [Section 6](https://tools.ietf.org/html/rfc6749#section-6)

Type: [TokenRequestConfig](#tokenrequestconfig) extended by:

| Property               | Type     | Description                             |
| ---------------------- | -------- | --------------------------------------- |
| refreshToken(optional) | `string` | The refresh token issued to the client. |

### `ResponseErrorConfig`

Supported platforms: Android, iOS, Web.

Server response error.

Type: `Record<string, any>` extended by:

| Property                    | Type     | Description                    |
| --------------------------- | -------- | ------------------------------ |
| error                       | `string` | Error code                     |
| error_description(optional) | `string` | Additional message             |
| error_uri(optional)         | `string` | URI for more info on the error |

### `RevokeTokenRequestConfig`

Supported platforms: Android, iOS, Web.

Config used to revoke a token.

> **See:** [Section 2.1](https://tools.ietf.org/html/rfc7009#section-2.1)

Type: [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[TokenRequestConfig](#tokenrequestconfig)\> extended by:

| Property                | Type                            | Description                                                                                                                 |
| ----------------------- | ------------------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| token                   | `string`                        | The token that the client wants to get revoked. [Section 3.1](https://tools.ietf.org/html/rfc6749#section-3.1)              |
| tokenTypeHint(optional) | [TokenTypeHint](#tokentypehint) | A hint about the type of the token submitted for revocation. [Section 3.2](https://tools.ietf.org/html/rfc6749#section-3.2) |

### `ServerTokenResponseConfig`

Supported platforms: Android, iOS, Web.

Object returned from the server after a token response.

| Property                | Type                    | Description |
| ----------------------- | ----------------------- | ----------- |
| access_token            | `string`                | -           |
| expires_in(optional)    | `number`                | -           |
| id_token(optional)      | `string`                | -           |
| issued_at(optional)     | `number`                | -           |
| refresh_token(optional) | `string`                | -           |
| scope(optional)         | `string`                | -           |
| token_type(optional)    | [TokenType](#tokentype) | -           |

### `TokenRequestConfig`

Supported platforms: Android, iOS, Web.

Config used to request a token refresh, revocation, or code exchange.

| Property               | Type                     | Description                                                                                                                                                                                                                                                                                                                                     |
| ---------------------- | ------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| clientId               | `string`                 | A unique string representing the registration information provided by the client. The client identifier is not a secret; it is exposed to the resource owner and shouldn't be used alone for client authentication. The client identifier is unique to the authorization server. [Section 2.2](https://tools.ietf.org/html/rfc6749#section-2.2) |
| clientSecret(optional) | `string`                 | Client secret supplied by an auth provider. There is no secure way to store this on the client. [Section 2.3.1](https://tools.ietf.org/html/rfc6749#section-2.3.1)                                                                                                                                                                              |
| extraParams(optional)  | `Record<string, string>` | Extra query params that'll be added to the query string.                                                                                                                                                                                                                                                                                        |
| scopes(optional)       | `string[]`               | List of strings to request access to. [Section 3.3](https://tools.ietf.org/html/rfc6749#section-3.3)                                                                                                                                                                                                                                            |

### `TokenResponseConfig`

Supported platforms: Android, iOS, Web.

| Property               | Type                    | Description                                                                                                                                                                                                                                                                                                                                                          |
| ---------------------- | ----------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| accessToken            | `string`                | The access token issued by the authorization server. [Section 4.2.2](https://tools.ietf.org/html/rfc6749#section-4.2.2)                                                                                                                                                                                                                                              |
| expiresIn(optional)    | `number`                | The lifetime in seconds of the access token. For example, the value `3600` denotes that the access token will expire in one hour from the time the response was generated. If omitted, the authorization server should provide the expiration time via other means or document the default value. [Section 4.2.2](https://tools.ietf.org/html/rfc6749#section-4.2.2) |
| idToken(optional)      | `string`                | ID Token value associated with the authenticated session. [TokenResponse](https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse)                                                                                                                                                                                                                       |
| issuedAt(optional)     | `number`                | Time in seconds when the token was received by the client.                                                                                                                                                                                                                                                                                                           |
| refreshToken(optional) | `string`                | The refresh token, which can be used to obtain new access tokens using the same authorization grant. [Section 5.1](https://tools.ietf.org/html/rfc6749#section-5.1)                                                                                                                                                                                                  |
| scope(optional)        | `string`                | The scope of the access token. Only required if it's different to the scope that was requested by the client. [Section 3.3](https://tools.ietf.org/html/rfc6749#section-3.3)                                                                                                                                                                                         |
| state(optional)        | `string`                | Required if the "state" parameter was present in the client authorization request. The exact value received from the client. [Section 4.2.2](https://tools.ietf.org/html/rfc6749#section-4.2.2)                                                                                                                                                                      |
| tokenType(optional)    | [TokenType](#tokentype) | The type of the token issued. Value is case insensitive. [Section 7.1](https://tools.ietf.org/html/rfc6749#section-7.1)                                                                                                                                                                                                                                              |

### `TokenType`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

Access token type.

> **See:** [Section 7.1](https://tools.ietf.org/html/rfc6749#section-7.1)

Acceptable values are: `'bearer'` | `'mac'`

## Enums

### `CodeChallengeMethod`

Supported platforms: Android, iOS, Web.

#### `Plain`

`CodeChallengeMethod.Plain = "plain"`

This should not be used. When used, the code verifier will be sent to the server as-is.

#### `S256`

`CodeChallengeMethod.S256 = "S256"`

The default and recommended method for transforming the code verifier.

- Convert the code verifier to ASCII.
- Create a digest of the string using crypto method SHA256.
- Convert the digest to Base64 and URL encode it.

### `GrantType`

Supported platforms: Android, iOS, Web.

Grant type values used in dynamic client registration and auth requests.

> **See:** [Appendix A.10](https://tools.ietf.org/html/rfc6749#appendix-A.10)

#### `AuthorizationCode`

`GrantType.AuthorizationCode = "authorization_code"`

Used for exchanging an authorization code for one or more tokens.

[Section 4.1.3](https://tools.ietf.org/html/rfc6749#section-4.1.3)

#### `ClientCredentials`

`GrantType.ClientCredentials = "client_credentials"`

Used for client credentials flow.

[Section 4.4.2](https://tools.ietf.org/html/rfc6749#section-4.4.2)

#### `Implicit`

`GrantType.Implicit = "implicit"`

Used when obtaining an access token.

[Section 4.2](https://tools.ietf.org/html/rfc6749#section-4.2)

#### `RefreshToken`

`GrantType.RefreshToken = "refresh_token"`

Used when exchanging a refresh token for a new token.

[Section 6](https://tools.ietf.org/html/rfc6749#section-6)

### `Prompt`

Supported platforms: Android, iOS, Web.

Informs the server if the user should be prompted to login or consent again. This can be used to present a dialog for switching accounts after the user has already been logged in. You should use this in favor of clearing cookies (which is mostly not possible on iOS).

> **See:** [Section 3.1.2.1](https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationRequest).

#### `Consent`

`Prompt.Consent = "consent"`

Server should prompt the user for consent before returning information to the client. If it cannot obtain consent, it must return an error, typically `consent_required`.

#### `Login`

`Prompt.Login = "login"`

The server should prompt the user to reauthenticate. If it cannot reauthenticate the End-User, it must return an error, typically `login_required`.

#### `None`

`Prompt.None = "none"`

Server must not display any auth or consent UI. Can be used to check for existing auth or consent. An error is returned if a user isn't already authenticated or the client doesn't have pre-configured consent for the requested claims, or does not fulfill other conditions for processing the request. The error code will typically be `login_required`, `interaction_required`, or another code defined in [Section 3.1.2.6](https://openid.net/specs/openid-connect-core-1_0.html#AuthError).

#### `SelectAccount`

`Prompt.SelectAccount = "select_account"`

Server should prompt the user to select an account. Can be used to switch accounts. If it can't obtain an account selection choice made by the user, it must return an error, typically `account_selection_required`.

### `ResponseType`

Supported platforms: Android, iOS, Web.

The client informs the authorization server of the desired grant type by using the response type.

> **See:** [Section 3.1.1](https://tools.ietf.org/html/rfc6749#section-3.1.1).

#### `Code`

`ResponseType.Code = "code"`

For requesting an authorization code as described by [Section 4.1.1](https://tools.ietf.org/html/rfc6749#section-4.1.1).

#### `IdToken`

`ResponseType.IdToken = "id_token"`

A custom registered type for getting an `id_token` from Google OAuth.

#### `Token`

`ResponseType.Token = "token"`

For requesting an access token (implicit grant) as described by [Section 4.2.1](https://tools.ietf.org/html/rfc6749#section-4.2.1).

### `TokenTypeHint`

Supported platforms: Android, iOS, Web.

A hint about the type of the token submitted for revocation. If not included then the server should attempt to deduce the token type.

> **See:** [Section 2.1](https://tools.ietf.org/html/rfc7009#section-2.1)

#### `AccessToken`

`TokenTypeHint.AccessToken = "access_token"`

Access token.

[Section 1.4](https://tools.ietf.org/html/rfc6749#section-1.4)

#### `RefreshToken`

`TokenTypeHint.RefreshToken = "refresh_token"`

Refresh token.

[Section 1.5](https://tools.ietf.org/html/rfc6749#section-1.5)

## Advanced usage

### Filtering out AuthSession events in Linking handlers

There are many reasons why you might want to handle inbound links into your app, such as push notifications or just regular deep linking (you can read more about this in the [Linking](/linking/overview)); authentication redirects are only one type of deep link, and `AuthSession` handles these particular links for you. In your own `Linking.addEventListener` handlers, you can filter out deep links that are handled by `AuthSession` by checking if the URL includes the `+expo-auth-session` string -- if it does, you can ignore it. This works because `AuthSession` adds `+expo-auth-session` to the default `returnUrl`; however, if you provide your own `returnUrl`, you may want to consider adding a similar identifier to enable you to filter out `AuthSession` events from other handlers.

### With React Navigation

If you are using deep linking with React Navigation, filtering through `Linking.addEventListener` will not be sufficient because deep linking is [handled differently](https://reactnavigation.org/docs/configuring-links/#advanced-cases). Instead, to filter these events, add a custom `getStateFromPath` function to your linking configuration, and then filter by URL in the same way as described above.

---

---

title: AV
description: A universal library that provides separate APIs for Audio and Video playback.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-av'
packageName: 'expo-av'
iconUrl: '/static/images/packages/expo-av.png'
platforms: ['android', 'ios', 'tvos', 'web']
isDeprecated: true

---

# Expo AV

A universal library that provides separate APIs for Audio and Video playback.
Android, iOS, tvOS, Web

> **Deprecated:** The `Video` and `Audio` APIs from `expo-av` have now been deprecated and replaced by improved versions in [`expo-video`](/versions/latest/sdk/video) and [`expo-audio`](/versions/latest/sdk/audio). We recommend using those libraries instead. `expo-av` is not receiving patches and will be removed in SDK 55.

The [`Audio.Sound`](/versions/latest/sdk/audio) objects and [`Video`](/versions/latest/sdk/video-av) components share a unified imperative API for media playback.

Note that for `Video`, all of the operations are also available via props on the component. However, we recommend using this imperative playback API for most applications where finer control over the state of the video playback is needed.

See the [playlist example app](https://github.com/expo/playlist-example) for an example on the playback API for both `Audio.Sound` and `Video`.

> Audio recording APIs are not available on tvOS (Apple TV).

## Installation

```sh
npx expo install expo-av
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-av` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-av",
        {
          "microphonePermission": "Allow $(PRODUCT_NAME) to access your microphone."
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                   | Default                                             | Description                                                                                                                       |
| ---------------------- | --------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| `microphonePermission` | `"Allow $(PRODUCT_NAME) to access your microphone"` | Only for: iOS. A string to set the [`NSMicrophoneUsageDescription`](#permission-nsmicrophoneusagedescription) permission message. |

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) (you're using native **android** and **ios** projects manually), then you need to configure following permissions in your native projects:

- For Android, add `android.permission.RECORD_AUDIO` permission to your project's **android/app/src/main/AndroidManifest.xml**:

  ```xml
  <uses-permission android:name="android.permission.RECORD_AUDIO" />
  ```

- For iOS, add `NSMicrophoneUsageDescription` to your project's **ios/[app]/Info.plist**:

  ```xml
  <key>NSMicrophoneUsageDescription</key>
  <string>Allow $(PRODUCT_NAME) to access your microphone</string>
  ```

## Usage

On this page, we reference operations on `playbackObject`. Here is an example of obtaining access to the reference for both sound and video:

### Example: `Audio.Sound`

```js
await Audio.setAudioModeAsync({ playsInSilentModeIOS: true });

const playbackObject = new Audio.Sound();
// OR
const { sound: playbackObject } = await Audio.Sound.createAsync(
  { uri: "http://foo/bar.mp3" },
  { shouldPlay: true },
);
```

See the [audio documentation](/versions/latest/sdk/audio-av) for further information on `Audio.Sound.createAsync()`.

### Example: `Video`

```js
...
_handleVideoRef = component => {
  const playbackObject = component;
  ...
}
...

render() {
  return (
      <Video
        ref={this._handleVideoRef}
      />
      ...
  )
}
```

See the [video documentation](/versions/latest/sdk/video-av) for further information.

### Example: `setOnPlaybackStatusUpdate()`

```js
_onPlaybackStatusUpdate = playbackStatus => {
  if (!playbackStatus.isLoaded) {
    // Update your UI for the unloaded state
    if (playbackStatus.error) {
      console.log(`Encountered a fatal error during playback: ${playbackStatus.error}`);
      // Send Expo team the error on Slack or the forums so we can help you debug!
    }
  } else {
    // Update your UI for the loaded state

    if (playbackStatus.isPlaying) {
      // Update your UI for the playing state
    } else {
      // Update your UI for the paused state
    }

    if (playbackStatus.isBuffering) {
      // Update your UI for the buffering state
    }

    if (playbackStatus.didJustFinish && !playbackStatus.isLooping) {
      // The player has just finished playing and will stop. Maybe you want to play something else?
    }

    ...
  }
};

// Load the playbackObject and obtain the reference.
playbackObject.setOnPlaybackStatusUpdate(this._onPlaybackStatusUpdate);
```

### Example: Loop media exactly 20 times

```js
const N = 20;
...

_onPlaybackStatusUpdate = playbackStatus => {
  if (playbackStatus.didJustFinish) {
    if (this.state.numberOfLoops == N - 1) {
      playbackObject.setIsLooping(false);
    }
    this.setState({ numberOfLoops: this.state.numberOfLoops + 1 });
  }
};

...
this.setState({ numberOfLoops: 0 });
// Load the playbackObject and obtain the reference.
playbackObject.setOnPlaybackStatusUpdate(this._onPlaybackStatusUpdate);
playbackObject.setIsLooping(true);
```

## What is seek tolerance and why would I want to use itâ€‚

When asked to seek an A/V item, native player in iOS sometimes may seek to a slightly different time. This technique, mentioned in [Apple documentation](https://developer.apple.com/documentation/avfoundation/avplayer/1387741-seek#discussion), is used to shorten the time of the `seekTo` call (the player may decide to play immediately from a different time than requested, instead of decoding the exact requested part and playing it with the decoding delay).

If precision is important, you can specify the tolerance with which the player will seek. However, this will result in an increased delay.

## API

```js
import { Audio, Video } from "expo-av";
```

## Constants

### `AV._DEFAULT_INITIAL_PLAYBACK_STATUS`

Supported platforms: Android, iOS, tvOS, Web.

Type: [AVPlaybackStatusToSet](/versions/latest/sdk/av#avplaybackstatustoset)

The default initial `AVPlaybackStatusToSet` of all `Audio.Sound` objects and `Video` components is as follows:

```javascript
{
  progressUpdateIntervalMillis: 500,
  positionMillis: 0,
  shouldPlay: false,
  rate: 1.0,
  shouldCorrectPitch: false,
  volume: 1.0,
  isMuted: false,
  isLooping: false,
}
```

This default initial status can be overwritten by setting the optional `initialStatus` in `loadAsync()` or `Audio.Sound.createAsync()`.

## Interfaces

### `AV`

Supported platforms: Android, iOS, tvOS, Web.

AV Methods

### `getStatusAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Gets the `AVPlaybackStatus` of the `playbackObject`.

Returns: `Promise<avplaybackstatus>`

A `Promise` that is fulfilled with the `AVPlaybackStatus` of the `playbackObject`.

### `setStatusAsync(status)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type                                                                   | Description                                                                                                      |
| --------- | ---------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------- |
| `status`  | [AVPlaybackStatusToSet](/versions/latest/sdk/av#avplaybackstatustoset) | The new `AVPlaybackStatusToSet` of the `playbackObject`, whose values will override the current playback status. |

Sets a new `AVPlaybackStatusToSet` on the `playbackObject`. This method can only be called if the media has been loaded.

Returns: `Promise<avplaybackstatus>`

A `Promise` that is fulfilled with the `AVPlaybackStatus` of the `playbackObject` once the new status has been set successfully, or rejects if setting the new status failed. See below for details on `AVPlaybackStatus`.

### `Playback`

Supported platforms: Android, iOS, tvOS, Web.

Extends: [AV](#av)

On the `playbackObject` reference, the following API is provided.

Playback Methods

### `loadAsync(source, initialStatus, downloadAsync)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                 | Type                                                                   | Description                                                                                                                                                                                                                                                                                                |
| ------------------------- | ---------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `source`                  | [AVPlaybackSource](/versions/latest/sdk/av#avplaybacksource)           | The source of the media.                                                                                                                                                                                                                                                                                   |
| `initialStatus`(optional) | [AVPlaybackStatusToSet](/versions/latest/sdk/av#avplaybackstatustoset) | The initial intended `AVPlaybackStatusToSet` of the `playbackObject`, whose values will override the default initial playback status. This value defaults to `{}` if no parameter is passed. For more information see the details on `AVPlaybackStatusToSet` type and the default initial playback status. |
| `downloadAsync`(optional) | `boolean`                                                              | If set to `true`, the system will attempt to download the resource to the device before loading. This value defaults to `true`. Note that at the moment, this will only work for `source`s of the form `require('path/to/file')` or `Asset` objects.                                                       |

Loads the media from `source` into memory and prepares it for playing. This must be called before calling `setStatusAsync()` or any of the convenience set status methods. This method can only be called if the `playbackObject` is in an unloaded state.

Returns: `Promise<avplaybackstatus>`

A `Promise` that is fulfilled with the `AVPlaybackStatus` of the `playbackObject` once it is loaded, or rejects if loading failed. The `Promise` will also reject if the `playbackObject` was already loaded. See below for details on `AVPlaybackStatus`.

### `pauseAsync()`

Supported platforms: Android, iOS, tvOS, Web.

This is equivalent to `playbackObject.setStatusAsync({ shouldPlay: false })`.

Returns: `Promise<avplaybackstatus>`

### `playAsync()`

Supported platforms: Android, iOS, tvOS, Web.

This is equivalent to `playbackObject.setStatusAsync({ shouldPlay: true })`.

Playback may not start immediately after calling this function for reasons such as buffering. Make sure to update your UI based on the `isPlaying` and `isBuffering` properties of the `AVPlaybackStatus`.

Returns: `Promise<avplaybackstatus>`

### `playFromPositionAsync(positionMillis, tolerances)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter              | Type                                        | Description                                                                                                   |
| ---------------------- | ------------------------------------------- | ------------------------------------------------------------------------------------------------------------- |
| `positionMillis`       | `number`                                    | The desired position of playback in milliseconds.                                                             |
| `tolerances`(optional) | [AVPlaybackTolerance](#avplaybacktolerance) | The tolerances are used only on iOS ([more details](#what-is-seek-tolerance-and-why-would-i-want-to-use-it)). |

This is equivalent to `playbackObject.setStatusAsync({ shouldPlay: true, positionMillis, seekMillisToleranceAfter: tolerances.seekMillisToleranceAfter, seekMillisToleranceBefore: tolerances.seekMillisToleranceBefore })`.

Playback may not start immediately after calling this function for reasons such as buffering. Make sure to update your UI based on the `isPlaying` and `isBuffering` properties of the `AVPlaybackStatus`.

Returns: `Promise<avplaybackstatus>`

### `replayAsync(status)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type                                                                   | Description                                                                                                                                                                                                        |
| --------- | ---------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `status`  | [AVPlaybackStatusToSet](/versions/latest/sdk/av#avplaybackstatustoset) | The new `AVPlaybackStatusToSet` of the `playbackObject`, whose values will override the current playback status. `positionMillis` and `shouldPlay` properties will be overridden with respectively `0` and `true`. |

Replays the playback item. When using `playFromPositionAsync(0)` the item is seeked to the position at `0 ms`. On iOS this method uses internal implementation of the player and is able to play the item from the beginning immediately.

Returns: `Promise<avplaybackstatus>`

A `Promise` that is fulfilled with the `AVPlaybackStatus` of the `playbackObject` once the new status has been set successfully, or rejects if setting the new status failed.

### `setIsLoopingAsync(isLooping)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter   | Type      | Description                                                                                 |
| ----------- | --------- | ------------------------------------------------------------------------------------------- |
| `isLooping` | `boolean` | A boolean describing if the media should play once (`false`) or loop indefinitely (`true`). |

This is equivalent to `playbackObject.setStatusAsync({ isLooping })`.

Returns: `Promise<avplaybackstatus>`

### `setIsMutedAsync(isMuted)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type      | Description                                                      |
| --------- | --------- | ---------------------------------------------------------------- |
| `isMuted` | `boolean` | A boolean describing if the audio of this media should be muted. |

This is equivalent to `playbackObject.setStatusAsync({ isMuted })`.

Returns: `Promise<avplaybackstatus>`

### `setPositionAsync(positionMillis, tolerances)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter              | Type                                        | Description                                                                                                   |
| ---------------------- | ------------------------------------------- | ------------------------------------------------------------------------------------------------------------- |
| `positionMillis`       | `number`                                    | The desired position of playback in milliseconds.                                                             |
| `tolerances`(optional) | [AVPlaybackTolerance](#avplaybacktolerance) | The tolerances are used only on iOS ([more details](#what-is-seek-tolerance-and-why-would-i-want-to-use-it)). |

This is equivalent to `playbackObject.setStatusAsync({ positionMillis })`.

Returns: `Promise<avplaybackstatus>`

### `setProgressUpdateIntervalAsync(progressUpdateIntervalMillis)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                      | Type     | Description                                                                                                                        |
| ------------------------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| `progressUpdateIntervalMillis` | `number` | The new minimum interval in milliseconds between calls of `onPlaybackStatusUpdate`. See `setOnPlaybackStatusUpdate()` for details. |

This is equivalent to `playbackObject.setStatusAsync({ progressUpdateIntervalMillis })`.

Returns: `Promise<avplaybackstatus>`

### `setRateAsync(rate, shouldCorrectPitch, pitchCorrectionQuality)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                          | Type                                              | Description                                                                                                                                                                                                                                              |
| ---------------------------------- | ------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `rate`                             | `number`                                          | The desired playback rate of the media. This value must be between `0.0` and `32.0`. Only available on Android API version 23 and later and iOS.                                                                                                         |
| `shouldCorrectPitch`               | `boolean`                                         | A boolean describing if we should correct the pitch for a changed rate. If set to `true`, the pitch of the audio will be corrected (so a rate different than `1.0` will timestretch the audio).                                                          |
| `pitchCorrectionQuality`(optional) | [PitchCorrectionQuality](#pitchcorrectionquality) | iOS time pitch algorithm setting, defaults to `Audio.PitchCorrectionQuality.Medium`. Using `Audio.PitchCorrectionQuality.Low` may cause automatic playback rate changes on iOS >= 17, as `AVAudioTimePitchAlgorithmLowQualityZeroLatency` is deprecated. |

This is equivalent to `playbackObject.setStatusAsync({ rate, shouldCorrectPitch, pitchCorrectionQuality })`.

Returns: `Promise<avplaybackstatus>`

### `setVolumeAsync(volume, audioPan)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter            | Type     | Description                                                  |
| -------------------- | -------- | ------------------------------------------------------------ |
| `volume`             | `number` | A number between `0.0` (silence) and `1.0` (maximum volume). |
| `audioPan`(optional) | `number` | A number between `-1.0` (full left) and `1.0` (full right).  |

This is equivalent to `playbackObject.setStatusAsync({ volume, audioPan })`. Note: `audioPan` is currently only supported on Android using `androidImplementation: 'MediaPlayer'`

Returns: `Promise<avplaybackstatus>`

### `stopAsync()`

Supported platforms: Android, iOS, tvOS, Web.

This is equivalent to `playbackObject.setStatusAsync({ shouldPlay: false, positionMillis: 0 })`.

Returns: `Promise<avplaybackstatus>`

### `unloadAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Unloads the media from memory. `loadAsync()` must be called again in order to be able to play the media.

> This cleanup function will be automatically called in the `Video` component's `componentWillUnmount`.

Returns: `Promise<avplaybackstatus>`

A `Promise` that is fulfilled with the `AVPlaybackStatus` of the `playbackObject` once it is unloaded, or rejects if unloading failed.

## Types

### `AVMetadata`

Supported platforms: Android, iOS, tvOS, Web.

Object passed to the `onMetadataUpdate` function.

| Property        | Type     | Description                                  |
| --------------- | -------- | -------------------------------------------- |
| title(optional) | `string` | A string with the title of the sound object. |

### `AVPlaybackSource`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `union`

The following forms of source are supported:

- A dictionary of the form `AVPlaybackSourceObject`. The `overrideFileExtensionAndroid` property may come in handy if the player receives an URL like `example.com/play` which redirects to `example.com/player.m3u8`. Setting this property to `m3u8` would allow the Android player to properly infer the content type of the media and use proper media file reader.
- `require('path/to/file')` for a media file asset in the source code directory.
- An [`Asset`](/versions/latest/sdk/asset) object for a media file asset.

The [iOS developer documentation](https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/OSX_Technology_Overview/MediaLayer/MediaLayer.html) lists the audio and video formats supported on iOS.

There are two sets of audio and video formats supported on Android: [formats supported by ExoPlayer](https://exoplayer.dev/supported-formats.html) and [formats supported by Android's MediaPlayer](https://developer.android.com/guide/topics/media/platform/supported-formats#formats-table). Expo uses ExoPlayer implementation by default. To use `MediaPlayer`, add `androidImplementation: 'MediaPlayer'` to the initial status of the AV object.

Acceptable values are: `number` | [AVPlaybackSourceObject](#avplaybacksourceobject) | [Asset](/versions/latest/sdk/asset#asset)

### `AVPlaybackSourceObject`

Supported platforms: Android, iOS, tvOS, Web.

One of the possible forms of the `AVPlaybackSource`.

| Property                               | Type                     | Description                                                                                  |
| -------------------------------------- | ------------------------ | -------------------------------------------------------------------------------------------- |
| headers(optional)                      | `Record<string, string>` | An optional headers object passed in a network request.                                      |
| overrideFileExtensionAndroid(optional) | `string`                 | Supported platforms: Android. An optional string overriding extension inferred from the URL. |
| uri                                    | `string`                 | A network URL pointing to a media file.                                                      |

### `AVPlaybackStatus`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `union`

This is the structure returned from all playback API calls and describes the state of the `playbackObject` at that point in time. It can take a form of `AVPlaybackStatusSuccess` or `AVPlaybackStatusError` based on the `playbackObject` load status.

Acceptable values are: [AVPlaybackStatusError](#avplaybackstatuserror) | [AVPlaybackStatusSuccess](#avplaybackstatussuccess)

### `AVPlaybackStatusError`

Supported platforms: Android, iOS, tvOS, Web.

| Property                        | Type     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ------------------------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| androidImplementation(optional) | `string` | Supported platforms: Android. Underlying implementation to use (when set to `MediaPlayer` it uses [Android's MediaPlayer](https://developer.android.com/reference/android/media/MediaPlayer.html), uses [ExoPlayer](https://exoplayer.dev/) otherwise). You may need to use this property if you're trying to play an item unsupported by ExoPlayer ([formats supported by ExoPlayer](https://exoplayer.dev/supported-formats.html), [formats supported by Android's MediaPlayer](https://developer.android.com/guide/topics/media/platform/supported-formats#formats-table)). Note that setting this property takes effect only when the AV object is just being created (toggling its value later will do nothing). |
| error(optional)                 | `string` | A string only present if the `playbackObject` just encountered a fatal error and forced unload. Populated exactly once when an error forces the object to unload.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| isLoaded                        | `false`  | A boolean set to `false`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

### `AVPlaybackStatusSuccess`

Supported platforms: Android, iOS, tvOS, Web.

| Property                            | Type                                              | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ----------------------------------- | ------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| androidImplementation(optional)     | `string`                                          | Supported platforms: Android. Underlying implementation to use (when set to `MediaPlayer` it uses [Android's MediaPlayer](https://developer.android.com/reference/android/media/MediaPlayer.html), uses [ExoPlayer](https://exoplayer.dev/) otherwise). You may need to use this property if you're trying to play an item unsupported by ExoPlayer ([formats supported by ExoPlayer](https://exoplayer.dev/supported-formats.html), [formats supported by Android's MediaPlayer](https://developer.android.com/guide/topics/media/platform/supported-formats#formats-table)). Note that setting this property takes effect only when the AV object is just being created (toggling its value later will do nothing). |
| audioPan                            | `number`                                          | The current audio panning value of the audio for this media.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| didJustFinish                       | `boolean`                                         | A boolean describing if the media just played to completion at the time that this status was received. When the media plays to completion, the function passed in `setOnPlaybackStatusUpdate()` is called exactly once with `didJustFinish` set to `true`. `didJustFinish` is never `true` in any other case.                                                                                                                                                                                                                                                                                                                                                                                                         |
| durationMillis(optional)            | `number`                                          | The duration of the media in milliseconds. This is only present if the media has a duration. Note that in some cases, a media file's duration is readable on Android, but not on iOS.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| isBuffering                         | `boolean`                                         | A boolean describing if the media is currently buffering.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| isLoaded                            | `true`                                            | A boolean set to `true`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| isLooping                           | `boolean`                                         | A boolean describing if the media is currently looping.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| isMuted                             | `boolean`                                         | A boolean describing if the audio of this media is currently muted.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| isPlaying                           | `boolean`                                         | A boolean describing if the media is currently playing.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| pitchCorrectionQuality(optional)    | [PitchCorrectionQuality](#pitchcorrectionquality) | iOS time pitch algorithm setting. See `setRateAsync` for details.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| playableDurationMillis(optional)    | `number`                                          | The position until which the media has been buffered into memory. Like `durationMillis`, this is only present in some cases.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| positionMillis                      | `number`                                          | The current position of playback in milliseconds.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| progressUpdateIntervalMillis        | `number`                                          | The minimum interval in milliseconds between calls of `onPlaybackStatusUpdate`. See `setOnPlaybackStatusUpdate()` for details.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| rate                                | `number`                                          | The current rate of the media.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| seekMillisToleranceAfter(optional)  | `number`                                          | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| seekMillisToleranceBefore(optional) | `number`                                          | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| shouldCorrectPitch                  | `boolean`                                         | A boolean describing if we are correcting the pitch for a changed rate.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| shouldPlay                          | `boolean`                                         | A boolean describing if the media is supposed to play.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| uri                                 | `string`                                          | The location of the media source.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| volume                              | `number`                                          | The current volume of the audio for this media.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

### `AVPlaybackStatusToSet`

Supported platforms: Android, iOS, tvOS, Web.

This is the structure passed to `setStatusAsync()` to modify the state of the `playbackObject`.

| Property                               | Type                                              | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| -------------------------------------- | ------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| androidImplementation(optional)        | `string`                                          | Supported platforms: Android. Underlying implementation to use (when set to `MediaPlayer` it uses [Android's MediaPlayer](https://developer.android.com/reference/android/media/MediaPlayer.html), uses [ExoPlayer](https://exoplayer.dev/) otherwise). You may need to use this property if you're trying to play an item unsupported by ExoPlayer ([formats supported by ExoPlayer](https://exoplayer.dev/supported-formats.html), [formats supported by Android's MediaPlayer](https://developer.android.com/guide/topics/media/platform/supported-formats#formats-table)). Note that setting this property takes effect only when the AV object is just being created (toggling its value later will do nothing). |
| audioPan(optional)                     | `number`                                          | Supported platforms: Android. The current audio panning value of the audio for this media. Note that this only affect the audio of this playbackObject and do NOT affect the system volume. Also note that this is only available when the video was loaded using androidImplementation: 'MediaPlayer'                                                                                                                                                                                                                                                                                                                                                                                                                |
| isLooping(optional)                    | `boolean`                                         | A boolean describing if the media is currently looping.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| isMuted(optional)                      | `boolean`                                         | A boolean describing if the audio of this media is currently muted. Note that this only affect the audio of this playbackObject and do NOT affect the system volume.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| pitchCorrectionQuality(optional)       | [PitchCorrectionQuality](#pitchcorrectionquality) | iOS time pitch algorithm setting. See `setRateAsync` for details.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| positionMillis(optional)               | `number`                                          | The current position of playback in milliseconds.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| progressUpdateIntervalMillis(optional) | `number`                                          | The minimum interval in milliseconds between calls of `onPlaybackStatusUpdate`. See `setOnPlaybackStatusUpdate()` for details.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| rate(optional)                         | `number`                                          | Supported platforms: Android API 23+, iOS. The current rate of the media.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| seekMillisToleranceAfter(optional)     | `number`                                          | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| seekMillisToleranceBefore(optional)    | `number`                                          | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| shouldCorrectPitch(optional)           | `boolean`                                         | A boolean describing if we are correcting the pitch for a changed rate.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| shouldPlay(optional)                   | `boolean`                                         | A boolean describing if the media is supposed to play.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| volume(optional)                       | `number`                                          | The current volume of the audio for this media. Note that this only affect the audio of this playbackObject and do NOT affect the system volume.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

### `AVPlaybackTolerance`

Supported platforms: Android, iOS, tvOS, Web.

| Property                        | Type     | Description |
| ------------------------------- | -------- | ----------- |
| toleranceMillisAfter(optional)  | `number` | -           |
| toleranceMillisBefore(optional) | `number` | -           |

## Enums

### `PitchCorrectionQuality`

Supported platforms: Android, iOS, tvOS, Web.

Check [official Apple documentation](https://developer.apple.com/documentation/avfoundation/audio_settings/time_pitch_algorithm_settings) for more information.

#### `High`

`PitchCorrectionQuality.High = number`

Equivalent to `AVAudioTimePitchAlgorithmSpectral`.

#### `Low`

`PitchCorrectionQuality.Low = number`

Equivalent to `AVAudioTimePitchAlgorithmLowQualityZeroLatency`.

#### `Medium`

`PitchCorrectionQuality.Medium = number`

Equivalent to `AVAudioTimePitchAlgorithmTimeDomain`.

## Permissions

### Android

You must add the following permissions to your **app.json** inside the [`expo.android.permissions`](/versions/latest/config/app#permissions) array.

| Android Permission | Description                            |
| ------------------ | -------------------------------------- |
| `RECORD_AUDIO`     | Allows an application to record audio. |

### iOS

The following usage description keys are used by this library:

| Info.plist Key                 | Description                                                                                |
| ------------------------------ | ------------------------------------------------------------------------------------------ |
| `NSMicrophoneUsageDescription` | A message that tells the user why the app is requesting access to the deviceâ€™s microphone. |

---

---

title: BackgroundFetch
description: A library that provides API for performing background fetch tasks.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-background-fetch'
packageName: 'expo-background-fetch'
platforms: ['android', 'ios']
isDeprecated: true

---

# Expo BackgroundFetch

A library that provides API for performing background fetch tasks.
Android, iOS

> **Deprecated:** The `expo-background-fetch` library is being replaced by a new version in [`expo-background-task`](/versions/latest/sdk/background-task). `expo-background-fetch` is not receiving patches and will be removed in an upcoming release.

`expo-background-fetch` provides an API to perform [background fetch](https://developer.apple.com/documentation/uikit/core_app/managing_your_app_s_life_cycle/preparing_your_app_to_run_in_the_background/updating_your_app_with_background_app_refresh) tasks, allowing you to run specific code periodically in the background to update your app. This module uses [TaskManager](/versions/latest/sdk/task-manager) Native API under the hood.

#### Known issuesâ€‚

`BackgroundFetch` only works when the app is backgrounded, not if the app was terminated or upon device reboot. You can check out [the relevant GitHub issue](https://github.com/expo/expo/issues/3582) for more details.

On iOS the `BackgroundFetch` library requires you to use a [development build](/develop/development-builds/introduction) since Background Fetch is not enabled in the iOS Expo Go app.

## Installation

```sh
npx expo install expo-background-fetch
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configurationâ€‚

To be able to run background fetch tasks on iOS, you need to add the `fetch` value to the `UIBackgroundModes` array in your app's **Info.plist** file. This is required for background fetch to work properly.

**If you're using [CNG](/workflow/continuous-native-generation)**, the required `UIBackgroundModes` configuration will be applied automatically by prebuild.

Configure UIBackgroundModes manually on iOS

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) or you're using a native **ios** project manually, then you'll need to add the following to your **Expo.plist** file:

```xml
<key>UIBackgroundModes</key>
<array>
  <string>fetch</string>
</array>
```

## Usage

Below is an example that demonstrates how to use `expo-background-fetch`.

```tsx
import { StyleSheet, Text, View, Button } from "react-native";
import * as BackgroundFetch from "expo-background-fetch";
import * as TaskManager from "expo-task-manager";
import { useState, useEffect } from "react";

const BACKGROUND_FETCH_TASK = "background-fetch";

// 1. Define the task by providing a name and the function that should be executed
// Note: This needs to be called in the global scope (e.g outside of your React components)
TaskManager.defineTask(BACKGROUND_FETCH_TASK, async () => {
  const now = Date.now();

  console.log(
    `Got background fetch call at date: ${new Date(now).toISOString()}`,
  );

  // Be sure to return the successful result type!
  return BackgroundFetch.BackgroundFetchResult.NewData;
});

// 2. Register the task at some point in your app by providing the same name,
// and some configuration options for how the background fetch should behave
// Note: This does NOT need to be in the global scope and CAN be used in your React components!
async function registerBackgroundFetchAsync() {
  return BackgroundFetch.registerTaskAsync(BACKGROUND_FETCH_TASK, {
    minimumInterval: 60 * 15, // 15 minutes
    stopOnTerminate: false, // android only,
    startOnBoot: true, // android only
  });
}

// 3. (Optional) Unregister tasks by specifying the task name
// This will cancel any future background fetch calls that match the given name
// Note: This does NOT need to be in the global scope and CAN be used in your React components!
async function unregisterBackgroundFetchAsync() {
  return BackgroundFetch.unregisterTaskAsync(BACKGROUND_FETCH_TASK);
}

export default function BackgroundFetchScreen() {
  const [isRegistered, setIsRegistered] = useState(false);
  const [status, setStatus] =
    useState<BackgroundFetch.BackgroundFetchStatus | null>(null);

  useEffect(() => {
    checkStatusAsync();
  }, []);

  const checkStatusAsync = async () => {
    const status = await BackgroundFetch.getStatusAsync();
    const isRegistered = await TaskManager.isTaskRegisteredAsync(
      BACKGROUND_FETCH_TASK,
    );
    setStatus(status);
    setIsRegistered(isRegistered);
  };

  const toggleFetchTask = async () => {
    if (isRegistered) {
      await unregisterBackgroundFetchAsync();
    } else {
      await registerBackgroundFetchAsync();
    }

    checkStatusAsync();
  };

  return (
    <View style={styles.screen}>
      <View style={styles.textContainer}>
        <Text>
          Background fetch status:{" "}
          <Text style={styles.boldText}>
            {status && BackgroundFetch.BackgroundFetchStatus[status]}
          </Text>
        </Text>
        <Text>
          Background fetch task name:{" "}
          <Text style={styles.boldText}>
            {isRegistered ? BACKGROUND_FETCH_TASK : "Not registered yet!"}
          </Text>
        </Text>
      </View>
      <View style={styles.textContainer}></View>
      <Button
        title={
          isRegistered
            ? "Unregister BackgroundFetch task"
            : "Register BackgroundFetch task"
        }
        onPress={toggleFetchTask}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  screen: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
  },
  textContainer: {
    margin: 10,
  },
  boldText: {
    fontWeight: "bold",
  },
});
```

## Triggering background fetches

Background fetches can be difficult to test because they can happen inconsistently. Fortunately, you can trigger background fetches manually when developing your apps.

For iOS, you can use the `Instruments` app on macOS to manually trigger background fetches:

1.  Open the Instruments app. The Instruments app can be searched through Spotlight (âŒ˜ + Space) or opened from `/Applications/Xcode.app/Contents/Applications/Instruments.app`
2.  Select `Time Profiler`
3.  Select your device / simulator and pick the `Expo Go` app
4.  Press the `Record` button in the top left corner
5.  Navigate to the `Document` Menu and select `Simulate Background Fetch - Expo Go`:

For Android, you can set the `minimumInterval` option of your task to a small number and background your application like so:

```tsx
async function registerBackgroundFetchAsync() {
  return BackgroundFetch.registerTaskAsync(BACKGROUND_FETCH_TASK, {
    minimumInterval: 1 * 60, // task will fire 1 minute after app is backgrounded
  });
}
```

## API

```js
import * as BackgroundFetch from "expo-background-fetch";
```

## Methods

> **Deprecated:** Use [`getStatusAsync()`](/versions/latest/sdk/background-task#backgroundtaskgetstatusasync) from `expo-background-task` instead. The `expo-background-fetch` package has been deprecated.

### `BackgroundFetch.getStatusAsync()`

Supported platforms: Android, iOS.

Gets a status of background fetch.

Returns: `Promise<backgroundfetchstatus>`

Returns a promise which fulfils with one of `BackgroundFetchStatus` enum values.

> **Deprecated:** Use [`registerTaskAsync()`](/versions/latest/sdk/background-task#backgroundtaskregistertaskasynctaskname-options) from `expo-background-task` instead. The `expo-background-fetch` package has been deprecated.

### `BackgroundFetch.registerTaskAsync(taskName, options)`

Supported platforms: Android, iOS.

| Parameter           | Type                                              | Description                                                                                                                                                                                        |
| ------------------- | ------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `taskName`          | `string`                                          | Name of the task to register. The task needs to be defined first - see [`TaskManager.defineTask`](/versions/latest/sdk/task-manager#taskmanagerdefinetaskttaskname-taskexecutor) for more details. |
| `options`(optional) | [BackgroundFetchOptions](#backgroundfetchoptions) | An object containing the background fetch options. Default: `{}`                                                                                                                                   |

Registers background fetch task with given name. Registered tasks are saved in persistent storage and restored once the app is initialized.

Returns: `Promise<void>`

Example

```ts
import * as BackgroundFetch from 'expo-background-fetch';
import * as TaskManager from 'expo-task-manager';

TaskManager.defineTask(YOUR_TASK_NAME, () => {
  try {
    const receivedNewData = // do your background fetch here
    return receivedNewData ? BackgroundFetch.BackgroundFetchResult.NewData : BackgroundFetch.BackgroundFetchResult.NoData;
  } catch (error) {
    return BackgroundFetch.BackgroundFetchResult.Failed;
  }
});
```

> **Deprecated:** Use the [`registerTaskAsync()`](/versions/latest/sdk/background-task#backgroundtaskregistertaskasynctaskname-options) method from expo-background-task package, and specify [`BackgroundTaskOptions`](/versions/latest/sdk/background-task#backgroundtaskoptions) argument instead, when setting task interval time.

### `BackgroundFetch.setMinimumIntervalAsync(minimumInterval)`

Supported platforms: Android, iOS.

| Parameter         | Type     | Description                                                                       |
| ----------------- | -------- | --------------------------------------------------------------------------------- |
| `minimumInterval` | `number` | Number of seconds that must elapse before another background fetch can be called. |

Sets the minimum number of seconds that must elapse before another background fetch can be initiated. This value is advisory only and does not indicate the exact amount of time expected between fetch operations.

> This method doesn't take any effect on Android. It is a global value which means that it can overwrite settings from another application opened through Expo Go.

Returns: `Promise<void>`

A promise which fulfils once the minimum interval is set.

> **Deprecated:** Use [`unregisterTaskAsync()`](/versions/latest/sdk/background-task#backgroundtaskunregistertaskasynctaskname) from `expo-background-task` instead. The `expo-background-fetch` package has been deprecated.

### `BackgroundFetch.unregisterTaskAsync(taskName)`

Supported platforms: Android, iOS.

| Parameter  | Type     | Description                     |
| ---------- | -------- | ------------------------------- |
| `taskName` | `string` | Name of the task to unregister. |

Unregisters background fetch task, so the application will no longer be executing this task.

Returns: `Promise<void>`

A promise which fulfils when the task is fully unregistered.

## Interfaces

### `BackgroundFetchOptions`

Supported platforms: Android, iOS.

| Property                  | Type     | Description                                                                                                                                                                       |
| ------------------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| minimumInterval(optional) | `number` | Inexact interval in seconds between subsequent repeats of the background fetch alarm. The final interval may differ from the specified one to minimize wakeups and battery usage. |

- On Android it defaults to **10 minutes**,
- On iOS it calls [`BackgroundFetch.setMinimumIntervalAsync`](#backgroundfetchsetminimumintervalasyncminimuminterval) behind the scenes and the default value is the smallest fetch interval supported by the system **(10-15 minutes)**. Background fetch task receives no data, but your task should return a value that best describes the results of your background fetch work.

|
| startOnBoot(optional) | `boolean` | Supported platforms: Android. Whether to restart background fetch events when the device has finished booting. Default: `false` |
| stopOnTerminate(optional) | `boolean` | Supported platforms: Android. Whether to stop receiving background fetch events after user terminates the app. Default: `true` |

## Enums

### `BackgroundFetchResult`

Supported platforms: Android, iOS.

This return value is to let iOS know what the result of your background fetch was, so the platform can better schedule future background fetches. Also, your app has up to 30 seconds to perform the task, otherwise your app will be terminated and future background fetches may be delayed.

#### `NoData`

`BackgroundFetchResult.NoData = 1`

There was no new data to download.

#### `NewData`

`BackgroundFetchResult.NewData = 2`

New data was successfully downloaded.

#### `Failed`

`BackgroundFetchResult.Failed = 3`

An attempt to download data was made but that attempt failed.

### `BackgroundFetchStatus`

Supported platforms: Android, iOS.

#### `Denied`

`BackgroundFetchStatus.Denied = 1`

The user explicitly disabled background behavior for this app or for the whole system.

#### `Restricted`

`BackgroundFetchStatus.Restricted = 2`

Background updates are unavailable and the user cannot enable them again. This status can occur when, for example, parental controls are in effect for the current user.

#### `Available`

`BackgroundFetchStatus.Available = 3`

Background updates are available for the app.

## Permissions

### Android

On Android, this module might listen when the device is starting up. It's necessary to continue working on tasks started with `startOnBoot`. It also keeps devices "awake" that are going idle and asleep fast, to improve reliability of the tasks. Because of this both the `RECEIVE_BOOT_COMPLETED` and `WAKE_LOCK` permissions are added automatically.

| Android Permission       | Description                                                                                                            |
| ------------------------ | ---------------------------------------------------------------------------------------------------------------------- |
| `RECEIVE_BOOT_COMPLETED` | Allows an application to receive the Intent.ACTION_BOOT_COMPLETED that is broadcast after the system finishes booting. |
| `WAKE_LOCK`              | Allows using PowerManager WakeLocks to keep processor from sleeping or screen from dimming.                            |

---

---

title: BackgroundTask
description: A library that provides an API for running background tasks.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-background-task'
packageName: 'expo-background-task'
platforms: ['android', 'ios', 'tvos', 'expo-go']

---

# Expo BackgroundTask

A library that provides an API for running background tasks.
Android, iOS, tvOS, Included in Expo Go

`expo-background-task` provides an API to run deferrable background tasks in a way that optimizes battery and power consumption on the end user's device. This module uses the [`WorkManager`](https://developer.android.com/topic/libraries/architecture/workmanager) API on Android and the [`BGTaskScheduler`](https://developer.apple.com/documentation/backgroundtasks/bgtaskscheduler) API on iOS to schedule tasks. It also uses the [`expo-task-manager`](/versions/latest/sdk/task-manager) Native API to run JavaScript tasks.

[Watch: Expo Background Task Deep Dive](https://www.youtube.com/watch?v=4lFus7TvayI)

## Background tasks

A background task is a deferrable unit of work that is performed in the background, outside your app's lifecycle. This is useful for tasks that need to be executed when the app is inactive, such as syncing data with a server, fetching new content, or even checking if there are any [`expo-updates`](/versions/latest/sdk/updates).

### When are background tasks run?

The Expo Background Task API leverages each platform to execute tasks at the most optimal time for both the user and the device when the app is in the background.

This means that the task may not run immediately after it is scheduled, but it will run at some point in the future if the system decides so. You can specify a minimum interval in minutes for the task to run. The task will execute sometime after the interval has passed, provided the specified conditions are met.

A background task will only run if the battery has enough charge (or the device is plugged into power) and the network is available. Without these conditions, the task won't execute. The exact behavior will vary depending on the operating system.

### When will they be stopped?

Background tasks are managed by platform APIs and system constraints. Knowing when tasks stop helps plan their use effectively.

- Background tasks are stopped if the user kills the app. Tasks resume when the app is restarted.
- If the system stops the app or the device reboots, background tasks will resume, and the app will be restarted.

On Android, removing an app from the recent apps list doesn't completely stop it, whereas on iOS, swiping it away in the app switcher fully terminates it.

> On Android, behavior varies by device vendor. For example, some implementations treat removing an app from the recent apps list as killing it. Read more about these differences here: [https://dontkillmyapp.com](https://dontkillmyapp.com).

## Platform differences

### Androidâ€‚

On Android, the [`WorkManager`](https://developer.android.com/topic/libraries/architecture/workmanager) API allows specifying a minimum interval for a task to run (minimum 15 minutes). The task will execute sometime after the interval has passed, provided the specified conditions are met.

### iOSâ€‚

On iOS, the [`BGTaskScheduler`](https://developer.apple.com/documentation/backgroundtasks/bgtaskscheduler) API decides the best time to launch your background task. The system will consider the battery level, the network availability, and the user's usage patterns to determine when to run the task. You can still specify a minimum interval for the task to run, but the system may choose to run the task at a later time.

## Known limitations

### iOSâ€‚

The [`Background Tasks`](https://developer.apple.com/documentation/backgroundtasks) API is unavailable on iOS simulators. It is only available when running on a physical device.

## Installation

```sh
npx expo install expo-background-task
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configurationâ€‚

To be able to run background tasks on iOS, you need to add the `processing` value to the `UIBackgroundModes` array in your app's **Info.plist** file. This is required for background fetch to work properly.

**If you're using [CNG](/workflow/continuous-native-generation)**, the required `UIBackgroundModes` configuration will be applied automatically by prebuild.

Configure UIBackgroundModes manually on iOS

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)), then you'll need to add the following to your **Info.plist** file:

```xml
<key>UIBackgroundModes</key>
  <array>
    <string>processing</string>
  </array>
</key>
```

## Usage

Below is an example that demonstrates how to use `expo-background-task`.

```tsx
import { StyleSheet, Text, View, Button } from "react-native";
import * as BackgroundTask from "expo-background-task";
import * as TaskManager from "expo-task-manager";
import { useEffect, useState } from "react";

const BACKGROUND_TASK_IDENTIFIER = "background-task";

// Register and create the task so that it is available also when the background task screen
// (a React component defined later in this example) is not visible.
// Note: This needs to be called in the global scope, not in a React component.
TaskManager.defineTask(BACKGROUND_TASK_IDENTIFIER, async () => {
  try {
    const now = Date.now();
    console.log(
      `Got background task call at date: ${new Date(now).toISOString()}`,
    );
  } catch (error) {
    console.error("Failed to execute the background task:", error);
    return BackgroundTask.BackgroundTaskResult.Failed;
  }
  return BackgroundTask.BackgroundTaskResult.Success;
});

// 2. Register the task at some point in your app by providing the same name
// Note: This does NOT need to be in the global scope and CAN be used in your React components!
async function registerBackgroundTaskAsync() {
  return BackgroundTask.registerTaskAsync(BACKGROUND_TASK_IDENTIFIER);
}

// 3. (Optional) Unregister tasks by specifying the task name
// This will cancel any future background task calls that match the given name
// Note: This does NOT need to be in the global scope and CAN be used in your React components!
async function unregisterBackgroundTaskAsync() {
  return BackgroundTask.unregisterTaskAsync(BACKGROUND_TASK_IDENTIFIER);
}

export default function BackgroundTaskScreen() {
  const [isRegistered, setIsRegistered] = useState<boolean>(false);
  const [status, setStatus] =
    useState<BackgroundTask.BackgroundTaskStatus | null>(null);

  useEffect(() => {
    updateAsync();
  }, []);

  const updateAsync = async () => {
    const status = await BackgroundTask.getStatusAsync();
    setStatus(status);
    const isRegistered = await TaskManager.isTaskRegisteredAsync(
      BACKGROUND_TASK_IDENTIFIER,
    );
    setIsRegistered(isRegistered);
  };

  const toggle = async () => {
    if (!isRegistered) {
      await registerBackgroundTaskAsync();
    } else {
      await unregisterBackgroundTaskAsync();
    }
    await updateAsync();
  };

  return (
    <View style={styles.screen}>
      <View style={styles.textContainer}>
        <Text>
          Background Task Service Availability:{" "}
          <Text style={styles.boldText}>
            {status ? BackgroundTask.BackgroundTaskStatus[status] : null}
          </Text>
        </Text>
      </View>
      <Button
        disabled={status === BackgroundTask.BackgroundTaskStatus.Restricted}
        title={
          isRegistered ? "Cancel Background Task" : "Schedule Background Task"
        }
        onPress={toggle}
      />
      <Button
        title="Check Background Task Status"
        onPress={updateAsync}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  screen: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
  },
  textContainer: {
    margin: 10,
  },
  boldText: {
    fontWeight: "bold",
  },
});
```

## Multiple background tasks

Since the Background Tasks API on iOS and the WorkManager API on Android limit the number of tasks that can be scheduled for a single app, Expo Background Task uses a single worker on both platforms. While you can define multiple JavaScript background tasks, they will all run through this single worker.

The last registered background task determines the minimum interval for execution.

## Testing background tasks

Background tasks can be tested using the [`triggerTaskWorkerForTestingAsync`](/versions/latest/sdk/background-task#backgroundtasktriggertaskworkerfortestingasync) method. This method will run all registered tasks directly on Android and invoke the `BGTaskScheduler` on iOS. This is useful for testing the behavior of your background tasks without having to wait for the system to trigger them.

This method is only available in development mode. It will not work in production builds.

```tsx
import * as BackgroundTask from "expo-background-task";
import { Button } from "react-native";

function App() {
  const triggerTask = async () => {
    await BackgroundTask.triggerTaskWorkerForTestingAsync();
  };

  return (
    <Button
      title="Trigger Background Task"
      onPress={triggerTask}
    />
  );
}
```

## Inspecting background tasksâ€‚

To troubleshoot or debug issues with background tasks on Android, use the `adb` tool included with the Android SDK to inspect scheduled tasks:

```sh
adb shell dumpsys jobscheduler | grep -A 40 -m 1 -E "JOB #.* "
```

The output from this command will show you the scheduled tasks for your app, including their status, constraints, and other information. Look for the `JOB` line to find the ID of the job and other details in the output:

```text
JOB #u0a453/275: 216a359 <package-name>/androidx.work.impl.background.systemjob.SystemJobService
  u0a453 tag=*job*/<package-name>/androidx.work.impl.background.systemjob.SystemJobService#275
  Source: uid=u0a453 user=0 pkg=<package-name>
  ...
  Required constraints: TIMING_DELAY CONNECTIVITY UID_NOT_RESTRICTED [0x90100000]
  Preferred constraints:
  Dynamic constraints:
  Satisfied constraints: CONNECTIVITY DEVICE_NOT_DOZING BACKGROUND_NOT_RESTRICTED TARE_WEALTH WITHIN_QUOTA UID_NOT_RESTRICTED [0x1b500000]
  Unsatisfied constraints: TIMING_DELAY [0x80000000]
  ...
  Enqueue time: -8m12s280ms
  Run time: earliest=+6m47s715ms, latest=none, original latest=none
  Restricted due to: none.
  Ready: false (job=false user=true !restricted=true !pending=true !active=true !backingup=true comp=true)
```

The first line contains the Job ID (275). The `Run time: earliest` value indicates the earliest time the task may start, while `enqueue time` shows how long ago the task was scheduled.

To force a task to run, use the `adb shell am broadcast` command. Move your app to the background before running this command, as the task will not run if the app is in the foreground.

```sh
adb shell cmd jobscheduler run -f
```

Where `JOB_ID` would be the identifier of the job you want to run that you found in the previous step.

## Troubleshooting background tasksâ€‚

iOS does not have a tool similar to `adb` for inspecting background tasks. To test background tasks on iOS, use the built-in [`triggerTaskWorkerForTestingAsync`](/versions/latest/sdk/background-task#backgroundtasktriggertaskworkerfortestingasync) method. This method simulates the system triggering the task.

You can trigger this method from your app in debug mode (it does not work in production builds) to test the behavior of your background tasks without waiting for the system. If your background task configuration is incorrect, you will see the error description in the Xcode console:

```text
No task request with identifier com.expo.modules.backgroundtask.processing has been scheduled
```

The above error tells you that you need to run prebuild to apply the changes to your app's configuration.

This error also means you must run prebuild to apply your background task configuration to the app. Additionally, ensure you have defined and registered a background task as shown in [this example](/versions/latest/sdk/background-task#usage).

## API

```js
import * as BackgroundTask from "expo-background-task";
```

## Methods

### `BackgroundTask.getStatusAsync()`

Supported platforms: Android, iOS, tvOS.

Returns the status for the Background Task API. On web, it always returns `BackgroundTaskStatus.Restricted`, while on native platforms it returns `BackgroundTaskStatus.Available`.

Returns: `Promise<backgroundtaskstatus>`

A BackgroundTaskStatus enum value or `null` if not available.

### `BackgroundTask.registerTaskAsync(taskName, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                            | Description                                                                                                                                                                                       |
| ------------------- | ----------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `taskName`          | `string`                                        | Name of the task to register. The task needs to be defined first - see [`TaskManager.defineTask`](/versions/latest/sdk/task-manager#taskmanagerdefinetasktaskname-taskexecutor) for more details. |
| `options`(optional) | [BackgroundTaskOptions](#backgroundtaskoptions) | An object containing the background task options. Default: `{}`                                                                                                                                   |

Registers a background task with the given name. Registered tasks are saved in persistent storage and restored once the app is initialized.

Returns: `Promise<void>`

Example

```ts
import * as TaskManager from "expo-task-manager";

// Register the task outside of the component
TaskManager.defineTask(BACKGROUND_TASK_IDENTIFIER, () => {
  try {
    await AsyncStorage.setItem(LAST_TASK_DATE_KEY, Date.now().toString());
  } catch (error) {
    console.error("Failed to save the last fetch date", error);
    return BackgroundTaskResult.Failed;
  }
  return BackgroundTaskResult.Success;
});
```

You can now use the `registerTaskAsync` function to register the task:

```ts
BackgroundTask.registerTaskAsync(BACKGROUND_TASK_IDENTIFIER, {});
```

### `BackgroundTask.triggerTaskWorkerForTestingAsync()`

Supported platforms: Android, iOS, tvOS.

When in debug mode this function will trigger running the background tasks. This function will only work for apps built in debug mode. This method is only available in development mode. It will not work in production builds.

Returns: `Promise<boolean>`

A promise which fulfils when the task is triggered.

### `BackgroundTask.unregisterTaskAsync(taskName)`

Supported platforms: Android, iOS, tvOS.

| Parameter  | Type     | Description                     |
| ---------- | -------- | ------------------------------- |
| `taskName` | `string` | Name of the task to unregister. |

Unregisters a background task, so the application will no longer be executing this task.

Returns: `Promise<void>`

A promise which fulfils when the task is fully unregistered.

## Types

### `BackgroundTaskOptions`

Supported platforms: Android, iOS, tvOS.

Options for registering a background task

| Property                  | Type     | Description                                                                                                                                                                 |
| ------------------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| minimumInterval(optional) | `number` | Inexact interval in minutes between subsequent repeats of the background tasks. The final interval may differ from the specified one to minimize wakeups and battery usage. |

- Defaults to once every 12 hours (The minimum interval is 15 minutes)
- The system controls the background task execution interval and treats the specified value as a minimum delay. Tasks won't run exactly on schedule. On iOS, short intervals are often ignoredâ€”the system typically runs background tasks during specific windows, such as overnight.

|

## Enums

### `BackgroundTaskResult`

Supported platforms: Android, iOS, tvOS.

Return value for background tasks.

#### `Success`

`BackgroundTaskResult.Success = 1`

The task finished successfully.

#### `Failed`

`BackgroundTaskResult.Failed = 2`

The task failed.

### `BackgroundTaskStatus`

Supported platforms: Android, iOS, tvOS.

Availability status for background tasks

#### `Restricted`

`BackgroundTaskStatus.Restricted = 1`

Background tasks are unavailable.

#### `Available`

`BackgroundTaskStatus.Available = 2`

Background tasks are available for the app.

---

---

title: Barometer
description: A library that provides access to device's barometer sensor.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-sensors'
packageName: 'expo-sensors'
iconUrl: '/static/images/packages/expo-sensors.png'
platforms: ['android', 'ios*', 'expo-go']

---

# Expo Barometer

A library that provides access to device's barometer sensor.
Android, iOS (device only), Included in Expo Go

`Barometer` from `expo-sensors` provides access to the device barometer sensor to respond to changes in air pressure, which is measured in hectopascals (`hPa`).

## Installation

```sh
npx expo install expo-sensors
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import {
  StyleSheet,
  Text,
  TouchableOpacity,
  View,
  Platform,
} from "react-native";
import { Barometer } from "expo-sensors";
import { useState } from "react";

export default function App() {
  const [{ pressure, relativeAltitude }, setData] = useState({
    pressure: 0,
    relativeAltitude: 0,
  });
  const [subscription, setSubscription] = useState(null);

  const toggleListener = () => {
    subscription ? unsubscribe() : subscribe();
  };

  const subscribe = () => {
    setSubscription(Barometer.addListener(setData));
  };

  const unsubscribe = () => {
    subscription && subscription.remove();
    setSubscription(null);
  };

  return (
    <View style={styles.wrapper}>
      <Text>Barometer: Listener {subscription ? "ACTIVE" : "INACTIVE"}</Text>
      <Text>Pressure: {pressure} hPa</Text>
      <Text>
        Relative Altitude:{" "}
        {Platform.OS === "ios"
          ? `${relativeAltitude} m`
          : `Only available on iOS`}
      </Text>
      <TouchableOpacity
        onPress={toggleListener}
        style={styles.button}
      >
        <Text>Toggle listener</Text>
      </TouchableOpacity>
    </View>
  );
}

const styles = StyleSheet.create({
  button: {
    justifyContent: "center",
    alignItems: "center",
    backgroundColor: "#eee",
    padding: 10,
    marginTop: 15,
  },
  wrapper: {
    flex: 1,
    alignItems: "stretch",
    justifyContent: "center",
    paddingHorizontal: 20,
  },
});
```

## API

```js
import { Barometer } from "expo-sensors";
```

## Classes

### `Barometer`

Supported platforms: Android, iOS.

Type: Class extends [DeviceSensor](/versions/latest/sdk/sensors)<[BarometerMeasurement](#barometermeasurement)\>

Barometer Methods

### `addListener(listener)`

Supported platforms: Android, iOS.

| Parameter  | Type                                                     | Description                                                                                                                                                    |
| ---------- | -------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `listener` | Listener<[BarometerMeasurement](#barometermeasurement)\> | A callback that is invoked when a barometer update is available. When invoked, the listener is provided with a single argument that is `BarometerMeasurement`. |

Subscribe for updates to the barometer.

Returns: `EventSubscription`

A subscription that you can call `remove()` on when you would like to unsubscribe the listener.

Example

```ts
const subscription = Barometer.addListener(({ pressure, relativeAltitude }) => {
  console.log({ pressure, relativeAltitude });
});
```

### `getListenerCount()`

Supported platforms: Android, iOS.

Returns the registered listeners count.

Returns: `number`

### `getPermissionsAsync()`

Supported platforms: Android, iOS.

Checks user's permissions for accessing sensor.

Returns: `Promise<permissionresponse>`

### `hasListeners()`

Supported platforms: Android, iOS.

Returns boolean which signifies if sensor has any listeners registered.

Returns: `boolean`

### `isAvailableAsync()`

Supported platforms: Android, iOS.

> You should always check the sensor availability before attempting to use it.

Check the availability of the device barometer. Requires at least Android 2.3 (API Level 9) and iOS 8.

Returns: `Promise<boolean>`

A promise that resolves to a `boolean` denoting the availability of the sensor.

### `removeAllListeners()`

Supported platforms: Android, iOS.

Removes all registered listeners.

Returns: `void`

### `removeSubscription(subscription)`

Supported platforms: Android, iOS.

| Parameter      | Type                | Description               |
| -------------- | ------------------- | ------------------------- |
| `subscription` | `EventSubscription` | A subscription to remove. |

Removes the given subscription.

Returns: `void`

### `requestPermissionsAsync()`

Supported platforms: Android, iOS.

Asks the user to grant permissions for accessing sensor.

Returns: `Promise<permissionresponse>`

### `setUpdateInterval(intervalMs)`

Supported platforms: Android, iOS.

| Parameter    | Type     | Description                                                                                                                                             |
| ------------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `intervalMs` | `number` | Desired interval in milliseconds between sensor updates. Starting from Android 12 (API level 31), the system has a 200ms limit for each sensor updates. |

Set the sensor update interval.

Returns: `void`

## Interfaces

### `Subscription`

Supported platforms: Android, iOS.

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Supported platforms: Android, iOS.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

## Types

### `BarometerMeasurement`

Supported platforms: Android, iOS.

The altitude data returned from the native sensors.

| Property                   | Type     | Description                                            |
| -------------------------- | -------- | ------------------------------------------------------ |
| pressure                   | `number` | Measurement in hectopascals (`hPa`).                   |
| relativeAltitude(optional) | `number` | Supported platforms: iOS. Measurement in meters (`m`). |
| timestamp                  | `number` | Timestamp of the measurement in seconds.               |

### `PermissionExpiration`

Supported platforms: Android, iOS.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionResponse`

Supported platforms: Android, iOS.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

## Enums

### `PermissionStatus`

Supported platforms: Android, iOS.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

## Units and providers

| OS      | Units   | Provider                                                                                                | Description                                                                                                                         |
| ------- | ------- | ------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------- |
| iOS     | _`hPa`_ | [`CMAltimeter`](https://developer.apple.com/documentation/coremotion/cmaltimeter)                       | Altitude events reflect the change in the current altitude, not the absolute altitude.                                              |
| Android | _`hPa`_ | [`Sensor.TYPE_PRESSURE`](https://developer.android.com/reference/android/hardware/Sensor#TYPE_PRESSURE) | Monitoring air pressure changes.                                                                                                    |
| Web     | âœ—       | âœ—                                                                                                       | This sensor is not available on the web and cannot be accessed. An `UnavailabilityError` will be thrown if you attempt to get data. |

---

---

title: Battery
description: A library that provides battery information for the physical device, as well as corresponding event listeners.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-battery'
packageName: 'expo-battery'
iconUrl: '/static/images/packages/expo-battery.png'
platforms: ['android', 'ios*', 'web', 'expo-go']

---

# Expo Battery

A library that provides battery information for the physical device, as well as corresponding event listeners.
Android, iOS (device only), Web, Included in Expo Go

`expo-battery` provides battery information for the physical device (such as battery level, whether or not the device is charging, and more) as well as corresponding event listeners.

## Installation

```sh
npx expo install expo-battery
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { StyleSheet, Text, View } from "react-native";
import { useBatteryLevel } from "expo-battery";

export default function App() {
  const batteryLevel = useBatteryLevel();

  return (
    <View style={styles.container}>
      <Text>Current Battery Level: {batteryLevel}</Text>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    marginTop: 15,
    alignItems: "center",
    justifyContent: "center",
  },
});
```

## API

```js
import * as Battery from "expo-battery";
```

## Hooks

### `useBatteryLevel()`

Supported platforms: Android, iOS, Web.

Gets the device's battery level, as in [`getBatteryLevelAsync`](#getbatterylevelasync).

Returns: `number`

The battery level of the device.

Example

```ts
const batteryLevel = useBatteryLevel();
```

### `useBatteryState()`

Supported platforms: Android, iOS, Web.

Gets the device's battery state, as in [`getBatteryStateAsync`](#getbatterystateasync).

Returns: `BatteryState`

The battery state of the device.

Example

```ts
const batteryState = useBatteryState();
```

### `useLowPowerMode()`

Supported platforms: Android, iOS, Web.

Boolean that indicates if the device is in low power or power saver mode, as in [`isLowPowerModeEnabledAsync`](#islowpowermodeenabledasync).

Returns: `boolean`

Returns a boolean indicating if the device is in low power mode.

Example

```ts
const lowPowerMode = useLowPowerMode();
```

### `usePowerState()`

Supported platforms: Android, iOS, Web.

Gets the device's power state information, as in [`getPowerStateAsync`](#getpowerstateasync).

Returns: `PowerState`

Returns power state information.

Example

```ts
const { lowPowerMode, batteryLevel, batteryState } = usePowerState();
```

## Methods

### `getBatteryLevelAsync()`

Supported platforms: Android, iOS, Web.

Gets the battery level of the device as a number between `0` and `1`, inclusive. If the device does not support retrieving the battery level, this method returns `-1`. On web, this method always returns `1`.

Returns: `Promise<number>`

A `Promise` that fulfils with a number between `0` and `1` representing the battery level, or `-1` if the device does not provide it.

Example

```ts
await Battery.getBatteryLevelAsync();
// 0.759999
```

### `getBatteryStateAsync()`

Supported platforms: Android, iOS, Web.

Tells the battery's current state. On web, this always returns `BatteryState.UNKNOWN`.

Returns: `Promise<batterystate>`

Returns a `Promise` which fulfills with a [`Battery.BatteryState`](#batterystate) enum value for whether the device is any of the four states.

Example

```ts
await Battery.getBatteryStateAsync();
// BatteryState.CHARGING
```

### `getPowerStateAsync()`

Supported platforms: Android, iOS, Web.

Gets the power state of the device including the battery level, whether it is plugged in, and if the system is currently operating in Power Saver Mode (Android) or Low Power Mode (iOS). This method re-throws any errors that occur when retrieving any of the power-state information.

Returns: `Promise<powerstate>`

Returns a `Promise` which fulfills with [`PowerState`](#powerstate) object.

Example

```ts
await Battery.getPowerStateAsync();
// {
//   batteryLevel: 0.759999,
//   batteryState: BatteryState.UNPLUGGED,
//   lowPowerMode: true,
// }
```

### `isAvailableAsync()`

Supported platforms: Android, iOS, Web.

Resolves with whether the battery API is available on the current device. The value of this property is `true` on Android and physical iOS devices and `false` on iOS simulators. On web, it depends on whether the browser supports the web battery API.

Returns: `Promise<boolean>`

### `isBatteryOptimizationEnabledAsync()`

Supported platforms: Android, iOS, Web.

Checks whether battery optimization is enabled for your application. If battery optimization is enabled for your app, background tasks might be affected when your app goes into doze mode state. (only on Android 6.0 or later)

Returns: `Promise<boolean>`

Returns a `Promise` which fulfills with a `boolean` value of either `true` or `false`, indicating whether the battery optimization is enabled or disabled, respectively. (Android only)

Example

```ts
await Battery.isBatteryOptimizationEnabledAsync();
// true
```

### `isLowPowerModeEnabledAsync()`

Supported platforms: Android, iOS, Web.

Gets the current status of Power Saver mode on Android and Low Power mode on iOS. If a platform doesn't support Low Power mode reporting (like web, older Android devices), the reported low-power state is always `false`, even if the device is actually in low-power mode.

Returns: `Promise<boolean>`

Returns a `Promise` which fulfills with a `boolean` value of either `true` or `false`, indicating whether low power mode is enabled or disabled.

Example

Power Saver Mode (Android) or Low Power Mode (iOS) are enabled.

```ts
await Battery.isLowPowerModeEnabledAsync();
// true
```

## Event Subscriptions

### `addBatteryLevelListener(listener)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type                                                     | Description                                                                                                                                    |
| ---------- | -------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| `listener` | (event: [BatteryLevelEvent](#batterylevelevent)) => void | A callback that is invoked when battery level changes. The callback is provided a single argument that is an object with a `batteryLevel` key. |

Subscribe to the battery level change updates.

On Android devices, the event fires only when significant changes happens, which is when the battery level drops below [`android.intent.action.BATTERY_LOW`](https://developer.android.com/reference/android/content/Intent#ACTION_BATTERY_LOW) or rises above [`android.intent.action.BATTERY_OKAY`](https://developer.android.com/reference/android/content/Intent#ACTION_BATTERY_OKAY) from a low battery level. See [Monitor the Battery Level and Charging State](https://developer.android.com/training/monitoring-device-state/battery-monitoring) in Android documentation for more information.

On iOS devices, the event fires when the battery level drops one percent or more, but is only fired once per minute at maximum.

On web, the event never fires.

Returns: `EventSubscription`

A `Subscription` object on which you can call `remove()` to unsubscribe from the listener.

### `addBatteryStateListener(listener)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type                                                     | Description                                                                                                                                    |
| ---------- | -------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| `listener` | (event: [BatteryStateEvent](#batterystateevent)) => void | A callback that is invoked when battery state changes. The callback is provided a single argument that is an object with a `batteryState` key. |

Subscribe to the battery state change updates to receive an object with a [`Battery.BatteryState`](#batterystate) enum value for whether the device is any of the four states.

On web, the event never fires.

Returns: `EventSubscription`

A `Subscription` object on which you can call `remove()` to unsubscribe from the listener.

### `addLowPowerModeListener(listener)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type                                               | Description                                                                                                                                                                         |
| ---------- | -------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `listener` | (event: [PowerModeEvent](#powermodeevent)) => void | A callback that is invoked when Power Saver Mode (Android) or Low Power Mode (iOS) changes. The callback is provided a single argument that is an object with a `lowPowerMode` key. |

Subscribe to Power Saver Mode (Android) or Low Power Mode (iOS) updates. The event fires whenever the power mode is toggled.

On web, the event never fires.

Returns: `EventSubscription`

A `Subscription` object on which you can call `remove()` to unsubscribe from the listener.

## Interfaces

### `Subscription`

Supported platforms: Android, iOS, Web.

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Supported platforms: Android, iOS, Web.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

## Types

### `BatteryLevelEvent`

Supported platforms: Android, iOS, Web.

| Property     | Type     | Description                                                                       |
| ------------ | -------- | --------------------------------------------------------------------------------- |
| batteryLevel | `number` | A number between `0` and `1`, inclusive, or `-1` if the battery level is unknown. |

### `BatteryStateEvent`

Supported platforms: Android, iOS, Web.

| Property     | Type                          | Description                                   |
| ------------ | ----------------------------- | --------------------------------------------- |
| batteryState | [BatteryState](#batterystate) | An enum value representing the battery state. |

### `PowerModeEvent`

Supported platforms: Android, iOS, Web.

| Property     | Type      | Description                                                                    |
| ------------ | --------- | ------------------------------------------------------------------------------ |
| lowPowerMode | `boolean` | A boolean value, `true` if lowPowerMode is on, `false` if lowPowerMode is off. |

### `PowerState`

Supported platforms: Android, iOS, Web.

| Property     | Type                          | Description                                                                       |
| ------------ | ----------------------------- | --------------------------------------------------------------------------------- |
| batteryLevel | `number`                      | A number between `0` and `1`, inclusive, or `-1` if the battery level is unknown. |
| batteryState | [BatteryState](#batterystate) | An enum value representing the battery state.                                     |
| lowPowerMode | `boolean`                     | A boolean value, `true` if lowPowerMode is on, `false` if lowPowerMode is off.    |

## Enums

### `BatteryState`

Supported platforms: Android, iOS, Web.

#### `UNKNOWN`

`BatteryState.UNKNOWN = 0`

If the battery state is unknown or inaccessible.

#### `UNPLUGGED`

`BatteryState.UNPLUGGED = 1`

If battery is not charging or discharging.

#### `CHARGING`

`BatteryState.CHARGING = 2`

If battery is charging.

#### `FULL`

`BatteryState.FULL = 3`

If the battery level is full.

---

---

title: Blob
description: A web standards-compliant Blob implementation for React Native.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-blob'
packageName: 'expo-blob'
platforms: ['android', 'ios', 'web', 'expo-go']
isNew: true

---

# Expo Blob

A web standards-compliant Blob implementation for React Native.
Android, iOS, Web, Included in Expo Go

`expo-blob` provides a web standards-compliant Blob implementation for React Native that offers superior performance and works consistently across all platforms. It is more reliable compared to the implementation exported from `react-native`, unlike Blob from `react-native`, which has limitations with the `slice()` method and other Web API features.

## Installation

```sh
npx expo install expo-blob
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

### Basic blob creation

```typescript
import { Blob } from "expo-blob";

// Create an empty blob
const emptyBlob = new Blob();

// Create a blob from text
const textBlob = new Blob(["Hello, World!"], { type: "text/plain" });

// Create a blob from binary data
const binaryBlob = new Blob([new Uint8Array([1, 2, 3, 4])], {
  type: "application/octet-stream",
});

// Create a blob from mixed content
const mixedBlob = new Blob(
  [
    "Text content",
    new Uint8Array([65, 66, 67]), // ABC in ASCII
    "More text",
  ],
  { type: "text/plain" },
);
```

### Blob properties

```typescript
const blob = new Blob(["Hello, World!"], { type: "text/plain" });

console.log(blob.size); // 13 (bytes)
console.log(blob.type); // "text/plain"
```

### Reading blob content

```typescript
const blob = new Blob(["Hello, World!"], { type: "text/plain" });

// Read as text
const text = await blob.text();
console.log(text); // "Hello, World!"

// Read as bytes
const bytes = await blob.bytes();
console.log(bytes); // Uint8Array(13) [72, 101, 108, 108, 111, 44, 32, 87, 111, 114, 108, 100, 33]

// Read as ArrayBuffer
const arrayBuffer = await blob.arrayBuffer();
console.log(arrayBuffer); // ArrayBuffer(13)
```

### Slicing blobs

```typescript
const blob = new Blob(["Hello, World!"], { type: "text/plain" });

// Slice from position 0 to 5
const slice1 = blob.slice(0, 5);
console.log(await slice1.text()); // "Hello"

// Slice from position 7 to end
const slice2 = blob.slice(7);
console.log(await slice2.text()); // "World!"

// Slice with custom type
const slice3 = blob.slice(0, 5, "text/html");
console.log(slice3.type); // "text/html"
```

### Streaming

```typescript
const blob = new Blob(["Large content..."], { type: "text/plain" });

// Create a readable stream
const stream = blob.stream();
const reader = stream.getReader();

// Read chunks
while (true) {
  const { done, value } = await reader.read();
  if (done) break;
  console.log("Chunk:", value);
}
```

## API

## Classes

### `Blob`

Supported platforms: Android, iOS, Web.

Blob Properties

### `size`

Supported platforms: Android, iOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: `number`

The size of the `Blob` in bytes.

### `type`

Supported platforms: Android, iOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: `string`

The MIME type of the `Blob`, or the empty string if the type cannot be determined.

Blob Methods

### `arrayBuffer()`

Supported platforms: Android, iOS, Web.

Returns: `Promise<arraybuffer>`

Promise resolving to the `Blob`'s binary data as an `ArrayBuffer`.

### `bytes()`

Supported platforms: Android, iOS, Web.

Returns: `Promise<uint8array>`

Promise resolving to the `Blob`'s binary data as a `Uint8Array`.

### `slice(start, end, contentType)`

Supported platforms: Android, iOS, Web.

| Parameter               | Type     | Description                                                                                  |
| ----------------------- | -------- | -------------------------------------------------------------------------------------------- |
| `start`(optional)       | `number` | The starting byte index (inclusive) represented as a signed 32 bit integer (up to 2^31 - 1). |
| `end`(optional)         | `number` | The ending byte index (exclusive) represented as a signed 32 bit integer (up to 2^31 - 1).   |
| `contentType`(optional) | `string` | The MIME type of the new `Blob`. If not provided, defaults to an empty string.               |

Returns: `Blob`

A new `Blob` object containing the data in the specified range of bytes of the source `Blob`.

### `stream()`

Supported platforms: Android, iOS, Web.

> **Note**: The current implementation loads the entire `Blob` into memory before streaming.

Returns: `ReadableStream`

A `ReadableStream` of the `Blob`'s data.

### `text()`

Supported platforms: Android, iOS, Web.

Returns: `Promise<string>`

Promise that resolves with the entire contents of the `Blob` as a UTF-8 string.

## Types

### `BlobPart`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Represents a part of a `Blob`. Can be a `string`, `ArrayBuffer`, `ArrayBufferView`, or another `Blob`.

Acceptable values are: `string` | [ArrayBuffer](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer) | `ArrayBufferView` | [Blob](https://developer.mozilla.org/en-US/docs/Web/API/Blob)

---

---

title: BlurView
description: A React component that blurs everything underneath the view.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-blur'
packageName: 'expo-blur'
iconUrl: '/static/images/packages/expo-blur.png'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo BlurView

A React component that blurs everything underneath the view.
Android, iOS, tvOS, Web, Included in Expo Go

A React component that blurs everything underneath the view. Common usage of this is for navigation bars, tab bars, and modals.

> `BlurView` on Android is an experimental feature. To enable it use the [`experimentalBlurMethod`](/versions/latest/sdk/blur-view#experimentalblurmethod) prop.

#### Known issues

The blur effect does not update when `BlurView` is rendered before dynamic content is rendered using, for example, `FlatList`. To fix this, make sure that `BlurView` is rendered after the dynamic content component. For example:

```jsx
<View>
  <FlatList />
  <BlurView />
</View>
```

## Installation

```sh
npx expo install expo-blur
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { Text, StyleSheet, View } from "react-native";
import { BlurView } from "expo-blur";

export default function App() {
  const text = "Hello, my container is blurring contents underneath!";
  return (
    <View style={styles.container}>
      <View style={styles.background}>
        {[...Array(20).keys()].map(i => (
          <View
            key={`box-${i}`}
            style={[styles.box, i % 2 === 1 ? styles.boxOdd : styles.boxEven]}
          />
        ))}
      </View>
      <BlurView
        intensity={100}
        style={styles.blurContainer}
      >
        <Text style={styles.text}>{text}</Text>
      </BlurView>
      <BlurView
        intensity={80}
        tint="light"
        style={styles.blurContainer}
      >
        <Text style={styles.text}>{text}</Text>
      </BlurView>
      <BlurView
        intensity={90}
        tint="dark"
        style={styles.blurContainer}
      >
        <Text style={[styles.text, { color: "#fff" }]}>{text}</Text>
      </BlurView>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
  },
  blurContainer: {
    flex: 1,
    padding: 20,
    margin: 16,
    textAlign: "center",
    justifyContent: "center",
    overflow: "hidden",
    borderRadius: 20,
  },
  background: {
    flex: 1,
    flexWrap: "wrap",
    ...StyleSheet.absoluteFill,
  },
  box: {
    width: "25%",
    height: "20%",
  },
  boxEven: {
    backgroundColor: "orangered",
  },
  boxOdd: {
    backgroundColor: "gold",
  },
  text: {
    fontSize: 24,
    fontWeight: "600",
  },
});
```

## API

```js
import { BlurView } from "expo-blur";
```

## Component

### `BlurView`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Component](https://react.dev/reference/react/Component)<[BlurViewProps](#blurviewprops)\>

BlurViewProps

### `blurReductionFactor`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: `number`â€ƒâ€¢â€ƒDefault: `4`

A number by which the blur intensity will be divided on Android.

When using experimental blur methods on Android, the perceived blur intensity might differ from iOS at different intensity levels. This property can be used to fine tune it on Android to match it more closely with iOS.

### `experimentalBlurMethod`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [ExperimentalBlurMethod](#experimentalblurmethod)â€ƒâ€¢â€ƒDefault: `'none'`

Blur method to use on Android.

> Currently, `BlurView` support is experimental on Android and may cause performance and graphical issues. It can be enabled by setting this property.

### `intensity`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `number`â€ƒâ€¢â€ƒDefault: `50`

A number from `1` to `100` to control the intensity of the blur effect.

You can animate this property using `react-native-reanimated`.

### `tint`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [BlurTint](#blurtint)â€ƒâ€¢â€ƒDefault: `'default'`

A tint mode which will be applied to the view.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

## Types

### `BlurTint`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `string`

Acceptable values are: `'light'` | `'dark'` | `'default'` | `'extraLight'` | `'regular'` | `'prominent'` | `'systemUltraThinMaterial'` | `'systemThinMaterial'` | `'systemMaterial'` | `'systemThickMaterial'` | `'systemChromeMaterial'` | `'systemUltraThinMaterialLight'` | `'systemThinMaterialLight'` | `'systemMaterialLight'` | `'systemThickMaterialLight'` | `'systemChromeMaterialLight'` | `'systemUltraThinMaterialDark'` | `'systemThinMaterialDark'` | `'systemMaterialDark'` | `'systemThickMaterialDark'` | `'systemChromeMaterialDark'`

### `ExperimentalBlurMethod`

Supported platforms: Android.

Literal Type: `string`

Blur method to use on Android.

- `'none'` - Falls back to a semi-transparent view instead of rendering a blur effect.
- `'dimezisBlurView'` - Uses a native blur view implementation based on [BlurView](https://github.com/Dimezis/BlurView) library. This method may lead to decreased performance.

Acceptable values are: `'none'` | `'dimezisBlurView'`

## Using `borderRadius` with `BlurView`

When using `BlurView` on Android and iOS, the `borderRadius` property is not applied when provided explicitly. To fix this, you can use the `overflow: 'hidden'` style since `BlurView` inherits props from `<View>`. See [Usage](/versions/latest/sdk/blur-view#usage) for an example.

---

---

title: Brightness
description: A library that provides access to an API for getting and setting the screen brightness.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-brightness'
packageName: 'expo-brightness'
iconUrl: '/static/images/packages/expo-brightness.png'
platforms: ['android', 'ios', 'expo-go']

---

# Expo Brightness

A library that provides access to an API for getting and setting the screen brightness.
Android, iOS, Included in Expo Go

An API to get and set screen brightness.

On Android, there is a global system-wide brightness setting, and each app has its own brightness setting that can optionally override the global setting. It is possible to set either of these values with this API. On iOS, the system brightness setting cannot be changed programmatically; instead, any changes to the screen brightness will persist until the device is locked or powered off.

## Installation

```sh
npx expo install expo-brightness
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) or you're using a native **android** project manually, then you need to add the `android.permission.WRITE_SETTINGS` permission to the **AndroidManifest.xml** file:

```xml
<uses-permission android:name="android.permission.WRITE_SETTINGS" />
```

## Usage

```jsx
import { StyleSheet, View, Text } from "react-native";
import * as Brightness from "expo-brightness";
import { useEffect } from "react";

export default function App() {
  useEffect(() => {
    (async () => {
      const { status } = await Brightness.requestPermissionsAsync();
      if (status === "granted") {
        Brightness.setSystemBrightnessAsync(1);
      }
    })();
  }, []);

  return (
    <View style={styles.container}>
      <Text>Brightness Module Example</Text>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#fff",
    alignItems: "center",
    justifyContent: "center",
  },
});
```

## API

```js
import * as Brightness from "expo-brightness";
```

## Hooks

### `usePermissions(options)`

Supported platforms: Android, iOS.

| Parameter           | Type                            |
| ------------------- | ------------------------------- |
| `options`(optional) | `PermissionHookOptions<object>` |

Check or request permissions to modify the system brightness. This uses both `requestPermissionAsync` and `getPermissionsAsync` to interact with the permissions.

Returns: `[null | PermissionResponse, RequestPermissionMethod<permissionresponse>, GetPermissionMethod]</permissionresponse>`

Example

```ts
const [permissionResponse, requestPermission] = Brightness.usePermissions();
```

> **Deprecated:** Use [`restoreSystemBrightnessAsync`](#brightnessrestoresystembrightnessasync) method instead.

### `useSystemBrightnessAsync()`

Supported platforms: Android.

Returns: `Promise<void>`

## Methods

### `Brightness.getBrightnessAsync()`

Supported platforms: Android, iOS.

Gets the current brightness level of the device's main screen.

Returns: `Promise<number>`

A `Promise` that fulfils with a number between `0` and `1`, inclusive, representing the current screen brightness.

### `Brightness.getPermissionsAsync()`

Supported platforms: Android, iOS.

Checks user's permissions for accessing system brightness.

Returns: `Promise<permissionresponse>`

A promise that fulfils with an object of type [PermissionResponse](#permissionresponse).

### `Brightness.getSystemBrightnessAsync()`

Supported platforms: Android.

Gets the global system screen brightness.

Returns: `Promise<number>`

A `Promise` that is resolved with a number between `0` and `1`, inclusive, representing the current system screen brightness.

### `Brightness.getSystemBrightnessModeAsync()`

Supported platforms: Android.

Gets the system brightness mode (e.g. whether or not the OS will automatically adjust the screen brightness depending on ambient light).

Returns: `Promise<brightnessmode>`

A `Promise` that fulfils with a [`BrightnessMode`](#brightnessmode). Requires `SYSTEM_BRIGHTNESS` permissions.

### `Brightness.isAvailableAsync()`

Supported platforms: Android, iOS.

Returns whether the Brightness API is enabled on the current device. This does not check the app permissions.

Returns: `Promise<boolean>`

Async `boolean`, indicating whether the Brightness API is available on the current device. Currently this resolves `true` on iOS and Android only.

### `Brightness.isUsingSystemBrightnessAsync()`

Supported platforms: Android.

Returns a boolean specifying whether or not the current activity is using the system-wide brightness value.

Returns: `Promise<boolean>`

A `Promise` that fulfils with `true` when the current activity is using the system-wide brightness value, and `false` otherwise.

### `Brightness.requestPermissionsAsync()`

Supported platforms: Android, iOS.

Asks the user to grant permissions for accessing system brightness.

Returns: `Promise<permissionresponse>`

A promise that fulfils with an object of type [PermissionResponse](#permissionresponse).

### `Brightness.restoreSystemBrightnessAsync()`

Supported platforms: Android.

Resets the brightness setting of the current activity to use the system-wide brightness value rather than overriding it.

Returns: `Promise<void>`

A `Promise` that fulfils when the setting has been successfully changed.

### `Brightness.setBrightnessAsync(brightnessValue)`

Supported platforms: Android, iOS.

| Parameter         | Type     | Description                                                                          |
| ----------------- | -------- | ------------------------------------------------------------------------------------ |
| `brightnessValue` | `number` | A number between `0` and `1`, inclusive, representing the desired screen brightness. |

Sets the current screen brightness. On iOS, this setting will persist until the device is locked, after which the screen brightness will revert to the user's default setting. On Android, this setting only applies to the current activity; it will override the system brightness value whenever your app is in the foreground.

Returns: `Promise<void>`

A `Promise` that fulfils when the brightness has been successfully set.

### `Brightness.setSystemBrightnessAsync(brightnessValue)`

Supported platforms: Android.

| Parameter         | Type     | Description                                                                          |
| ----------------- | -------- | ------------------------------------------------------------------------------------ |
| `brightnessValue` | `number` | A number between `0` and `1`, inclusive, representing the desired screen brightness. |

Sets the global system screen brightness and changes the brightness mode to `MANUAL`. Requires `SYSTEM_BRIGHTNESS` permissions.

Returns: `Promise<void>`

A `Promise` that fulfils when the brightness has been successfully set.

### `Brightness.setSystemBrightnessModeAsync(brightnessMode)`

Supported platforms: Android.

| Parameter        | Type                              | Description                                                                                                                         |
| ---------------- | --------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------- |
| `brightnessMode` | [BrightnessMode](#brightnessmode) | One of `BrightnessMode.MANUAL` or `BrightnessMode.AUTOMATIC`. The system brightness mode cannot be set to `BrightnessMode.UNKNOWN`. |

Sets the system brightness mode.

Returns: `Promise<void>`

## Event Subscriptions

### `Brightness.addBrightnessListener(listener)`

Supported platforms: iOS.

| Parameter  | Type                                                 | Description                                                                                                                                     |
| ---------- | ---------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| `listener` | (event: [BrightnessEvent](#brightnessevent)) => void | A callback that is invoked when brightness (iOS) changes. The callback is provided a single argument that is an object with a `brightness` key. |

Subscribe to brightness (iOS) updates. The event fires whenever the power mode is toggled.

On web and android the event never fires.

Returns: `EventSubscription`

A `Subscription` object on which you can call `remove()` to unsubscribe from the listener.

## Types

### `BrightnessEvent`

Supported platforms: Android, iOS.

| Property   | Type     | Description                                                                          |
| ---------- | -------- | ------------------------------------------------------------------------------------ |
| brightness | `number` | A number between `0` and `1`, inclusive, representing the current screen brightness. |

### `PermissionExpiration`

Supported platforms: Android, iOS.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionHookOptions`

Supported platforms: Android, iOS.

Literal Type: `union`

Acceptable values are: `PermissionHookBehavior` | `Options`

### `PermissionResponse`

Supported platforms: Android, iOS.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

## Enums

### `BrightnessMode`

Supported platforms: Android, iOS.

#### `UNKNOWN`

`BrightnessMode.UNKNOWN = 0`

Means that the current brightness mode cannot be determined.

#### `AUTOMATIC`

`BrightnessMode.AUTOMATIC = 1`

Mode in which the device OS will automatically adjust the screen brightness depending on the ambient light.

#### `MANUAL`

`BrightnessMode.MANUAL = 2`

Mode in which the screen brightness will remain constant and will not be adjusted by the OS.

### `PermissionStatus`

Supported platforms: Android, iOS.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

## Error codes

### `ERR_BRIGHTNESS`

An error occurred when getting or setting the app brightness.

### `ERR_BRIGHTNESS_MODE`

An error occurred when getting or setting the system brightness mode. See the `nativeError` property of the thrown error for more information.

### `ERR_BRIGHTNESS_PERMISSIONS_DENIED`

An attempt to set the system brightness was made without the proper permissions from the user. The user did not grant `SYSTEM_BRIGHTNESS` permissions.

### `ERR_BRIGHTNESS_SYSTEM`

An error occurred when getting or setting the system brightness.

### `ERR_INVALID_ARGUMENT`

An invalid argument was passed. Only `BrightnessMode.MANUAL` or `BrightnessMode.AUTOMATIC` are allowed.

## Permissions

### Android

You must add the following permissions to your **app.json** inside the [`expo.android.permissions`](/versions/latest/config/app#permissions) array.

| Android Permission | Description                                                 |
| ------------------ | ----------------------------------------------------------- |
| `WRITE_SETTINGS`   | Allows an application to read or write the system settings. |

### iOS

_No permissions required_.

---

---

title: BuildProperties
description: A config plugin that allows customizing native build properties during prebuild.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-build-properties'
packageName: 'expo-build-properties'
platforms: ['android', 'ios', 'tvos']

---

# Expo BuildProperties

A config plugin that allows customizing native build properties during prebuild.
Android, iOS, tvOS

`expo-build-properties` is a [config plugin](/config-plugins/introduction) configuring the native build properties of your **android/gradle.properties** and **ios/Podfile.properties.json** directories during [Prebuild](/workflow/prebuild).

> This config plugin configures how [Prebuild command](/workflow/prebuild) generates the native **android** and **ios** directories and therefore cannot be used with projects that don't run `npx expo prebuild` (bare projects).

## Installation

```sh
npx expo install expo-build-properties
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-build-properties",
        {
          "android": {
            "compileSdkVersion": 35,
            "targetSdkVersion": 35,
            "buildToolsVersion": "35.0.0"
          },
          "ios": {
            "deploymentTarget": "15.1"
          }
        }
      ]
    ]
  }
}
```

### All configurable properties

[`PluginConfigType`](/versions/latest/sdk/build-properties#pluginconfigtype) interface represents currently available configuration properties.

## API

## Methods

### `BuildProperties.withBuildProperties(config, props)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type                                                                                                 | Description                                    |
| --------- | ---------------------------------------------------------------------------------------------------- | ---------------------------------------------- |
| `config`  | [ExpoConfig](https://github.com/expo/expo/blob/main/packages/%40expo/config-types/src/ExpoConfig.ts) | Expo config for application.                   |
| `props`   | [PluginConfigType](#pluginconfigtype)                                                                | Configuration for the build properties plugin. |

Config plugin allowing customizing native Android and iOS build properties for managed apps.

Returns: `ExpoConfig`

## Interfaces

### `AndroidMavenRepository`

Supported platforms: Android.

| Property                 | Type                                                                    | Description                                                                                                                                                                                                                    |
| ------------------------ | ----------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------- | --------------------------------------------------------------------- |
| authentication(optional) | `'basic'                                                                | 'digest'                                                                                                                                                                                                                       | 'header'` | The authentication scheme to use when accessing the Maven repository. |
| credentials(optional)    | [AndroidMavenRepositoryCredentials](#androidmavenrepositorycredentials) | The credentials to use when accessing the Maven repository. May be of type PasswordCredentials, HttpHeaderCredentials, or AWSCredentials.See: The authentication schemes section of Gradle documentation for more information. |
| url                      | `string`                                                                | The URL of the Maven repository.                                                                                                                                                                                               |

### `AndroidMavenRepositoryAWSCredentials`

Supported platforms: Android.

The Android Maven repository credentials for AWS S3.

| Property               | Type     | Description                                                                                                              |
| ---------------------- | -------- | ------------------------------------------------------------------------------------------------------------------------ |
| accessKey              | `string` | The credential value. You can also pass `"System.getenv('ENV_VAR_NAME')"` to get the value from an environment variable. |
| secretKey              | `string` | The credential value. You can also pass `"System.getenv('ENV_VAR_NAME')"` to get the value from an environment variable. |
| sessionToken(optional) | `string` | The credential value. You can also pass `"System.getenv('ENV_VAR_NAME')"` to get the value from an environment variable. |

### `AndroidMavenRepositoryHttpHeaderCredentials`

Supported platforms: Android.

The Android Maven repository credentials that are passed as HTTP headers.

| Property | Type     | Description                                                                                                              |
| -------- | -------- | ------------------------------------------------------------------------------------------------------------------------ |
| name     | `string` | The credential value. You can also pass `"System.getenv('ENV_VAR_NAME')"` to get the value from an environment variable. |
| value    | `string` | The credential value. You can also pass `"System.getenv('ENV_VAR_NAME')"` to get the value from an environment variable. |

### `AndroidMavenRepositoryPasswordCredentials`

Supported platforms: Android.

The Android Maven repository credentials for basic authentication.

| Property | Type     | Description                                                                                                              |
| -------- | -------- | ------------------------------------------------------------------------------------------------------------------------ |
| password | `string` | The credential value. You can also pass `"System.getenv('ENV_VAR_NAME')"` to get the value from an environment variable. |
| username | `string` | The credential value. You can also pass `"System.getenv('ENV_VAR_NAME')"` to get the value from an environment variable. |

### `ExtraIosPodDependency`

Supported platforms: iOS.

Interface representing extra CocoaPods dependency.

> **See:** [Podfile syntax reference](https://guides.cocoapods.org/syntax/podfile.html#pod)

| Property                 | Type       | Description                                                                                 |
| ------------------------ | ---------- | ------------------------------------------------------------------------------------------- |
| branch(optional)         | `string`   | The git branch to fetch. See the `git` property for more information.                       |
| commit(optional)         | `string`   | The git commit to fetch. See the `git` property for more information.                       |
| configurations(optional) | `string[]` | Build configurations for which the pod should be installed. . Example`['Debug', 'Release']` |
| git(optional)            | `string`   | Use the bleeding edge version of a Pod. . Example                                           |

```json
{
  "name": "AFNetworking",
  "git": "https://github.com/gowalla/AFNetworking.git",
  "tag": "0.7.0"
}
```

. This acts like to add this pod dependency statement:

```rb
pod 'AFNetworking', :git => 'https://github.com/gowalla/AFNetworking.git', :tag => '0.7.0'
```

|
| modular_headers(optional) | `boolean` | Whether this pod should use modular headers. |
| name | `string` | Name of the pod. |
| path(optional) | `string` | Custom local filesystem path to add the dependency. . Example`~/Documents/AFNetworking` |
| podspec(optional) | `string` | Custom podspec path. . Example. `https://example.com/JSONKit.podspec` |
| source(optional) | `string` | Custom source to search for this dependency. . Example`https://github.com/CocoaPods/Specs.git` |
| tag(optional) | `string` | The git tag to fetch. See the `git` property for more information. |
| testspecs(optional) | `string[]` | Test specs can be optionally included via the :testspecs option. By default, none of a Pod's test specs are included. . Example`['UnitTests', 'SomeOtherTests']` |
| version(optional) | `string` | Version of the pod. CocoaPods supports various [versioning options](https://guides.cocoapods.org/using/the-podfile.html#pod). . Example`~> 0.1.2` |

### `PluginConfigType`

Supported platforms: Android, iOS, tvOS.

Interface representing base build properties configuration.

| Property          | Type                                                | Description                                                                                                       |
| ----------------- | --------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------- |
| android(optional) | [PluginConfigTypeAndroid](#pluginconfigtypeandroid) | Supported platforms: Android. Interface representing available configuration for Android native build properties. |
| ios(optional)     | [PluginConfigTypeIos](#pluginconfigtypeios)         | Supported platforms: iOS. Interface representing available configuration for iOS native build properties.         |

### `PluginConfigTypeAndroid`

Supported platforms: Android.

Interface representing available configuration for Android native build properties.

| Property             | Type       | Description                                                                                                                                                                                                        |
| -------------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| buildArchs(optional) | `string[]` | Override the default `reactNativeArchitectures` list of ABIs to build in **gradle.properties**. Default: `["armeabi-v7a", "arm64-v8a", "x86", "x86_64"]`See: Android documentation for more information. . Example |

```json
["arm64-v8a", "x86_64"]
```

|
| buildFromSource(optional) | `boolean` | Deprecated: Use buildReactNativeFromSource instead. . Enable building React Native from source. Turning this on will significantly increase the build times. Default: `false` |
| buildReactNativeFromSource(optional) | `boolean` | Enable building React Native from source. Turning this on will significantly increase the build times. Default: `false` |
| buildToolsVersion(optional) | `string` | Override the default `buildToolsVersion` version number in **build.gradle**. |
| compileSdkVersion(optional) | `number` | Override the default `compileSdkVersion` version number in **build.gradle**. |
| enableBundleCompression(optional) | `boolean` | Enable JavaScript Bundle compression. Turning this on will result in a smaller APK size but may have slower app startup times. Default: `false`See: Faster App Startup |
| enableMinifyInReleaseBuilds(optional) | `boolean` | Enable [R8](https://developer.android.com/topic/performance/app-optimization/enable-app-optimization) in release builds to obfuscate Java code and reduce app size. |
| enablePngCrunchInReleaseBuilds(optional) | `boolean` | Enable [`crunchPngs`](https://developer.android.com/topic/performance/reduce-apk-size#crunch) in release builds to optimize PNG files. This property is enabled by default, but "might inflate PNG files that are already compressed", so you may want to disable it if you do your own PNG optimization. Default: `true` |
| enableShrinkResourcesInReleaseBuilds(optional) | `boolean` | Enable [`shrinkResources`](https://developer.android.com/studio/build/shrink-code#shrink-resources) in release builds to remove unused resources from the app. This property should be used in combination with `enableMinifyInReleaseBuilds`. |
| exclusiveMavenMirror(optional) | `string` | Specifies a single Maven repository to be used as an exclusive mirror for all dependency resolution. When set, all other Maven repositories will be ignored and only this repository will be used to fetch dependencies.See: Using a Maven Mirror |
| extraMavenRepos(optional) | (string | [AndroidMavenRepository](#androidmavenrepository))[] | Add extra maven repositories to all gradle projects. Takes an array of objects or strings. Strings are passed as the `url` property of the object with no credentials or authentication scheme. This adds the following code to **android/build.gradle**:

```groovy
allprojects {
 repositories {
  maven {
   url "https://foo.com/maven-releases"
 }
}
```

. By using an `AndroidMavenRepository` object, you can specify credentials and an authentication scheme.

```groovy
allprojects {
  repositories {
    maven {
      url "https://foo.com/maven-releases"
      credentials {
       username = "bar"
       password = "baz"
      }
      authentication {
       basic(BasicAuthentication)
      }
    }
  }
}
```

See: Gradle documentation |
| extraProguardRules(optional) | `string` | Append custom [Proguard rules](https://www.guardsquare.com/manual/configuration/usage) to **android/app/proguard-rules.pro**. |
| kotlinVersion(optional) | `string` | Override the Kotlin version used when building the app. |
| manifestQueries(optional) | [PluginConfigTypeAndroidQueries](#pluginconfigtypeandroidqueries) | Specifies the set of other apps that an app intends to interact with. These other apps are specified by package name, by intent signature, or by provider authority.See: Android documentation |
| minSdkVersion(optional) | `number` | Override the default `minSdkVersion` version number in **build.gradle**. |
| networkInspector(optional) | `boolean` | Enable the Network Inspector. Default: `true` |
| newArchEnabled(optional) | `boolean` | Deprecated: Use newArchEnabled in app config file instead. . Enable React Native New Architecture for Android platform. |
| packagingOptions(optional) | [PluginConfigTypeAndroidPackagingOptions](#pluginconfigtypeandroidpackagingoptions) | Interface representing available configuration for Android Gradle plugin [`PackagingOptions`](https://developer.android.com/reference/tools/gradle-api/7.0/com/android/build/api/dsl/PackagingOptions). |
| reactNativeReleaseLevel(optional) | `'stable' | 'canary' | 'experimental'` | The React Native release level to use for the project. This can be used to enable different sets of internal React Native feature flags. Default: `'stable'` |
| targetSdkVersion(optional) | `number` | Override the default `targetSdkVersion` version number in **build.gradle**. |
| useDayNightTheme(optional) | `boolean` | Changes the apps theme to a DayNight variant to correctly support dark mode.See: Android documentation |
| useLegacyPackaging(optional) | `boolean` | Instructs the Android Gradle plugin to compress native libraries in the APK using the legacy packaging system. Default: `false`See: Android documentation |
| usesCleartextTraffic(optional) | `boolean` | Indicates whether the app intends to use cleartext network traffic. For Android 8 and below, the default platform-specific value is `true`. For Android 9 and above, the default platform-specific value is `false`.See: Android documentation |

### `PluginConfigTypeAndroidPackagingOptions`

Supported platforms: Android.

Interface representing available configuration for Android Gradle plugin [`PackagingOptions`](https://developer.android.com/reference/tools/gradle-api/7.0/com/android/build/api/dsl/PackagingOptions).

| Property             | Type       | Description                                                                                            |
| -------------------- | ---------- | ------------------------------------------------------------------------------------------------------ |
| doNotStrip(optional) | `string[]` | Array of patterns for native libraries that should not be stripped of debug symbols.                   |
| exclude(optional)    | `string[]` | Array of patterns for native libraries that should be excluded from being packaged in the APK.         |
| merge(optional)      | `string[]` | Array of patterns for native libraries where all occurrences are concatenated and packaged in the APK. |
| pickFirst(optional)  | `string[]` | Array of patterns for native libraries where only the first occurrence is packaged in the APK.         |

### `PluginConfigTypeAndroidQueries`

Supported platforms: Android.

| Property           | Type                                                                            | Description                                                                                                                                                                                                                                                                                                                                              |
| ------------------ | ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| intent(optional)   | [PluginConfigTypeAndroidQueriesIntent[]](#pluginconfigtypeandroidqueriesintent) | Specifies an intent filter signature. Your app can discover other apps that have matching `<intent-filter>` elements. These intents have restrictions compared to typical intent filter signatures.See: Android documentation for more information.                                                                                                      |
| package(optional)  | `string[]`                                                                      | Specifies one or more apps that your app intends to access. These other apps might integrate with your app, or your app might use services that these other apps provide.                                                                                                                                                                                |
| provider(optional) | `string[]`                                                                      | Specifies one or more content provider authorities. Your app can discover other apps whose content providers use the specified authorities. There are some restrictions on the options that you can include in this `<provider>` element, compared to a typical `<provider>` manifest element. You may only specify the `android:authorities` attribute. |

### `PluginConfigTypeAndroidQueriesData`

Supported platforms: Android.

| Property           | Type     | Description                                  |
| ------------------ | -------- | -------------------------------------------- |
| host(optional)     | `string` | Specify a URI authority host that is handled |
| mimeType(optional) | `string` | Specify a MIME type that is handled          |
| scheme(optional)   | `string` | Specify a URI scheme that is handled         |

### `PluginConfigTypeAndroidQueriesIntent`

Supported platforms: Android.

| Property           | Type                                                                      | Description                                                                                                                                                  |
| ------------------ | ------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| action(optional)   | `string`                                                                  | A string naming the action to perform. Usually one of the platform-defined values, such as `SEND` or `VIEW`.See: Android documentation for more information. |
| category(optional) | `string                                                                   | string[]`                                                                                                                                                    | Provides an additional way to characterize the activity handling the intent, usually related to the user gesture or location from which it's started. |
| data(optional)     | [PluginConfigTypeAndroidQueriesData](#pluginconfigtypeandroidqueriesdata) | A description of the data associated with the intent.                                                                                                        |

### `PluginConfigTypeIos`

Supported platforms: iOS.

Interface representing available configuration for iOS native build properties.

| Property                             | Type      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ------------------------------------ | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| buildReactNativeFromSource(optional) | `boolean` | Enables support for precompiled React Native iOS dependencies (`ReactNativeDependencies.xcframework`). Setting this value to `true` will enable building React Native from source and disable the use of precompiled xcframeworks. This feature is available from React Native 0.80 and later when using the new architecture. From React Native 0.81, this setting will also control the use of a precompiled React Native Core (`React.xcframework`). Default: `false`See: React Expo blog for details: Precompiled React Native for iOS: Faster builds are coming in 0.81 for more information. |
| ccacheEnabled(optional)              | `boolean` | Enable C++ compiler cache for iOS builds. This speeds up compiling C++ code by caching the results of previous compilations.See: React Native's documentation on local caches and Ccache documentation.                                                                                                                                                                                                                                                                                                                                                                                            |
| deploymentTarget(optional)           | `string`  | Override the default iOS "Deployment Target" version in the following projects:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

- in CocoaPods projects,
- `PBXNativeTarget` with "com.apple.product-type.application" `productType` in the app project.

|
| extraPods(optional) | [ExtraIosPodDependency[]](#extraiospoddependency) | Add extra CocoaPods dependencies for all targets. This configuration is responsible for adding the new Pod entries to **ios/Podfile**. . Example. Creating entry in the configuration like below:

```json
[
  {
    "name": "Protobuf",
    "version": "~> 3.14.0"
  }
]
```

. Will produce the following entry in the generated **ios/Podfile**:

```ruby
pod 'Protobuf', '~> 3.14.0'
```

|
| forceStaticLinking(optional) | `string[]` | List of CocoaPods that should be linked statically instead of as frameworks. This is only relevant when `use_frameworks!` is enabled. Some podsâ€” especially React Native prebuilt binariesâ€”can fail due to modular header issues when built as dynamic frameworks. Declaring them here ensures they are linked statically, avoiding those compatibility problems. This property is consumed by the `use_expo_modules` function in `expo-modules-autolinking`. |
| networkInspector(optional) | `boolean` | Enable the Network Inspector. Default: `true` |
| newArchEnabled(optional) | `boolean` | Deprecated: Use newArchEnabled in app config file instead. . Enable React Native New Architecture for iOS platform. |
| privacyManifestAggregationEnabled(optional) | `boolean` | Enable aggregation of Privacy Manifests (`PrivacyInfo.xcprivacy`) from CocoaPods resource bundles. If enabled, the manifests will be merged into a single file. If not enabled, developers will need to manually aggregate them.See: Privacy manifests guide and Apple's documentation on Privacy manifest files. |
| reactNativeReleaseLevel(optional) | `'stable' | 'canary' | 'experimental'` | The React Native release level to use for the project. This can be used to enable different sets of internal React Native feature flags. Default: `'stable'` |
| useFrameworks(optional) | `'static' | 'dynamic'` | Enable [`use_frameworks!`](https://guides.cocoapods.org/syntax/podfile.html#use_frameworks_bang) in `Podfile` to use frameworks instead of static libraries for Pods. |

## Types

### `AndroidMavenRepositoryCredentials`

Supported platforms: Android.

Literal Type: `union`

Acceptable values are: [AndroidMavenRepositoryPasswordCredentials](#androidmavenrepositorypasswordcredentials) | [AndroidMavenRepositoryHttpHeaderCredentials](#androidmavenrepositoryhttpheadercredentials) | [AndroidMavenRepositoryAWSCredentials](#androidmavenrepositoryawscredentials)

---

---

title: Calendar
description: A library that provides an API for interacting with the device's system calendars, events, reminders, and associated records.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-calendar'
packageName: 'expo-calendar'
platforms: ['android', 'ios', 'expo-go']

---

# Expo Calendar

A library that provides an API for interacting with the device's system calendars, events, reminders, and associated records.
Android, iOS, Included in Expo Go

`expo-calendar` provides an API for interacting with the device's system calendars, events, reminders, and associated records.

Additionally, it provides methods to launch the [system-provided calendar UI](/versions/latest/sdk/calendar#launching-system-provided-calendar-dialogs) to allow user view or edit events. On Android, these methods start the system calendar app using an Intent. On iOS, they present either [`EKEventViewController`](https://developer.apple.com/documentation/eventkitui/ekeventviewcontroller) or [`EKEventEditViewController`](https://developer.apple.com/documentation/eventkitui/ekeventeditviewcontroller) as a modal.

## Installation

```sh
npx expo install expo-calendar
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-calendar` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-calendar",
        {
          "calendarPermission": "The app needs to access your calendar."
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                  | Default                                            | Description                                                                                  |
| --------------------- | -------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| `calendarPermission`  | `"Allow $(PRODUCT_NAME) to access your calendar"`  | Only for: iOS. A string to set the [`NSCalendarsUsageDescription`](#ios) permission message. |
| `remindersPermission` | `"Allow $(PRODUCT_NAME) to access your reminders"` | Only for: iOS. A string to set the [`NSRemindersUsageDescription`](#ios) permission message. |

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) (you're using native **android** and **ios** projects manually), then you need to configure following permissions in your native projects:

- For Android, add `android.permission.READ_CALENDAR` and `android.permission.WRITE_CALENDAR` permissions to your project's **android/app/src/main/AndroidManifest.xml**:

  ```xml
  <uses-permission android:name="android.permission.READ_CALENDAR" />
  <uses-permission android:name="android.permission.WRITE_CALENDAR" />
  ```

- For iOS, add `NSCalendarsUsageDescription` and `NSRemindersUsageDescription` to your project's **ios/[app]/Info.plist**:

  ```xml
  <key>NSCalendarsUsageDescription</key>
  <string>Allow $(PRODUCT_NAME) to access your calendar</string>
  <key>NSRemindersUsageDescription</key>
  <string>Allow $(PRODUCT_NAME) to access your reminders</string>
  ```

## Usage

```jsx
import { StyleSheet, View, Text, Button, Platform } from "react-native";
import * as Calendar from "expo-calendar";
import { useEffect } from "react";

export default function App() {
  useEffect(() => {
    (async () => {
      const { status } = await Calendar.requestCalendarPermissionsAsync();
      if (status === "granted") {
        const calendars = await Calendar.getCalendarsAsync(
          Calendar.EntityTypes.EVENT,
        );
        console.log("Here are all your calendars:");
        console.log({ calendars });
      }
    })();
  }, []);

  return (
    <View style={styles.container}>
      <Text>Calendar Module Example</Text>
      <Button
        title="Create a new calendar"
        onPress={createCalendar}
      />
    </View>
  );
}

async function getDefaultCalendarSource() {
  const defaultCalendar = await Calendar.getDefaultCalendarAsync();
  return defaultCalendar.source;
}

async function createCalendar() {
  const defaultCalendarSource =
    Platform.OS === "ios"
      ? await getDefaultCalendarSource()
      : { isLocalAccount: true, name: "Expo Calendar" };
  const newCalendarID = await Calendar.createCalendarAsync({
    title: "Expo Calendar",
    color: "blue",
    entityType: Calendar.EntityTypes.EVENT,
    sourceId: defaultCalendarSource.id,
    source: defaultCalendarSource,
    name: "internalCalendarName",
    ownerAccount: "personal",
    accessLevel: Calendar.CalendarAccessLevel.OWNER,
  });
  console.log(`Your new calendar ID is: ${newCalendarID}`);
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#fff",
    alignItems: "center",
    justifyContent: "space-around",
  },
});
```

## API

```js
import * as Calendar from "expo-calendar";
```

## Launching system-provided calendar dialogs

### `createEventInCalendarAsync(eventData, presentationOptions)`

Supported platforms: Android, iOS.

| Parameter                       | Type                                                                                                                                                                                                   | Description                                                     |
| ------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------- |
| `eventData`(optional)           | [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[Event](#event)\>, 'id'\> | A map of details for the event to be created. Default: `{}`     |
| `presentationOptions`(optional) | [PresentationOptions](#presentationoptions)                                                                                                                                                            | Configuration that influences how the calendar UI is presented. |

Launches the calendar UI provided by the OS to create a new event.

Returns: `Promise<dialogeventresult>`

A promise which resolves with information about the dialog result.

### `editEventInCalendarAsync(params, presentationOptions)`

Supported platforms: Android, iOS.

| Parameter                       | Type                                          |
| ------------------------------- | --------------------------------------------- |
| `params`                        | [CalendarDialogParams](#calendardialogparams) |
| `presentationOptions`(optional) | [PresentationOptions](#presentationoptions)   |

Launches the calendar UI provided by the OS to edit or delete an event. On Android, this is the same as `openEventInCalendarAsync`.

Returns: `Promise<dialogeventresult>`

A promise which resolves with information about the dialog result.

> **Deprecated:** Use [`openEventInCalendarAsync`](#openeventincalendarasyncparams-presentationoptions) instead.

### `openEventInCalendar(id)`

Supported platforms: Android.

| Parameter | Type     | Description              |
| --------- | -------- | ------------------------ |
| `id`      | `string` | ID of the event to open. |

Sends an intent to open the specified event in the OS Calendar app.

Returns: `void`

### `openEventInCalendarAsync(params, presentationOptions)`

Supported platforms: Android, iOS.

| Parameter                       | Type                                                          |
| ------------------------------- | ------------------------------------------------------------- |
| `params`                        | [CalendarDialogParams](#calendardialogparams)                 |
| `presentationOptions`(optional) | [OpenEventPresentationOptions](#openeventpresentationoptions) |

Launches the calendar UI provided by the OS to preview an event.

Returns: `Promise<openeventdialogresult>`

A promise which resolves with information about the dialog result.

## Hooks

### `useCalendarPermissions(options)`

Supported platforms: Android, iOS.

| Parameter           | Type                            |
| ------------------- | ------------------------------- |
| `options`(optional) | `PermissionHookOptions<object>` |

Check or request permissions to access the calendar. This uses both `getCalendarPermissionsAsync` and `requestCalendarPermissionsAsync` to interact with the permissions.

Returns: `[null | PermissionResponse, RequestPermissionMethod<permissionresponse>, GetPermissionMethod]</permissionresponse>`

Example

```ts
const [status, requestPermission] = Calendar.useCalendarPermissions();
```

### `useRemindersPermissions(options)`

Supported platforms: Android, iOS.

| Parameter           | Type                            |
| ------------------- | ------------------------------- |
| `options`(optional) | `PermissionHookOptions<object>` |

Check or request permissions to access reminders. This uses both `getRemindersPermissionsAsync` and `requestRemindersPermissionsAsync` to interact with the permissions.

Returns: `[null | PermissionResponse, RequestPermissionMethod<permissionresponse>, GetPermissionMethod]</permissionresponse>`

Example

```ts
const [status, requestPermission] = Calendar.useRemindersPermissions();
```

## Methods

### `Calendar.createAttendeeAsync(eventId, details)`

Supported platforms: Android.

| Parameter           | Type                                                                                                           | Description                                                    |
| ------------------- | -------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------- |
| `eventId`           | `string`                                                                                                       | ID of the event to add this attendee to.                       |
| `details`(optional) | [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[Attendee](#attendee)\> | A map of details for the attendee to be created. Default: `{}` |

Creates a new attendee record and adds it to the specified event. Note that if `eventId` specifies a recurring event, this will add the attendee to every instance of the event.

Returns: `Promise<string>`

A string representing the ID of the newly created attendee record.

### `Calendar.createCalendarAsync(details)`

Supported platforms: Android, iOS.

| Parameter           | Type                                                                                              | Description                                                    |
| ------------------- | ------------------------------------------------------------------------------------------------- | -------------------------------------------------------------- |
| `details`(optional) | [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<Calendar\> | A map of details for the calendar to be created. Default: `{}` |

Creates a new calendar on the device, allowing events to be added later and displayed in the OS Calendar app.

Returns: `Promise<string>`

A string representing the ID of the newly created calendar.

### `Calendar.createEventAsync(calendarId, eventData)`

Supported platforms: Android, iOS.

| Parameter             | Type                                                                                                                                                                                                 | Description                                 |
| --------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- | ----------------------------------------------------------- |
| `calendarId`          | `string`                                                                                                                                                                                             | ID of the calendar to create this event in. |
| `eventData`(optional) | [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[Event](#event)\>, 'id' | 'organizer'\>                               | A map of details for the event to be created. Default: `{}` |

Creates a new event on the specified calendar.

Returns: `Promise<string>`

A promise which fulfils with a string representing the ID of the newly created event.

### `Calendar.createReminderAsync(calendarId, reminder)`

Supported platforms: iOS.

| Parameter            | Type                  | Description                                                    |
| -------------------- | --------------------- | -------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| `calendarId`         | `null                 | string`                                                        | ID of the calendar to create this reminder in (or `null` to add the calendar to the OS-specified default calendar for reminders). |
| `reminder`(optional) | [Reminder](#reminder) | A map of details for the reminder to be created. Default: `{}` |

Creates a new reminder on the specified calendar.

Returns: `Promise<string>`

A promise which fulfils with a string representing the ID of the newly created reminder.

### `Calendar.deleteAttendeeAsync(id)`

Supported platforms: Android.

| Parameter | Type     | Description                   |
| --------- | -------- | ----------------------------- |
| `id`      | `string` | ID of the attendee to delete. |

Deletes an existing attendee record from the device. **Use with caution.**

Returns: `Promise<void>`

### `Calendar.deleteCalendarAsync(id)`

Supported platforms: Android, iOS.

| Parameter | Type     | Description                   |
| --------- | -------- | ----------------------------- |
| `id`      | `string` | ID of the calendar to delete. |

Deletes an existing calendar and all associated events/reminders/attendees from the device. **Use with caution.**

Returns: `Promise<void>`

### `Calendar.deleteEventAsync(id, recurringEventOptions)`

Supported platforms: Android, iOS.

| Parameter                         | Type                                            | Description                                          |
| --------------------------------- | ----------------------------------------------- | ---------------------------------------------------- |
| `id`                              | `string`                                        | ID of the event to be deleted.                       |
| `recurringEventOptions`(optional) | [RecurringEventOptions](#recurringeventoptions) | A map of options for recurring events. Default: `{}` |

Deletes an existing event from the device. Use with caution.

Returns: `Promise<void>`

### `Calendar.deleteReminderAsync(id)`

Supported platforms: iOS.

| Parameter | Type     | Description                       |
| --------- | -------- | --------------------------------- |
| `id`      | `string` | ID of the reminder to be deleted. |

Deletes an existing reminder from the device. **Use with caution.**

Returns: `Promise<void>`

### `Calendar.getAttendeesForEventAsync(id, recurringEventOptions)`

Supported platforms: Android, iOS.

| Parameter                         | Type                                            | Description                                          |
| --------------------------------- | ----------------------------------------------- | ---------------------------------------------------- |
| `id`                              | `string`                                        | ID of the event to return attendees for.             |
| `recurringEventOptions`(optional) | [RecurringEventOptions](#recurringeventoptions) | A map of options for recurring events. Default: `{}` |

Gets all attendees for a given event (or instance of a recurring event).

Returns: `Promise<attendee[]>`

A promise which fulfils with an array of [`Attendee`](#attendee) associated with the specified event.

### `Calendar.getCalendarPermissionsAsync()`

Supported platforms: Android, iOS.

Checks user's permissions for accessing user's calendars.

Returns: `Promise<permissionresponse>`

A promise that resolves to an object of type [`PermissionResponse`](#permissionresponse).

### `Calendar.getCalendarsAsync(entityType)`

Supported platforms: Android, iOS.

| Parameter              | Type     | Description                                                                                                                                                                                                                                                                                                                                 |
| ---------------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `entityType`(optional) | `string` | **iOS Only.** Not required, but if defined, filters the returned calendars to a specific entity type. Possible values are `Calendar.EntityTypes.EVENT` (for calendars shown in the Calendar app) and `Calendar.EntityTypes.REMINDER` (for the Reminders app). Note: If not defined, you will need both permissions: CALENDAR and REMINDERS. |

Gets an array of calendar objects with details about the different calendars stored on the device.

Returns: `Promise<calendar[]>`

An array of [calendar objects](#calendar) matching the provided entity type (if provided).

### `Calendar.getDefaultCalendarAsync()`

Supported platforms: iOS.

Gets an instance of the default calendar object.

Returns: `Promise<calendar>`

A promise resolving to the [Calendar](#calendar) object that is the user's default calendar.

### `Calendar.getEventAsync(id, recurringEventOptions)`

Supported platforms: Android, iOS.

| Parameter                         | Type                                            | Description                                          |
| --------------------------------- | ----------------------------------------------- | ---------------------------------------------------- |
| `id`                              | `string`                                        | ID of the event to return.                           |
| `recurringEventOptions`(optional) | [RecurringEventOptions](#recurringeventoptions) | A map of options for recurring events. Default: `{}` |

Returns a specific event selected by ID. If a specific instance of a recurring event is desired, the start date of this instance must also be provided, as instances of recurring events do not have their own unique and stable IDs on either iOS or Android.

Returns: `Promise<event>`

A promise which fulfils with an [`Event`](#event) object matching the provided criteria, if one exists.

### `Calendar.getEventsAsync(calendarIds, startDate, endDate)`

Supported platforms: Android, iOS.

| Parameter     | Type                                                                                          | Description                                        |
| ------------- | --------------------------------------------------------------------------------------------- | -------------------------------------------------- |
| `calendarIds` | `string[]`                                                                                    | Array of IDs of calendars to search for events in. |
| `startDate`   | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | Beginning of time period to search for events in.  |
| `endDate`     | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | End of time period to search for events in.        |

Returns all events in a given set of calendars over a specified time period. The filtering has slightly different behavior per-platform - on iOS, all events that overlap at all with the `[startDate, endDate]` interval are returned, whereas on Android, only events that begin on or after the `startDate` and end on or before the `endDate` will be returned.

Returns: `Promise<event[]>`

A promise which fulfils with an array of [`Event`](#event) objects matching the search criteria.

### `Calendar.getReminderAsync(id)`

Supported platforms: iOS.

| Parameter | Type     | Description                   |
| --------- | -------- | ----------------------------- |
| `id`      | `string` | ID of the reminder to return. |

Returns a specific reminder selected by ID.

Returns: `Promise<reminder>`

A promise which fulfils with a [`Reminder`](#reminder) matching the provided ID, if one exists.

### `Calendar.getRemindersAsync(calendarIds, status, startDate, endDate)`

Supported platforms: iOS.

| Parameter     | Type   | Description                                                                                   |
| ------------- | ------ | --------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |
| `calendarIds` | `(null | string)[]`                                                                                    | Array of IDs of calendars to search for reminders in.                                 |
| `status`      | null   | [ReminderStatus](#reminderstatus)                                                             | One of `Calendar.ReminderStatus.COMPLETED` or `Calendar.ReminderStatus.INCOMPLETE`.   |
| `startDate`   | null   | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | Beginning of time period to search for reminders in. Required if `status` is defined. |
| `endDate`     | null   | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | End of time period to search for reminders in. Required if `status` is defined.       |

Returns a list of reminders matching the provided criteria. If `startDate` and `endDate` are defined, returns all reminders that overlap at all with the [startDate, endDate] interval - i.e. all reminders that end after the `startDate` or begin before the `endDate`.

Returns: `Promise<reminder[]>`

A promise which fulfils with an array of [`Reminder`](#reminder) objects matching the search criteria.

### `Calendar.getRemindersPermissionsAsync()`

Supported platforms: iOS.

Checks user's permissions for accessing user's reminders.

Returns: `Promise<permissionresponse>`

A promise that resolves to an object of type [`PermissionResponse`](#permissionresponse).

### `Calendar.getSourceAsync(id)`

Supported platforms: iOS.

| Parameter | Type     | Description                 |
| --------- | -------- | --------------------------- |
| `id`      | `string` | ID of the source to return. |

Returns a specific source selected by ID.

Returns: `Promise`

A promise which fulfils with an array of [`Source`](#source) object matching the provided ID, if one exists.

### `Calendar.getSourcesAsync()`

Supported platforms: iOS.

Returns: `Promise<source[]>`

A promise which fulfils with an array of [`Source`](#source) objects all sources for calendars stored on the device.

### `Calendar.isAvailableAsync()`

Supported platforms: Android, iOS.

Returns whether the Calendar API is enabled on the current device. This does not check the app permissions.

Returns: `Promise<boolean>`

Async `boolean`, indicating whether the Calendar API is available on the current device. Currently, this resolves `true` on iOS and Android only.

### `Calendar.requestCalendarPermissionsAsync()`

Supported platforms: Android, iOS.

Asks the user to grant permissions for accessing user's calendars.

Returns: `Promise<permissionresponse>`

A promise that resolves to an object of type [`PermissionResponse`](#permissionresponse).

> **Deprecated:** Use [`requestCalendarPermissionsAsync()`](#calendarrequestcalendarpermissionsasync) instead.

### `Calendar.requestPermissionsAsync()`

Supported platforms: Android, iOS.

Returns: `Promise<permissionresponse>`

### `Calendar.requestRemindersPermissionsAsync()`

Supported platforms: iOS.

Asks the user to grant permissions for accessing user's reminders.

Returns: `Promise<permissionresponse>`

A promise that resolves to an object of type [`PermissionResponse`](#permissionresponse).

### `Calendar.updateAttendeeAsync(id, details)`

Supported platforms: Android.

| Parameter           | Type                                                                                                           | Description                                      |
| ------------------- | -------------------------------------------------------------------------------------------------------------- | ------------------------------------------------ |
| `id`                | `string`                                                                                                       | ID of the attendee record to be updated.         |
| `details`(optional) | [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[Attendee](#attendee)\> | A map of properties to be updated. Default: `{}` |

Updates an existing attendee record. To remove a property, explicitly set it to `null` in `details`.

Returns: `Promise<string>`

### `Calendar.updateCalendarAsync(id, details)`

Supported platforms: Android, iOS.

| Parameter           | Type                                                                                              | Description                                      |
| ------------------- | ------------------------------------------------------------------------------------------------- | ------------------------------------------------ |
| `id`                | `string`                                                                                          | ID of the calendar to update.                    |
| `details`(optional) | [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<Calendar\> | A map of properties to be updated. Default: `{}` |

Updates the provided details of an existing calendar stored on the device. To remove a property, explicitly set it to `null` in `details`.

Returns: `Promise<string>`

### `Calendar.updateEventAsync(id, details, recurringEventOptions)`

Supported platforms: Android, iOS.

| Parameter                         | Type                                                                                                                                                                                                   | Description                                          |
| --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------- |
| `id`                              | `string`                                                                                                                                                                                               | ID of the event to be updated.                       |
| `details`(optional)               | [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[Event](#event)\>, 'id'\> | A map of properties to be updated. Default: `{}`     |
| `recurringEventOptions`(optional) | [RecurringEventOptions](#recurringeventoptions)                                                                                                                                                        | A map of options for recurring events. Default: `{}` |

Updates the provided details of an existing calendar stored on the device. To remove a property, explicitly set it to `null` in `details`.

Returns: `Promise<string>`

### `Calendar.updateReminderAsync(id, details)`

Supported platforms: iOS.

| Parameter           | Type                  | Description                                      |
| ------------------- | --------------------- | ------------------------------------------------ |
| `id`                | `string`              | ID of the reminder to be updated.                |
| `details`(optional) | [Reminder](#reminder) | A map of properties to be updated. Default: `{}` |

Updates the provided details of an existing reminder stored on the device. To remove a property, explicitly set it to `null` in `details`.

Returns: `Promise<string>`

## Types

### `Alarm`

Supported platforms: Android, iOS.

A method for having the OS automatically remind the user about a calendar item.

| Property                     | Type                            | Description                                                                                                                                                                              |
| ---------------------------- | ------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| absoluteDate(optional)       | `string`                        | Supported platforms: iOS. Date object or string representing an absolute time the alarm should occur. Overrides `relativeOffset` and `structuredLocation` if specified alongside either. |
| method(optional)             | [AlarmMethod](#alarmmethod)     | Supported platforms: Android. Method of alerting the user that this alarm should use. On iOS this is always a notification.                                                              |
| relativeOffset(optional)     | `number`                        | Number of minutes from the `startDate` of the calendar item that the alarm should occur. Use negative values to have the alarm occur before the `startDate`.                             |
| structuredLocation(optional) | [AlarmLocation](#alarmlocation) | -                                                                                                                                                                                        |

### `AlarmLocation`

Supported platforms: Android, iOS.

| Property            | Type                                      | Description               |
| ------------------- | ----------------------------------------- | ------------------------- |
| coords(optional)    | `{ latitude: number, longitude: number }` | -                         |
| proximity(optional) | `string`                                  | -                         |
| radius(optional)    | `number`                                  | -                         |
| title(optional)     | `string`                                  | Supported platforms: iOS. |

### `Attendee`

Supported platforms: Android, iOS.

A person or entity that is associated with an event by being invited or fulfilling some other role.

| Property                | Type                              | Description                                                                              |
| ----------------------- | --------------------------------- | ---------------------------------------------------------------------------------------- |
| email(optional)         | `string`                          | Supported platforms: Android. Email address of the attendee.                             |
| id(optional)            | `string`                          | Supported platforms: Android. Internal ID that represents this attendee on the device.   |
| isCurrentUser(optional) | `boolean`                         | Supported platforms: iOS. Indicates whether or not this attendee is the current OS user. |
| name                    | `string`                          | Displayed name of the attendee.                                                          |
| role                    | [AttendeeRole](#attendeerole)     | Role of the attendee at the event.                                                       |
| status                  | [AttendeeStatus](#attendeestatus) | Status of the attendee in relation to the event.                                         |
| type                    | [AttendeeType](#attendeetype)     | Type of the attendee.                                                                    |
| url(optional)           | `string`                          | Supported platforms: iOS. URL for the attendee.                                          |

### `Calendar`

Supported platforms: Android, iOS.

A calendar record upon which events (or, on iOS, reminders) can be stored. Settings here apply to the calendar as a whole and how its events are displayed in the OS calendar app.

| Property                       | Type                                        | Description                                                                                                                                                              |
| ------------------------------ | ------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| accessLevel(optional)          | [CalendarAccessLevel](#calendaraccesslevel) | Supported platforms: Android. Level of access that the user has for the calendar.                                                                                        |
| allowedAttendeeTypes(optional) | [AttendeeType[]](#attendeetype)             | Supported platforms: Android. Attendee types that this calendar supports.                                                                                                |
| allowedAvailabilities          | [Availability[]](#availability)             | Availability types that this calendar supports.                                                                                                                          |
| allowedReminders(optional)     | [AlarmMethod[]](#alarmmethod)               | Supported platforms: Android. Alarm methods that this calendar supports.                                                                                                 |
| allowsModifications            | `boolean`                                   | Boolean value that determines whether this calendar can be modified.                                                                                                     |
| color                          | `string`                                    | Color used to display this calendar's events.                                                                                                                            |
| entityType(optional)           | [EntityTypes](#entitytypes)                 | Supported platforms: iOS. Whether the calendar is used in the Calendar or Reminders OS app.                                                                              |
| id                             | `string`                                    | Internal ID that represents this calendar on the device.                                                                                                                 |
| isPrimary(optional)            | `boolean`                                   | Supported platforms: Android. Boolean value indicating whether this is the device's primary calendar.                                                                    |
| isSynced(optional)             | `boolean`                                   | Supported platforms: Android. Indicates whether this calendar is synced and its events stored on the device. Unexpected behavior may occur if this is not set to `true`. |
| isVisible(optional)            | `boolean`                                   | Supported platforms: Android. Indicates whether the OS displays events on this calendar.                                                                                 |
| name(optional)                 | `string                                     | null`                                                                                                                                                                    | Supported platforms: Android. Internal system name of the calendar. |
| ownerAccount(optional)         | `string`                                    | Supported platforms: Android. Name for the account that owns this calendar.                                                                                              |
| source                         | [Source](#source)                           | Object representing the source to be used for the calendar.                                                                                                              |
| sourceId(optional)             | `string`                                    | Supported platforms: iOS. ID of the source to be used for the calendar. Likely the same as the source for any other locally stored calendars.                            |
| timeZone(optional)             | `string`                                    | Supported platforms: Android. Time zone for the calendar.                                                                                                                |
| title                          | `string`                                    | Visible name of the calendar.                                                                                                                                            |
| type(optional)                 | [CalendarType](#calendartype)               | Supported platforms: iOS. Type of calendar this object represents.                                                                                                       |

### `CalendarDialogParams`

Supported platforms: Android, iOS.

| Property                    | Type     | Description                                                                                   |
| --------------------------- | -------- | --------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                          | `string` | ID of the event to be presented in the calendar UI.                                           |
| instanceStartDate(optional) | string   | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | Supported platforms: iOS. Date object representing the start time of the desired instance, if looking for a single instance of a recurring event. If this is not provided and **id** represents a recurring event, the first instance of that event will be returned by default. |

### `DaysOfTheWeek`

Supported platforms: iOS.

| Property             | Type                          | Description                                                                                         |
| -------------------- | ----------------------------- | --------------------------------------------------------------------------------------------------- |
| dayOfTheWeek         | [DayOfTheWeek](#dayoftheweek) | Sunday to Saturday - `DayOfTheWeek` enum.                                                           |
| weekNumber(optional) | `number`                      | `-53` to `53` (`0` ignores this field, and a negative indicates a value from the end of the range). |

### `DialogEventResult`

Supported platforms: Android, iOS.

The result of presenting a calendar dialog for creating or editing an event.

| Property | Type                                                                                                                                                             | Description |
| -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| action   | [Extract](https://www.typescriptlang.org/docs/handbook/utility-types.html#extracttype-union)<[CalendarDialogResultActions](#calendardialogresultactions), 'done' | 'saved'     | 'canceled'                                                                                                                                                                                                              | 'deleted'\> | How user responded to the dialog. On Android, this is always `done` (Android doesn't provide enough information to determine the user's action - the user may have canceled the dialog, saved or deleted the event). On iOS, it can be `saved`, `canceled` or `deleted`. |
| id       | `string                                                                                                                                                          | null`       | The ID of the event that was created or edited. On Android, this is always `null`. On iOS, this is a string when permissions are granted and user confirms the creation or editing of an event. Otherwise, it's `null`. |

### `Event`

Supported platforms: Android, iOS.

An event record, or a single instance of a recurring event. On iOS, used in the Calendar app.

| Property                        | Type                                  | Description                                                                                                                                                                                                                      |
| ------------------------------- | ------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------- |
| accessLevel(optional)           | [EventAccessLevel](#eventaccesslevel) | Supported platforms: Android. User's access level for the event.                                                                                                                                                                 |
| alarms                          | [Alarm[]](#alarm)                     | Array of Alarm objects which control automated reminders to the user.                                                                                                                                                            |
| allDay                          | `boolean`                             | Whether the event is displayed as an all-day event on the calendar                                                                                                                                                               |
| availability                    | [Availability](#availability)         | The availability setting for the event.                                                                                                                                                                                          |
| calendarId                      | `string`                              | ID of the calendar that contains this event.                                                                                                                                                                                     |
| creationDate(optional)          | string                                | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)                                                                                                                                    | Supported platforms: iOS. Date when the event record was created.                                              |
| endDate                         | string                                | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)                                                                                                                                    | Date object or string representing the time when the event ends.                                               |
| endTimeZone(optional)           | `string`                              | Supported platforms: Android. Time zone for the event end time.                                                                                                                                                                  |
| guestsCanInviteOthers(optional) | `boolean`                             | Supported platforms: Android. Whether invited guests can invite other guests.                                                                                                                                                    |
| guestsCanModify(optional)       | `boolean`                             | Supported platforms: Android. Whether invited guests can modify the details of the event.                                                                                                                                        |
| guestsCanSeeGuests(optional)    | `boolean`                             | Supported platforms: Android. Whether invited guests can see other guests.                                                                                                                                                       |
| id                              | `string`                              | Internal ID that represents this event on the device.                                                                                                                                                                            |
| instanceId(optional)            | `string`                              | Supported platforms: Android. For instances of recurring events, volatile ID representing this instance. Not guaranteed to always refer to the same instance.                                                                    |
| isDetached(optional)            | `boolean`                             | Supported platforms: iOS. Boolean value indicating whether or not the event is a detached (modified) instance of a recurring event.                                                                                              |
| lastModifiedDate(optional)      | string                                | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)                                                                                                                                    | Supported platforms: iOS. Date when the event record was last modified.                                        |
| location                        | `string                               | null`                                                                                                                                                                                                                            | Location field of the event.                                                                                   |
| notes                           | `string`                              | Description or notes saved with the event.                                                                                                                                                                                       |
| organizer(optional)             | [Organizer](#organizer)               | Supported platforms: iOS. Organizer of the event. This property is only available on events associated with calendars that are managed by a service ie. Google Calendar or iCloud. The organizer is read-only and cannot be set. |
| organizerEmail(optional)        | `string`                              | Supported platforms: Android. Email address of the organizer of the event.                                                                                                                                                       |
| originalId(optional)            | `string`                              | Supported platforms: Android. For detached (modified) instances of recurring events, the ID of the original recurring event.                                                                                                     |
| originalStartDate(optional)     | string                                | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)                                                                                                                                    | Supported platforms: iOS. For recurring events, the start date for the first (original) instance of the event. |
| recurrenceRule                  | [RecurrenceRule](#recurrencerule)     | null                                                                                                                                                                                                                             | Object representing rules for recurring or repeating events. Set to `null` for one-time events.                |
| startDate                       | string                                | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)                                                                                                                                    | Date object or string representing the time when the event starts.                                             |
| status                          | [EventStatus](#eventstatus)           | Status of the event.                                                                                                                                                                                                             |
| timeZone                        | `string`                              | Time zone the event is scheduled in.                                                                                                                                                                                             |
| title                           | `string`                              | Visible name of the event.                                                                                                                                                                                                       |
| url(optional)                   | `string`                              | Supported platforms: iOS. URL for the event.                                                                                                                                                                                     |

### `OpenEventDialogResult`

Supported platforms: Android, iOS.

The result of presenting the calendar dialog for opening (viewing) an event.

| Property | Type                                                                                                                                                             | Description |
| -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- | --------- | ------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| action   | [Extract](https://www.typescriptlang.org/docs/handbook/utility-types.html#extracttype-union)<[CalendarDialogResultActions](#calendardialogresultactions), 'done' | 'canceled'  | 'deleted' | 'responded'\> | Indicates how user responded to the dialog. On Android, the `action` is always `done`. On iOS, it can be `done`, `canceled`, `deleted` or `responded`. |

### `OpenEventPresentationOptions`

Supported platforms: Android, iOS.

Type: [PresentationOptions](#presentationoptions) extended by:

| Property                        | Type      | Description                                                                                                                                                                                                                                                                                                                                                                                                               |
| ------------------------------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| allowsCalendarPreview(optional) | `boolean` | Supported platforms: iOS. Determines whether event can be shown in calendar day view preview. This property applies only to invitations. Default: `false`                                                                                                                                                                                                                                                                 |
| allowsEditing(optional)         | `boolean` | Supported platforms: iOS. Whether to allow the user to edit the previewed event. This property applies only to events in calendars created by the user. Note that if the user edits the event, the returned action is the one that user performs last. For example, when user previews the event, confirms some edits and finally dismisses the dialog, the event is edited, but response is `canceled`. Default: `false` |

### `PermissionExpiration`

Supported platforms: Android, iOS.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionHookOptions`

Supported platforms: Android, iOS.

Literal Type: `union`

Acceptable values are: `PermissionHookBehavior` | `Options`

### `PermissionResponse`

Supported platforms: Android, iOS.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

### `PresentationOptions`

Supported platforms: Android, iOS.

| Property                       | Type      | Description                                                                                                                                                                                                                                                                                |
| ------------------------------ | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| startNewActivityTask(optional) | `boolean` | Supported platforms: Android. Whether to launch the Activity as a new [task](https://developer.android.com/reference/android/content/Intent#FLAG_ACTIVITY_NEW_TASK). If `true`, the promise resolves with `'done'` action immediately after opening the calendar activity. Default: `true` |

### `RecurrenceRule`

Supported platforms: Android, iOS.

A recurrence rule for events or reminders, allowing the same calendar item to recur multiple times. This type is based on [the iOS interface](https://developer.apple.com/documentation/eventkit/ekrecurrencerule/1507320-initrecurrencewithfrequency) which is in turn based on [the iCal RFC](https://tools.ietf.org/html/rfc5545#section-3.8.5.3) so you can refer to those to learn more about this potentially complex interface.

Not all the combinations make sense. For example, when frequency is `DAILY`, setting `daysOfTheMonth` makes no sense.

| Property                  | Type                                | Description                                                                                                                                                                                                                                                                                                                                              |
| ------------------------- | ----------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------- |
| daysOfTheMonth(optional)  | `number[]`                          | Supported platforms: iOS. The days of the month this event occurs on. `-31` to `31` (not including `0`). Negative indicates a value from the end of the range. This field is only valid for `Calendar.Frequency.Monthly`.                                                                                                                                |
| daysOfTheWeek(optional)   | [DaysOfTheWeek[]](#daysoftheweek)   | Supported platforms: iOS. The days of the week the event should recur on. An array of [`DaysOfTheWeek`](#daysoftheweek) object.                                                                                                                                                                                                                          |
| daysOfTheYear(optional)   | `number[]`                          | Supported platforms: iOS. The days of the year this event occurs on. `-366` to `366` (not including `0`). Negative indicates a value from the end of the range. This field is only valid for `Calendar.Frequency.Yearly`.                                                                                                                                |
| endDate(optional)         | string                              | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)                                                                                                                                                                                                                                                            | Date on which the calendar item should stop recurring; overrides `occurrence` if both are specified. |
| frequency                 | [Frequency](#frequency)             | How often the calendar item should recur.                                                                                                                                                                                                                                                                                                                |
| interval(optional)        | `number`                            | Interval at which the calendar item should recur. For example, an `interval: 2` with `frequency: DAILY` would yield an event that recurs every other day. Default: `1`                                                                                                                                                                                   |
| monthsOfTheYear(optional) | [MonthOfTheYear[]](#monthoftheyear) | Supported platforms: iOS. The months this event occurs on. This field is only valid for `Calendar.Frequency.Yearly`.                                                                                                                                                                                                                                     |
| occurrence(optional)      | `number`                            | Number of times the calendar item should recur before stopping.                                                                                                                                                                                                                                                                                          |
| setPositions(optional)    | `number[]`                          | Supported platforms: iOS. TAn array of numbers that filters which recurrences to include. For example, for an event that recurs every Monday, passing 2 here will make it recur every other Monday. `-366` to `366` (not including `0`). Negative indicates a value from the end of the range. This field is only valid for `Calendar.Frequency.Yearly`. |
| weeksOfTheYear(optional)  | `number[]`                          | Supported platforms: iOS. The weeks of the year this event occurs on. `-53` to `53` (not including `0`). Negative indicates a value from the end of the range. This field is only valid for `Calendar.Frequency.Yearly`.                                                                                                                                 |

### `RecurringEventOptions`

Supported platforms: iOS.

| Property                    | Type      | Description                                                                                                                                                                                                                                                                                                   |
| --------------------------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| futureEvents(optional)      | `boolean` | Whether future events in the recurring series should also be updated. If `true`, will apply the given changes to the recurring instance specified by `instanceStartDate` and all future events in the series. If `false`, will only apply the given changes to the instance specified by `instanceStartDate`. |
| instanceStartDate(optional) | string    | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)                                                                                                                                                                                                                 | Date object representing the start time of the desired instance, if looking for a single instance of a recurring event. If this is not provided and **id** represents a recurring event, the first instance of that event will be returned by default. |

### `Reminder`

Supported platforms: iOS.

A reminder record, used in the iOS Reminders app. No direct analog on Android.

| Property                   | Type                              | Description                                                                                   |
| -------------------------- | --------------------------------- | --------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| alarms(optional)           | [Alarm[]](#alarm)                 | Array of Alarm objects which control automated alarms to the user about the task.             |
| calendarId(optional)       | `string`                          | ID of the calendar that contains this reminder.                                               |
| completed(optional)        | `boolean`                         | Indicates whether or not the task has been completed.                                         |
| completionDate(optional)   | string                            | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | Date object or string representing the date of completion, if `completed` is `true`. Setting this property of a nonnull `Date` will automatically set the reminder's `completed` value to `true`. |
| creationDate(optional)     | string                            | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | Date when the reminder record was created.                                                                                                                                                        |
| dueDate(optional)          | string                            | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | Date object or string representing the time when the reminder task is due.                                                                                                                        |
| id(optional)               | `string`                          | Internal ID that represents this reminder on the device.                                      |
| lastModifiedDate(optional) | string                            | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | Date when the reminder record was last modified.                                                                                                                                                  |
| location(optional)         | `string`                          | Location field of the reminder                                                                |
| notes(optional)            | `string`                          | Description or notes saved with the reminder.                                                 |
| recurrenceRule(optional)   | [RecurrenceRule](#recurrencerule) | null                                                                                          | Object representing rules for recurring or repeated reminders. `null` for one-time tasks.                                                                                                         |
| startDate(optional)        | string                            | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | Date object or string representing the start date of the reminder task.                                                                                                                           |
| timeZone(optional)         | `string`                          | Time zone the reminder is scheduled in.                                                       |
| title(optional)            | `string`                          | Visible name of the reminder.                                                                 |
| url(optional)              | `string`                          | URL for the reminder.                                                                         |

### `Source`

Supported platforms: Android, iOS.

A source account that owns a particular calendar. Expo apps will typically not need to interact with `Source` objects.

| Property                 | Type      | Description                                                                                                            |
| ------------------------ | --------- | ---------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id(optional)             | `string`  | Supported platforms: iOS. Internal ID that represents this source on the device.                                       |
| isLocalAccount(optional) | `boolean` | Supported platforms: Android. Whether this source is the local phone account. Must be `true` if `type` is `undefined`. |
| name                     | `string`  | Name for the account that owns this calendar and was used to sync the calendar to the device.                          |
| type                     | string    | [SourceType](#sourcetype)                                                                                              | Type of the account that owns this calendar and was used to sync it to the device. If `isLocalAccount` is falsy then this must be defined, and must match an account on the device along with `name`, or the OS will delete the calendar. On iOS, one of [`SourceType`](#sourcetype)s. |

## Enums

### `AlarmMethod`

Supported platforms: Android.

#### `ALARM`

`AlarmMethod.ALARM = "alarm"`

#### `ALERT`

`AlarmMethod.ALERT = "alert"`

#### `DEFAULT`

`AlarmMethod.DEFAULT = "default"`

#### `EMAIL`

`AlarmMethod.EMAIL = "email"`

#### `SMS`

`AlarmMethod.SMS = "sms"`

### `AttendeeRole`

Supported platforms: Android, iOS.

#### `ATTENDEE`

Supported platforms: Android.

`AttendeeRole.ATTENDEE = "attendee"`

#### `CHAIR`

Supported platforms: iOS.

`AttendeeRole.CHAIR = "chair"`

#### `NONE`

Supported platforms: Android.

`AttendeeRole.NONE = "none"`

#### `NON_PARTICIPANT`

Supported platforms: iOS.

`AttendeeRole.NON_PARTICIPANT = "nonParticipant"`

#### `OPTIONAL`

Supported platforms: iOS.

`AttendeeRole.OPTIONAL = "optional"`

#### `ORGANIZER`

Supported platforms: Android.

`AttendeeRole.ORGANIZER = "organizer"`

#### `PERFORMER`

Supported platforms: Android.

`AttendeeRole.PERFORMER = "performer"`

#### `REQUIRED`

Supported platforms: iOS.

`AttendeeRole.REQUIRED = "required"`

#### `SPEAKER`

Supported platforms: Android.

`AttendeeRole.SPEAKER = "speaker"`

#### `UNKNOWN`

Supported platforms: iOS.

`AttendeeRole.UNKNOWN = "unknown"`

### `AttendeeStatus`

Supported platforms: Android, iOS.

#### `ACCEPTED`

`AttendeeStatus.ACCEPTED = "accepted"`

#### `COMPLETED`

Supported platforms: iOS.

`AttendeeStatus.COMPLETED = "completed"`

#### `DECLINED`

`AttendeeStatus.DECLINED = "declined"`

#### `DELEGATED`

Supported platforms: iOS.

`AttendeeStatus.DELEGATED = "delegated"`

#### `IN_PROCESS`

Supported platforms: iOS.

`AttendeeStatus.IN_PROCESS = "inProcess"`

#### `INVITED`

Supported platforms: Android.

`AttendeeStatus.INVITED = "invited"`

#### `NONE`

Supported platforms: Android.

`AttendeeStatus.NONE = "none"`

#### `PENDING`

Supported platforms: iOS.

`AttendeeStatus.PENDING = "pending"`

#### `TENTATIVE`

`AttendeeStatus.TENTATIVE = "tentative"`

#### `UNKNOWN`

Supported platforms: iOS.

`AttendeeStatus.UNKNOWN = "unknown"`

### `AttendeeType`

Supported platforms: Android, iOS.

#### `GROUP`

Supported platforms: iOS.

`AttendeeType.GROUP = "group"`

#### `NONE`

Supported platforms: Android.

`AttendeeType.NONE = "none"`

#### `OPTIONAL`

Supported platforms: Android.

`AttendeeType.OPTIONAL = "optional"`

#### `PERSON`

Supported platforms: iOS.

`AttendeeType.PERSON = "person"`

#### `REQUIRED`

Supported platforms: Android.

`AttendeeType.REQUIRED = "required"`

#### `RESOURCE`

`AttendeeType.RESOURCE = "resource"`

#### `ROOM`

Supported platforms: iOS.

`AttendeeType.ROOM = "room"`

#### `UNKNOWN`

Supported platforms: iOS.

`AttendeeType.UNKNOWN = "unknown"`

### `Availability`

Supported platforms: Android, iOS.

#### `BUSY`

`Availability.BUSY = "busy"`

#### `FREE`

`Availability.FREE = "free"`

#### `NOT_SUPPORTED`

Supported platforms: iOS.

`Availability.NOT_SUPPORTED = "notSupported"`

#### `TENTATIVE`

`Availability.TENTATIVE = "tentative"`

#### `UNAVAILABLE`

Supported platforms: iOS.

`Availability.UNAVAILABLE = "unavailable"`

### `CalendarAccessLevel`

Supported platforms: Android.

#### `CONTRIBUTOR`

`CalendarAccessLevel.CONTRIBUTOR = "contributor"`

#### `EDITOR`

`CalendarAccessLevel.EDITOR = "editor"`

#### `FREEBUSY`

`CalendarAccessLevel.FREEBUSY = "freebusy"`

#### `NONE`

`CalendarAccessLevel.NONE = "none"`

#### `OVERRIDE`

`CalendarAccessLevel.OVERRIDE = "override"`

#### `OWNER`

`CalendarAccessLevel.OWNER = "owner"`

#### `READ`

`CalendarAccessLevel.READ = "read"`

#### `RESPOND`

`CalendarAccessLevel.RESPOND = "respond"`

#### `ROOT`

`CalendarAccessLevel.ROOT = "root"`

### `CalendarDialogResultActions`

Supported platforms: Android, iOS.

Enum containing all possible user responses to the calendar UI dialogs. Depending on what dialog is presented, a subset of the values applies.

#### `canceled`

Supported platforms: iOS.

`CalendarDialogResultActions.canceled = "canceled"`

The user canceled or dismissed the dialog.

#### `deleted`

Supported platforms: iOS.

`CalendarDialogResultActions.deleted = "deleted"`

The user deleted the event.

#### `done`

`CalendarDialogResultActions.done = "done"`

On Android, this is the only possible result because the OS doesn't provide enough information to determine the user's action - the user may have canceled the dialog, modified the event, or deleted it.

On iOS, this means the user simply closed the dialog.

#### `responded`

Supported platforms: iOS.

`CalendarDialogResultActions.responded = "responded"`

The user responded to and saved a pending event invitation.

#### `saved`

Supported platforms: iOS.

`CalendarDialogResultActions.saved = "saved"`

The user saved a new event or modified an existing one.

### `CalendarType`

Supported platforms: iOS.

#### `BIRTHDAYS`

`CalendarType.BIRTHDAYS = "birthdays"`

#### `CALDAV`

`CalendarType.CALDAV = "caldav"`

#### `EXCHANGE`

`CalendarType.EXCHANGE = "exchange"`

#### `LOCAL`

`CalendarType.LOCAL = "local"`

#### `SUBSCRIBED`

`CalendarType.SUBSCRIBED = "subscribed"`

#### `UNKNOWN`

`CalendarType.UNKNOWN = "unknown"`

### `DayOfTheWeek`

Supported platforms: iOS.

#### `Sunday`

`DayOfTheWeek.Sunday = 1`

#### `Monday`

`DayOfTheWeek.Monday = 2`

#### `Tuesday`

`DayOfTheWeek.Tuesday = 3`

#### `Wednesday`

`DayOfTheWeek.Wednesday = 4`

#### `Thursday`

`DayOfTheWeek.Thursday = 5`

#### `Friday`

`DayOfTheWeek.Friday = 6`

#### `Saturday`

`DayOfTheWeek.Saturday = 7`

### `EntityTypes`

Supported platforms: Android, iOS.

platform ios

#### `EVENT`

`EntityTypes.EVENT = "event"`

#### `REMINDER`

`EntityTypes.REMINDER = "reminder"`

### `EventAccessLevel`

Supported platforms: Android.

#### `CONFIDENTIAL`

`EventAccessLevel.CONFIDENTIAL = "confidential"`

#### `DEFAULT`

`EventAccessLevel.DEFAULT = "default"`

#### `PRIVATE`

`EventAccessLevel.PRIVATE = "private"`

#### `PUBLIC`

`EventAccessLevel.PUBLIC = "public"`

### `EventStatus`

Supported platforms: Android, iOS.

#### `CANCELED`

`EventStatus.CANCELED = "canceled"`

#### `CONFIRMED`

`EventStatus.CONFIRMED = "confirmed"`

#### `NONE`

`EventStatus.NONE = "none"`

#### `TENTATIVE`

`EventStatus.TENTATIVE = "tentative"`

### `Frequency`

Supported platforms: Android, iOS.

#### `DAILY`

`Frequency.DAILY = "daily"`

#### `MONTHLY`

`Frequency.MONTHLY = "monthly"`

#### `WEEKLY`

`Frequency.WEEKLY = "weekly"`

#### `YEARLY`

`Frequency.YEARLY = "yearly"`

### `MonthOfTheYear`

Supported platforms: iOS.

#### `January`

`MonthOfTheYear.January = 1`

#### `February`

`MonthOfTheYear.February = 2`

#### `March`

`MonthOfTheYear.March = 3`

#### `April`

`MonthOfTheYear.April = 4`

#### `May`

`MonthOfTheYear.May = 5`

#### `June`

`MonthOfTheYear.June = 6`

#### `July`

`MonthOfTheYear.July = 7`

#### `August`

`MonthOfTheYear.August = 8`

#### `September`

`MonthOfTheYear.September = 9`

#### `October`

`MonthOfTheYear.October = 10`

#### `November`

`MonthOfTheYear.November = 11`

#### `December`

`MonthOfTheYear.December = 12`

### `PermissionStatus`

Supported platforms: Android, iOS.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

### `ReminderStatus`

Supported platforms: iOS.

#### `COMPLETED`

`ReminderStatus.COMPLETED = "completed"`

#### `INCOMPLETE`

`ReminderStatus.INCOMPLETE = "incomplete"`

### `SourceType`

Supported platforms: iOS.

#### `BIRTHDAYS`

`SourceType.BIRTHDAYS = "birthdays"`

#### `CALDAV`

`SourceType.CALDAV = "caldav"`

#### `EXCHANGE`

`SourceType.EXCHANGE = "exchange"`

#### `LOCAL`

`SourceType.LOCAL = "local"`

#### `MOBILEME`

`SourceType.MOBILEME = "mobileme"`

#### `SUBSCRIBED`

`SourceType.SUBSCRIBED = "subscribed"`

## Permissions

### Android

If you only intend to use the [system-provided calendar UI](/versions/latest/sdk/calendar#launching-system-provided-calendar-dialogs), you don't need to request any permissions.

Otherwise, you must add the following permissions to your **app.json** inside the [`expo.android.permissions`](/versions/latest/config/app#permissions) array.

| Android Permission | Description                                              |
| ------------------ | -------------------------------------------------------- |
| `READ_CALENDAR`    | Allows an application to read the user's calendar data.  |
| `WRITE_CALENDAR`   | Allows an application to write the user's calendar data. |

### iOS

If you only intend to create events using system-provided calendar UI with [`createEventInCalendarAsync`](/versions/latest/sdk/calendar#createeventincalendarasynceventdata-presentationoptions), you don't need to request permissions.

The following usage description keys are used by this library:

| Info.plist Key                | Description                                                                                 |
| ----------------------------- | ------------------------------------------------------------------------------------------- |
| `NSCalendarsUsageDescription` | A message that tells the user why the app is requesting access to the userâ€™s calendar data. |
| `NSRemindersUsageDescription` | A message that tells the user why the app is requesting access to the userâ€™s reminders.     |

---

---

title: Camera
description: A React component that renders a preview for the device's front or back camera.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-camera'
packageName: 'expo-camera'
iconUrl: '/static/images/packages/expo-camera.png'
platforms: ['android*', 'ios*', 'web', 'expo-go']

---

# Expo Camera

A React component that renders a preview for the device's front or back camera.
Android (device only), iOS (device only), Web, Included in Expo Go

`expo-camera` provides a React component that renders a preview of the device's front or back camera. The camera's parameters such as zoom, torch, and flash mode are adjustable. Using `CameraView`, you can take photos and record videos that are saved to the app's cache. The component is also capable of detecting bar codes appearing in the preview. Run the [example](/versions/latest/sdk/camera#usage) on your device to see all these features working together.

## Installation

```sh
npx expo install expo-camera
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-camera` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-camera",
        {
          "cameraPermission": "Allow $(PRODUCT_NAME) to access your camera",
          "microphonePermission": "Allow $(PRODUCT_NAME) to access your microphone",
          "recordAudioAndroid": true
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                   | Default                                             | Description                                                                                              |
| ---------------------- | --------------------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| `cameraPermission`     | `"Allow $(PRODUCT_NAME) to access your camera"`     | Only for: iOS. A string to set the [`NSCameraUsageDescription`](#ios) permission message.                |
| `microphonePermission` | `"Allow $(PRODUCT_NAME) to access your microphone"` | Only for: iOS. A string to set the [`NSMicrophoneUsageDescription`](#ios) permission message.            |
| `recordAudioAndroid`   | `true`                                              | Only for: Android. A boolean that determines whether to enable the `RECORD_AUDIO` permission on Android. |

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) (you're using native **android** and **ios** projects manually), then you need to configure following permissions in your native projects:

**Android**

- `expo-camera` automatically adds `android.permission.CAMERA` permission to your project's **android/app/src/main/AndroidManifest.xml**. If you want to record videos with audio, include `RECORD_AUDIO` permission:

  ```xml
  <!-- Added permission -->
  <uses-permission android:name="android.permission.CAMERA" />

  <!-- Only add when recording videos with audio -->
  <uses-permission android:name="android.permission.RECORD_AUDIO" />
  ```

- Then, adjust the **android/build.gradle** file to add new maven block after all other repositories as show below:

  ```groovy
  allprojects {
    repositories {
        // * Your other repositories here *
        // * Add a new maven block after other repositories / blocks *
        maven {
            // expo-camera bundles a custom com.google.android:cameraview
            url "$rootDir/../node_modules/expo-camera/android/maven"
        }
    }
  }
  ```

**iOS**

- Add `NSCameraUsageDescription` and `NSMicrophoneUsageDescription` keys to your project's **ios/[app]/Info.plist**:

  ```xml
  <key>NSCameraUsageDescription</key>
  <string>Allow $(PRODUCT_NAME) to access your camera</string>
  <key>NSMicrophoneUsageDescription</key>
  <string>Allow $(PRODUCT_NAME) to access your microphone</string>
  ```

## Usage

> Only one Camera preview can be active at any given time. If you have multiple screens in your app, you should unmount `Camera` components whenever a screen is unfocused.

```tsx
import { Button, StyleSheet, Text, TouchableOpacity, View } from "react-native";
import { CameraView, CameraType, useCameraPermissions } from "expo-camera";
import { useState } from "react";

export default function App() {
  const [facing, setFacing] = useState<CameraType>("back");
  const [permission, requestPermission] = useCameraPermissions();

  if (!permission) {
    // Camera permissions are still loading.
    return <View />;
  }

  if (!permission.granted) {
    // Camera permissions are not granted yet.
    return (
      <View style={styles.container}>
        <Text style={styles.message}>
          We need your permission to show the camera
        </Text>
        <Button
          onPress={requestPermission}
          title="grant permission"
        />
      </View>
    );
  }

  function toggleCameraFacing() {
    setFacing(current => (current === "back" ? "front" : "back"));
  }

  return (
    <View style={styles.container}>
      <CameraView
        style={styles.camera}
        facing={facing}
      />
      <View style={styles.buttonContainer}>
        <TouchableOpacity
          style={styles.button}
          onPress={toggleCameraFacing}
        >
          <Text style={styles.text}>Flip Camera</Text>
        </TouchableOpacity>
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
  },
  message: {
    textAlign: "center",
    paddingBottom: 10,
  },
  camera: {
    flex: 1,
  },
  buttonContainer: {
    position: "absolute",
    bottom: 64,
    flexDirection: "row",
    backgroundColor: "transparent",
    width: "100%",
    paddingHorizontal: 64,
  },
  button: {
    flex: 1,
    alignItems: "center",
  },
  text: {
    fontSize: 24,
    fontWeight: "bold",
    color: "white",
  },
});
```

### Advanced usage

[Camera app example](https://github.com/expo/examples/tree/master/with-camera) â€” A complete example that shows how to take a picture and display it. Written in TypeScript.

## Web support

Most browsers support a version of web camera functionality, you can check out the [web camera browser support here](https://caniuse.com/#feat=stream). Image URIs are always returned as base64 strings because local file system paths are unavailable in the browser.

### Chrome `iframe` usage

When using **Chrome versions 64+**, if you try to use a web camera in a cross-origin iframe nothing will render. To add support for cameras in your iframe simply add the attribute `allow="microphone; camera;"` to the iframe element:

```html
<iframe
  src="..."
  allow="microphone; camera;"
>
  <!-- <CameraView /> -->
</iframe>
```

## API

```js
import { CameraView } from "expo-camera";
```

## Component

### `CameraView`

Supported platforms: Android, iOS, Web.

Type: React.[Component](https://react.dev/reference/react/Component)<[CameraViewProps](#cameraviewprops)\>

CameraViewProps

### `active`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

A boolean that determines whether the camera should be active. Useful in situations where the camera may not have unmounted but you still want to stop the camera session.

### `animateShutter`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

A boolean that determines whether the camera shutter animation should be enabled.

### `autofocus`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [FocusMode](#focusmode)â€ƒâ€¢â€ƒDefault: `off`

Indicates the focus mode to use.

### `barcodeScannerSettings`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [BarcodeSettings](#barcodesettings)

Example

```tsx
<CameraView
  barcodeScannerSettings={{
    barcodeTypes: ["qr"],
  }}
/>
```

### `enableTorch`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

A boolean to enable or disable the torch.

### `facing`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [CameraType](#cameratype)â€ƒâ€¢â€ƒDefault: `'back'`

Camera facing. Use one of `CameraType`. When `front`, use the front-facing camera. When `back`, use the back-facing camera.

### `flash`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [FlashMode](#flashmode)â€ƒâ€¢â€ƒDefault: `'off'`

Camera flash mode. Use one of `FlashMode` values. When `on`, the flash on your device will turn on when taking a picture. When `off`, it won't. Setting it to `auto` will fire flash if required.

### `mirror`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

A boolean that determines whether the camera should mirror the image when using the front camera.

### `mode`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [CameraMode](#cameramode)â€ƒâ€¢â€ƒDefault: `'picture'`

Used to select image or video output.

### `mute`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

If present, video will be recorded with no sound.

### `onAvailableLensesChanged`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: (event: [AvailableLenses](#availablelenses)) => void

Callback invoked when the cameras available lenses change.

event: [AvailableLenses](#availablelenses)

result object that contains a `lenses` property containing an array of available lenses.

### `onBarcodeScanned`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: (scanningResult: [BarcodeScanningResult](#barcodescanningresult)) => void

Callback that is invoked when a barcode has been successfully scanned. The callback is provided with an object of the [`BarcodeScanningResult`](#barcodescanningresult) shape, where the `type` refers to the barcode type that was scanned, and the `data` is the information encoded in the barcode (in this case of QR codes, this is often a URL). See [`BarcodeType`](#barcodetype) for supported values.

### `onCameraReady`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

Callback invoked when camera preview has been set.

### `onMountError`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: (event: [CameraMountError](#cameramounterror)) => void

Callback invoked when camera preview could not start.

event: [CameraMountError](#cameramounterror)

Error object that contains a `message`.

### `onResponsiveOrientationChanged`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: (event: [ResponsiveOrientationChanged](#responsiveorientationchanged)) => void

Callback invoked when responsive orientation changes. Only applicable if `responsiveOrientationWhenOrientationLocked` is `true`.

event: [ResponsiveOrientationChanged](#responsiveorientationchanged)

result object that contains updated orientation of camera

### `pictureSize`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`

A string representing the size of pictures [`takePictureAsync`](#takepictureasyncoptions) will take. Available sizes can be fetched with [`getAvailablePictureSizesAsync`](#getavailablepicturesizesasync). Setting this prop will cause the `ratio` prop to be ignored as the aspect ratio is determined by the selected size.

### `poster`

Supported platforms: Web.

Optionalâ€ƒâ€¢â€ƒType: `string`

A URL for an image to be shown while the camera is loading.

### `ratio`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [CameraRatio](#cameraratio)

A string representing the aspect ratio of the preview. For example, `4:3` and `16:9`. Note: Setting the aspect ratio here will change the scaleType of the camera preview from `FILL` to `FIT`. Also, when using 1:1, devices only support certain sizes. If you specify an unsupported size, the closest supported ratio will be used.

### `responsiveOrientationWhenOrientationLocked`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Whether to allow responsive orientation of the camera when the screen orientation is locked (that is, when set to `true`, landscape photos will be taken if the device is turned that way, even if the app or device orientation is locked to portrait).

### `selectedLens`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `string`â€ƒâ€¢â€ƒDefault: `'builtInWideAngleCamera'`

Available lenses are emitted to the `onAvailableLensesChanged` callback whenever the currently selected camera changes or by calling [`getAvailableLensesAsync`](#getavailablelensesasync). You can read more about the available lenses in the [Apple documentation](https://developer.apple.com/documentation/avfoundation/avcapturedevice/devicetype-swift.struct).

### `videoBitrate`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `number`

The bitrate of the video recording in bits per second. Note: On iOS, you must specify the video codec when calling `recordAsync` to use this option.

Example

`10_000_000`

### `videoQuality`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [VideoQuality](#videoquality)

Specify the quality of the recorded video. Use one of `VideoQuality` possible values: for 16:9 resolution `2160p`, `1080p`, `720p`, `480p` : `Android only` and for 4:3 `4:3` (the size is 640x480). If the chosen quality is not available for a device, the highest available is chosen.

### `videoStabilizationMode`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [VideoStabilization](#videostabilization)

The video stabilization mode used for a video recording. Use one of [`VideoStabilization.<value>`](#videostabilization). You can read more about each stabilization type in [Apple Documentation](https://developer.apple.com/documentation/avfoundation/avcapturevideostabilizationmode).

### `zoom`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `number`â€ƒâ€¢â€ƒDefault: `0`

A value between `0` and `1` being a percentage of device's max zoom, where `0` means not zoomed and `1` means maximum zoom.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

## Static Methods

### `dismissScanner()`

Supported platforms: iOS.

Dismiss the scanner presented by `launchScanner`.

> On Android, the scanner is dismissed automatically when a barcode is scanned.

Returns: `Promise<void>`

### `getAvailableVideoCodecsAsync()`

Supported platforms: iOS.

Queries the device for the available video codecs that can be used in video recording.

Returns: `Promise<videocodec[]>`

A promise that resolves to a list of strings that represents available codecs.

### `isAvailableAsync()`

Supported platforms: Web.

Check whether the current device has a camera. This is useful for web and simulators cases. This isn't influenced by the Permissions API (all platforms), or HTTP usage (in the browser). You will still need to check if the native permission has been accepted.

Returns: `Promise<boolean>`

### `launchScanner(options)`

Supported platforms: Android, iOS.

| Parameter           | Type                                |
| ------------------- | ----------------------------------- |
| `options`(optional) | [ScanningOptions](#scanningoptions) |

On Android, we will use the [Google code scanner](https://developers.google.com/ml-kit/vision/barcode-scanning/code-scanner). On iOS, presents a modal view controller that uses the [`DataScannerViewController`](https://developer.apple.com/documentation/visionkit/scanning_data_with_the_camera) available on iOS 16+.

Returns: `Promise<void>`

### `onModernBarcodeScanned(listener)`

Supported platforms: Android, iOS.

| Parameter  | Type                                               | Description                                                                                       |
| ---------- | -------------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| `listener` | (event: [ScanningResult](#scanningresult)) => void | Invoked with the [ScanningResult](#scanningresult) when a bar code has been successfully scanned. |

Invokes the `listener` function when a bar code has been successfully scanned. The callback is provided with an object of the `ScanningResult` shape, where the `type` refers to the bar code type that was scanned and the `data` is the information encoded in the bar code (in this case of QR codes, this is often a URL). See [`BarcodeType`](#barcodetype) for supported values.

Returns: `EventSubscription`

## Component Methods

### `getAvailableLensesAsync()`

Supported platforms: iOS.

Returns the available lenses for the currently selected camera.

Returns: `Promise<string[]>`

Returns a Promise that resolves to an array of strings representing the lens type that can be passed to `selectedLens` prop.

### `getAvailablePictureSizesAsync()`

Supported platforms: Android, iOS, Web.

Get picture sizes that are supported by the device.

Returns: `Promise<string[]>`

Returns a Promise that resolves to an array of strings representing picture sizes that can be passed to `pictureSize` prop. The list varies across Android devices but is the same for every iOS.

### `getSupportedFeatures()`

Supported platforms: Android, iOS, Web.

Returns an object with the supported features of the camera on the current device.

Returns: `{ isModernBarcodeScannerAvailable: boolean, toggleRecordingAsyncAvailable: boolean }`

### `pausePreview()`

Supported platforms: Android, iOS, Web.

Pauses the camera preview. It is not recommended to use `takePictureAsync` when preview is paused.

Returns: `Promise<void>`

### `recordAsync(options)`

Supported platforms: Android, iOS.

| Parameter           | Type                                              | Description                             |
| ------------------- | ------------------------------------------------- | --------------------------------------- |
| `options`(optional) | [CameraRecordingOptions](#camerarecordingoptions) | A map of `CameraRecordingOptions` type. |

Starts recording a video that will be saved to cache directory. Videos are rotated to match device's orientation. Flipping camera during a recording results in stopping it.

Returns: `Promise<undefined>`

Returns a Promise that resolves to an object containing video file `uri` property and a `codec` property on iOS. The Promise is returned if `stopRecording` was invoked, one of `maxDuration` and `maxFileSize` is reached or camera preview is stopped.

### `resumePreview()`

Supported platforms: Android, iOS, Web.

Resumes the camera preview.

Returns: `Promise<void>`

### `stopRecording()`

Supported platforms: Android, iOS.

Stops recording if any is in progress.

Returns: `void`

### `takePictureAsync(optionsWithRef)`

Supported platforms: Android, iOS, Web.

Overload #1

| Parameter        | Type                                                                 | Description                                                                          |
| ---------------- | -------------------------------------------------------------------- | ------------------------------------------------------------------------------------ |
| `optionsWithRef` | [CameraPictureOptions](#camerapictureoptions) & { pictureRef: true } | An object in form of `CameraPictureOptions` type and `pictureRef` key set to `true`. |

Takes a picture and returns an object that references the native image instance.

> **Note**: Make sure to wait for the [`onCameraReady`](#oncameraready) callback before calling this method.

> **Note:** Avoid calling this method while the preview is paused. On Android, this will throw an error. On iOS, this will take a picture of the last frame that is currently on screen.

Returns: `Promise<pictureref>`

Returns a Promise that resolves to `PictureRef` class which contains basic image data, and a reference to native image instance which can be passed to other Expo packages supporting handling such an instance.

### `takePictureAsync(options)`

Supported platforms: Android, iOS, Web.

Overload #2

| Parameter           | Type                                          | Description                                       |
| ------------------- | --------------------------------------------- | ------------------------------------------------- |
| `options`(optional) | [CameraPictureOptions](#camerapictureoptions) | An object in form of `CameraPictureOptions` type. |

Takes a picture and saves it to app's cache directory. Photos are rotated to match device's orientation (if `options.skipProcessing` flag is not enabled) and scaled to match the preview.

> **Note**: Make sure to wait for the [`onCameraReady`](#oncameraready) callback before calling this method.

> **Note:** Avoid calling this method while the preview is paused. On Android, this will throw an error. On iOS, this will take a picture of the last frame that is currently on screen.

Returns: `Promise<cameracapturedpicture>`

Returns a Promise that resolves to `CameraCapturedPicture` object, where `uri` is a URI to the local image file on Android, iOS, and a base64 string on web (usable as the source for an `Image` element). The `width` and `height` properties specify the dimensions of the image.

`base64` is included if the `base64` option was truthy, and is a string containing the JPEG data of the image in Base64. Prepend it with `'data:image/jpg;base64,'` to get a data URI, which you can use as the source for an `Image` element for example.

`exif` is included if the `exif` option was truthy, and is an object containing EXIF data for the image. The names of its properties are EXIF tags and their values are the values for those tags.

> On native platforms, the local image URI is temporary. Use [`FileSystem.copy`](/versions/latest/sdk/filesystem#copydestination-1) to make a permanent copy of the image.

### `toggleRecordingAsync()`

Supported platforms: Android, iOS, Web.

Pauses or resumes the video recording. Only has an effect if there is an active recording. On `iOS`, this method only supported on `iOS` 18.

Returns: `Promise<undefined>`

Example

```ts
const { toggleRecordingAsyncAvailable } = getSupportedFeatures()

return (
 {toggleRecordingAsyncAvailable && (
   <Button title="Toggle Recording" onPress={toggleRecordingAsync} />
 )}
)
```

## Hooks

### `useCameraPermissions(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                            |
| ------------------- | ------------------------------- |
| `options`(optional) | `PermissionHookOptions<object>` |

Check or request permissions to access the camera. This uses both `requestCameraPermissionsAsync` and `getCameraPermissionsAsync` to interact with the permissions.

Returns: `[null | PermissionResponse, RequestPermissionMethod<permissionresponse>, GetPermissionMethod]</permissionresponse>`

Example

```ts
const [status, requestPermission] = useCameraPermissions();
```

### `useMicrophonePermissions(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                            |
| ------------------- | ------------------------------- |
| `options`(optional) | `PermissionHookOptions<object>` |

Check or request permissions to access the microphone. This uses both `requestMicrophonePermissionsAsync` and `getMicrophonePermissionsAsync` to interact with the permissions.

Returns: `[null | PermissionResponse, RequestPermissionMethod<permissionresponse>, GetPermissionMethod]</permissionresponse>`

Example

```ts
const [status, requestPermission] = Camera.useMicrophonePermissions();
```

## Classes

### `CameraNativeModule`

Supported platforms: Android, iOS, Web.

Type: Class extends [NativeModule](/versions/v54.0.0/sdk/expo#nativemoduletype)<[CameraEvents](#cameraevents)\>

CameraNativeModule Properties

### `dismissScanner`

Supported platforms: Android, iOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<void\>

### `getAvailableVideoCodecsAsync`

Supported platforms: Android, iOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<[VideoCodec[]](#videocodec)\>

### `getCameraPermissionsAsync`

Supported platforms: Android, iOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<PermissionResponse\>

### `getMicrophonePermissionsAsync`

Supported platforms: Android, iOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<PermissionResponse\>

### `isAvailableAsync`

Supported platforms: Android, iOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<boolean\>

### `isModernBarcodeScannerAvailable`

Supported platforms: Android, iOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: `boolean`

### `launchScanner`

Supported platforms: Android, iOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: (options?: [ScanningOptions](#scanningoptions)) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<void\>

### `requestCameraPermissionsAsync`

Supported platforms: Android, iOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<PermissionResponse\>

### `requestMicrophonePermissionsAsync`

Supported platforms: Android, iOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<PermissionResponse\>

### `scanFromURLAsync`

Supported platforms: Android, iOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: (url: string, barcodeTypes?: [BarcodeType[]](#barcodetype)) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<[BarcodeScanningResult[]](#barcodescanningresult)\>

### `toggleRecordingAsyncAvailable`

Supported platforms: Android, iOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: `boolean`

### `PictureRef`

Supported platforms: Android, iOS, Web.

Type: Class extends [SharedRef](/versions/v54.0.0/sdk/expo#sharedreftype)<'image'\>

A reference to a native instance of the image.

PictureRef Properties

### `height`

Supported platforms: Android, iOS, Web.

Type: `number`

Height of the image.

### `nativeRefType`

Supported platforms: Android, iOS, Web.

Type: `string`

The type of the native reference.

### `width`

Supported platforms: Android, iOS, Web.

Type: `number`

Width of the image.

PictureRef Methods

### `savePictureAsync(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                      | Description                                        |
| ------------------- | ----------------------------------------- | -------------------------------------------------- |
| `options`(optional) | [SavePictureOptions](#savepictureoptions) | A map defining how modified image should be saved. |

Saves the image to the file system in the cache directory.

Returns: `Promise<photoresult>`

## Methods

### `Camera.scanFromURLAsync(url, barcodeTypes)`

Supported platforms: Android, iOS, Web.

| Parameter                | Type                          | Description                                                                                                                                                                                                        |
| ------------------------ | ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `url`                    | `string`                      | URL to get the image from.                                                                                                                                                                                         |
| `barcodeTypes`(optional) | [BarcodeType[]](#barcodetype) | An array of bar code types. Defaults to all supported bar code types on the platform. Note: Only QR codes are supported on iOS. On android, the barcode should take up the majority of the image for best results. |

Scan bar codes from the image at the given URL.

Returns: `Promise<barcodescanningresult[]>`

A possibly empty array of objects of the `BarcodeScanningResult` shape, where the type refers to the barcode type that was scanned and the data is the information encoded in the barcode.

## Interfaces

### `Subscription`

Supported platforms: Android, iOS, Web.

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Supported platforms: Android, iOS, Web.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

## Types

### `AvailableLenses`

Supported platforms: Android, iOS, Web.

| Property | Type       | Description |
| -------- | ---------- | ----------- |
| lenses   | `string[]` | -           |

### `BarcodeBounds`

Supported platforms: Android, iOS, Web.

| Property | Type                          | Description                           |
| -------- | ----------------------------- | ------------------------------------- |
| origin   | [BarcodePoint](#barcodepoint) | The origin point of the bounding box. |
| size     | [BarcodeSize](#barcodesize)   | The size of the bounding box.         |

### `BarcodePoint`

Supported platforms: Android, iOS, Web.

Type: [Point](#point)

These coordinates are represented in the coordinate space of the camera source (e.g. when you are using the camera view, these values are adjusted to the dimensions of the view).

### `BarcodeScanningResult`

Supported platforms: Android, iOS, Web.

| Property        | Type                            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| --------------- | ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| bounds          | [BarcodeBounds](#barcodebounds) | The [`BarcodeBounds`](#barcodebounds) object. `bounds` in some case will be representing an empty rectangle. Moreover, `bounds` doesn't have to bound the whole barcode. For some types, they will represent the area used by the scanner.                                                                                                                                                                                                                                                                                                                                                                           |
| cornerPoints    | [BarcodePoint[]](#barcodepoint) | Corner points of the bounding box. `cornerPoints` is not always available and may be empty. On iOS, for `code39` and `pdf417` you don't get this value. **Note:** Corner points order is currently different across platforms. On Android, [Google MLKit's native order](<https://developers.google.com/android/reference/com/google/mlkit/vision/barcode/common/Barcode#getCornerPoints()>) is used, which is `topLeft`, `topRight`, `bottomRight`, `bottomLeft`. On iOS, the order is `bottomLeft`, `bottomRight`, `topLeft`, `topRight`. On Web, the order is `topLeft`, `bottomLeft`, `topRight`, `bottomRight`. |
| data            | `string`                        | The parsed information encoded in the barcode.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| extra(optional) | `AndroidBarcode`                | Supported platforms: Android. Extra information returned by the specific type of barcode.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| type            | `string`                        | The barcode type.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

### `BarcodeSettings`

Supported platforms: Android, iOS, Web.

| Property     | Type                          | Description |
| ------------ | ----------------------------- | ----------- |
| barcodeTypes | [BarcodeType[]](#barcodetype) | -           |

### `BarcodeSize`

Supported platforms: Android, iOS, Web.

| Property | Type     | Description       |
| -------- | -------- | ----------------- |
| height   | `number` | The height value. |
| width    | `number` | The width value.  |

### `BarcodeType`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

The available barcode types that can be scanned.

Acceptable values are: `'aztec'` | `'ean13'` | `'ean8'` | `'qr'` | `'pdf417'` | `'upc_e'` | `'datamatrix'` | `'code39'` | `'code93'` | `'itf14'` | `'codabar'` | `'code128'` | `'upc_a'`

### `CameraCapturedPicture`

Supported platforms: Android, iOS, Web.

| Property         | Type                                                                                                                                                                               | Description                                                                                                   |
| ---------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| base64(optional) | `string`                                                                                                                                                                           | A Base64 representation of the image.                                                                         |
| exif(optional)   | [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[MediaTrackSettings](https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackSettings)\> | any                                                                                                           | On Android and iOS this object may include various fields based on the device and operating system. On web, it is a partial representation of the [`MediaTrackSettings`](https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackSettings) dictionary. |
| format           | `'jpg'                                                                                                                                                                             | 'png'`                                                                                                        | The format of the captured image.                                                                                                                                                                                                                         |
| height           | `number`                                                                                                                                                                           | Captured image height.                                                                                        |
| uri              | `string`                                                                                                                                                                           | On web, the value of `uri` is the same as `base64` because file system URLs are not supported in the browser. |
| width            | `number`                                                                                                                                                                           | Captured image width.                                                                                         |

### `CameraEvents`

Supported platforms: Android, iOS, Web.

| Property               | Type                                               | Description |
| ---------------------- | -------------------------------------------------- | ----------- |
| onModernBarcodeScanned | (event: [ScanningResult](#scanningresult)) => void | -           |

### `CameraMode`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

Acceptable values are: `'picture'` | `'video'`

### `CameraMountError`

Supported platforms: Android, iOS, Web.

| Property | Type     | Description |
| -------- | -------- | ----------- |
| message  | `string` | -           |

### `CameraOrientation`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

Acceptable values are: `'portrait'` | `'portraitUpsideDown'` | `'landscapeLeft'` | `'landscapeRight'`

### `CameraPictureOptions`

Supported platforms: Android, iOS, Web.

| Property                 | Type                                                               | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ------------------------ | ------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| additionalExif(optional) | `Record<string, any>`                                              | Supported platforms: Android, iOS. Additional EXIF data to be included for the image. Only useful when `exif` option is set to `true`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| base64(optional)         | `boolean`                                                          | Whether to also include the image data in Base64 format.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| exif(optional)           | `boolean`                                                          | Whether to also include the EXIF data for the image.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| imageType(optional)      | [ImageType](#imagetype)                                            | Supported platforms: Web.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| isImageMirror(optional)  | `boolean`                                                          | Supported platforms: Web.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| mirror(optional)         | `boolean`                                                          | Deprecated: Use mirror prop on CameraView instead. . Supported platforms: Android, iOS. When set to `true`, the output image will be flipped along the vertical axis when using the front camera. Default: `false`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| onPictureSaved(optional) | (picture: [CameraCapturedPicture](#cameracapturedpicture)) => void | A callback invoked when picture is saved. If set, the promise of this method will resolve immediately with no data after picture is captured. The data that it should contain will be passed to this callback. If displaying or processing a captured photo right after taking it is not your case, this callback lets you skip waiting for it to be saved.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| pictureRef(optional)     | `boolean`                                                          | Whether the camera should return an image ref that can be used directly in the `Image` component.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| quality(optional)        | `number`                                                           | Specify the compression quality from `0` to `1`. `0` means compress for small size, and `1` means compress for maximum quality. Default: `1`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| scale(optional)          | `number`                                                           | Supported platforms: Web.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| shutterSound(optional)   | `boolean`                                                          | To programmatically disable the camera shutter sound. Default: `true`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| skipProcessing(optional) | `boolean`                                                          | If set to `true`, camera skips orientation adjustment and returns an image straight from the device's camera. If enabled, `quality` option is discarded (processing pipeline is skipped as a whole). Although enabling this option reduces image delivery time significantly, it may cause the image to appear in a wrong orientation in the `Image` component (at the time of writing, it does not respect EXIF orientation of the images). Note: Enabling skipProcessing would cause orientation uncertainty. Image component does not respect EXIF stored orientation information, that means obtained image would be displayed wrongly (rotated by 90Â°, 180Â° or 270Â°). Different devices provide different orientations. For example some Sony Xperia or Samsung devices don't provide correctly oriented images by default. To always obtain correctly oriented image disable skipProcessing option. |

### `CameraRatio`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

Acceptable values are: `'4:3'` | `'16:9'` | `'1:1'`

### `CameraRecordingOptions`

Supported platforms: Android, iOS, Web.

| Property              | Type                      | Description                                                                                                                                                                                                                                                                                                 |
| --------------------- | ------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| codec(optional)       | [VideoCodec](#videocodec) | Supported platforms: iOS. This option specifies what codec to use when recording the video. See [`VideoCodec`](#videocodec) for the possible values.                                                                                                                                                        |
| maxDuration(optional) | `number`                  | Maximum video duration in seconds.                                                                                                                                                                                                                                                                          |
| maxFileSize(optional) | `number`                  | Maximum video file size in bytes.                                                                                                                                                                                                                                                                           |
| mirror(optional)      | `boolean`                 | Deprecated: Use mirror prop on CameraView instead. . If `true`, the recorded video will be flipped along the vertical axis. iOS flips videos recorded with the front camera by default, but you can reverse that back by setting this to `true`. On Android, this is handled in the user's device settings. |

### `CameraType`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

Acceptable values are: `'front'` | `'back'`

### `FlashMode`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

Acceptable values are: `'off'` | `'on'` | `'auto'`

### `FocusMode`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

This option specifies the mode of focus on the device.

- `on` - Indicates that the device should autofocus once and then lock the focus.
- `off` - Indicates that the device should automatically focus when needed.

Default: `off`

Acceptable values are: `'on'` | `'off'`

### `ImageType`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

Acceptable values are: `'png'` | `'jpg'`

### `PermissionExpiration`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionHookOptions`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Acceptable values are: `PermissionHookBehavior` | `Options`

### `PermissionResponse`

Supported platforms: Android, iOS, Web.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

### `PhotoResult`

Supported platforms: Android, iOS, Web.

| Property         | Type     | Description                                                                           |
| ---------------- | -------- | ------------------------------------------------------------------------------------- |
| base64(optional) | `string` | A Base64 representation of the image.                                                 |
| height           | `number` | Height of the image.                                                                  |
| uri              | `string` | A URI to the modified image (usable as the source for an `Image` or `Video` element). |
| width            | `number` | Width of the image.                                                                   |

### `Point`

Supported platforms: Android, iOS, Web.

| Property | Type     | Description |
| -------- | -------- | ----------- |
| x        | `number` | -           |
| y        | `number` | -           |

### `ResponsiveOrientationChanged`

Supported platforms: Android, iOS, Web.

| Property    | Type                                    | Description |
| ----------- | --------------------------------------- | ----------- |
| orientation | [CameraOrientation](#cameraorientation) | -           |

### `SavePictureOptions`

Supported platforms: Android, iOS, Web.

A map defining how modified image should be saved.

| Property           | Type                  | Description                                                                                                                     |
| ------------------ | --------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
| base64(optional)   | `boolean`             | Whether to also include the image data in Base64 format.                                                                        |
| metadata(optional) | `Record<string, any>` | Additional metadata to be included for the image.                                                                               |
| quality(optional)  | `number`              | Specify the compression quality from `0` to `1`. `0` means compress for small size, and `1` means compress for maximum quality. |

### `ScanningOptions`

Supported platforms: iOS.

| Property                        | Type                          | Description                                                                                                           |
| ------------------------------- | ----------------------------- | --------------------------------------------------------------------------------------------------------------------- |
| barcodeTypes                    | [BarcodeType[]](#barcodetype) | The type of codes to scan for.                                                                                        |
| isGuidanceEnabled(optional)     | `boolean`                     | Supported platforms: iOS. Guidance text, such as â€œSlow Down,â€ appears over the live video. Default: `true`            |
| isHighlightingEnabled(optional) | `boolean`                     | Supported platforms: iOS. Indicates whether the scanner displays highlights around recognized items. Default: `false` |
| isPinchToZoomEnabled(optional)  | `boolean`                     | Supported platforms: iOS. Indicates whether people can use a two-finger pinch-to-zoom gesture. Default: `true`        |

### `ScanningResult`

Supported platforms: Android, iOS, Web.

Type: [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[BarcodeScanningResult](#barcodescanningresult), 'bounds' | 'cornerPoints'\>

### `VideoCodec`

Supported platforms: iOS.

Literal Type: `string`

This option specifies what codec to use when recording a video.

Acceptable values are: `'avc1'` | `'hvc1'` | `'jpeg'` | `'apcn'` | `'ap4h'`

### `VideoQuality`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

Acceptable values are: `'2160p'` | `'1080p'` | `'720p'` | `'480p'` | `'4:3'`

### `VideoStabilization`

Supported platforms: iOS.

Literal Type: `string`

This option specifies the stabilization mode to use when recording a video.

Acceptable values are: `'off'` | `'standard'` | `'cinematic'` | `'auto'`

## Enums

### `PermissionStatus`

Supported platforms: Android, iOS, Web.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

## Permissions

### Android

This package automatically adds the `CAMERA` permission to your app. If you want to record videos with audio, you have to include the `RECORD_AUDIO` in your **app.json** inside the [`expo.android.permissions`](/versions/latest/config/app#permissions) array.

| Android Permission | Description                                      |
| ------------------ | ------------------------------------------------ |
| `CAMERA`           | Required to be able to access the camera device. |
| `RECORD_AUDIO`     | Allows an application to record audio.           |

### iOS

The following usage description keys are used by this library:

| Info.plist Key                 | Description                                                                                |
| ------------------------------ | ------------------------------------------------------------------------------------------ |
| `NSCameraUsageDescription`     | A message that tells the user why the app is requesting access to the deviceâ€™s camera.     |
| `NSMicrophoneUsageDescription` | A message that tells the user why the app is requesting access to the deviceâ€™s microphone. |

---

---

title: react-native-view-shot
description: A library that allows you to capture a React Native view and save it as an image.
sourceCodeUrl: 'https://github.com/gre/react-native-view-shot'
packageName: react-native-view-shot
platforms: ['android', 'ios', 'expo-go']
inExpoGo: true

---

# react-native-view-shot

A library that allows you to capture a React Native view and save it as an image.
Android, iOS, Included in Expo Go

Given a view, `captureRef` will essentially screenshot that view and return an image for you. This is very useful for things like signature pads, where the user draws something, and then you want to save an image from it.

If you're interested in taking snapshots from the GLView, we recommend you use [GLView's takeSnapshotAsync](/versions/latest/sdk/gl-view#takesnapshotasyncoptions) instead.

## Installation

```sh
npx expo install react-native-view-shot
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://github.com/gre/react-native-view-shot) provided in the library's README or documentation.

## Note on pixel values

Remember to take the device `PixelRatio` into account. When you work with pixel values in a UI, most of the time those units are "logical pixels" or "device-independent pixels". With images like PNG files, you often work with "physical pixels". You can get the `PixelRatio` of the device using the React Native API: `PixelRatio.get()`

For example, to save a 'FullHD' picture of `1080x1080`, you would do something like this:

```js
const targetPixelCount = 1080; // If you want full HD pictures
const pixelRatio = PixelRatio.get(); // The pixel ratio of the device
// pixels * pixelRatio = targetPixelCount, so pixels = targetPixelCount / pixelRatio
const pixels = targetPixelCount / pixelRatio;

const result = await captureRef(this.imageContainer, {
  result: "tmpfile",
  height: pixels,
  width: pixels,
  quality: 1,
  format: "png",
});
```

## Learn more

[Visit official documentation](https://github.com/gre/react-native-view-shot) â€” Get full information on API and its usage.

---

---

title: Cellular
description: An API that provides information about the user's cellular service provider.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-cellular'
packageName: 'expo-cellular'
iconUrl: '/static/images/packages/expo-cellular.png'
platforms: ['android', 'ios', 'web', 'expo-go']

---

# Expo Cellular

An API that provides information about the user's cellular service provider.
Android, iOS, Web, Included in Expo Go

`expo-cellular` provides information about the user's cellular service provider, such as its unique identifier, cellular connection type, and whether it allows VoIP calls on its network.

## Installation

```sh
npx expo install expo-cellular
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) or you're using native a **android** project manually, then you need to add `android.permission.READ_PHONE_STATE` permission to your project's **AndroidManifest.xml**. This permission is used for `TelephonyManager`.

```xml
<uses-permission android:name="android.permission.READ_PHONE_STATE" />
```

This library does not require the more risky `READ_PRIVILEGED_PHONE_STATE` permission.

## API

```js
import * as Cellular from "expo-cellular";
```

## Constants

> **Deprecated:** Use [`allowsVoipAsync()`](#cellularallowsvoipasync) instead.

### `Cellular.allowsVoip`

Supported platforms: Android, iOS, Web.

Type: `boolean | null`

Indicates if the carrier allows making VoIP calls on its network. On Android, this checks whether the system supports SIP-based VoIP API. See the [Android documentation](<https://developer.android.com/reference/android/net/sip/SipManager.html#isVoipSupported(android.content.Context)>) for more information.

On iOS, if you configure a device for a carrier and then remove the SIM card, this property retains the `boolean` value indicating the carrierâ€™s policy regarding VoIP. If you then install a new SIM card, its VoIP policy `boolean` replaces the previous value of this property.

On web, this returns `null`.

Example

```ts
Cellular.allowsVoip; // true or false
```

> **Deprecated:** Use [`getCarrierNameAsync()`](#cellulargetcarriernameasync) instead.

### `Cellular.carrier`

Supported platforms: Android, iOS, Web.

Type: `string | null`

The name of the userâ€™s home cellular service provider. If the device has dual SIM cards, only the carrier for the currently active SIM card will be returned. On Android, this value is only available when the SIM state is [`SIM_STATE_READY`](https://developer.android.com/reference/android/telephony/TelephonyManager.html#SIM_STATE_READY). Otherwise, this returns `null`.

On iOS, if you configure a device for a carrier and then remove the SIM card, this property retains the name of the carrier. If you then install a new SIM card, its carrier name replaces the previous value of this property. The value for this property is `null` if the user never configured a carrier for the device.

On web, this returns `null`.

Example

```ts
Cellular.carrier; // "T-Mobile" or "Verizon"
```

> **Deprecated:** Use [`getIsoCountryCodeAsync()`](#cellulargetisocountrycodeasync) instead.

### `Cellular.isoCountryCode`

Supported platforms: Android, iOS, Web.

Type: `string | null`

The ISO country code for the userâ€™s cellular service provider. On iOS, the value is `null` if any of the following apply:

- The device is in airplane mode.
- There is no SIM card in the device.
- The device is outside of cellular service range.

On web, this returns `null`.

Example

```ts
Cellular.isoCountryCode; // "us" or "au"
```

> **Deprecated:** Use [`getMobileCountryCodeAsync()`](#cellulargetmobilecountrycodeasync) instead.

### `Cellular.mobileCountryCode`

Supported platforms: Android, iOS, Web.

Type: `string | null`

The mobile country code (MCC) for the userâ€™s current registered cellular service provider. On Android, this value is only available when SIM state is [`SIM_STATE_READY`](https://developer.android.com/reference/android/telephony/TelephonyManager.html#SIM_STATE_READY). Otherwise, this returns `null`. On iOS, the value may be null on hardware prior to iPhone 4S when in airplane mode. Furthermore, the value for this property is `null` if any of the following apply:

- There is no SIM card in the device.
- The device is outside of cellular service range.

On web, this returns `null`.

Example

```ts
Cellular.mobileCountryCode; // "310"
```

> **Deprecated:** Use [`getMobileNetworkCodeAsync()`](#cellulargetmobilenetworkcodeasync) instead.

### `Cellular.mobileNetworkCode`

Supported platforms: Android, iOS, Web.

Type: `string | null`

The ISO country code for the userâ€™s cellular service provider. On iOS, the value is `null` if any of the following apply:

- The device is in airplane mode.
- There is no SIM card in the device.
- The device is outside of cellular service range.

On web, this returns `null`.

Example

```ts
Cellular.mobileNetworkCode; // "260"
```

## Hooks

### `usePermissions(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                            |
| ------------------- | ------------------------------- |
| `options`(optional) | `PermissionHookOptions<object>` |

Check or request permissions to access the phone state. This uses both `Cellular.requestPermissionsAsync` and `Cellular.getPermissionsAsync` to interact with the permissions.

Returns: `[null | PermissionResponse, RequestPermissionMethod<permissionresponse>, GetPermissionMethod]</permissionresponse>`

Example

```ts
const [status, requestPermission] = Cellular.usePermissions();
```

## Methods

### `Cellular.allowsVoipAsync()`

Supported platforms: Android, iOS, Web.

Returns: `Promise<boolean>`

Returns if the carrier allows making VoIP calls on its network. On Android, this checks whether the system supports SIP-based VoIP API. See [here](<https://developer.android.com/reference/android/net/sip/SipManager.html#isVoipSupported(android.content.Context)>) to view more information.

On iOS, if you configure a device for a carrier and then remove the SIM card, this property retains the `boolean` value indicating the carrierâ€™s policy regarding VoIP. If you then install a new SIM card, its VoIP policy `boolean` replaces the previous value of this property.

On web, this returns `null`.

Example

```ts
await Cellular.allowsVoipAsync(); // true or false
```

### `Cellular.getCarrierNameAsync()`

Supported platforms: Android, iOS, Web.

Returns: `Promise<string>`

Returns name of the userâ€™s home cellular service provider. If the device has dual SIM cards, only the carrier for the currently active SIM card will be returned.

On Android, this value is only available when the SIM state is [`SIM_STATE_READY`](https://developer.android.com/reference/android/telephony/TelephonyManager.html#SIM_STATE_READY). Otherwise, this returns `null`.

On iOS, if you configure a device for a carrier and then remove the SIM card, this property retains the name of the carrier. If you then install a new SIM card, its carrier name replaces the previous value of this property. The value for this property is `null` if the user never configured a carrier for the device.

On web, this returns `null`.

Example

```ts
await Cellular.getCarrierNameAsync(); // "T-Mobile" or "Verizon"
```

### `Cellular.getCellularGenerationAsync()`

Supported platforms: Android, iOS, Web.

Returns: `Promise<cellulargeneration>`

Returns a promise which fulfils with a [`Cellular.CellularGeneration`](#cellulargeneration) enum value that represents the current cellular-generation type.

You will need to check if the native permission has been accepted to obtain generation. If the permission is denied `getCellularGenerationAsync` will resolve to `Cellular.Cellular Generation.UNKNOWN`.

On web, this method uses [`navigator.connection.effectiveType`](https://developer.mozilla.org/en-US/docs/Web/API/NetworkInformation/effectiveType) to detect the effective type of the connection using a combination of recently observed round-trip time and downlink values. See [here](https://developer.mozilla.org/en-US/docs/Web/API/Network_Information_API) to view browser compatibility.

Example

```ts
await Cellular.getCellularGenerationAsync();
// CellularGeneration.CELLULAR_4G
```

### `Cellular.getIsoCountryCodeAsync()`

Supported platforms: Android, iOS, Web.

Returns: `Promise<string>`

Returns the ISO country code for the userâ€™s cellular service provider.

On iOS, the value is `null` if any of the following apply:

- The device is in airplane mode.
- There is no SIM card in the device.
- The device is outside of cellular service range.

On web, this returns `null`.

Example

```ts
await Cellular.getIsoCountryCodeAsync(); // "us" or "au"
```

### `Cellular.getMobileCountryCodeAsync()`

Supported platforms: Android, iOS, Web.

Returns: `Promise<string>`

Returns mobile country code (MCC) for the userâ€™s current registered cellular service provider.

On Android, this value is only available when SIM state is [`SIM_STATE_READY`](https://developer.android.com/reference/android/telephony/TelephonyManager.html#SIM_STATE_READY). Otherwise, this returns `null`. On iOS, the value may be null on hardware prior to iPhone 4S when in airplane mode. Furthermore, the value for this property is `null` if any of the following apply:

- There is no SIM card in the device.
- The device is outside of cellular service range.

On web, this returns `null`.

Example

```ts
await Cellular.getMobileCountryCodeAsync(); // "310"
```

### `Cellular.getMobileNetworkCodeAsync()`

Supported platforms: Android, iOS, Web.

Returns: `Promise<string>`

Returns the mobile network code (MNC) for the userâ€™s current registered cellular service provider.

On Android, this value is only available when SIM state is [`SIM_STATE_READY`](https://developer.android.com/reference/android/telephony/TelephonyManager.html#SIM_STATE_READY). Otherwise, this returns `null`. On iOS, the value may be null on hardware prior to iPhone 4S when in airplane mode. Furthermore, the value for this property is `null` if any of the following apply:

- There is no SIM card in the device.
- The device is outside of cellular service range.

On web, this returns `null`.

Example

```ts
await Cellular.getMobileNetworkCodeAsync(); // "310"
```

### `Cellular.getPermissionsAsync()`

Supported platforms: Android, iOS, Web.

Checks user's permissions for accessing phone state.

Returns: `Promise<permissionresponse>`

### `Cellular.requestPermissionsAsync()`

Supported platforms: Android, iOS, Web.

Asks the user to grant permissions for accessing the phone state.

Returns: `Promise<permissionresponse>`

## Enums

### `CellularGeneration`

Supported platforms: Android, iOS, Web.

Describes the current generation of the cellular connection. It is an enum with these possible values:

#### `UNKNOWN`

`CellularGeneration.UNKNOWN = 0`

Either we are not currently connected to a cellular network or type could not be determined.

#### `CELLULAR_2G`

`CellularGeneration.CELLULAR_2G = 1`

Currently connected to a 2G cellular network. Includes CDMA, EDGE, GPRS, and IDEN type connections.

#### `CELLULAR_3G`

`CellularGeneration.CELLULAR_3G = 2`

Currently connected to a 3G cellular network. Includes EHRPD, EVDO, HSPA, HSUPA, HSDPA, HSPAP, and UTMS type connections.

#### `CELLULAR_4G`

`CellularGeneration.CELLULAR_4G = 3`

Currently connected to a 4G cellular network. Includes LTE type connections.

#### `CELLULAR_5G`

`CellularGeneration.CELLULAR_5G = 4`

Currently connected to a 5G cellular network. Includes NR and NRNSA type connections.

## Error codes

| Code                                         | Description                                                          |
| -------------------------------------------- | -------------------------------------------------------------------- |
| ERR_CELLULAR_GENERATION_UNKNOWN_NETWORK_TYPE | Unable to access network type or not connected to a cellular network |

## Permissions

### Android

You must add the following permissions to your **app.json** inside the [`expo.android.permissions`](/versions/latest/config/app#permissions) array.

| Android Permission | Description                                                                                                                                                                            |
| ------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `READ_PHONE_STATE` | Allows read only access to phone state, including the current cellular network information, the status of any ongoing calls, and a list of any PhoneAccounts registered on the device. |

### iOS

_No permissions required_.

---

---

title: Checkbox
description: A universal React component that provides basic checkbox functionality.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-checkbox'
packageName: 'expo-checkbox'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo Checkbox

A universal React component that provides basic checkbox functionality.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-checkbox` provides a basic `boolean` input element for all platforms.

## Installation

```sh
npx expo install expo-checkbox
```

## Usage

```tsx
import { StyleSheet, Text, View } from "react-native";
import { Checkbox } from "expo-checkbox";
import { useState } from "react";

export default function App() {
  const [isChecked, setChecked] = useState(false);

  return (
    <View style={styles.container}>
      <View style={styles.section}>
        <Checkbox
          style={styles.checkbox}
          value={isChecked}
          onValueChange={setChecked}
        />
        <Text style={styles.paragraph}>Normal checkbox</Text>
      </View>
      <View style={styles.section}>
        <Checkbox
          style={styles.checkbox}
          value={isChecked}
          onValueChange={setChecked}
          color={isChecked ? "#4630EB" : undefined}
        />
        <Text style={styles.paragraph}>Custom colored checkbox</Text>
      </View>
      <View style={styles.section}>
        <Checkbox
          style={styles.checkbox}
          disabled
          value={isChecked}
          onValueChange={setChecked}
        />
        <Text style={styles.paragraph}>Disabled checkbox</Text>
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    marginHorizontal: 16,
    marginVertical: 32,
  },
  section: {
    flexDirection: "row",
    alignItems: "center",
  },
  paragraph: {
    fontSize: 15,
  },
  checkbox: {
    margin: 8,
  },
});
```

An example of how `expo-checkbox` appears on Android and iOS is shown below:

## API

```js
import { Checkbox } from "expo-checkbox";
```

## Component

### `Checkbox`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[CheckboxProps](#checkboxprops)\>

CheckboxProps

### `color`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

The tint or color of the checkbox. This overrides the disabled opaque style.

### `disabled`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

If the checkbox is disabled, it becomes opaque and uncheckable.

### `onChange`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: (event: NativeSyntheticEvent<[CheckboxEvent](#checkboxevent)\> | [SyntheticEvent](https://react.dev/reference/react-dom/components/common#react-event-object)<[HTMLInputElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement), [CheckboxEvent](#checkboxevent)\>) => void

Callback that is invoked when the user presses the checkbox.

event: NativeSyntheticEvent<[CheckboxEvent](#checkboxevent)\> | [SyntheticEvent](https://react.dev/reference/react-dom/components/common#react-event-object)<[HTMLInputElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement), [CheckboxEvent](#checkboxevent)\>

A native event containing the checkbox change.

### `onValueChange`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `(value: boolean) => void`

Callback that is invoked when the user presses the checkbox.

`value: boolean`

A boolean indicating the new checked state of the checkbox.

### `value`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Value indicating if the checkbox should be rendered as checked or not.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

## Types

### `CheckboxEvent`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type      | Description                                                                                                                              |
| -------- | --------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| target   | `any`     | On native platforms, a `NodeHandle` for the element on which the event has occurred. On web, a DOM node on which the event has occurred. |
| value    | `boolean` | A boolean representing checkbox current value.                                                                                           |

---

---

title: Clipboard
description: A universal library that allows getting and setting Clipboard content.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-clipboard'
packageName: 'expo-clipboard'
iconUrl: '/static/images/packages/expo-clipboard.png'
platforms: ['android', 'ios', 'web', 'expo-go']

---

# Expo Clipboard

A universal library that allows getting and setting Clipboard content.
Android, iOS, Web, Included in Expo Go

`expo-clipboard` provides an interface for getting and setting Clipboard content on Android, iOS, and Web.

## Installation

```sh
npx expo install expo-clipboard
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { View, Text, Button, StyleSheet } from "react-native";
import * as Clipboard from "expo-clipboard";
import { useState } from "react";

export default function App() {
  const [copiedText, setCopiedText] = useState("");

  const copyToClipboard = async () => {
    await Clipboard.setStringAsync("hello world");
  };

  const fetchCopiedText = async () => {
    const text = await Clipboard.getStringAsync();
    setCopiedText(text);
  };

  return (
    <View style={styles.container}>
      <Button
        title="Click here to copy to Clipboard"
        onPress={copyToClipboard}
      />
      <Button
        title="View copied text"
        onPress={fetchCopiedText}
      />
      <Text style={styles.copiedText}>{copiedText}</Text>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
  },
  copiedText: {
    marginTop: 10,
    color: "red",
  },
});
```

## API

```js
import * as Clipboard from "expo-clipboard";
```

> On Web, this module uses the [`AsyncClipboard` API](https://developer.mozilla.org/en-US/docs/Web/API/Clipboard_API), which might behave differently between browsers or not be fully supported. Especially on WebKit, there's an issue which makes this API unusable in asynchronous code. [Click here for more details](https://bugs.webkit.org/show_bug.cgi?id=222262).

## Component

### `ClipboardPasteButton`

Supported platforms: Android, iOS, Web.

Type: React.Element<[ClipboardPasteButtonProps](#clipboardpastebuttonprops)\>

This component displays the `UIPasteControl` button on your screen. This allows pasting from the clipboard without requesting permission from the user.

You should only attempt to render this if [`Clipboard.isPasteButtonAvailable`](#ispastebuttonavailable) is `true`. This component will render nothing if it is not available, and you will get a warning in development mode (`__DEV__ === true`).

The properties of this component extend from `View`; however, you should not attempt to set `backgroundColor`, `color` or `borderRadius` with the `style` property. Apple restricts customisation of this view. Instead, you should use the backgroundColor and foregroundColor properties to set the colors of the button, the cornerStyle property to change the border radius, and the displayMode property to change the appearance of the icon and label. The word "Paste" is not editable and neither is the icon.

Make sure to attach height and width via the style props as without these styles, the button will not appear on the screen.

> **See:** [Apple Documentation](https://developer.apple.com/documentation/uikit/uipastecontrol) for more details.

ClipboardPasteButtonProps

### `acceptedContentTypes`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [AcceptedContentType[]](#acceptedcontenttype)â€ƒâ€¢â€ƒDefault: `['plain-text', 'image']`

An array of the content types that will cause the button to become active.

> Do not include `plain-text` and `html` at the same time as this will cause all text to be treated as `html`.

### `backgroundColor`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

The backgroundColor of the button. Leaving this as the default allows the color to adjust to the system theme settings.

Acceptable values are: `string` | `null`

### `cornerStyle`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`â€ƒâ€¢â€ƒDefault: `'capsule'`

The cornerStyle of the button.

> **See:** [Apple Documentation](https://developer.apple.com/documentation/uikit/uibutton/configuration/cornerstyle) for more details.

Acceptable values are: [CornerStyleType](#cornerstyletype) | `null`

### `displayMode`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`â€ƒâ€¢â€ƒDefault: `'iconAndLabel'`

The displayMode of the button.

> **See:** [Apple Documentation](https://developer.apple.com/documentation/uikit/uipastecontrol/displaymode) for more details.

Acceptable values are: [DisplayModeType](#displaymodetype) | `null`

### `foregroundColor`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`â€ƒâ€¢â€ƒDefault: `'white'`

The foregroundColor of the button.

Acceptable values are: `string` | `null`

### `imageOptions`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

The options to use when pasting an image from the clipboard.

Acceptable values are: [GetImageOptions](#getimageoptions) | `null`

### `onPress`

Supported platforms: Android, iOS, Web.

Type: (data: [PasteEventPayload](#pasteeventpayload)) => void

A callback that is called with the result of the paste action. Inspect the `type` property to determine the type of the pasted data.

Can be one of `text` or `image`.

Example

```ts
onPress={(data) => {
    if (data.type === 'image') {
      setImageData(data);
   } else {
      setTextData(data);
    }
  }}
```

### `style`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: StyleProp<[Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[ViewStyle](https://reactnative.dev/docs/view-style-props), 'backgroundColor' | 'borderRadius' | 'color'\>\>

The custom style to apply to the button. Should not include `backgroundColor`, `borderRadius` or `color` properties.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

## Constants

### `isPasteButtonAvailable`

Supported platforms: Android, iOS, Web.

Type: `boolean`

Property that determines if the `ClipboardPasteButton` is available.

This requires the users device to be using at least iOS 16.

`true` if the component is available, and `false` otherwise.

## Methods

### `getImageAsync(options)`

Supported platforms: Android, iOS, Web.

| Parameter | Type                                | Description                                                            |
| --------- | ----------------------------------- | ---------------------------------------------------------------------- |
| `options` | [GetImageOptions](#getimageoptions) | A `GetImageOptions` object to specify the desired format of the image. |

Gets the image from the user's clipboard and returns it in the specified format. Calling this method on web will prompt the user to grant your app permission to "see text and images copied to the clipboard."

Returns: `Promise<clipboardimage>`

If there was an image in the clipboard, the promise resolves to a [`ClipboardImage`](#clipboardimage) object containing the base64 string and metadata of the image. Otherwise, it resolves to `null`.

Example

```tsx
const img = await Clipboard.getImageAsync({ format: "png" });
// ...
<Image
  source={{ uri: img?.data }}
  style={{ width: 200, height: 200 }}
/>;
```

### `getStringAsync(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                  | Description                                                      |
| ------------------- | ------------------------------------- | ---------------------------------------------------------------- |
| `options`(optional) | [GetStringOptions](#getstringoptions) | Options for the clipboard content to be retrieved. Default: `{}` |

Gets the content of the user's clipboard. Calling this method on web will prompt the user to grant your app permission to "see text and images copied to the clipboard."

Returns: `Promise<string>`

A promise that resolves to the content of the clipboard.

### `getUrlAsync()`

Supported platforms: iOS.

Gets the URL from the user's clipboard.

Returns: `Promise<string>`

A promise that fulfills to the URL in the clipboard.

### `hasImageAsync()`

Supported platforms: Android, iOS, Web.

Returns whether the clipboard has an image content.

On web, this requires the user to grant your app permission to _"see text and images copied to the clipboard"_.

Returns: `Promise<boolean>`

A promise that fulfills to `true` if clipboard has image content, resolves to `false` otherwise.

### `hasStringAsync()`

Supported platforms: Android, iOS, Web.

Returns whether the clipboard has text content. Returns true for both plain text and rich text (e.g. HTML).

On web, this requires the user to grant your app permission to _"see text and images copied to the clipboard"_.

Returns: `Promise<boolean>`

A promise that fulfills to `true` if clipboard has text content, resolves to `false` otherwise.

### `hasUrlAsync()`

Supported platforms: iOS.

Returns whether the clipboard has a URL content.

Returns: `Promise<boolean>`

A promise that fulfills to `true` if clipboard has URL content, resolves to `false` otherwise.

### `setImageAsync(base64Image)`

Supported platforms: Android, iOS, Web.

| Parameter     | Type     | Description                                          |
| ------------- | -------- | ---------------------------------------------------- |
| `base64Image` | `string` | Image encoded as a base64 string, without MIME type. |

Sets an image in the user's clipboard.

Returns: `Promise<void>`

Example

```tsx
const result = await ImagePicker.launchImageLibraryAsync({
  mediaTypes: ImagePicker.MediaTypeOptions.Images,
  base64: true,
});
await Clipboard.setImageAsync(result.base64);
```

> **Deprecated:** Use [`setStringAsync()`](#setstringasynctext-options) instead.

### `setString(text)`

Supported platforms: Android, iOS, Web.

| Parameter | Type     |
| --------- | -------- |
| `text`    | `string` |

Sets the content of the user's clipboard.

Returns: `void`

On web, this returns a boolean value indicating whether or not the string was saved to the user's clipboard. On iOS and Android, nothing is returned.

### `setStringAsync(text, options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                  | Description                                                |
| ------------------- | ------------------------------------- | ---------------------------------------------------------- |
| `text`              | `string`                              | The string to save to the clipboard.                       |
| `options`(optional) | [SetStringOptions](#setstringoptions) | Options for the clipboard content to be set. Default: `{}` |

Sets the content of the user's clipboard.

Returns: `Promise<boolean>`

On web, this returns a promise that fulfills to a boolean value indicating whether or not the string was saved to the user's clipboard. On iOS and Android, the promise always resolves to `true`.

### `setUrlAsync(url)`

Supported platforms: iOS.

| Parameter | Type     | Description                       |
| --------- | -------- | --------------------------------- |
| `url`     | `string` | The URL to save to the clipboard. |

Sets a URL in the user's clipboard.

This function behaves the same as [`setStringAsync()`](#setstringasynctext-options), except that it sets the clipboard content type to be a URL. It lets your app or other apps know that the clipboard contains a URL and behave accordingly.

Returns: `Promise<void>`

## Event Subscriptions

### `addClipboardListener(listener)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type                                               | Description                                                                                                                                                   |
| ---------- | -------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `listener` | (event: [ClipboardEvent](#clipboardevent)) => void | Callback to execute when listener is triggered. The callback is provided a single argument that is an object containing information about clipboard contents. |

Adds a listener that will fire whenever the content of the user's clipboard changes. This method is a no-op on Web.

Returns: `EventSubscription`

Example

```typescript
Clipboard.addClipboardListener(({ contentTypes }: ClipboardEvent) => {
  if (contentTypes.includes(Clipboard.ContentType.PLAIN_TEXT)) {
    Clipboard.getStringAsync().then(content => {
      alert("Copy pasta! Here's the string that was copied: " + content);
    });
  } else if (contentTypes.includes(Clipboard.ContentType.IMAGE)) {
    alert("Yay! Clipboard contains an image");
  }
});
```

### `removeClipboardListener(subscription)`

Supported platforms: Android, iOS, Web.

| Parameter      | Type                | Description                                                   |
| -------------- | ------------------- | ------------------------------------------------------------- |
| `subscription` | `EventSubscription` | The subscription to remove (created by addClipboardListener). |

Removes the listener added by addClipboardListener. This method is a no-op on Web.

Returns: `void`

Example

```typescript
const subscription = addClipboardListener(() => {
  alert("Copy pasta!");
});
removeClipboardListener(subscription);
```

## Interfaces

### `Subscription`

Supported platforms: Android, iOS, Web.

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Supported platforms: Android, iOS, Web.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

## Types

### `AcceptedContentType`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

Acceptable values are: `'plain-text'` | `'image'` | `'url'` | `'html'`

### `ClipboardEvent`

Supported platforms: Android, iOS, Web.

| Property     | Type                          | Description                                                                                   |
| ------------ | ----------------------------- | --------------------------------------------------------------------------------------------- |
| content      | `string`                      | Deprecated: Returns empty string. Use getStringAsync() instead to retrieve clipboard content. |
| contentTypes | [ContentType[]](#contenttype) | An array of content types that are available on the clipboard.                                |

### `ClipboardImage`

Supported platforms: Android, iOS, Web.

| Property | Type     | Description                                                                                                                                                                                                                                                            |
| -------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| data     | `string` | A Base64-encoded string of the image data. Its format is dependent on the `format` option. You can use it directly as the source of an `Image` element. NOTE: The string is already prepended with data:image/png;base64, or data:image/jpeg;base64, prefix. . Example |

```ts
<Image
  source={{ uri: clipboardImage.data }}
  style={{ width: 200, height: 200 }}
/>
```

|
| size | `{ height: number, width: number }` | Dimensions (`width` and `height`) of the image pasted from clipboard. |

### `CornerStyleType`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

Acceptable values are: `'dynamic'` | `'fixed'` | `'capsule'` | `'large'` | `'medium'` | `'small'`

### `DisplayModeType`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

Acceptable values are: `'iconAndLabel'` | `'iconOnly'` | `'labelOnly'`

### `GetImageOptions`

Supported platforms: Android, iOS, Web.

| Property              | Type     | Description                                                                                                                                                                        |
| --------------------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------- |
| format                | `'png'   | 'jpeg'`                                                                                                                                                                            | The format of the clipboard image to be converted to. |
| jpegQuality(optional) | `number` | Specify the quality of the returned image, between `0` and `1`. Defaults to `1` (highest quality). Applicable only when `format` is set to `jpeg`, ignored otherwise. Default: `1` |

### `GetStringOptions`

Supported platforms: Android, iOS, Web.

| Property                  | Type                          | Description                                                                                                   |
| ------------------------- | ----------------------------- | ------------------------------------------------------------------------------------------------------------- |
| preferredFormat(optional) | [StringFormat](#stringformat) | The target format of the clipboard string to be converted to, if possible. Default: `StringFormat.PLAIN_TEXT` |

### `ImagePasteEvent`

Supported platforms: Android, iOS, Web.

Type: [ClipboardImage](#clipboardimage) extended by:

| Property | Type      | Description |
| -------- | --------- | ----------- |
| type     | `'image'` | -           |

### `PasteEventPayload`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Acceptable values are: [TextPasteEvent](#textpasteevent) | [ImagePasteEvent](#imagepasteevent)

### `SetStringOptions`

Supported platforms: Android, iOS, Web.

| Property              | Type                          | Description                                                                                                                                                     |
| --------------------- | ----------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| inputFormat(optional) | [StringFormat](#stringformat) | The input format of the provided string. Adjusting this option can help other applications interpret copied string properly. Default: `StringFormat.PLAIN_TEXT` |

### `TextPasteEvent`

Supported platforms: Android, iOS, Web.

| Property | Type     | Description |
| -------- | -------- | ----------- |
| text     | `string` | -           |
| type     | `'text'` | -           |

## Enums

### `ContentType`

Supported platforms: Android, iOS, Web.

Type used to define what type of data is stored in the clipboard.

#### `HTML`

`ContentType.HTML = "html"`

#### `IMAGE`

`ContentType.IMAGE = "image"`

#### `PLAIN_TEXT`

`ContentType.PLAIN_TEXT = "plain-text"`

#### `URL`

Supported platforms: iOS.

`ContentType.URL = "url"`

### `StringFormat`

Supported platforms: Android, iOS, Web.

Type used to determine string format stored in the clipboard.

#### `HTML`

`StringFormat.HTML = "html"`

#### `PLAIN_TEXT`

`StringFormat.PLAIN_TEXT = "plainText"`

---

---

title: Constants
description: An API that provides system information that remains constant throughout the lifetime of your app's installation.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-constants'
packageName: 'expo-constants'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo Constants

An API that provides system information that remains constant throughout the lifetime of your app's installation.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-constants` provides system information that remains constant throughout the lifetime of your app's installation.

## Installation

```sh
npx expo install expo-constants
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## API

```js
import Constants from "expo-constants";
```

## Types

### `AndroidManifest`

Supported platforms: Android.

Type: `Record<string, any>` extended by:

| Property    | Type     | Description                                                                                                                                                                                     |
| ----------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| versionCode | `number` | Deprecated: Use expo-application's Application.nativeBuildVersion. . The version code set by `android.versionCode` in app.json. The value is set to `null` in case you run your app in Expo Go. |

### `ClientScopingConfig`

Supported platforms: Android, iOS, tvOS, Web.

Type: [ClientScopingConfigForReExport](/versions/latest/sdk/manifests#clientscopingconfigforreexport)

### `EASConfig`

Supported platforms: Android, iOS, tvOS, Web.

Type: [ManifestsEASConfig](/versions/latest/sdk/manifests#manifestseasconfig)

### `ExpoGoConfig`

Supported platforms: Android, iOS, tvOS, Web.

Type: [ManifestsExpoGoConfig](/versions/latest/sdk/manifests#manifestsexpogoconfig)

### `ExpoGoPackagerOpts`

Supported platforms: Android, iOS, tvOS, Web.

Type: [ExpoGoPackagerOptsForReExport](/versions/latest/sdk/manifests#expogopackageroptsforreexport)

### `IOSManifest`

Supported platforms: iOS.

Type: `Record<string, any>` extended by:

| Property           | Type                                      | Description                                                                                                                                                                          |
| ------------------ | ----------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| buildNumber        | `string                                   | null`                                                                                                                                                                                | The build number specified in the embedded **Info.plist** value for `CFBundleVersion` in this app. In a standalone app, you can set this with the `ios.buildNumber` value in **app.json**. This may differ from the value in `Constants.expoConfig.ios.buildNumber` because the manifest can be updated, whereas this value will never change for a given native binary. The value is set to `null` in case you run your app in Expo Go. |
| model              | `string                                   | null`                                                                                                                                                                                | Deprecated: Moved to expo-device as Device.modelName. . The human-readable model name of this device. For example, `"iPhone 7 Plus"` if it can be determined, otherwise will be `null`.                                                                                                                                                                                                                                                  |
| platform           | `string`                                  | Deprecated: Use expo-device's Device.modelId. . The Apple internal model identifier for this device. . Example. `iPhone1,1`                                                          |
| systemVersion      | `string`                                  | Deprecated: Use expo-device's Device.osVersion. . The version of iOS running on this device. . Example. `10.3`                                                                       |
| userInterfaceIdiom | [UserInterfaceIdiom](#userinterfaceidiom) | Deprecated: Use expo-device's Device.getDeviceTypeAsync(). . The user interface idiom of the current device, such as whether the app is running on an iPhone, iPad, Mac or Apple TV. |

### `Manifest`

Supported platforms: Android, iOS, tvOS, Web.

Type: [ExpoUpdatesManifest](/versions/latest/sdk/manifests#expoupdatesmanifest)

### `ManifestAsset`

Supported platforms: Android, iOS, tvOS, Web.

Type: [ManifestAssetForReExport](/versions/latest/sdk/manifests#manifestassetforreexport)

### `ManifestExtra`

Supported platforms: Android, iOS, tvOS, Web.

Type: [ManifestExtraForReExport](/versions/latest/sdk/manifests#manifestextraforreexport)

### `NativeConstants`

Supported platforms: Android, iOS, tvOS, Web.

Type: `Record<string, any>` extended by:

| Property                 | Type                                                                                                                       | Description                                                                                                                           |
| ------------------------ | -------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| appOwnership             | [AppOwnership](#appownership)                                                                                              | null                                                                                                                                  | Deprecated: Use Constants.executionEnvironment instead. . Returns `expo` when running in Expo Go, otherwise `null`.                                                                                    |
| debugMode                | `boolean`                                                                                                                  | Returns `true` when the app is running in debug mode (`__DEV__`). Otherwise, returns `false`.                                         |
| deviceName(optional)     | `string`                                                                                                                   | A human-readable name for the device type.                                                                                            |
| deviceYearClass          | `number                                                                                                                    | null`                                                                                                                                 | Deprecated: Moved to expo-device as Device.deviceYearClass. . The [device year class](https://github.com/facebook/device-year-class) of this device.                                                   |
| easConfig                | [ManifestsEASConfig](/versions/latest/sdk/manifests#manifestseasconfig)                                                    | null                                                                                                                                  | The standard EAS config object populated when using EAS.                                                                                                                                               |
| executionEnvironment     | [ExecutionEnvironment](#executionenvironment)                                                                              | Returns the current execution environment.                                                                                            |
| experienceUrl            | `string`                                                                                                                   | -                                                                                                                                     |
| expoConfig               | [ExpoConfig](https://github.com/expo/expo/blob/main/packages/%40expo/config-types/src/ExpoConfig.ts) & { hostUri: string } | null                                                                                                                                  | The standard Expo config object defined in **app.json** and **app.config.js** files. For both classic and modern manifests, whether they are embedded or remote.                                       |
| expoGoConfig             | [ManifestsExpoGoConfig](/versions/latest/sdk/manifests#manifestsexpogoconfig)                                              | null                                                                                                                                  | The standard Expo Go config object populated when running in Expo Go.                                                                                                                                  |
| expoRuntimeVersion       | `string                                                                                                                    | null`                                                                                                                                 | Nullable only on the web.                                                                                                                                                                              |
| expoVersion              | `string                                                                                                                    | null`                                                                                                                                 | The version string of the Expo Go app currently running. Returns `null` in bare workflow and web.                                                                                                      |
| getWebViewUserAgentAsync | () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<string           | null\>                                                                                                                                | Gets the user agent string which would be included in requests sent by a web view running on this device. This is probably not the same user agent you might be providing in your JS `fetch` requests. |
| intentUri(optional)      | `string`                                                                                                                   | -                                                                                                                                     |
| isDetached(optional)     | `boolean`                                                                                                                  | -                                                                                                                                     |
| isHeadless               | `boolean`                                                                                                                  | Returns `true` if the app is running in headless mode. Otherwise, returns `false`.                                                    |
| linkingUri               | `string`                                                                                                                   | -                                                                                                                                     |
| manifest2                | [ExpoUpdatesManifest](/versions/latest/sdk/manifests#expoupdatesmanifest)                                                  | null                                                                                                                                  | Manifest for Expo apps using modern Expo Updates from a remote source, such as apps that use EAS Update. `Constants.expoConfig` should be used for accessing the Expo config object.                   |
| platform(optional)       | [PlatformManifest](#platformmanifest)                                                                                      | Returns the specific platform manifest object. Note: This is distinct from the manifest and manifest2.                                |
| sessionId                | `string`                                                                                                                   | A string that is unique to the current session of your app. It is different across apps and across multiple launches of the same app. |
| statusBarHeight          | `number`                                                                                                                   | The default status bar height for the device. Does not factor in changes when location tracking is in use or a phone call is active.  |
| systemFonts              | `string[]`                                                                                                                 | A list of the system font names available on the current device.                                                                      |
| systemVersion(optional)  | `number`                                                                                                                   | -                                                                                                                                     |

### `PlatformManifest`

Supported platforms: Android, iOS, tvOS, Web.

Type: `Record<string, any>` extended by:

| Property            | Type                                | Description |
| ------------------- | ----------------------------------- | ----------- |
| android(optional)   | [AndroidManifest](#androidmanifest) | -           |
| detach(optional)    | `{ scheme: string }`                | -           |
| developer(optional) | `string`                            | -           |
| hostUri(optional)   | `string`                            | -           |
| ios(optional)       | [IOSManifest](#iosmanifest)         | -           |
| scheme(optional)    | `string`                            | -           |
| web(optional)       | [WebManifest](#webmanifest)         | -           |

### `WebManifest`

Supported platforms: Web.

Type: `Record<string, any>`

## Enums

### `AppOwnership`

Supported platforms: Android, iOS, tvOS, Web.

> **Deprecated:** Use [`Constants.executionEnvironment`](#executionenvironment) instead.

#### `Expo`

`AppOwnership.Expo = "expo"`

The experience is running inside the Expo Go app.

### `ExecutionEnvironment`

Supported platforms: Android, iOS, tvOS, Web.

#### `Bare`

`ExecutionEnvironment.Bare = "bare"`

#### `Standalone`

`ExecutionEnvironment.Standalone = "standalone"`

#### `StoreClient`

`ExecutionEnvironment.StoreClient = "storeClient"`

### `UserInterfaceIdiom`

Supported platforms: Android, iOS, tvOS, Web.

Current supported values are `handset`, `tablet`, `desktop` and `tv`. CarPlay will show up as `unsupported`.

#### `Desktop`

`UserInterfaceIdiom.Desktop = "desktop"`

#### `Handset`

`UserInterfaceIdiom.Handset = "handset"`

#### `Tablet`

`UserInterfaceIdiom.Tablet = "tablet"`

#### `TV`

`UserInterfaceIdiom.TV = "tv"`

#### `Unsupported`

`UserInterfaceIdiom.Unsupported = "unsupported"`

---

---

title: Contacts
description: A library that provides access to the phone's system contacts.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-contacts'
packageName: 'expo-contacts'
iconUrl: '/static/images/packages/expo-contacts.png'
platforms: ['android', 'ios', 'expo-go']

---

# Expo Contacts

A library that provides access to the phone's system contacts.
Android, iOS, Included in Expo Go

`expo-contacts` provides access to the device's system contacts, allowing you to get contact information as well as adding, editing, or removing contacts.

On iOS, contacts have a multi-layered grouping system that you can also access through this API.

## Installation

```sh
npx expo install expo-contacts
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-contacts` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-contacts",
        {
          "contactsPermission": "Allow $(PRODUCT_NAME) to access your contacts."
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                 | Default                                           | Description                                                                                 |
| -------------------- | ------------------------------------------------- | ------------------------------------------------------------------------------------------- |
| `contactsPermission` | `"Allow $(PRODUCT_NAME) to access your contacts"` | Only for: iOS. A string to set the [`NSContactsUsageDescription`](#ios) permission message. |

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) (you're using native **android** and **ios** projects manually), then you need to configure following permissions in your native projects:

- For Android, add `android.permission.READ_CONTACTS` and `android.permission.WRITE_CONTACTS` permissions to your project's **android/app/src/main/AndroidManifest.xml**:

  ```xml
  <uses-permission android:name="android.permission.READ_CONTACTS" />
  <uses-permission android:name="android.permission.WRITE_CONTACTS" />
  ```

- For iOS, add the `NSContactsUsageDescription` key to your project's **ios/[app]/Info.plist**:

  ```xml
  <key>NSContactsUsageDescription</key>
  <string>Allow $(PRODUCT_NAME) to access your contacts</string>
  ```

## Usage

```jsx
import { StyleSheet, View, Text } from "react-native";
import * as Contacts from "expo-contacts";
import { useEffect } from "react";

export default function App() {
  useEffect(() => {
    (async () => {
      const { status } = await Contacts.requestPermissionsAsync();
      if (status === "granted") {
        const { data } = await Contacts.getContactsAsync({
          fields: [Contacts.Fields.Emails],
        });

        if (data.length > 0) {
          const contact = data[0];
          console.log(contact);
        }
      }
    })();
  }, []);

  return (
    <View style={styles.container}>
      <Text>Contacts Module Example</Text>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#fff",
    alignItems: "center",
    justifyContent: "center",
  },
});
```

## API

```js
import * as Contacts from "expo-contacts";
```

## Component

### `ContactAccessButton`

Supported platforms: iOS 18.0+.

Type: React.[PureComponent](https://react.dev/reference/react/PureComponent)<[ContactAccessButtonProps](#contactaccessbuttonprops)\>

Creates a contact access button to quickly add contacts under limited-access authorization.

For more details, you can read the Apple docs about the underlying [`ContactAccessButton`](https://developer.apple.com/documentation/contactsui/contactaccessbutton) SwiftUI view.

ContactAccessButtonProps

### `backgroundColor`

Supported platforms: iOS 18.0+.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

A color of the button's background. Provided color should not be transparent, otherwise it may not satisfy platform requirements for button legibility.

### `caption`

Supported platforms: iOS 18.0+.

Optionalâ€ƒâ€¢â€ƒLiteral type: `string`

When the query produces a single result, the contact access button shows the caption under the matching contact name. It can be nothing (default), email address or phone number.

Acceptable values are: `'default'` | `'email'` | `'phone'`

### `ignoredEmails`

Supported platforms: iOS 18.0+.

Optionalâ€ƒâ€¢â€ƒType: `string[]`

An array of email addresses. The search omits contacts matching query that also match any email address in this array.

### `ignoredPhoneNumbers`

Supported platforms: iOS 18.0+.

Optionalâ€ƒâ€¢â€ƒType: `string[]`

An array of phone numbers. The search omits contacts matching query that also match any phone number in this set.

### `query`

Supported platforms: iOS 18.0+.

Optionalâ€ƒâ€¢â€ƒType: `string`

A string to match against contacts not yet exposed to the app. You typically get this value from a search UI that your app presents, like a text field.

### `textColor`

Supported platforms: iOS 18.0+.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

A color of the button's title. Slightly dimmed version of this color is used for the caption text. Make sure there is a good contrast between the text and the background, otherwise platform requirements for button legibility may not be satisfied.

### `tintColor`

Supported platforms: iOS 18.0+.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

A tint color of the button and the modal that is presented when there is more than one match.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

## Static Methods

### `isAvailable()`

Supported platforms: Android, iOS.

Returns a boolean whether the `ContactAccessButton` is available on the platform. This is `true` only on iOS 18.0 and newer.

Returns: `boolean`

## Methods

### `Contacts.addContactAsync(contact, containerId)`

Supported platforms: Android, iOS.

| Parameter               | Type                | Description                                                                          |
| ----------------------- | ------------------- | ------------------------------------------------------------------------------------ |
| `contact`               | [Contact](#contact) | A contact with the changes you wish to persist. The `id` parameter will not be used. |
| `containerId`(optional) | `string`            | Only for: iOS. The container that will parent the contact.                           |

Creates a new contact and adds it to the system.

> **Note**: For Android users, the Expo Go app does not have the required `WRITE_CONTACTS` permission to write to Contacts. You will need to create a [development build](/develop/development-builds/create-a-build) and add permission in there manually to use this method.

Returns: `Promise<string>`

A promise that fulfills with ID of the new system contact.

Example

```js
const contact = {
  [Contacts.Fields.FirstName]: "Bird",
  [Contacts.Fields.LastName]: "Man",
  [Contacts.Fields.Company]: "Young Money",
};
const contactId = await Contacts.addContactAsync(contact);
```

### `Contacts.addExistingContactToGroupAsync(contactId, groupId)`

Supported platforms: iOS.

| Parameter   | Type     | Description                                     |
| ----------- | -------- | ----------------------------------------------- |
| `contactId` | `string` | ID of the contact you want to edit.             |
| `groupId`   | `string` | ID for the group you want to add membership to. |

Add a contact as a member to a group. A contact can be a member of multiple groups.

Returns: `Promise<any>`

Example

```js
await Contacts.addExistingContactToGroupAsync(
  "665FDBCFAE55-D614-4A15-8DC6-161A368D",
  "161A368D-D614-4A15-8DC6-665FDBCFAE55",
);
```

### `Contacts.addExistingGroupToContainerAsync(groupId, containerId)`

Supported platforms: iOS.

| Parameter     | Type     | Description                                  |
| ------------- | -------- | -------------------------------------------- |
| `groupId`     | `string` | The group you want to target.                |
| `containerId` | `string` | The container you want to add membership to. |

Add a group to a container.

Returns: `Promise<any>`

Example

```js
await Contacts.addExistingGroupToContainerAsync(
  "161A368D-D614-4A15-8DC6-665FDBCFAE55",
  "665FDBCFAE55-D614-4A15-8DC6-161A368D",
);
```

### `Contacts.createGroupAsync(name, containerId)`

Supported platforms: iOS.

| Parameter               | Type     | Description                             |
| ----------------------- | -------- | --------------------------------------- |
| `name`(optional)        | `string` | Name of the new group.                  |
| `containerId`(optional) | `string` | The container you to add membership to. |

Create a group with a name, and add it to a container. If the container is `undefined`, the default container will be targeted.

Returns: `Promise<string>`

A promise that fulfills with ID of the new group.

Example

```js
const groupId = await Contacts.createGroupAsync("Sailor Moon");
```

### `Contacts.getContactByIdAsync(id, fields)`

Supported platforms: Android, iOS.

| Parameter          | Type                      | Description                                                                                   |
| ------------------ | ------------------------- | --------------------------------------------------------------------------------------------- |
| `id`               | `string`                  | The ID of a system contact.                                                                   |
| `fields`(optional) | [FieldType[]](#fieldtype) | If specified, the fields defined will be returned. When skipped, all fields will be returned. |

Used for gathering precise data about a contact. Returns a contact matching the given `id`.

Returns: `Promise<contact>`

A promise that fulfills with `Contact` object with ID matching the input ID, or `undefined` if there is no match.

Example

```js
const contact = await Contacts.getContactByIdAsync(
  "161A368D-D614-4A15-8DC6-665FDBCFAE55",
);
if (contact) {
  console.log(contact);
}
```

### `Contacts.getContactsAsync(contactQuery)`

Supported platforms: Android, iOS.

| Parameter                | Type                          | Description                                  |
| ------------------------ | ----------------------------- | -------------------------------------------- |
| `contactQuery`(optional) | [ContactQuery](#contactquery) | Object used to query contacts. Default: `{}` |

Return a list of contacts that fit a given criteria. You can get all of the contacts by passing no criteria.

Returns: `Promise<contactresponse>`

A promise that fulfills with `ContactResponse` object returned from the query.

Example

```js
const { data } = await Contacts.getContactsAsync({
  fields: [Contacts.Fields.Emails],
});

if (data.length > 0) {
  const contact = data[0];
  console.log(contact);
}
```

### `Contacts.getContainersAsync(containerQuery)`

Supported platforms: iOS.

| Parameter        | Type                              | Description                            |
| ---------------- | --------------------------------- | -------------------------------------- |
| `containerQuery` | [ContainerQuery](#containerquery) | Information used to gather containers. |

Query a list of system containers.

Returns: `Promise<container[]>`

A promise that fulfills with array of containers that fit the query.

Example

```js
const allContainers = await Contacts.getContainersAsync({
  contactId: "665FDBCFAE55-D614-4A15-8DC6-161A368D",
});
```

### `Contacts.getDefaultContainerIdAsync()`

Supported platforms: iOS.

Get the default container's ID.

Returns: `Promise<string>`

A promise that fulfills with default container ID.

Example

```js
const containerId = await Contacts.getDefaultContainerIdAsync();
```

### `Contacts.getGroupsAsync(groupQuery)`

Supported platforms: iOS.

| Parameter    | Type                      | Description                                         |
| ------------ | ------------------------- | --------------------------------------------------- |
| `groupQuery` | [GroupQuery](#groupquery) | Information regarding which groups you want to get. |

Query and return a list of system groups.

Returns: `Promise<group[]>`

A promise that fulfills with array of groups that fit the query.

Example

```js
const groups = await Contacts.getGroupsAsync({ groupName: "sailor moon" });
const allGroups = await Contacts.getGroupsAsync({});
```

### `Contacts.getPagedContactsAsync(contactQuery)`

Supported platforms: Android, iOS.

| Parameter                | Type                          |
| ------------------------ | ----------------------------- |
| `contactQuery`(optional) | [ContactQuery](#contactquery) |

Returns: `Promise<contactresponse>`

### `Contacts.getPermissionsAsync()`

Supported platforms: Android, iOS.

Checks user's permissions for accessing contacts data.

Returns: `Promise<contactspermissionresponse>`

A promise that resolves to a [ContactsPermissionResponse](#contactspermissionresponse) object.

### `Contacts.isAvailableAsync()`

Supported platforms: Android, iOS.

Returns whether the Contacts API is enabled on the current device. This method does not check the app permissions.

Returns: `Promise<boolean>`

A promise that fulfills with a `boolean`, indicating whether the Contacts API is available on the current device. It always resolves to `false` on web.

### `Contacts.presentAccessPickerAsync()`

Supported platforms: iOS 18.0+.

Presents a modal which allows the user to select which contacts the app has access to. Using this function is reasonable only when the app has "limited" permissions.

Returns: `Promise<string[]>`

A promise that resolves with an array of contact identifiers that were newly granted to the app. Contacts which the app lost access to are not listed. On platforms other than iOS and below 18.0, the promise rejects immediately.

### `Contacts.presentContactPickerAsync()`

Supported platforms: Android, iOS.

Presents a native contact picker to select a single contact from the system. On Android, the `READ_CONTACTS` permission is required. You can obtain this permission by calling the [`Contacts.requestPermissionsAsync()`](#contactsrequestpermissionsasync) method. On iOS, no permissions are required to use this method.

Returns: `Promise<contact>`

A promise that fulfills with a single `Contact` object if a contact is selected or `null` if no contact is selected (when selection is canceled).

### `Contacts.presentFormAsync(contactId, contact, formOptions)`

Supported platforms: Android, iOS.

| Parameter               | Type                        | Description                                  |
| ----------------------- | --------------------------- | -------------------------------------------- | ----------------------------------------------- |
| `contactId`(optional)   | `null                       | string`                                      | The ID of a system contact.                     |
| `contact`(optional)     | null                        | [Contact](#contact)                          | A contact with the changes you want to persist. |
| `formOptions`(optional) | [FormOptions](#formoptions) | Options for the native editor. Default: `{}` |

Present a native form for manipulating contacts.

Returns: `Promise<any>`

Example

```js
await Contacts.presentFormAsync("161A368D-D614-4A15-8DC6-665FDBCFAE55");
```

### `Contacts.removeContactAsync(contactId)`

Supported platforms: iOS.

| Parameter   | Type     | Description                           |
| ----------- | -------- | ------------------------------------- |
| `contactId` | `string` | ID of the contact you want to delete. |

Delete a contact from the system.

Returns: `Promise<any>`

Example

```js
await Contacts.removeContactAsync("161A368D-D614-4A15-8DC6-665FDBCFAE55");
```

### `Contacts.removeContactFromGroupAsync(contactId, groupId)`

Supported platforms: iOS.

| Parameter   | Type     | Description                                        |
| ----------- | -------- | -------------------------------------------------- |
| `contactId` | `string` | ID of the contact you want to remove.              |
| `groupId`   | `string` | ID for the group you want to remove membership of. |

Remove a contact's membership from a given group. This will not delete the contact.

Returns: `Promise<any>`

Example

```js
await Contacts.removeContactFromGroupAsync(
  "665FDBCFAE55-D614-4A15-8DC6-161A368D",
  "161A368D-D614-4A15-8DC6-665FDBCFAE55",
);
```

### `Contacts.removeGroupAsync(groupId)`

Supported platforms: iOS.

| Parameter | Type     | Description                         |
| --------- | -------- | ----------------------------------- |
| `groupId` | `string` | ID of the group you want to remove. |

Delete a group from the device.

Returns: `Promise<any>`

Example

```js
await Contacts.removeGroupAsync("161A368D-D614-4A15-8DC6-665FDBCFAE55");
```

### `Contacts.requestPermissionsAsync()`

Supported platforms: Android, iOS.

Asks the user to grant permissions for accessing contacts data.

Returns: `Promise<contactspermissionresponse>`

A promise that resolves to a [ContactsPermissionResponse](#contactspermissionresponse) object.

### `Contacts.shareContactAsync(contactId, message, shareOptions)`

Supported platforms: Android, iOS.

| Parameter                | Type                                                     |
| ------------------------ | -------------------------------------------------------- |
| `contactId`              | `string`                                                 |
| `message`                | `string`                                                 |
| `shareOptions`(optional) | [ShareOptions](https://reactnative.dev/docs/share#share) |

Returns: `Promise<any>`

### `Contacts.updateContactAsync(contact)`

Supported platforms: Android, iOS.

| Parameter | Type                                                                                                                                                                                                                        | Description                                                              |
| --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------ |
| `contact` | { id: string } & [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[Contact](#contact), 'id'\>\> | A contact object including the wanted changes. Contact `id` is required. |

Mutate the information of an existing contact. Due to an iOS bug, `nonGregorianBirthday` field cannot be modified.

Returns: `Promise<string>`

A promise that fulfills with ID of the updated system contact if mutation was successful.

Example

```js
const contact = {
  id: "161A368D-D614-4A15-8DC6-665FDBCFAE55",
  [Contacts.Fields.FirstName]: "Drake",
  [Contacts.Fields.Company]: "Young Money",
};
await Contacts.updateContactAsync(contact);
```

### `Contacts.updateGroupNameAsync(groupName, groupId)`

Supported platforms: iOS.

| Parameter   | Type     | Description                       |
| ----------- | -------- | --------------------------------- |
| `groupName` | `string` | New name for an existing group.   |
| `groupId`   | `string` | ID of the group you want to edit. |

Change the name of an existing group.

Returns: `Promise<any>`

Example

```js
await Contacts.updateGroupName(
  "Expo Friends",
  "161A368D-D614-4A15-8DC6-665FDBCFAE55",
);
```

### `Contacts.writeContactToFileAsync(contactQuery)`

Supported platforms: Android, iOS.

| Parameter                | Type                          | Description                                            |
| ------------------------ | ----------------------------- | ------------------------------------------------------ |
| `contactQuery`(optional) | [ContactQuery](#contactquery) | Used to query contact you want to write. Default: `{}` |

Query a set of contacts and write them to a local URI that can be used for sharing.

Returns: `Promise<string>`

A promise that fulfills with shareable local URI, or `undefined` if there was no match.

Example

```js
const localUri = await Contacts.writeContactToFileAsync({
  id: "161A368D-D614-4A15-8DC6-665FDBCFAE55",
});
Share.share({ url: localUri, message: "Call me!" });
```

## Types

### `Address`

Supported platforms: Android, iOS.

| Property                 | Type     | Description                                                               |
| ------------------------ | -------- | ------------------------------------------------------------------------- |
| city(optional)           | `string` | City name.                                                                |
| country(optional)        | `string` | Country name                                                              |
| id(optional)             | `string` | Unique ID. This value will be generated by the OS.                        |
| isoCountryCode(optional) | `string` | [Standard country code](https://www.iso.org/iso-3166-country-codes.html). |
| label                    | `string` | Localized display name.                                                   |
| neighborhood(optional)   | `string` | Neighborhood name.                                                        |
| poBox(optional)          | `string` | P.O. Box.                                                                 |
| postalCode(optional)     | `string` | Local post code.                                                          |
| region(optional)         | `string` | Region or state name.                                                     |
| street(optional)         | `string` | Street name.                                                              |

### `CalendarFormatType`

Supported platforms: Android, iOS.

Literal Type: `union`

Acceptable values are: [CalendarFormats](#calendarformats) | `{CalendarFormats}`

### `Contact`

Supported platforms: Android, iOS.

A set of fields that define information about a single contact entity.

| Property                          | Type                                                                                            | Description                                                                                                                                                                                                                                                                                                                              |
| --------------------------------- | ----------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| addresses(optional)               | [Address[]](#address)                                                                           | Locations.                                                                                                                                                                                                                                                                                                                               |
| birthday(optional)                | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)   | Birthday information in Gregorian format.                                                                                                                                                                                                                                                                                                |
| company(optional)                 | `string`                                                                                        | Organization the entity belongs to.                                                                                                                                                                                                                                                                                                      |
| contactType                       | [ContactType](#contacttype)                                                                     | Denoting a person or company.                                                                                                                                                                                                                                                                                                            |
| dates(optional)                   | [Date[]](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | A labeled list of other relevant user dates in Gregorian format.                                                                                                                                                                                                                                                                         |
| department(optional)              | `string`                                                                                        | Job department.                                                                                                                                                                                                                                                                                                                          |
| emails(optional)                  | [Email[]](#email)                                                                               | Email addresses.                                                                                                                                                                                                                                                                                                                         |
| firstName(optional)               | `string`                                                                                        | Given name.                                                                                                                                                                                                                                                                                                                              |
| id(optional)                      | `string`                                                                                        | Immutable identifier used for querying and indexing. This value will be generated by the OS when the contact is created.                                                                                                                                                                                                                 |
| image(optional)                   | [Image](#image)                                                                                 | Thumbnail image. On iOS it size is set to 320Ã—320px, on Android it may vary.                                                                                                                                                                                                                                                             |
| imageAvailable(optional)          | `boolean`                                                                                       | Used for efficient retrieval of images.                                                                                                                                                                                                                                                                                                  |
| instantMessageAddresses(optional) | [InstantMessageAddress[]](#instantmessageaddress)                                               | Instant messaging connections.                                                                                                                                                                                                                                                                                                           |
| isFavorite(optional)              | `boolean`                                                                                       | Supported platforms: Android. Whether the contact is starred.                                                                                                                                                                                                                                                                            |
| jobTitle(optional)                | `string`                                                                                        | Job description.                                                                                                                                                                                                                                                                                                                         |
| lastName(optional)                | `string`                                                                                        | Last name.                                                                                                                                                                                                                                                                                                                               |
| maidenName(optional)              | `string`                                                                                        | Maiden name.                                                                                                                                                                                                                                                                                                                             |
| middleName(optional)              | `string`                                                                                        | Middle name                                                                                                                                                                                                                                                                                                                              |
| name                              | `string`                                                                                        | Full name with proper format.                                                                                                                                                                                                                                                                                                            |
| namePrefix(optional)              | `string`                                                                                        | Dr., Mr., Mrs., and so on.                                                                                                                                                                                                                                                                                                               |
| nameSuffix(optional)              | `string`                                                                                        | Jr., Sr., and so on.                                                                                                                                                                                                                                                                                                                     |
| nickname(optional)                | `string`                                                                                        | An alias to the proper name.                                                                                                                                                                                                                                                                                                             |
| nonGregorianBirthday(optional)    | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)   | Supported platforms: iOS. Birthday that doesn't conform to the Gregorian calendar format, interpreted based on the [calendar `format`](#date) setting.                                                                                                                                                                                   |
| note(optional)                    | `string`                                                                                        | Additional information. The note field requires your app to request additional entitlements. The Expo Go app does not contain those entitlements, so in order to test this feature you will need to request the entitlement from Apple, set the ios.accessesContactNotes field in app config to true, and create your development build. |
| phoneNumbers(optional)            | [PhoneNumber[]](#phonenumber)                                                                   | Phone numbers.                                                                                                                                                                                                                                                                                                                           |
| phoneticFirstName(optional)       | `string`                                                                                        | Pronunciation of the first name.                                                                                                                                                                                                                                                                                                         |
| phoneticLastName(optional)        | `string`                                                                                        | Pronunciation of the last name.                                                                                                                                                                                                                                                                                                          |
| phoneticMiddleName(optional)      | `string`                                                                                        | Pronunciation of the middle name.                                                                                                                                                                                                                                                                                                        |
| rawImage(optional)                | [Image](#image)                                                                                 | Raw image without cropping, usually large.                                                                                                                                                                                                                                                                                               |
| relationships(optional)           | [Relationship[]](#relationship)                                                                 | Names of other relevant user connections.                                                                                                                                                                                                                                                                                                |
| socialProfiles(optional)          | [SocialProfile[]](#socialprofile)                                                               | Supported platforms: iOS. Social networks.                                                                                                                                                                                                                                                                                               |
| urlAddresses(optional)            | [UrlAddress[]](#urladdress)                                                                     | Associated web URLs.                                                                                                                                                                                                                                                                                                                     |

### `ContactQuery`

Supported platforms: Android, iOS.

Used to query contacts from the user's device.

| Property              | Type                        | Description                                                                                   |
| --------------------- | --------------------------- | --------------------------------------------------------------------------------------------- | ------------------------------------------------ |
| containerId(optional) | `string`                    | Supported platforms: iOS. Get all contacts that belong to the container matching this ID.     |
| fields(optional)      | [FieldType[]](#fieldtype)   | If specified, the defined fields will be returned. If skipped, all fields will be returned.   |
| groupId(optional)     | `string`                    | Supported platforms: iOS. Get all contacts that belong to the group matching this ID.         |
| id(optional)          | `string                     | string[]`                                                                                     | Get contacts with a matching ID or array of IDs. |
| name(optional)        | `string`                    | Get all contacts whose name contains the provided string (not case-sensitive).                |
| pageOffset(optional)  | `number`                    | The number of contacts to skip before gathering contacts.                                     |
| pageSize(optional)    | `number`                    | The max number of contacts to return. If skipped or set to `0` all contacts will be returned. |
| rawContacts(optional) | `boolean`                   | Supported platforms: iOS. Prevent unification of contacts when gathering. Default: `false`    |
| sort(optional)        | [ContactSort](#contactsort) | Sort method used when gathering contacts.                                                     |

### `ContactResponse`

Supported platforms: Android, iOS.

The return value for queried contact operations like `getContactsAsync`.

| Property        | Type                  | Description                                                                                          |
| --------------- | --------------------- | ---------------------------------------------------------------------------------------------------- |
| data            | [Contact[]](#contact) | An array of contacts that match a particular query.                                                  |
| hasNextPage     | `boolean`             | This will be `true` if there are more contacts to retrieve beyond what is returned.                  |
| hasPreviousPage | `boolean`             | This will be `true` if there are previous contacts that weren't retrieved due to `pageOffset` limit. |

### `ContactSort`

Supported platforms: Android, iOS.

String union of [SortTypes](#sorttypes) values.

### `ContactsPermissionResponse`

Supported platforms: Android, iOS.

Type: `PermissionResponse` extended by:

| Property                   | Type   | Description |
| -------------------------- | ------ | ----------- | ------- | ------------------------------------------------------------------------------------------------------- |
| accessPrivileges(optional) | `'all' | 'limited'   | 'none'` | Indicates if your app has access to the whole or only part of the contact library. Possible values are: |

- `'all'` if the user granted your app access to the whole contact library
- `'limited'` if the user granted your app access only to selected contacts (only available on iOS 18+)
- `'none'`

|

### `ContactType`

Supported platforms: Android, iOS.

Literal Type: `union`

Acceptable values are: [ContactTypes](#contacttypes) | `{ContactTypes}`

### `Container`

Supported platforms: Android, iOS.

| Property | Type            | Description |
| -------- | --------------- | ----------- |
| id       | `string`        | -           |
| name     | `string`        | -           |
| type     | `ContainerType` | -           |

### `ContainerQuery`

Supported platforms: iOS.

Used to query native contact containers.

| Property              | Type     | Description                                     |
| --------------------- | -------- | ----------------------------------------------- | ------------------------------------------------------------ |
| contactId(optional)   | `string` | Query all the containers that parent a contact. |
| containerId(optional) | `string  | string[]`                                       | Query all the containers that matches ID or an array od IDs. |
| groupId(optional)     | `string` | Query all the containers that parent a group.   |

### `ContainerType`

Supported platforms: Android, iOS.

Literal Type: `union`

Acceptable values are: [ContainerTypes](#containertypes) | `{ContainerTypes}`

### `Date`

Supported platforms: Android, iOS.

| Property         | Type                                      | Description                                                                |
| ---------------- | ----------------------------------------- | -------------------------------------------------------------------------- |
| day              | `number`                                  | Day.                                                                       |
| format(optional) | [CalendarFormatType](#calendarformattype) | Format for the date. This is provided by the OS, do not set this manually. |
| id(optional)     | `string`                                  | Unique ID. This value will be generated by the OS.                         |
| label(optional)  | `string`                                  | Localized display name.                                                    |
| month            | `number`                                  | Month - adjusted for JavaScript `Date` which starts at `0`.                |
| year(optional)   | `number`                                  | Year.                                                                      |

### `Email`

Supported platforms: Android, iOS.

| Property            | Type      | Description                                        |
| ------------------- | --------- | -------------------------------------------------- |
| email(optional)     | `string`  | Email address.                                     |
| id(optional)        | `string`  | Unique ID. This value will be generated by the OS. |
| isPrimary(optional) | `boolean` | Flag signifying if it is a primary email address.  |
| label               | `string`  | Localized display name.                            |

### `FieldType`

Supported platforms: Android, iOS.

Literal Type: `union`

Acceptable values are: [Fields](#fields) | `{Fields}`

### `FormOptions`

Supported platforms: Android, iOS.

Denotes the functionality of a native contact form.

| Property                           | Type                      | Description                                                                                        |
| ---------------------------------- | ------------------------- | -------------------------------------------------------------------------------------------------- |
| allowsActions(optional)            | `boolean`                 | Actions like share, add, create.                                                                   |
| allowsEditing(optional)            | `boolean`                 | Allows for contact mutation.                                                                       |
| alternateName(optional)            | `string`                  | Used if contact doesn't have a name defined.                                                       |
| cancelButtonTitle(optional)        | `string`                  | The name of the left bar button.                                                                   |
| displayedPropertyKeys(optional)    | [FieldType[]](#fieldtype) | The properties that will be displayed. On iOS those properties does nothing while in editing mode. |
| groupId(optional)                  | `string`                  | The parent group for a new contact.                                                                |
| isNew(optional)                    | `boolean`                 | Present the new contact controller. If set to `false` the unknown controller will be shown.        |
| message(optional)                  | `string`                  | Controller title.                                                                                  |
| preventAnimation(optional)         | `boolean`                 | Prevents the controller from animating in.                                                         |
| shouldShowLinkedContacts(optional) | `boolean`                 | Show or hide the similar contacts.                                                                 |

### `Group`

Supported platforms: iOS.

A parent to contacts. A contact can belong to multiple groups. Here are some query operations you can perform:

- Child Contacts: `getContactsAsync({ groupId })`
- Groups From Container: `getGroupsAsync({ containerId })`
- Groups Named: `getContainersAsync({ groupName })`

| Property       | Type     | Description                          |
| -------------- | -------- | ------------------------------------ |
| id(optional)   | `string` | The editable name of a group.        |
| name(optional) | `string` | Immutable id representing the group. |

### `GroupQuery`

Supported platforms: iOS.

Used to query native contact groups.

| Property              | Type     | Description                                          |
| --------------------- | -------- | ---------------------------------------------------- |
| containerId(optional) | `string` | Query all groups that belong to a certain container. |
| groupId(optional)     | `string` | Query the group with a matching ID.                  |
| groupName(optional)   | `string` | Query all groups matching a name.                    |

### `Image`

Supported platforms: Android, iOS.

Information regarding thumbnail images.

> On Android you can get dimensions using [`Image.getSize`](https://reactnative.dev/docs/image#getsize) method.

| Property         | Type     | Description                                                                                          |
| ---------------- | -------- | ---------------------------------------------------------------------------------------------------- |
| base64(optional) | `string` | Image as Base64 string.                                                                              |
| height(optional) | `number` | Supported platforms: iOS. Image height                                                               |
| uri(optional)    | `string` | A local image URI. Note: If you have a remote URI, download it first using FileSystem.downloadAsync. |
| width(optional)  | `number` | Supported platforms: iOS. Image width.                                                               |

### `InstantMessageAddress`

Supported platforms: Android, iOS.

| Property                   | Type     | Description                                        |
| -------------------------- | -------- | -------------------------------------------------- |
| id(optional)               | `string` | Unique ID. This value will be generated by the OS. |
| label                      | `string` | Localized display name.                            |
| localizedService(optional) | `string` | Localized name of app.                             |
| service(optional)          | `string` | Name of instant messaging app.                     |
| username(optional)         | `string` | Username in IM app.                                |

### `PermissionExpiration`

Supported platforms: Android, iOS.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionResponse`

Supported platforms: Android, iOS.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

### `PhoneNumber`

Supported platforms: Android, iOS.

| Property              | Type      | Description                                        |
| --------------------- | --------- | -------------------------------------------------- |
| countryCode(optional) | `string`  | Country code. . Example. `us`                      |
| digits(optional)      | `string`  | Phone number without format. . Example. `8674305`  |
| id(optional)          | `string`  | Unique ID. This value will be generated by the OS. |
| isPrimary(optional)   | `boolean` | Flag signifying if it is a primary phone number.   |
| label                 | `string`  | Localized display name.                            |
| number(optional)      | `string`  | Phone number.                                      |

### `Relationship`

Supported platforms: Android, iOS.

| Property       | Type     | Description                                        |
| -------------- | -------- | -------------------------------------------------- |
| id(optional)   | `string` | Unique ID. This value will be generated by the OS. |
| label          | `string` | Localized display name.                            |
| name(optional) | `string` | Name of related contact.                           |

### `SocialProfile`

Supported platforms: iOS.

| Property                   | Type     | Description                                        |
| -------------------------- | -------- | -------------------------------------------------- |
| id(optional)               | `string` | Unique ID. This value will be generated by the OS. |
| label                      | `string` | Localized display name.                            |
| localizedProfile(optional) | `string` | Localized profile name.                            |
| service(optional)          | `string` | Name of social app.                                |
| url(optional)              | `string` | Web URL.                                           |
| userId(optional)           | `string` | Username ID in social app.                         |
| username(optional)         | `string` | Username in social app.                            |

### `UrlAddress`

Supported platforms: Android, iOS.

| Property      | Type     | Description                                        |
| ------------- | -------- | -------------------------------------------------- |
| id(optional)  | `string` | Unique ID. This value will be generated by the OS. |
| label         | `string` | Localized display name.                            |
| url(optional) | `string` | Web URL.                                           |

## Enums

### `CalendarFormats`

Supported platforms: Android, iOS.

This format denotes the common calendar format used to specify how a date is calculated in `nonGregorianBirthday` fields.

#### `Buddhist`

Supported platforms: iOS.

`CalendarFormats.Buddhist = "buddhist"`

#### `Chinese`

Supported platforms: iOS.

`CalendarFormats.Chinese = "chinese"`

#### `Coptic`

Supported platforms: iOS.

`CalendarFormats.Coptic = "coptic"`

#### `EthiopicAmeteAlem`

Supported platforms: iOS.

`CalendarFormats.EthiopicAmeteAlem = "ethiopicAmeteAlem"`

#### `EthiopicAmeteMihret`

Supported platforms: iOS.

`CalendarFormats.EthiopicAmeteMihret = "ethiopicAmeteMihret"`

#### `Gregorian`

`CalendarFormats.Gregorian = "gregorian"`

#### `Hebrew`

Supported platforms: iOS.

`CalendarFormats.Hebrew = "hebrew"`

#### `Indian`

Supported platforms: iOS.

`CalendarFormats.Indian = "indian"`

#### `Islamic`

Supported platforms: iOS.

`CalendarFormats.Islamic = "islamic"`

#### `IslamicCivil`

Supported platforms: iOS.

`CalendarFormats.IslamicCivil = "islamicCivil"`

#### `IslamicTabular`

Supported platforms: iOS.

`CalendarFormats.IslamicTabular = "islamicTabular"`

#### `IslamicUmmAlQura`

Supported platforms: iOS.

`CalendarFormats.IslamicUmmAlQura = "islamicUmmAlQura"`

#### `ISO8601`

Supported platforms: iOS.

`CalendarFormats.ISO8601 = "iso8601"`

#### `Japanese`

Supported platforms: iOS.

`CalendarFormats.Japanese = "japanese"`

#### `Persian`

Supported platforms: iOS.

`CalendarFormats.Persian = "persian"`

#### `RepublicOfChina`

Supported platforms: iOS.

`CalendarFormats.RepublicOfChina = "republicOfChina"`

### `ContactTypes`

Supported platforms: Android, iOS.

#### `Company`

`ContactTypes.Company = "company"`

Contact is group or company.

#### `Person`

`ContactTypes.Person = "person"`

Contact is a human.

### `ContainerTypes`

Supported platforms: iOS.

#### `CardDAV`

`ContainerTypes.CardDAV = "cardDAV"`

With cardDAV protocol used for sharing.

#### `Exchange`

`ContainerTypes.Exchange = "exchange"`

In association with email server.

#### `Local`

`ContainerTypes.Local = "local"`

A local non-iCloud container.

#### `Unassigned`

`ContainerTypes.Unassigned = "unassigned"`

Unknown container.

### `Fields`

Supported platforms: Android, iOS.

Possible fields to retrieve for a contact.

#### `Addresses`

`Fields.Addresses = "addresses"`

#### `Birthday`

`Fields.Birthday = "birthday"`

#### `Company`

`Fields.Company = "company"`

#### `ContactType`

`Fields.ContactType = "contactType"`

#### `Dates`

`Fields.Dates = "dates"`

#### `Department`

`Fields.Department = "department"`

#### `Emails`

`Fields.Emails = "emails"`

#### `ExtraNames`

`Fields.ExtraNames = "extraNames"`

#### `FirstName`

`Fields.FirstName = "firstName"`

#### `ID`

`Fields.ID = "id"`

#### `Image`

`Fields.Image = "image"`

#### `ImageAvailable`

`Fields.ImageAvailable = "imageAvailable"`

#### `InstantMessageAddresses`

`Fields.InstantMessageAddresses = "instantMessageAddresses"`

#### `IsFavorite`

Supported platforms: Android.

`Fields.IsFavorite = "isFavorite"`

#### `JobTitle`

`Fields.JobTitle = "jobTitle"`

#### `LastName`

`Fields.LastName = "lastName"`

#### `MaidenName`

`Fields.MaidenName = "maidenName"`

#### `MiddleName`

`Fields.MiddleName = "middleName"`

#### `Name`

`Fields.Name = "name"`

#### `NamePrefix`

`Fields.NamePrefix = "namePrefix"`

#### `NameSuffix`

`Fields.NameSuffix = "nameSuffix"`

#### `Nickname`

`Fields.Nickname = "nickname"`

#### `NonGregorianBirthday`

Supported platforms: iOS.

`Fields.NonGregorianBirthday = "nonGregorianBirthday"`

#### `Note`

`Fields.Note = "note"`

#### `PhoneNumbers`

`Fields.PhoneNumbers = "phoneNumbers"`

#### `PhoneticFirstName`

`Fields.PhoneticFirstName = "phoneticFirstName"`

#### `PhoneticLastName`

`Fields.PhoneticLastName = "phoneticLastName"`

#### `PhoneticMiddleName`

`Fields.PhoneticMiddleName = "phoneticMiddleName"`

#### `RawImage`

`Fields.RawImage = "rawImage"`

#### `Relationships`

`Fields.Relationships = "relationships"`

#### `SocialProfiles`

Supported platforms: iOS.

`Fields.SocialProfiles = "socialProfiles"`

#### `UrlAddresses`

`Fields.UrlAddresses = "urlAddresses"`

### `PermissionStatus`

Supported platforms: Android, iOS.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

### `SortTypes`

Supported platforms: Android, iOS.

#### `FirstName`

`SortTypes.FirstName = "firstName"`

Sort by first name in ascending order.

#### `LastName`

`SortTypes.LastName = "lastName"`

Sort by last name in ascending order.

#### `None`

`SortTypes.None = "none"`

No sorting should be applied.

#### `UserDefault`

Supported platforms: Android.

`SortTypes.UserDefault = "userDefault"`

The user default method of sorting.

## Permissions

### Android

This library automatically adds `READ_CONTACTS` and `WRITE_CONTACTS` permissions to your app:

| Android Permission | Description                                              |
| ------------------ | -------------------------------------------------------- |
| `READ_CONTACTS`    | Allows an application to read the user's contacts data.  |
| `WRITE_CONTACTS`   | Allows an application to write the user's contacts data. |

### iOS

The following usage description keys are used by this library:

| Info.plist Key               | Description                                                                            |
| ---------------------------- | -------------------------------------------------------------------------------------- |
| `NSContactsUsageDescription` | A message that tells the user why the app is requesting access to the userâ€™s contacts. |

---

---

title: Crypto
description: A universal library for crypto operations.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-crypto'
packageName: 'expo-crypto'
iconUrl: '/static/images/packages/expo-crypto.png'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo Crypto

A universal library for crypto operations.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-crypto` enables you to hash data in an equivalent manner to the Node.js core `crypto` API.

## Installation

```sh
npx expo install expo-crypto
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { StyleSheet, View, Text } from "react-native";
import * as Crypto from "expo-crypto";
import { useEffect } from "react";

export default function App() {
  useEffect(() => {
    (async () => {
      const digest = await Crypto.digestStringAsync(
        Crypto.CryptoDigestAlgorithm.SHA256,
        "GitHub stars are neat ðŸŒŸ",
      );
      console.log("Digest: ", digest);
      /* Some crypto operation... */
    })();
  }, []);

  return (
    <View style={styles.container}>
      <Text>Crypto Module Example</Text>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#fff",
    alignItems: "center",
    justifyContent: "center",
  },
});
```

## API

```js
import * as Crypto from "expo-crypto";
```

## Methods

### `Crypto.digest(algorithm, data)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter   | Type                                            | Description                                                                                   |
| ----------- | ----------------------------------------------- | --------------------------------------------------------------------------------------------- |
| `algorithm` | [CryptoDigestAlgorithm](#cryptodigestalgorithm) | The cryptographic hash function to use to transform a block of data into a fixed-size output. |
| `data`      | `BufferSource`                                  | The value that will be used to generate a digest.                                             |

The `digest()` method of `Crypto` generates a digest of the supplied `TypedArray` of bytes `data` with the provided digest `algorithm`. A digest is a short fixed-length value derived from some variable-length input. **Cryptographic digests** should exhibit _collision-resistance_, meaning that it's very difficult to generate multiple inputs that have equal digest values. On web, this method can only be called from a secure origin (HTTPS) otherwise, an error will be thrown.

Returns: `Promise<arraybuffer>`

A Promise which fulfills with an ArrayBuffer representing the hashed input.

Example

```ts
const array = new Uint8Array([1, 2, 3, 4, 5]);
const digest = await Crypto.digest(Crypto.CryptoDigestAlgorithm.SHA512, array);
console.log("Your digest: " + digest);
```

### `Crypto.digestStringAsync(algorithm, data, options)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter           | Type                                            | Description                                                                                   |
| ------------------- | ----------------------------------------------- | --------------------------------------------------------------------------------------------- |
| `algorithm`         | [CryptoDigestAlgorithm](#cryptodigestalgorithm) | The cryptographic hash function to use to transform a block of data into a fixed-size output. |
| `data`              | `string`                                        | The value that will be used to generate a digest.                                             |
| `options`(optional) | [CryptoDigestOptions](#cryptodigestoptions)     | Format of the digest string. Defaults to: `CryptoDigestOptions.HEX`.                          |

The `digestStringAsync()` method of `Crypto` generates a digest of the supplied `data` string with the provided digest `algorithm`. A digest is a short fixed-length value derived from some variable-length input. **Cryptographic digests** should exhibit _collision-resistance_, meaning that it's very difficult to generate multiple inputs that have equal digest values. You can specify the returned string format as one of `CryptoEncoding`. By default, the resolved value will be formatted as a `HEX` string. On web, this method can only be called from a secure origin (HTTPS) otherwise, an error will be thrown.

Returns: `Promise<digest>`

Return a Promise which fulfills with a value representing the hashed input.

Example

```ts
const digest = await Crypto.digestStringAsync(
  Crypto.CryptoDigestAlgorithm.SHA512,
  "ðŸ¥“ Easy to Digest! ðŸ’™",
);
```

### `Crypto.getRandomBytes(byteCount)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter   | Type     | Description                                                                           |
| ----------- | -------- | ------------------------------------------------------------------------------------- |
| `byteCount` | `number` | A number within the range from `0` to `1024`. Anything else will throw a `TypeError`. |

Generates completely random bytes using native implementations. The `byteCount` property is a `number` indicating the number of bytes to generate in the form of a `Uint8Array`. Falls back to `Math.random` during development to prevent issues with React Native Debugger.

Returns: `Uint8Array`

An array of random bytes with the same length as the `byteCount`.

### `Crypto.getRandomBytesAsync(byteCount)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter   | Type     | Description                                                                           |
| ----------- | -------- | ------------------------------------------------------------------------------------- |
| `byteCount` | `number` | A number within the range from `0` to `1024`. Anything else will throw a `TypeError`. |

Generates completely random bytes using native implementations. The `byteCount` property is a `number` indicating the number of bytes to generate in the form of a `Uint8Array`.

Returns: `Promise<uint8array>`

A promise that fulfills with an array of random bytes with the same length as the `byteCount`.

### `Crypto.getRandomValues(typedArray)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter    | Type | Description                                                                                                                                                                                                             |
| ------------ | ---- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `typedArray` | `T`  | An integer based [`TypedArray`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray) to fill with cryptographically secure random values. It modifies the input array in place. |

The `getRandomValues()` method of `Crypto` fills a provided `TypedArray` with cryptographically secure random values.

Returns: `T`

The input array filled with cryptographically secure random values.

Example

```ts
const byteArray = new Uint8Array(16);
Crypto.getRandomValues(byteArray);
console.log("Your lucky bytes: " + byteArray);
```

### `Crypto.randomUUID()`

Supported platforms: Android, iOS, tvOS, Web.

The `randomUUID()` method returns a unique identifier based on the V4 UUID spec (RFC4122). It uses cryptographically secure random values to generate the UUID.

Returns: `string`

A string containing a newly generated UUIDv4 identifier

Example

```ts
const UUID = Crypto.randomUUID();
console.log("Your UUID: " + UUID);
```

## Types

### `CryptoDigestOptions`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type                              | Description                       |
| -------- | --------------------------------- | --------------------------------- |
| encoding | [CryptoEncoding](#cryptoencoding) | Format the digest is returned in. |

### `Digest`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string`

## Enums

### `CryptoDigestAlgorithm`

Supported platforms: Android, iOS, tvOS, Web.

[`Cryptographic hash function`](https://developer.mozilla.org/en-US/docs/Glossary/Cryptographic_hash_function)

#### `MD2`

Supported platforms: iOS.

`CryptoDigestAlgorithm.MD2 = "MD2"`

`128` bits.

#### `MD4`

Supported platforms: iOS.

`CryptoDigestAlgorithm.MD4 = "MD4"`

`128` bits.

#### `MD5`

Supported platforms: Android, iOS.

`CryptoDigestAlgorithm.MD5 = "MD5"`

`128` bits.

#### `SHA1`

`CryptoDigestAlgorithm.SHA1 = "SHA-1"`

`160` bits.

#### `SHA256`

`CryptoDigestAlgorithm.SHA256 = "SHA-256"`

`256` bits. Collision Resistant.

#### `SHA384`

`CryptoDigestAlgorithm.SHA384 = "SHA-384"`

`384` bits. Collision Resistant.

#### `SHA512`

`CryptoDigestAlgorithm.SHA512 = "SHA-512"`

`512` bits. Collision Resistant.

### `CryptoEncoding`

Supported platforms: Android, iOS, tvOS, Web.

#### `BASE64`

`CryptoEncoding.BASE64 = "base64"`

Has trailing padding. Does not wrap lines. Does not have a trailing newline.

#### `HEX`

`CryptoEncoding.HEX = "hex"`

## Error codes

| Code                     | Description                                                                                  |
| ------------------------ | -------------------------------------------------------------------------------------------- |
| `ERR_CRYPTO_UNAVAILABLE` | **Web Only.** Access to the WebCrypto API is restricted to secure origins (localhost/https). |
| `ERR_CRYPTO_DIGEST`      | An invalid encoding type provided.                                                           |

---

---

title: '@react-native-community/datetimepicker'
description: A component that provides access to the system UI for date and time selection.
sourceCodeUrl: 'https://github.com/react-native-community/react-native-datetimepicker'
packageName: '@react-native-community/datetimepicker'
platforms: ['android', 'ios', 'expo-go']
inExpoGo: true

---

# @react-native-community/datetimepicker

A component that provides access to the system UI for date and time selection.
Android, iOS, Included in Expo Go

A component that provides access to the system UI for date and time selection.

## Installation

```sh
npx expo install @react-native-community/datetimepicker
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://github.com/react-native-datetimepicker/datetimepicker#getting-started) provided in the library's README or documentation.

## Learn more

[Visit official documentation](https://github.com/react-native-datetimepicker/datetimepicker) â€” Get full information on API and its usage.

---

---

title: DevClient
description: A library that allows creating a development build and includes useful development tools.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-dev-client'
packageName: 'expo-dev-client'
iconUrl: '/static/images/packages/expo-dev-client.png'
platforms: ['android', 'ios', 'tvos']

---

# Expo DevClient

A library that allows creating a development build and includes useful development tools.
Android, iOS, tvOS

`expo-dev-client` adds various useful development tools to your debug builds:

- A configurable launcher UI, so you can launch updates (such as from [PR previews](/develop/development-builds/development-workflows#pr-previews)) and switch between development servers without needing to recompile the native app
- Improved debugging tools (such as support for [inspecting network requests](/debugging/tools#inspecting-network-requests))
- [A powerful and extensible developer menu UI](/debugging/tools#developer-menu)

Expo documentation refers to debug builds that include `expo-dev-client` as [development builds](/develop/development-builds/introduction).

## Installation

```sh
npx expo install expo-dev-client
```

If you are installing this in an [existing React Native app](/bare/overview), start by installing [`expo`](/bare/installing-expo-modules) in your project. Then, follow the instructions from [Install `expo-dev-client` in an existing React Native project](/bare/install-dev-builds-in-bare).

## Configuration in app config

You can configure development client launcher using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-dev-client",
        {
          "launchMode": "most-recent"
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name         | Default         | Description                                                                                       |
| ------------ | --------------- | ------------------------------------------------------------------------------------------------- |
| `launchMode` | `"most-recent"` | Determines whether to launch the most recently opened project or navigate to the launcher screen. |

- `most-recent` - Attempt to launch directly into a previously opened project and if unable to connect, fall back to the launcher screen.
- `launcher` - Opens the launcher screen.

|
| `addGeneratedScheme` | `true` | By default, `expo-dev-client` will register a custom URL scheme to open a project. Set this property to `false` to disable this scheme. |

## TV support

- This library is only supported for TV in SDK 54 and later.
  - **Android TV**: All operations are supported, similar to an Android phone.
  - **Apple TV**: Basic operations with a local or tunneled packager are supported. Authentication to EAS and listing of EAS builds and updates is not yet supported.

## API

```js
import * as DevClient from "expo-dev-client";
```

## Methods

### `DevClient.closeMenu()`

Supported platforms: Android, iOS, tvOS.

A method that closes development client menu when called.

Returns: `void`

### `DevClient.hideMenu()`

Supported platforms: Android, iOS, tvOS.

A method that hides development client menu when called.

Returns: `void`

### `DevClient.openMenu()`

Supported platforms: Android, iOS, tvOS.

A method that opens development client menu when called.

Returns: `void`

### `DevClient.registerDevMenuItems(items)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type                                  |
| --------- | ------------------------------------- |
| `items`   | [ExpoDevMenuItem[]](#expodevmenuitem) |

A method that allows to specify custom entries in the development client menu.

Returns: `Promise<void>`

## Types

### `ExpoDevMenuItem`

Supported platforms: Android, iOS, tvOS.

An object representing the custom development client menu entry.

| Property                 | Type         | Description                                                                                |
| ------------------------ | ------------ | ------------------------------------------------------------------------------------------ |
| callback                 | `() => void` | Callback to fire, when user selects an item.                                               |
| name                     | `string`     | Name of the entry, will be used as label.                                                  |
| shouldCollapse(optional) | `boolean`    | A boolean specifying if the menu should close after the user interaction. Default: `false` |

---

---

title: Device
description: A universal library provides access to system information about the physical device.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-device'
packageName: 'expo-device'
iconUrl: '/static/images/packages/expo-device.png'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo Device

A universal library provides access to system information about the physical device.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-device` provides access to system information about the physical device, such as its manufacturer and model.

## Installation

```sh
npx expo install expo-device
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { Text, View } from "react-native";
import * as Device from "expo-device";

export default function App() {
  return (
    <View style={{ flex: 1, justifyContent: "center", alignItems: "center" }}>
      <Text>
        {Device.manufacturer}: {Device.modelName}
      </Text>
    </View>
  );
}
```

## API

```js
import * as Device from "expo-device";
```

## Constants

### `Device.brand`

Supported platforms: Android, iOS.

Type: `string | null`

The device brand. The consumer-visible brand of the product/hardware. On web, this value is always `null`.

Example

```js
Device.brand; // Android: "google", "xiaomi"; iOS: "Apple"; web: null
```

### `Device.designName`

Supported platforms: Android.

Type: `string | null`

The specific configuration or name of the industrial design. It represents the device's name when it was designed during manufacturing into mass production. On Android, it corresponds to [`Build.DEVICE`](https://developer.android.com/reference/android/os/Build#DEVICE). On web and iOS, this value is always `null`.

Example

```js
Device.designName; // Android: "kminilte"; iOS: null; web: null
```

### `Device.deviceName`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string | null`

The human-readable name of the device, which may be set by the device's user. If the device name is unavailable, particularly on web, this value is `null`.

> On iOS 16 and newer, this value will be set to generic "iPhone" until you add the correct entitlement, see [iOS Capabilities page](/build-reference/ios-capabilities) to learn how to add one and check out [Apple documentation](https://developer.apple.com/documentation/uikit/uidevice/1620015-name#discussion) for more details on this change.

Example

```js
Device.deviceName; // "Vivian's iPhone XS"
```

### `Device.deviceType`

Supported platforms: Android, iOS, tvOS, Web.

Type: [DeviceType](#devicetype) | null

The type of the device as a [`DeviceType`](#devicetype) enum value.

On Android, for devices other than TVs, the device type is determined by the screen resolution (screen diagonal size), so the result may not be completely accurate. If the screen diagonal length is between 3" and 6.9", the method returns `DeviceType.PHONE`. For lengths between 7" and 18", the method returns `DeviceType.TABLET`. Otherwise, the method returns `DeviceType.UNKNOWN`.

Example

```js
Device.deviceType; // UNKNOWN, PHONE, TABLET, TV, DESKTOP
```

### `Device.deviceYearClass`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number | null`

The [device year class](https://github.com/facebook/device-year-class) of this device. On web, this value is always `null`.

### `Device.isDevice`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean`

`true` if the app is running on a real device and `false` if running in a simulator or emulator. On web, this is always set to `true`.

### `Device.manufacturer`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string | null`

The actual device manufacturer of the product or hardware. This value of this field may be `null` if it cannot be determined.

To view difference between `brand` and `manufacturer` on Android see [official documentation](https://developer.android.com/reference/android/os/Build).

Example

```js
Device.manufacturer; // Android: "Google", "xiaomi"; iOS: "Apple"; web: "Google", null
```

### `Device.modelId`

Supported platforms: iOS.

Type: `any`

The internal model ID of the device. This is useful for programmatically identifying the type of device and is not a human-friendly string. On web and Android, this value is always `null`.

Example

```js
Device.modelId; // iOS: "iPhone7,2"; Android: null; web: null
```

### `Device.modelName`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string | null`

The human-friendly name of the device model. This is the name that people would typically use to refer to the device rather than a programmatic model identifier. This value of this field may be `null` if it cannot be determined.

Example

```js
Device.modelName; // Android: "Pixel 2"; iOS: "iPhone XS Max"; web: "iPhone", null
```

### `Device.osBuildFingerprint`

Supported platforms: Android.

Type: `string | null`

A string that uniquely identifies the build of the currently running system OS. On Android, it follows this template:

- `$(BRAND)/$(PRODUCT)/$(DEVICE)/$(BOARD):$(VERSION.RELEASE)/$(ID)/$(VERSION.INCREMENTAL):$(TYPE)/\$(TAGS)` On web and iOS, this value is always `null`.

Example

```js
Device.osBuildFingerprint;
// Android: "google/sdk_gphone_x86/generic_x86:9/PSR1.180720.075/5124027:user/release-keys";
// iOS: null; web: null
```

### `Device.osBuildId`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string | null`

The build ID of the OS that more precisely identifies the version of the OS. On Android, this corresponds to `Build.DISPLAY` (not `Build.ID`) and currently is a string as described [here](https://source.android.com/setup/start/build-numbers). On iOS, this corresponds to `kern.osversion` and is the detailed OS version sometimes displayed next to the more human-readable version. On web, this value is always `null`.

Example

```js
Device.osBuildId; // Android: "PSR1.180720.075"; iOS: "16F203"; web: null
```

### `Device.osInternalBuildId`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string | null`

The internal build ID of the OS running on the device. On Android, this corresponds to `Build.ID`. On iOS, this is the same value as [`Device.osBuildId`](#deviceosbuildid). On web, this value is always `null`.

Example

```js
Device.osInternalBuildId; // Android: "MMB29K"; iOS: "16F203"; web: null,
```

### `Device.osName`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string | null`

The name of the OS running on the device.

Example

```js
Device.osName; // Android: "Android"; iOS: "iOS" or "iPadOS"; web: "iOS", "Android", "Windows"
```

### `Device.osVersion`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string | null`

The human-readable OS version string. Note that the version string may not always contain three numbers separated by dots.

Example

```js
Device.osVersion; // Android: "4.0.3"; iOS: "12.3.1"; web: "11.0", "8.1.0"
```

### `Device.platformApiLevel`

Supported platforms: Android.

Type: `number | null`

The Android SDK version of the software currently running on this hardware device. This value never changes while a device is booted, but it may increase when the hardware manufacturer provides an OS update. See [here](https://developer.android.com/reference/android/os/Build.VERSION_CODES.html) to see all possible version codes and corresponding versions. On iOS and web, this value is always `null`.

Example

```js
Device.platformApiLevel; // Android: 19; iOS: null; web: null
```

### `Device.productName`

Supported platforms: Android.

Type: `string | null`

The device's overall product name chosen by the device implementer containing the development name or code name of the device. Corresponds to [`Build.PRODUCT`](https://developer.android.com/reference/android/os/Build#PRODUCT). On web and iOS, this value is always `null`.

Example

```js
Device.productName; // Android: "kminiltexx"; iOS: null; web: null
```

### `Device.supportedCpuArchitectures`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string[] | null`

A list of supported processor architecture versions. The device expects the binaries it runs to be compiled for one of these architectures. This value is `null` if the supported architectures could not be determined, particularly on web.

Example

```js
Device.supportedCpuArchitectures; // ['arm64 v8', 'Intel x86-64h Haswell', 'arm64-v8a', 'armeabi-v7a", 'armeabi']
```

### `Device.totalMemory`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number | null`

The device's total memory, in bytes. This is the total memory accessible to the kernel, but not necessarily to a single app. This is basically the amount of RAM the device has, not including below-kernel fixed allocations like DMA buffers, RAM for the baseband CPU, etcâ€¦ On web, this value is always `null`.

Example

```js
Device.totalMemory; // 17179869184
```

## Methods

### `Device.getDeviceTypeAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Checks the type of the device as a [`DeviceType`](#devicetype) enum value.

On Android, for devices other than TVs, the device type is determined by the screen resolution (screen diagonal size), so the result may not be completely accurate. If the screen diagonal length is between 3" and 6.9", the method returns `DeviceType.PHONE`. For lengths between 7" and 18", the method returns `DeviceType.TABLET`. Otherwise, the method returns `DeviceType.UNKNOWN`.

Returns: `Promise<devicetype>`

Returns a promise that resolves to a [`DeviceType`](#devicetype) enum value.

Example

```js
await Device.getDeviceTypeAsync();
// DeviceType.PHONE
```

### `Device.getMaxMemoryAsync()`

Supported platforms: Android.

Returns the maximum amount of memory that the Java VM will attempt to use. If there is no inherent limit then `Number.MAX_SAFE_INTEGER` is returned.

Returns: `Promise<number>`

Returns a promise that resolves to the maximum available memory that the Java VM will use, in bytes.

Example

```js
await Device.getMaxMemoryAsync();
// 402653184
```

### `Device.getPlatformFeaturesAsync()`

Supported platforms: Android.

Gets a list of features that are available on the system. The feature names are platform-specific. See [Android documentation](<https://developer.android.com/reference/android/content/pm/PackageManager#getSystemAvailableFeatures()>) to learn more about this implementation.

Returns: `Promise<string[]>`

Returns a promise that resolves to an array of strings, each of which is a platform-specific name of a feature available on the current device. On iOS and web, the promise always resolves to an empty array.

Example

```js
await Device.getPlatformFeaturesAsync();
// [
//   'android.software.adoptable_storage',
//   'android.software.backup',
//   'android.hardware.sensor.accelerometer',
//   'android.hardware.touchscreen',
// ]
```

### `Device.getUptimeAsync()`

Supported platforms: Android, iOS.

Gets the uptime since the last reboot of the device, in milliseconds. Android devices do not count time spent in deep sleep.

Returns: `Promise<number>`

Returns a promise that resolves to a `number` that represents the milliseconds since last reboot.

Example

```js
await Device.getUptimeAsync();
// 4371054
```

### `Device.hasPlatformFeatureAsync(feature)`

Supported platforms: Android.

| Parameter | Type     | Description                                                                                                                                                                                                                                                                                                                            |
| --------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `feature` | `string` | The platform-specific name of the feature to check for on the device. You can get all available system features with `Device.getSystemFeatureAsync()`. See [Android documentation](<https://developer.android.com/reference/android/content/pm/PackageManager#hasSystemFeature(java.lang.String)>) to view acceptable feature strings. |

Tells if the device has a specific system feature.

Returns: `Promise<boolean>`

Returns a promise that resolves to a boolean value indicating whether the device has the specified system feature. On iOS and web, the promise always resolves to `false`.

Example

```js
await Device.hasPlatformFeatureAsync("amazon.hardware.fire_tv");
// true or false
```

### `Device.isRootedExperimentalAsync()`

Supported platforms: Android, iOS, tvOS, Web.

> This method is experimental and is not completely reliable. See description below.

Checks whether the device has been rooted (Android) or jailbroken (iOS). This is not completely reliable because there exist solutions to bypass root-detection on both [iOS](https://www.theiphonewiki.com/wiki/XCon) and [Android](https://tweakerlinks.com/how-to-bypass-apps-root-detection-in-android-device/). Further, many root-detection checks can be bypassed via reverse engineering.

- On Android, it's implemented in a way to find all possible files paths that contain the `"su"` executable but some devices that are not rooted may also have this executable. Therefore, there's no guarantee that this method will always return correctly.
- On iOS, [these jailbreak checks](https://www.theiphonewiki.com/wiki/Bypassing_Jailbreak_Detection) are used to detect if a device is rooted/jailbroken. However, since there are closed-sourced solutions such as [xCon](https://www.theiphonewiki.com/wiki/XCon) that aim to hook every known method and function responsible for informing an application of a jailbroken device, this method may not reliably detect devices that have xCon or similar packages installed.
- On web, this always resolves to `false` even if the device is rooted.

Returns: `Promise<boolean>`

Returns a promise that resolves to a `boolean` that specifies whether this device is rooted.

Example

```js
await Device.isRootedExperimentalAsync();
// true or false
```

### `Device.isSideLoadingEnabledAsync()`

Supported platforms: Android.

**Using this method requires you to [add the `REQUEST_INSTALL_PACKAGES` permission](/versions/latest/config/app#permissions).** Returns whether applications can be installed for this user via the system's [`ACTION_INSTALL_PACKAGE`](https://developer.android.com/reference/android/content/Intent.html#ACTION_INSTALL_PACKAGE) mechanism rather than through the OS's default app store, like Google Play.

Returns: `Promise<boolean>`

Returns a promise that resolves to a `boolean` that represents whether the calling package is allowed to request package installation.

Example

```js
await Device.isSideLoadingEnabledAsync();
// true or false
```

## Enums

### `DeviceType`

Supported platforms: Android, iOS, tvOS, Web.

An enum representing the different types of devices supported by Expo.

#### `UNKNOWN`

`DeviceType.UNKNOWN = 0`

An unrecognized device type.

#### `PHONE`

`DeviceType.PHONE = 1`

Mobile phone handsets, typically with a touch screen and held in one hand.

#### `TABLET`

`DeviceType.TABLET = 2`

Tablet computers, typically with a touch screen that is larger than a usual phone.

#### `DESKTOP`

`DeviceType.DESKTOP = 3`

Desktop or laptop computers, typically with a keyboard and mouse.

#### `TV`

`DeviceType.TV = 4`

Device with TV-based interfaces.

## Error codes

| Code                      | Description                                                                                                              |
| ------------------------- | ------------------------------------------------------------------------------------------------------------------------ |
| ERR_DEVICE_ROOT_DETECTION | Error code thrown for `isRootedExperimentalAsync`. This may be thrown if there's no read access to certain system files. |

---

---

title: DeviceMotion
description: A library that provides access to a device's motion and orientation sensors.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-sensors'
packageName: 'expo-sensors'
iconUrl: '/static/images/packages/expo-sensors.png'
platforms: ['android', 'ios', 'web', 'expo-go']

---

# Expo DeviceMotion

A library that provides access to a device's motion and orientation sensors.
Android, iOS, Web, Included in Expo Go

`DeviceMotion` from `expo-sensors` provides access to the device motion and orientation sensors. All data is presented in terms of three axes that run through a device. According to portrait orientation: X runs from left to right, Y from bottom to top and Z perpendicularly through the screen from back to front.

## Installation

```sh
npx expo install expo-sensors
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `DeviceMotion` from `expo-sensor` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-sensors",
        {
          "motionPermission": "Allow $(PRODUCT_NAME) to access your device motion."
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name               | Default                                                | Description                                                                               |
| ------------------ | ------------------------------------------------------ | ----------------------------------------------------------------------------------------- |
| `motionPermission` | `"Allow $(PRODUCT_NAME) to access your device motion"` | Only for: iOS. A string to set the [`NSMotionUsageDescription`](#ios) permission message. |

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) or you're using native **ios** project manually, then you need to configure `NSMotionUsageDescription` key in your native project to access `DeviceMotion` stats:

```xml
<key>NSMotionUsageDescription</key>
<string>Allow $(PRODUCT_NAME) to access your device motion</string>
```

## API

```js
import { DeviceMotion } from "expo-sensors";
```

## Constants

### `Gravity`

Supported platforms: Android, iOS, Web.

Type: `number`

Constant value representing standard gravitational acceleration for Earth (`9.80665` m/s^2).

## Classes

### `DeviceMotion`

Supported platforms: Android, iOS, Web.

Type: Class extends [DeviceSensor](/versions/latest/sdk/sensors)<[DeviceMotionMeasurement](#devicemotionmeasurement)\>

A base class for subscribable sensors. The events emitted by this class are measurements specified by the parameter type `Measurement`.

DeviceMotion Properties

### `Gravity`

Supported platforms: Android, iOS, Web.

Type: `number`â€ƒâ€¢â€ƒDefault: `ExponentDeviceMotion.Gravity`

Constant value representing standard gravitational acceleration for Earth (`9.80665` m/s^2).

DeviceMotion Methods

### `addListener(listener)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type                                                           | Description                                                                                                                                                                      |
| ---------- | -------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `listener` | Listener<[DeviceMotionMeasurement](#devicemotionmeasurement)\> | A callback that is invoked when a device motion sensor update is available. When invoked, the listener is provided a single argument that is a `DeviceMotionMeasurement` object. |

Subscribe for updates to the device motion sensor.

Returns: `EventSubscription`

A subscription that you can call `remove()` on when you would like to unsubscribe the listener.

### `getListenerCount()`

Supported platforms: Android, iOS, Web.

Returns the registered listeners count.

Returns: `number`

### `getPermissionsAsync()`

Supported platforms: Android, iOS, Web.

Checks user's permissions for accessing sensor.

Returns: `Promise<permissionresponse>`

### `hasListeners()`

Supported platforms: Android, iOS, Web.

Returns boolean which signifies if sensor has any listeners registered.

Returns: `boolean`

### `isAvailableAsync()`

Supported platforms: Android, iOS, Web.

> You should always check the sensor availability before attempting to use it.

Returns whether the accelerometer is enabled on the device.

On mobile web, you must first invoke `DeviceMotion.requestPermissionsAsync()` in a user interaction (i.e. touch event) before you can use this module. If the `status` is not equal to `granted` then you should inform the end user that they may have to open settings.

On **web** this starts a timer and waits to see if an event is fired. This should predict if the iOS device has the **device orientation** API disabled in **Settings > Safari > Motion & Orientation Access**. Some devices will also not fire if the site isn't hosted with **HTTPS** as `DeviceMotion` is now considered a secure API. There is no formal API for detecting the status of `DeviceMotion` so this API can sometimes be unreliable on web.

Returns: `Promise<boolean>`

A promise that resolves to a `boolean` denoting the availability of device motion sensor.

### `removeAllListeners()`

Supported platforms: Android, iOS, Web.

Removes all registered listeners.

Returns: `void`

### `removeSubscription(subscription)`

Supported platforms: Android, iOS, Web.

| Parameter      | Type                | Description               |
| -------------- | ------------------- | ------------------------- |
| `subscription` | `EventSubscription` | A subscription to remove. |

Removes the given subscription.

Returns: `void`

### `requestPermissionsAsync()`

Supported platforms: Android, iOS, Web.

Asks the user to grant permissions for accessing sensor.

Returns: `Promise<permissionresponse>`

### `setUpdateInterval(intervalMs)`

Supported platforms: Android, iOS, Web.

| Parameter    | Type     | Description                                                                                                                                             |
| ------------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `intervalMs` | `number` | Desired interval in milliseconds between sensor updates. Starting from Android 12 (API level 31), the system has a 200ms limit for each sensor updates. |

Set the sensor update interval.

Returns: `void`

## Interfaces

### `Subscription`

Supported platforms: Android, iOS, Web.

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Supported platforms: Android, iOS, Web.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

## Types

### `DeviceMotionMeasurement`

Supported platforms: Android, iOS, Web.

| Property                     | Type                                                     | Description                                                                                                                                            |
| ---------------------------- | -------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------- |
| acceleration                 | `null                                                    | { timestamp: number, x: number, y: number, z: number }`                                                                                                | Device acceleration on the three axis as an object with `x`, `y`, `z` keys. Expressed in meters per second squared (m/s^2). |
| accelerationIncludingGravity | `{ timestamp: number, x: number, y: number, z: number }` | Device acceleration with the effect of gravity on the three axis as an object with `x`, `y`, `z` keys. Expressed in meters per second squared (m/s^2). |
| interval                     | `number`                                                 | Interval at which data is obtained from the native platform. Expressed in **milliseconds** (ms).                                                       |
| orientation                  | [DeviceMotionOrientation](#devicemotionorientation)      | Device orientation based on screen rotation. Value is one of:                                                                                          |

- `0` (portrait),
- `90` (right landscape),
- `180` (upside down),
- `-90` (left landscape).

|
| rotation | `{ alpha: number, beta: number, gamma: number, timestamp: number }` | Device's orientation in space as an object with alpha, beta, gamma keys where alpha is for rotation around Z axis, beta for X axis rotation and gamma for Y axis rotation. |
| rotationRate | `null | { alpha: number, beta: number, gamma: number, timestamp: number }` | Device's rate of rotation in space expressed in degrees per second (deg/s). |

### `PermissionExpiration`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionResponse`

Supported platforms: Android, iOS, Web.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

## Enums

### `DeviceMotionOrientation`

Supported platforms: Android, iOS, Web.

#### `LeftLandscape`

`DeviceMotionOrientation.LeftLandscape = -90`

#### `Portrait`

`DeviceMotionOrientation.Portrait = 0`

#### `RightLandscape`

`DeviceMotionOrientation.RightLandscape = 90`

#### `UpsideDown`

`DeviceMotionOrientation.UpsideDown = 180`

### `PermissionStatus`

Supported platforms: Android, iOS, Web.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

## Permissions

### iOS

The following usage description keys are used by this library:

| Info.plist Key             | Description                                                                                 |
| -------------------------- | ------------------------------------------------------------------------------------------- |
| `NSMotionUsageDescription` | A message that tells the user why the app is requesting access to the deviceâ€™s motion data. |

---

---

title: DocumentPicker
description: A library that provides access to the system's UI for selecting documents from the available providers on the user's device.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-document-picker'
packageName: 'expo-document-picker'
iconUrl: '/static/images/packages/expo-document-picker.png'
platforms: ['android', 'ios', 'web', 'expo-go']

---

# Expo DocumentPicker

A library that provides access to the system's UI for selecting documents from the available providers on the user's device.
Android, iOS, Web, Included in Expo Go

`expo-document-picker` provides access to the system's UI for selecting documents from the available providers on the user's device.

## Installation

```sh
npx expo install expo-document-picker
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-document-picker` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

If you want to enable [iCloud storage features](https://developer.apple.com/documentation/bundleresources/entitlements/com_apple_developer_icloud-services), set the `expo.ios.usesIcloudStorage` key to `true` in the [app config](/workflow/configuration) file as specified [configuration properties](/versions/latest/config/app#usesicloudstorage).

Running [EAS Build](/build/introduction) locally will use [iOS capabilities signing](/build-reference/ios-capabilities) to enable the required capabilities before building.

```json
{
  "expo": {
    "plugins": [
      [
        "expo-document-picker",
        {
          "iCloudContainerEnvironment": "Production"
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                         | Default     | Description                                                                                                                                                                                                                                                      |
| ---------------------------- | ----------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `iCloudContainerEnvironment` | `undefined` | Only for: iOS. Sets the iOS `com.apple.developer.icloud-container-environment` entitlement used for AdHoc iOS builds. Possible values: `Development`, `Production`. [Learn more](https://github.com/expo/eas-cli/issues/693).                                    |
| `kvStoreIdentifier`          | `undefined` | Only for: iOS. Overrides the default iOS `com.apple.developer.ubiquity-kvstore-identifier` entitlement, which uses your Apple Team ID and bundle identifier. This may be needed if your app was transferred to another Apple Team after enabling iCloud storage. |

Are you using this library in an existing React Native app?

Apps that don't use [EAS Build](/build/introduction) and want [iCloud storage features](https://developer.apple.com/documentation/bundleresources/entitlements/com_apple_developer_icloud-services) must [manually configure](/build-reference/ios-capabilities#manual-setup) the [**iCloud service with CloudKit support**](https://developer.apple.com/documentation/bundleresources/entitlements/com_apple_developer_icloud-container-environment) for their bundle identifier.

If you enable the **iCloud** capability through the [Apple Developer Console](/build-reference/ios-capabilities#apple-developer-console), then be sure to add the following entitlements in your `ios/[app]/[app].entitlements` file (where `dev.expo.my-app` if your bundle identifier):

```xml
<key>com.apple.developer.icloud-container-identifiers</key>
<array>
    <string>iCloud.dev.expo.my-app</string>
</array>
<key>com.apple.developer.icloud-services</key>
<array>
    <string>CloudDocuments</string>
</array>
<key>com.apple.developer.ubiquity-container-identifiers</key>
<array>
    <string>iCloud.dev.expo.my-app</string>
</array>
<key>com.apple.developer.ubiquity-kvstore-identifier</key>
<string>$(TeamIdentifierPrefix)dev.expo.my-app</string>
```

Apple Developer Console also requires an **iCloud Container** to be created. When registering the new container, you are asked to provide a description and identifier for the container. You may enter any name under the description. Under the identifier, add `iCloud.<your_bundle_identifier>` (same value used for `com.apple.developer.icloud-container-identifiers` and `com.apple.developer.ubiquity-container-identifiers` entitlements).

## Using with `expo-file-system`

When using `expo-document-picker` with [`expo-file-system`](/versions/latest/sdk/filesystem), it's not always possible for the file system to read the file immediately after the `expo-document-picker` picks it.

To allow the `expo-file-system` to read the file immediately after it is picked, you'll need to ensure that the [`copyToCacheDirectory`](/versions/latest/sdk/document-picker#documentpickeroptions) option is set to `true`.

## API

```js
import * as DocumentPicker from "expo-document-picker";
```

## Component

### `getDocumentAsync`

Supported platforms: Android, iOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[DocumentPickerOptions](#documentpickeroptions)\>

Display the system UI for choosing a document. By default, the chosen file is copied to [the app's internal cache directory](/versions/latest/sdk/filesystem#filesystemcachedirectory).

> **Notes for Web:** The system UI can only be shown after user activation (e.g. a `Button` press). Therefore, calling `getDocumentAsync` in `componentDidMount`, for example, will **not** work as intended. The `cancel` event will not be returned in the browser due to platform restrictions and inconsistencies across browsers.

## Types

### `DocumentPickerAsset`

Supported platforms: Android, iOS, Web.

| Property           | Type          | Description                                                                                                                                                                                                                                                                                                                                   |
| ------------------ | ------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| base64(optional)   | `string`      | Supported platforms: Web. Base64 string of the file.                                                                                                                                                                                                                                                                                          |
| file(optional)     | [File](#file) | Supported platforms: Web. `File` object for the parity with web File API.                                                                                                                                                                                                                                                                     |
| lastModified       | `number`      | Timestamp of last document modification. [Web API specs](https://developer.mozilla.org/en-US/docs/Web/API/File/lastModified) The lastModified provides the last modified date of the file as the number of milliseconds since the Unix epoch (January 1, 1970 at midnight). Files without a known last modified date return the current date. |
| mimeType(optional) | `string`      | Document MIME type.                                                                                                                                                                                                                                                                                                                           |
| name               | `string`      | Document original name.                                                                                                                                                                                                                                                                                                                       |
| size(optional)     | `number`      | Document size in bytes.                                                                                                                                                                                                                                                                                                                       |
| uri                | `string`      | An URI to the local document file.                                                                                                                                                                                                                                                                                                            |

### `DocumentPickerCanceledResult`

Supported platforms: Android, iOS, Web.

Type representing canceled pick result.

| Property         | Type   | Description                                                            |
| ---------------- | ------ | ---------------------------------------------------------------------- |
| assets           | `null` | Always `null` when the request was canceled.                           |
| canceled         | `true` | Always `true` when the request was canceled.                           |
| output(optional) | `null` | Supported platforms: Web. Always `null` when the request was canceled. |

### `DocumentPickerOptions`

Supported platforms: Android, iOS, Web.

| Property                       | Type      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ------------------------------ | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| base64(optional)               | `boolean` | Supported platforms: Web. If `true`, asset url is base64 from the file If `false`, asset url is the file url parameter. Default: `true`                                                                                                                                                                                                                                                                                                           |
| copyToCacheDirectory(optional) | `boolean` | Supported platforms: Android, iOS. If `true`, the picked file is copied to [`FileSystem.CacheDirectory`](/versions/latest/sdk/filesystem#filesystemcachedirectory), which allows other Expo APIs to read the file immediately. This may impact performance for large files, so you should consider setting this to `false` if you expect users to pick particularly large files and your app does not need immediate read access. Default: `true` |
| multiple(optional)             | `boolean` | Allows multiple files to be selected from the system UI. Default: `false`                                                                                                                                                                                                                                                                                                                                                                         |
| type(optional)                 | `string   | string[]`                                                                                                                                                                                                                                                                                                                                                                                                                                         | The [MIME type(s)](https://en.wikipedia.org/wiki/Media_type) of the documents that are available to be picked. It also supports wildcards like `'image/*'` to choose any image. To allow any type of document you can use `'*/*'`. Default: `'*/*'` |

### `DocumentPickerResult`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Type representing successful and canceled document pick result.

Acceptable values are: [DocumentPickerSuccessResult](#documentpickersuccessresult) | [DocumentPickerCanceledResult](#documentpickercanceledresult)

### `DocumentPickerSuccessResult`

Supported platforms: Android, iOS, Web.

Type representing successful pick result.

| Property         | Type                                                                  | Description                                                                   |
| ---------------- | --------------------------------------------------------------------- | ----------------------------------------------------------------------------- |
| assets           | [DocumentPickerAsset[]](#documentpickerasset)                         | An array of picked assets.                                                    |
| canceled         | `false`                                                               | If asset data have been returned this should always be `false`.               |
| output(optional) | [FileList](https://developer.mozilla.org/en-US/docs/Web/API/FileList) | Supported platforms: Web. `FileList` object for the parity with web File API. |

---

---

title: Expo
description: Set of common methods and types for Expo and related packages.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo'
packageName: 'expo'
iconUrl: '/static/images/packages/expo.png'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo

Set of common methods and types for Expo and related packages.
Android, iOS, tvOS, Web, Included in Expo Go

## Installation

```sh
npx expo install expo
```

## API

```tsx
import * as Expo from "expo";
```

### `expo/fetch` API

`expo/fetch` provides a [WinterCG-compliant Fetch API](https://fetch.spec.wintercg.org/) that works consistently across web and mobile environments, ensuring a standardized and cross-platform fetch experience within Expo applications.

```ts
import { fetch } from "expo/fetch";

const resp = await fetch("https://httpbin.org/drip?numbytes=512&duration=2", {
  headers: { Accept: "text/event-stream" },
});
const reader = resp.body.getReader();
const chunks = [];
while (true) {
  const { done, value } = await reader.read();
  if (done) {
    break;
  }
  chunks.push(value);
}
const buffer = new Uint8Array(
  chunks.reduce((acc, chunk) => acc + chunk.length, 0),
);
console.log(buffer.length); // 512
```

### Encoding APIs

`TextEncoder` and `TextDecoder` are built-in APIs that provide a way to encode and decode text in various character encodings. They are available on all platforms. Refer to the [browser and server runtime support](https://caniuse.com/textencoder) for web and Node.js.

```ts
// [104, 101, 108, 108, 111]
const hello = new TextEncoder().encode("hello");

// "hello"
const text = new TextDecoder().decode(hello);
```

The `TextEncoder` API is included in the Hermes engine. See the [source code in TextEncoder.cpp inside the Hermes GitHub repository](https://github.com/facebook/hermes/blob/9e2bbf8eda15936ee00aee4f8e024ceaa7cd800d/lib/VM/JSLib/TextEncoder.cpp#L1).

The `TextDecoder` API is not [spec-compliant](https://encoding.spec.whatwg.org/#textdecoder) on native platforms. Only the UTF-8 encoding is supported. If you need support for more encodings, use a polyfill like [`text-encoding`](https://www.npmjs.com/package/text-encoding).

The stream equivalents of these APIs, `TextEncoderStream` and `TextDecoderStream`, are also available on all platforms. They allow you to encode and decode text in a streaming manner, which is useful for processing large amounts of data without loading it all into memory at once.

```ts
const encoder = new TextEncoderStream();
const stream = new ReadableStream({
  start(controller) {
    controller.enqueue("Hello");
    controller.enqueue("World");
    controller.close();
  },
});
const reader = stream.pipeThrough(encoder).getReader();
reader.read().then(({ done, value }) => {
  console.log(value); // Uint8Array [72, 101, 108, 108, 111]
});
```

### Streams API

Global support for standard web streams is available on native platforms to match the behavior of web and server platforms. Refer to the [browser and server runtime support](https://caniuse.com/streams) for specific web and Node.js support. EAS Hosting server runtime also includes support for the standard web streams API.

Globally access `ReadableStream`, `WritableStream`, and `TransformStream` classes.

```js
const stream = new ReadableStream({
  start(controller) {
    controller.enqueue("Hello");
    controller.enqueue("World");
    controller.close();
  },
});
const reader = stream.getReader();
reader.read().then(({ done, value }) => {
  console.log(value); // Hello
});
reader.read().then(({ done, value }) => {
  console.log(value); // World
});
```

### URL API

`URL` provides the standard API on all platforms.

On native platforms, built-in `URL` and `URLSearchParams` implementations replace the shims in `react-native`. Refer to the [browser and server runtime support](https://caniuse.com/url) for web and Node.js.

```ts
const url = new URL("https://expo.dev");

const params = new URLSearchParams();
```

Expo's built-in `URL` support attempts to be fully [spec compliant](https://developer.mozilla.org/en-US/docs/Web/API/URL). The only missing exception is that native platforms do not currently support [non-ASCII characters](https://unicode.org/reports/tr46/) in the hostname.

```ts
console.log(new URL("http://ðŸ¥“").toString());

// This outputs the following:
// - Web, Node.js: http://xn--pr9h/
// - Android, iOS: http://ðŸ¥“/
```

## Constants

### `SharedRef`

Supported platforms: Android, iOS, tvOS, Web.

Type: `SharedRef`

## Hooks

### `useEvent(eventEmitter, eventName, initialValue)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                | Type                                                                     | Description                                                                                                                   |
| ------------------------ | ------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------- |
| `eventEmitter`           | [EventEmitter](/versions/v54.0.0/sdk/expo#eventemittertype)<TEventsMap\> | An object that emits events. For example, a native module or shared object or an instance of [`EventEmitter`](#eventemitter). |
| `eventName`              | `TEventName`                                                             | Name of the event to listen to.                                                                                               |
| `initialValue`(optional) | `null                                                                    | TInitialValue`                                                                                                                | An event parameter to use until the event is called for the first time. Default: `null` |

React hook that listens to events emitted by the given object. The returned value is an event parameter that gets updated whenever a new event is dispatched.

Returns: `InferEventParameter<teventlistener,>`

A parameter of the event listener.

Example

```tsx
import { VideoPlayer } from "expo-video";
import { useEvent } from "expo";

export function PlayerStatus({ videoPlayer }: { videoPlayer: VideoPlayer }) {
  const { status } = useEvent(videoPlayer, "statusChange", {
    status: videoPlayer.status,
  });

  return <Text>{`Player status: ${status}`}</Text>;
}
```

### `useEventListener(eventEmitter, eventName, listener)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter      | Type                                                                     | Description                                                                                                                   |
| -------------- | ------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------- |
| `eventEmitter` | [EventEmitter](/versions/v54.0.0/sdk/expo#eventemittertype)<TEventsMap\> | An object that emits events. For example, a native module or shared object or an instance of [`EventEmitter`](#eventemitter). |
| `eventName`    | `TEventName`                                                             | Name of the event to listen to.                                                                                               |
| `listener`     | `TEventListener`                                                         | A function to call when the event is dispatched.                                                                              |

React hook that listens to events emitted by the given object and calls the listener function whenever a new event is dispatched. The event listener is automatically added during the first render and removed when the component unmounts.

Returns: `void`

Example

```tsx
import { useVideoPlayer, VideoView } from "expo-video";
import { useEventListener } from "expo";

export function VideoPlayerView() {
  const player = useVideoPlayer(videoSource);

  useEventListener(player, "playingChange", ({ isPlaying }) => {
    console.log("Player is playing:", isPlaying);
  });

  return <VideoView player={player} />;
}
```

## Classes

### `EventEmitterType`

Supported platforms: Android, iOS, tvOS, Web.

A class that provides a consistent API for emitting and listening to events. It shares many concepts with other emitter APIs, such as Node's EventEmitter and `fbemitter`. When the event is emitted, all of the functions attached to that specific event are called _synchronously_. Any values returned by the called listeners are _ignored_ and discarded. Its implementation is written in C++ and common for all the platforms.

EventEmitterType Methods

### `addListener(eventName, listener)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter   | Type                    |
| ----------- | ----------------------- |
| `eventName` | `EventName`             |
| `listener`  | `TEventsMap[EventName]` |

Adds a listener for the given event name.

Returns: `EventSubscription`

### `emit(eventName, ...args)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter   | Type                                |
| ----------- | ----------------------------------- |
| `eventName` | `EventName`                         |
| `. .args`   | `Parameters<TEventsMap[EventName]>` |

Synchronously calls all the listeners attached to that specific event. The event can include any number of arguments that will be passed to the listeners.

Returns: `void`

### `listenerCount(eventName)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter   | Type        |
| ----------- | ----------- |
| `eventName` | `EventName` |

Returns a number of listeners added to the given event.

Returns: `number`

### `removeAllListeners(eventName)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter   | Type               |
| ----------- | ------------------ |
| `eventName` | `keyof TEventsMap` |

Removes all listeners for the given event name.

Returns: `void`

### `removeListener(eventName, listener)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter   | Type                    |
| ----------- | ----------------------- |
| `eventName` | `EventName`             |
| `listener`  | `TEventsMap[EventName]` |

Removes a listener for the given event name.

Returns: `void`

### `startObserving(eventName)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter   | Type        |
| ----------- | ----------- |
| `eventName` | `EventName` |

Function that is automatically invoked when the first listener for an event with the given name is added. Override it in a subclass to perform some additional setup once the event started being observed.

Returns: `void`

### `stopObserving(eventName)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter   | Type        |
| ----------- | ----------- |
| `eventName` | `EventName` |

Function that is automatically invoked when the last listener for an event with the given name is removed. Override it in a subclass to perform some additional cleanup once the event is no longer observed.

Returns: `void`

### `NativeModuleType`

Supported platforms: Android, iOS, tvOS, Web.

Type: Class extends [EventEmitter](/versions/v54.0.0/sdk/expo#eventemittertype)<TEventsMap\>

A class for all native modules. Extends the [`EventEmitter`](#eventemitter) class.

### `SharedObjectType`

Supported platforms: Android, iOS, tvOS, Web.

Type: Class extends [EventEmitter](/versions/v54.0.0/sdk/expo#eventemittertype)<TEventsMap\> implements [EventEmitter](/versions/v54.0.0/sdk/expo#eventemittertype)<TEventsMap\>

Base class for all shared objects that extends the [`EventEmitter`](#eventemitter) class. The implementation is written in C++, installed through JSI and common for mobile platforms.

SharedObjectType Methods

### `release()`

Supported platforms: Android, iOS, tvOS, Web.

A function that detaches the JS and native objects to let the native object deallocate before the JS object gets deallocated by the JS garbage collector. Any subsequent calls to native functions of the object will throw an error as it is no longer associated with its native counterpart.

In most cases, you should never need to use this function, except some specific performance-critical cases when manual memory management makes sense and the native object is known to exclusively retain some native memory (such as binary data or image bitmap). Before calling this function, you should ensure that nothing else will use this object later on. Shared objects created by React hooks are usually automatically released in the effect's cleanup phase, for example: `useVideoPlayer()` from `expo-video` and `useImage()` from `expo-image`.

Returns: `void`

### `SharedRefType`

Supported platforms: Android, iOS, tvOS, Web.

Type: Class extends [SharedObject](/versions/v54.0.0/sdk/expo#sharedobjecttype)<TEventsMap\> implements [SharedObject](/versions/v54.0.0/sdk/expo#sharedobjecttype)<TEventsMap\>

A [`SharedObject`](#sharedobject) that holds a reference to any native object. Allows passing references to native instances among different independent libraries.

For instance, `ImageRef` from `expo-image` references a [Drawable](https://developer.android.com/reference/android/graphics/drawable/Drawable) on Android and an [UIImage](https://developer.apple.com/documentation/uikit/uiimage) on iOS. Since both types are common on these platforms, different native modules can use them without depending on each other. In particular, this enables the `expo-image-manipulator` to pass the resulted image directly to the image view from `expo-image` without any additional writes and reads from the file system.

SharedRefType Properties

### `nativeRefType`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string`

The type of the native reference.

## Methods

### `isRunningInExpoGo()`

Supported platforms: Android, iOS, tvOS, Web.

Returns a boolean value whether the app is running in Expo Go.

Returns: `boolean`

### `registerRootComponent(component)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter   | Type               | Description                                                  |
| ----------- | ------------------ | ------------------------------------------------------------ |
| `component` | `ComponentType<P>` | The React component class that renders the rest of your app. |

Sets the initial React component to render natively in the app's root React Native view on Android, iOS, tvOS and the web.

This method does the following:

- Invokes React Native's `AppRegistry.registerComponent`.
- Invokes React Native web's `AppRegistry.runApplication` on web to render to the root `index.html` file.
- Polyfills the `process.nextTick` function globally.

This method also adds the following dev-only features that are removed in production bundles.

- Adds the Fast Refresh and bundle splitting indicator to the app.
- Asserts if the `expo-updates` package is misconfigured.
- Asserts if `react-native` is not aliased to `react-native-web` when running in the browser.

Returns: `void`

> **See:** For information on how to setup `registerRootComponent` in an existing (bare) React Native app, see [Common questions](#rootregistercomponent-setup-for-existing-react-native-projects) below.

### `registerWebModule(moduleImplementation, moduleName)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter              | Type         | Description                                                                                              |
| ---------------------- | ------------ | -------------------------------------------------------------------------------------------------------- |
| `moduleImplementation` | `ModuleType` | A class that extends `NativeModule`. The class is registered under `globalThis.expo.modules[className]`. |
| `moduleName`           | `string`     | â€“ a name to register the module under `globalThis.expo.modules[className]`.                              |

Registers a web module.

Returns: `ModuleType`

A singleton instance of the class passed into arguments.

### `reloadAppAsync(reason)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter          | Type     | Description                                                             |
| ------------------ | -------- | ----------------------------------------------------------------------- |
| `reason`(optional) | `string` | The reason for reloading the app. This is used only for some platforms. |

Reloads the app. This method works for both release and debug builds.

Unlike [`Updates.reloadAsync()`](/versions/latest/sdk/updates#updatesreloadasync), this function does not use a new update even if one is available. It only reloads the app using the same JavaScript bundle that is currently running.

Returns: `Promise<void>`

### `requireNativeModule(moduleName)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter    | Type     | Description                          |
| ------------ | -------- | ------------------------------------ |
| `moduleName` | `string` | Name of the requested native module. |

Imports the native module registered with given name. In the first place it tries to load the module installed through the JSI host object and then falls back to the bridge proxy module. Notice that the modules loaded from the proxy may not support some features like synchronous functions.

Returns: `ModuleType`

Object representing the native module.

### `requireNativeView(moduleName, viewName)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter            | Type     |
| -------------------- | -------- |
| `moduleName`         | `string` |
| `viewName`(optional) | `string` |

A drop-in replacement for `requireNativeComponent`.

Returns: `React.ComponentType`

### `requireOptionalNativeModule(moduleName)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter    | Type     | Description                          |
| ------------ | -------- | ------------------------------------ |
| `moduleName` | `string` | Name of the requested native module. |

Imports the native module registered with the given name. The same as `requireNativeModule`, but returns `null` when the module cannot be found instead of throwing an error.

Returns: `ModuleType | null`

Object representing the native module or `null` when it cannot be found.

## Event Subscriptions

### `useEventListener(eventEmitter, eventName, listener)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter      | Type                                                                     | Description                                                                                                                   |
| -------------- | ------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------- |
| `eventEmitter` | [EventEmitter](/versions/v54.0.0/sdk/expo#eventemittertype)<TEventsMap\> | An object that emits events. For example, a native module or shared object or an instance of [`EventEmitter`](#eventemitter). |
| `eventName`    | `TEventName`                                                             | Name of the event to listen to.                                                                                               |
| `listener`     | `TEventListener`                                                         | A function to call when the event is dispatched.                                                                              |

React hook that listens to events emitted by the given object and calls the listener function whenever a new event is dispatched. The event listener is automatically added during the first render and removed when the component unmounts.

Returns: `void`

Example

```tsx
import { useVideoPlayer, VideoView } from "expo-video";
import { useEventListener } from "expo";

export function VideoPlayerView() {
  const player = useVideoPlayer(videoSource);

  useEventListener(player, "playingChange", ({ isPlaying }) => {
    console.log("Player is playing:", isPlaying);
  });

  return <VideoView player={player} />;
}
```

## Types

## Common questions

Some common questions about using the `expo` package in your project.

`rootRegisterComponent` setup for existing React Native projects

If you are managing your React Native project's native directories (**android** and **ios**) manually, you need to follow the instructions below to set up the `registerRootComponent` function. This is necessary for the Expo modules to work correctly.

**Android**

Update the **android/app/src/main/your-package/MainActivity.java** file to use the name `main` in the `getMainComponentName` function.

```diff
@Override
  protected String getMainComponentName() {
+    return "main";
  }
```

**iOS**

Update the iOS **ios/your-project/AppDelegate.(m|mm|swift)** file to use the **moduleName** `main` in the `createRootViewWithBridge:bridge moduleName:@"main" initialProperties:initProps` line of the `application:didFinishLaunchingWithOptions:` function.

What if I want to name my main app file something other than App.js or app/\_layout.tsx?

**For projects that do not use [Expo Router](/router/introduction)**, you can set the `"main"` in **package.json** to any file within your project. If you do this, then you need to use `registerRootComponent`. The `export default` will not make this component the root for the app if you are using a custom entry file.

For example, let's say you want to make **src/main.jsx** the entry file for your app â€” maybe you don't like having JavaScript files in the project root. First, set this in **package.json**:

```json
{
  "main": "src/main.jsx"
}
```

Then, in **src/main.jsx**, make sure you call `registerRootComponent` and pass in the component you want to render at the root of the app:

```jsx
import { registerRootComponent } from "expo";
import { View } from "react-native";

function App() {
  return <View />;
}

registerRootComponent(App);
```

**For projects that use [Expo Router](/router/introduction)**, you can create a custom entry point by following these steps from [Expo Router's installation guide](/router/installation#custom-entry-point-to-initialize-and-load). To use the top-level **src** directory in your Expo Router project, see [src directory reference](/router/reference/src-directory) for more information.

---

---

title: FileSystem (legacy)
description: A library that provides access to the local file system on the device.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-file-system/legacy'
packageName: 'expo-file-system'
iconUrl: '/static/images/packages/expo-file-system.png'
platforms: ['android', 'ios', 'tvos', 'expo-go']

---

# Expo FileSystem (legacy)

A library that provides access to the local file system on the device.
Android, iOS, tvOS, Included in Expo Go

> The `legacy` version of the FileSystem API is included in the `expo-file-system` library. It can be used alongside the modern API for backward compatibility reasons.

`expo-file-system` provides access to a file system stored locally on the device. It is also capable of uploading and downloading files from network URLs.

Diagram explaining how expo-file-system interacts with different resources

How expo-file-system works differently inside of the Expo Go app

Within Expo Go, each project has a separate file system scope and has no access to the file system of other projects.

## Installation

```sh
npx expo install expo-file-system
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

### Downloading files

```js
const callback = downloadProgress => {
  const progress =
    downloadProgress.totalBytesWritten /
    downloadProgress.totalBytesExpectedToWrite;
  this.setState({
    downloadProgress: progress,
  });
};

const downloadResumable = FileSystem.createDownloadResumable(
  "http://techslides.com/demos/sample-videos/small.mp4",
  FileSystem.documentDirectory + "small.mp4",
  {},
  callback,
);

try {
  const { uri } = await downloadResumable.downloadAsync();
  console.log("Finished downloading to ", uri);
} catch (e) {
  console.error(e);
}

try {
  await downloadResumable.pauseAsync();
  console.log("Paused download operation, saving for future retrieval");
  AsyncStorage.setItem(
    "pausedDownload",
    JSON.stringify(downloadResumable.savable()),
  );
} catch (e) {
  console.error(e);
}

try {
  const { uri } = await downloadResumable.resumeAsync();
  console.log("Finished downloading to ", uri);
} catch (e) {
  console.error(e);
}

//To resume a download across app restarts, assuming the DownloadResumable.savable() object was stored:
const downloadSnapshotJson = await AsyncStorage.getItem("pausedDownload");
const downloadSnapshot = JSON.parse(downloadSnapshotJson);
const downloadResumable = new FileSystem.DownloadResumable(
  downloadSnapshot.url,
  downloadSnapshot.fileUri,
  downloadSnapshot.options,
  callback,
  downloadSnapshot.resumeData,
);

try {
  const { uri } = await downloadResumable.resumeAsync();
  console.log("Finished downloading to ", uri);
} catch (e) {
  console.error(e);
}
```

### Managing Giphy's

```js
import * as FileSystem from 'expo-file-system/legacy';

const gifDir = FileSystem.cacheDirectory + 'giphy/';
const gifFileUri = (gifId: string) => gifDir + `gif_${gifId}_200.gif`;
const gifUrl = (gifId: string) => `https://media1.giphy.com/media/${gifId}/200.gif`;

// Checks if gif directory exists. If not, creates it
async function ensureDirExists() {
  const dirInfo = await FileSystem.getInfoAsync(gifDir);
  if (!dirInfo.exists) {
    console.log("Gif directory doesn't exist, creatingâ€¦");
    await FileSystem.makeDirectoryAsync(gifDir, { intermediates: true });
  }
}

// Downloads all gifs specified as array of IDs
export async function addMultipleGifs(gifIds: string[]) {
  try {
    await ensureDirExists();

    console.log('Downloading', gifIds.length, 'gif filesâ€¦');
    await Promise.all(gifIds.map(id => FileSystem.downloadAsync(gifUrl(id), gifFileUri(id))));
  } catch (e) {
    console.error("Couldn't download gif files:", e);
  }
}

// Returns URI to our local gif file
// If our gif doesn't exist locally, it downloads it
export async function getSingleGif(gifId: string) {
  await ensureDirExists();

  const fileUri = gifFileUri(gifId);
  const fileInfo = await FileSystem.getInfoAsync(fileUri);

  if (!fileInfo.exists) {
    console.log("Gif isn't cached locally. Downloadingâ€¦");
    await FileSystem.downloadAsync(gifUrl(gifId), fileUri);
  }

  return fileUri;
}

// Exports shareable URI - it can be shared outside your app
export async function getGifContentUri(gifId: string) {
  return FileSystem.getContentUriAsync(await getSingleGif(gifId));
}

// Deletes whole giphy directory with all its content
export async function deleteAllGifs() {
  console.log('Deleting all GIF filesâ€¦');
  await FileSystem.deleteAsync(gifDir);
}
```

### Server: handling multipart requests

The simple server in Node.js, which can save uploaded images to disk:

```js
const express = require("express");
const app = express();
const multer = require("multer");
const fs = require("fs");
const upload = multer({ dest: "uploads/" });

// This method will save the binary content of the request as a file.
app.patch("/binary-upload", (req, res) => {
  req.pipe(fs.createWriteStream("./uploads/image" + Date.now() + ".png"));
  res.end("OK");
});

// This method will save a "photo" field from the request as a file.
app.patch("/multipart-upload", upload.single("photo"), (req, res) => {
  // You can access other HTTP parameters. They are located in the body object.
  console.log(req.body);
  res.end("OK");
});

app.listen(3000, () => {
  console.log("Working on port 3000");
});
```

## API

```js
import * as FileSystem from "expo-file-system/legacy";
```

### Directories

The API takes `file://` URIs pointing to local files on the device to identify files. Each app only has read and write access to locations under the following directories:

- [`FileSystem.documentDirectory`](/versions/latest/sdk/filesystem-legacy#filesystemdocumentdirectory)
- [`FileSystem.cacheDirectory`](/versions/latest/sdk/filesystem-legacy#filesystemcachedirectory)

So, for example, the URI to a file named `'myFile'` under `'myDirectory'` in the app's user documents directory would be `FileSystem.documentDirectory + 'myDirectory/myFile'`.

Expo APIs that create files generally operate within these directories. This includes `Audio` recordings, `Camera` photos, `ImagePicker` results, `SQLite` databases and `takeSnapShotAsync()` results. This allows their use with the `FileSystem` API.

Some `FileSystem` functions are able to read from (but not write to) other locations.

### SAF URI

A SAF URI is a URI that is compatible with the Storage Access Framework. It should look like this `content://com.android.externalstorage.*`. The easiest way to obtain such URI is by [`requestDirectoryPermissionsAsync`](/versions/latest/sdk/filesystem-legacy#requestdirectorypermissionsasyncinitialfileurl) method.

## Constants

### `FileSystem Legacy.bundleDirectory`

Supported platforms: Android, iOS, tvOS.

Type: `null | string`

URI to the directory where assets bundled with the application are stored.

### `FileSystem Legacy.cacheDirectory`

Supported platforms: Android, iOS, tvOS.

Type: `null | string`

`file://` URI pointing to the directory where temporary files used by this app will be stored. Files stored here may be automatically deleted by the system when low on storage. Example uses are for downloaded or generated files that the app just needs for one-time usage.

### `FileSystem Legacy.documentDirectory`

Supported platforms: Android, iOS, tvOS.

Type: `null | string`

`file://` URI pointing to the directory where user documents for this app will be stored. Files stored here will remain until explicitly deleted by the app. Ends with a trailing `/`. Example uses are for files the user saves that they expect to see again.

## Classes

### `DownloadResumable`

Supported platforms: Android, iOS, tvOS.

Type: Class extends [FileSystemCancellableNetworkTask](#filesystemcancellablenetworktask)<DownloadProgressData\>

DownloadResumable Properties

### `fileUri`

Supported platforms: Android, iOS, tvOS.

Type: `string`

DownloadResumable Methods

### `cancelAsync()`

Supported platforms: Android, iOS, tvOS.

Returns: `Promise<void>`

### `downloadAsync()`

Supported platforms: Android, iOS, tvOS.

Download the contents at a remote URI to a file in the app's file system.

Returns: `Promise<undefined>`

Returns a Promise that resolves to `FileSystemDownloadResult` object, or to `undefined` when task was cancelled.

### `pauseAsync()`

Supported platforms: Android, iOS, tvOS.

Pause the current download operation. `resumeData` is added to the `DownloadResumable` object after a successful pause operation. Returns an object that can be saved with `AsyncStorage` for future retrieval (the same object that is returned from calling `FileSystem.DownloadResumable.savable()`).

Returns: `Promise<downloadpausestate>`

Returns a Promise that resolves to `DownloadPauseState` object.

### `resumeAsync()`

Supported platforms: Android, iOS, tvOS.

Resume a paused download operation.

Returns: `Promise<undefined>`

Returns a Promise that resolves to `FileSystemDownloadResult` object, or to `undefined` when task was cancelled.

### `savable()`

Supported platforms: Android, iOS, tvOS.

Method to get the object which can be saved with `AsyncStorage` for future retrieval.

Returns: `DownloadPauseState`

Returns object in shape of `DownloadPauseState` type.

### `FileSystemCancellableNetworkTask`

Supported platforms: Android, iOS, tvOS.

FileSystemCancellableNetworkTask Methods

### `cancelAsync()`

Supported platforms: Android, iOS, tvOS.

Returns: `Promise<void>`

### `UploadTask`

Supported platforms: Android, iOS, tvOS.

Type: Class extends [FileSystemCancellableNetworkTask](#filesystemcancellablenetworktask)<UploadProgressData\>

UploadTask Methods

### `cancelAsync()`

Supported platforms: Android, iOS, tvOS.

Returns: `Promise<void>`

### `uploadAsync()`

Supported platforms: Android, iOS, tvOS.

Returns: `Promise<undefined>`

## Methods

### `FileSystem Legacy.copyAsync(options)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type                | Description                                                                          |
| --------- | ------------------- | ------------------------------------------------------------------------------------ |
| `options` | `RelocatingOptions` | A map of move options represented by [`RelocatingOptions`](#relocatingoptions) type. |

Create a copy of a file or directory. Directories are recursively copied with all of their contents. It can be also used to copy content shared by other apps to local filesystem.

Returns: `Promise<void>`

### `FileSystem Legacy.createDownloadResumable(uri, fileUri, options, callback, resumeData)`

Supported platforms: Android, iOS, tvOS.

| Parameter              | Type                                                          | Description                                                                                                                                                                                                            |
| ---------------------- | ------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `uri`                  | `string`                                                      | The remote URI to download from.                                                                                                                                                                                       |
| `fileUri`              | `string`                                                      | The local URI of the file to download to. If there is no file at this URI, a new one is created. If there is a file at this URI, its contents are replaced. The directory for the file must exist.                     |
| `options`(optional)    | [DownloadOptions](#downloadoptions)                           | A map of download options represented by [`DownloadOptions`](#downloadoptions) type.                                                                                                                                   |
| `callback`(optional)   | `FileSystemNetworkTaskProgressCallback<DownloadProgressData>` | This function is called on each data write to update the download progress. Note: When the app has been moved to the background, this callback won't be fired until it's moved to the foreground.                      |
| `resumeData`(optional) | `string`                                                      | The string which allows the api to resume a paused download. This is set on the `DownloadResumable` object automatically when a download is paused. When initializing a new `DownloadResumable` this should be `null`. |

Create a `DownloadResumable` object which can start, pause, and resume a download of contents at a remote URI to a file in the app's file system.

> Note: You need to call `downloadAsync()`, on a `DownloadResumable` instance to initiate the download. The `DownloadResumable` object has a callback that provides download progress updates. Downloads can be resumed across app restarts by using `AsyncStorage` to store the `DownloadResumable.savable()` object for later retrieval. The `savable` object contains the arguments required to initialize a new `DownloadResumable` object to resume the download after an app restart. The directory for a local file uri must exist prior to calling this function.

Returns: `DownloadResumable`

### `FileSystem Legacy.createUploadTask(url, fileUri, options, callback)`

Supported platforms: Android, iOS, tvOS.

| Parameter            | Type                                                        |
| -------------------- | ----------------------------------------------------------- |
| `url`                | `string`                                                    |
| `fileUri`            | `string`                                                    |
| `options`(optional)  | `FileSystemUploadOptions`                                   |
| `callback`(optional) | `FileSystemNetworkTaskProgressCallback<UploadProgressData>` |

Returns: `UploadTask`

### `FileSystem Legacy.deleteAsync(fileUri, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type              | Description                                                                                     |
| ------------------- | ----------------- | ----------------------------------------------------------------------------------------------- |
| `fileUri`           | `string`          | `file://` or [SAF](#saf-uri) URI to the file or directory.                                      |
| `options`(optional) | `DeletingOptions` | A map of write options represented by [`DeletingOptions`](#deletingoptions) type. Default: `{}` |

Delete a file or directory. If the URI points to a directory, the directory and all its contents are recursively deleted.

Returns: `Promise<void>`

### `FileSystem Legacy.deleteLegacyDocumentDirectoryAndroid()`

Supported platforms: Android, iOS, tvOS.

Returns: `Promise<void>`

### `FileSystem Legacy.downloadAsync(uri, fileUri, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                | Description                                                                                                                                                                                        |
| ------------------- | ----------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `uri`               | `string`                            | The remote URI to download from.                                                                                                                                                                   |
| `fileUri`           | `string`                            | The local URI of the file to download to. If there is no file at this URI, a new one is created. If there is a file at this URI, its contents are replaced. The directory for the file must exist. |
| `options`(optional) | [DownloadOptions](#downloadoptions) | A map of download options represented by [`DownloadOptions`](#downloadoptions) type. Default: `{}`                                                                                                 |

Download the contents at a remote URI to a file in the app's file system. The directory for a local file uri must exist prior to calling this function.

Returns: `Promise<filesystemdownloadresult>`

Returns a Promise that resolves to a `FileSystemDownloadResult` object.

Example

```js
FileSystem.downloadAsync(
  "http://techslides.com/demos/sample-videos/small.mp4",
  FileSystem.documentDirectory + "small.mp4",
)
  .then(({ uri }) => {
    console.log("Finished downloading to ", uri);
  })
  .catch(error => {
    console.error(error);
  });
```

### `FileSystem Legacy.getContentUriAsync(fileUri)`

Supported platforms: Android.

| Parameter | Type     | Description                                                                              |
| --------- | -------- | ---------------------------------------------------------------------------------------- |
| `fileUri` | `string` | The local URI of the file. If there is no file at this URI, an exception will be thrown. |

Takes a `file://` URI and converts it into content URI (`content://`) so that it can be accessed by other applications outside of Expo.

Returns: `Promise<string>`

Returns a Promise that resolves to a `string` containing a `content://` URI pointing to the file. The URI is the same as the `fileUri` input parameter but in a different format.

Example

```js
FileSystem.getContentUriAsync(uri).then(cUri => {
  console.log(cUri);
  IntentLauncher.startActivityAsync("android.intent.action.VIEW", {
    data: cUri,
    flags: 1,
  });
});
```

### `FileSystem Legacy.getFreeDiskStorageAsync()`

Supported platforms: Android, iOS, tvOS.

Gets the available internal disk storage size, in bytes. This returns the free space on the data partition that hosts all of the internal storage for all apps on the device.

Returns: `Promise<number>`

Returns a Promise that resolves to the number of bytes available on the internal disk.

### `FileSystem Legacy.getInfoAsync(fileUri, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                        | Description                                                                        |
| ------------------- | --------------------------- | ---------------------------------------------------------------------------------- |
| `fileUri`           | `string`                    | URI to the file or directory. See [supported URI schemes](#supported-uri-schemes). |
| `options`(optional) | [InfoOptions](#infooptions) | A map of options represented by [`InfoOptions`](#infooptions) type. Default: `{}`  |

Get metadata information about a file, directory or external content/asset.

Returns: `Promise<fileinfo>`

A Promise that resolves to a `FileInfo` object. If no item exists at this URI, the returned Promise resolves to `FileInfo` object in form of `{ exists: false, isDirectory: false }`.

### `FileSystem Legacy.getTotalDiskCapacityAsync()`

Supported platforms: Android, iOS, tvOS.

Gets total internal disk storage size, in bytes. This is the total capacity of the data partition that hosts all the internal storage for all apps on the device.

Returns: `Promise<number>`

Returns a Promise that resolves to a number that specifies the total internal disk storage capacity in bytes.

### `FileSystem Legacy.makeDirectoryAsync(fileUri, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                   | Description                                                                                                          |
| ------------------- | ---------------------- | -------------------------------------------------------------------------------------------------------------------- |
| `fileUri`           | `string`               | `file://` URI to the new directory to create.                                                                        |
| `options`(optional) | `MakeDirectoryOptions` | A map of create directory options represented by [`MakeDirectoryOptions`](#makedirectoryoptions) type. Default: `{}` |

Create a new empty directory.

Returns: `Promise<void>`

### `FileSystem Legacy.moveAsync(options)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type                | Description                                                                          |
| --------- | ------------------- | ------------------------------------------------------------------------------------ |
| `options` | `RelocatingOptions` | A map of move options represented by [`RelocatingOptions`](#relocatingoptions) type. |

Move a file or directory to a new location.

Returns: `Promise<void>`

### `FileSystem Legacy.readAsStringAsync(fileUri, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type             | Description                                                                                  |
| ------------------- | ---------------- | -------------------------------------------------------------------------------------------- |
| `fileUri`           | `string`         | `file://` or [SAF](#saf-uri) URI to the file or directory.                                   |
| `options`(optional) | `ReadingOptions` | A map of read options represented by [`ReadingOptions`](#readingoptions) type. Default: `{}` |

Read the entire contents of a file as a string. Binary will be returned in raw format, you will need to append `data:image/png;base64,` to use it as Base64.

Returns: `Promise<string>`

A Promise that resolves to a string containing the entire contents of the file.

### `FileSystem Legacy.readDirectoryAsync(fileUri)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type     | Description                     |
| --------- | -------- | ------------------------------- |
| `fileUri` | `string` | `file://` URI to the directory. |

Enumerate the contents of a directory.

Returns: `Promise<string[]>`

A Promise that resolves to an array of strings, each containing the name of a file or directory contained in the directory at `fileUri`.

### `FileSystem Legacy.uploadAsync(url, fileUri, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                      | Description                                                                                                        |
| ------------------- | ------------------------- | ------------------------------------------------------------------------------------------------------------------ |
| `url`               | `string`                  | The remote URL, where the file will be sent.                                                                       |
| `fileUri`           | `string`                  | The local URI of the file to send. The file must exist.                                                            |
| `options`(optional) | `FileSystemUploadOptions` | A map of download options represented by [`FileSystemUploadOptions`](#filesystemuploadoptions) type. Default: `{}` |

Upload the contents of the file pointed by `fileUri` to the remote url.

Returns: `Promise<filesystemuploadresult>`

Returns a Promise that resolves to `FileSystemUploadResult` object.

Example

**Client**

```js
import * as FileSystem from "expo-file-system/legacy";

try {
  const response = await FileSystem.uploadAsync(
    `http://192.168.0.1:1234/binary-upload`,
    fileUri,
    {
      fieldName: "file",
      httpMethod: "PATCH",
      uploadType: FileSystem.FileSystemUploadType.BINARY_CONTENT,
    },
  );
  console.log(JSON.stringify(response, null, 4));
} catch (error) {
  console.log(error);
}
```

**Server**

Refer to the "[Server: Handling multipart requests](#server-handling-multipart-requests)" example - there is code for a simple Node.js server.

### `FileSystem Legacy.writeAsStringAsync(fileUri, contents, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type             | Description                                                                                                                                      |
| ------------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| `fileUri`           | `string`         | `file://` or [SAF](#saf-uri) URI to the file or directory. Note: when you're using SAF URI the file needs to exist. You can't create a new file. |
| `contents`          | `string`         | The string to replace the contents of the file with.                                                                                             |
| `options`(optional) | `WritingOptions` | A map of write options represented by [`WritingOptions`](#writingoptions) type. Default: `{}`                                                    |

Write the entire contents of a file as a string.

Returns: `Promise<void>`

## Namespaces

### `StorageAccessFramework`

Supported platforms: Android.

The `StorageAccessFramework` is a namespace inside of the `expo-file-system` module, which encapsulates all functions which can be used with [SAF URIs](#saf-uri). You can read more about SAF in the [Android documentation](https://developer.android.com/guide/topics/providers/document-provider).

Example

#### Basic Usage

```ts
import { StorageAccessFramework } from "expo-file-system";

// Requests permissions for external directory
const permissions =
  await StorageAccessFramework.requestDirectoryPermissionsAsync();

if (permissions.granted) {
  // Gets SAF URI from response
  const uri = permissions.directoryUri;

  // Gets all files inside of selected directory
  const files = await StorageAccessFramework.readDirectoryAsync(uri);
  alert(`Files inside ${uri}:\n\n${JSON.stringify(files)}`);
}
```

#### Migrating an album

```ts
import * as FileSystem from "expo-file-system/legacy";
import * as MediaLibrary from "expo-media-library";
const { StorageAccessFramework } = FileSystem;

async function migrateAlbum(albumName: string) {
  // Gets SAF URI to the album
  const albumUri = StorageAccessFramework.getUriForDirectoryInRoot(albumName);

  // Requests permissions
  const permissions =
    await StorageAccessFramework.requestDirectoryPermissionsAsync(albumUri);
  if (!permissions.granted) {
    return;
  }

  const permittedUri = permissions.directoryUri;
  // Checks if users selected the correct folder
  if (!permittedUri.includes(albumName)) {
    return;
  }

  const mediaLibraryPermissions = await MediaLibrary.requestPermissionsAsync();
  if (!mediaLibraryPermissions.granted) {
    return;
  }

  // Moves files from external storage to internal storage
  await StorageAccessFramework.moveAsync({
    from: permittedUri,
    to: FileSystem.documentDirectory!,
  });

  const outputDir = FileSystem.documentDirectory! + albumName;
  const migratedFiles = await FileSystem.readDirectoryAsync(outputDir);

  // Creates assets from local files
  const [newAlbumCreator, ...assets] = await Promise.all(
    migratedFiles.map<Promise<MediaLibrary.Asset>>(
      async fileName =>
        await MediaLibrary.createAssetAsync(outputDir + "/" + fileName),
    ),
  );

  // Album was empty
  if (!newAlbumCreator) {
    return;
  }

  // Creates a new album in the scoped directory
  const newAlbum = await MediaLibrary.createAlbumAsync(
    albumName,
    newAlbumCreator,
    false,
  );
  if (assets.length) {
    await MediaLibrary.addAssetsToAlbumAsync(assets, newAlbum, false);
  }
}
```

StorageAccessFramework Methods

### `copyAsync(options)`

Supported platforms: Android.

| Parameter | Type                | Description                                                                          |
| --------- | ------------------- | ------------------------------------------------------------------------------------ |
| `options` | `RelocatingOptions` | A map of move options represented by [`RelocatingOptions`](#relocatingoptions) type. |

Alias for [`copyAsync`](#filesystemcopyasyncoptions) method.

Returns: `Promise<void>`

### `createFileAsync(parentUri, fileName, mimeType)`

Supported platforms: Android.

| Parameter   | Type     | Description                                      |
| ----------- | -------- | ------------------------------------------------ |
| `parentUri` | `string` | The [SAF](#saf-uri) URI to the parent directory. |
| `fileName`  | `string` | The name of new file **without the extension**.  |
| `mimeType`  | `string` | The MIME type of new file.                       |

Creates a new empty file.

Returns: `Promise<string>`

A Promise that resolves to a [SAF URI](#saf-uri) to the created file.

### `deleteAsync(fileUri, options)`

Supported platforms: Android.

| Parameter           | Type              | Description                                                                                     |
| ------------------- | ----------------- | ----------------------------------------------------------------------------------------------- |
| `fileUri`           | `string`          | `file://` or [SAF](#saf-uri) URI to the file or directory.                                      |
| `options`(optional) | `DeletingOptions` | A map of write options represented by [`DeletingOptions`](#deletingoptions) type. Default: `{}` |

Alias for [`deleteAsync`](#filesystemdeleteasyncfileuri-options) method.

Returns: `Promise<void>`

### `getUriForDirectoryInRoot(folderName)`

Supported platforms: Android.

| Parameter    | Type     | Description                                                            |
| ------------ | -------- | ---------------------------------------------------------------------- |
| `folderName` | `string` | The name of the folder which is located in the Android root directory. |

Gets a [SAF URI](#saf-uri) pointing to a folder in the Android root directory. You can use this function to get URI for `StorageAccessFramework.requestDirectoryPermissionsAsync()` when you trying to migrate an album. In that case, the name of the album is the folder name.

Returns: `string`

Returns a [SAF URI](#saf-uri) to a folder.

### `makeDirectoryAsync(parentUri, dirName)`

Supported platforms: Android.

| Parameter   | Type     | Description                                      |
| ----------- | -------- | ------------------------------------------------ |
| `parentUri` | `string` | The [SAF](#saf-uri) URI to the parent directory. |
| `dirName`   | `string` | The name of new directory.                       |

Creates a new empty directory.

Returns: `Promise<string>`

A Promise that resolves to a [SAF URI](#saf-uri) to the created directory.

### `moveAsync(options)`

Supported platforms: Android.

| Parameter | Type                | Description                                                                          |
| --------- | ------------------- | ------------------------------------------------------------------------------------ |
| `options` | `RelocatingOptions` | A map of move options represented by [`RelocatingOptions`](#relocatingoptions) type. |

Alias for [`moveAsync`](#filesystemmoveasyncoptions) method.

Returns: `Promise<void>`

### `readAsStringAsync(fileUri, options)`

Supported platforms: Android.

| Parameter           | Type             | Description                                                                                  |
| ------------------- | ---------------- | -------------------------------------------------------------------------------------------- |
| `fileUri`           | `string`         | `file://` or [SAF](#saf-uri) URI to the file or directory.                                   |
| `options`(optional) | `ReadingOptions` | A map of read options represented by [`ReadingOptions`](#readingoptions) type. Default: `{}` |

Alias for [`readAsStringAsync`](#filesystemreadasstringasyncfileuri-options) method.

Returns: `Promise<string>`

A Promise that resolves to a string containing the entire contents of the file.

### `readDirectoryAsync(dirUri)`

Supported platforms: Android.

| Parameter | Type     | Description                           |
| --------- | -------- | ------------------------------------- |
| `dirUri`  | `string` | [SAF](#saf-uri) URI to the directory. |

Enumerate the contents of a directory.

Returns: `Promise<string[]>`

A Promise that resolves to an array of strings, each containing the full [SAF URI](#saf-uri) of a file or directory contained in the directory at `fileUri`.

### `requestDirectoryPermissionsAsync(initialFileUrl)`

Supported platforms: Android 11+.

| Parameter                  | Type  | Description |
| -------------------------- | ----- | ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `initialFileUrl`(optional) | `null | string`     | The [SAF URI](#saf-uri) of the directory that the file picker should display when it first loads. If URI is incorrect or points to a non-existing folder, it's ignored. Default: `null` |

Allows users to select a specific directory, granting your app access to all of the files and sub-directories within that directory.

Returns: `Promise<filesystemrequestdirectorypermissionsresult>`

Returns a Promise that resolves to `FileSystemRequestDirectoryPermissionsResult` object.

### `writeAsStringAsync(fileUri, contents, options)`

Supported platforms: Android.

| Parameter           | Type             | Description                                                                                                                                      |
| ------------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| `fileUri`           | `string`         | `file://` or [SAF](#saf-uri) URI to the file or directory. Note: when you're using SAF URI the file needs to exist. You can't create a new file. |
| `contents`          | `string`         | The string to replace the contents of the file with.                                                                                             |
| `options`(optional) | `WritingOptions` | A map of write options represented by [`WritingOptions`](#writingoptions) type. Default: `{}`                                                    |

Alias for [`writeAsStringAsync`](#filesystemwriteasstringasyncfileuri-contents-options) method.

Returns: `Promise<void>`

## Types

### `DeletingOptions`

Supported platforms: Android, iOS, tvOS.

| Property             | Type      | Description                                                                                    |
| -------------------- | --------- | ---------------------------------------------------------------------------------------------- |
| idempotent(optional) | `boolean` | If `true`, don't throw an error if there is no file or directory at this URI. Default: `false` |

### `DownloadOptions`

Supported platforms: Android, iOS, tvOS.

| Property              | Type                                            | Description                                                                                                                                                                                                             |
| --------------------- | ----------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| cache(optional)       | `boolean`                                       | -                                                                                                                                                                                                                       |
| headers(optional)     | `Record<string, string>`                        | An object containing all the HTTP header fields and their values for the download network request. The keys and values of the object are the header names and values respectively.                                      |
| md5(optional)         | `boolean`                                       | If `true`, include the MD5 hash of the file in the returned object. Provided for convenience since it is common to check the integrity of a file immediately after downloading. Default: `false`                        |
| sessionType(optional) | [FileSystemSessionType](#filesystemsessiontype) | Supported platforms: iOS. A session type. Determines if tasks can be handled in the background. On Android, sessions always work in the background and you can't change it. Default: `FileSystemSessionType.BACKGROUND` |

### `DownloadPauseState`

Supported platforms: Android, iOS, tvOS.

| Property             | Type                                | Description                                                                                                                                                 |
| -------------------- | ----------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| fileUri              | `string`                            | The local URI of the file to download to. If there is no file at this URI, a new one is created. If there is a file at this URI, its contents are replaced. |
| options              | [DownloadOptions](#downloadoptions) | Object representing the file download options.                                                                                                              |
| resumeData(optional) | `string`                            | The string which allows the API to resume a paused download.                                                                                                |
| url                  | `string`                            | The remote URI to download from.                                                                                                                            |

> **Deprecated:** use `FileSystemNetworkTaskProgressCallback<DownloadProgressData>` instead.

### `DownloadProgressCallback`

Supported platforms: Android, iOS, tvOS.

Type: `FileSystemNetworkTaskProgressCallback<DownloadProgressData>`

### `DownloadProgressData`

Supported platforms: Android, iOS, tvOS.

| Property                  | Type     | Description                                                                                                                                                                                                                                              |
| ------------------------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| totalBytesExpectedToWrite | `number` | The total bytes expected to be written by the download operation. A value of `-1` means that the server did not return the `Content-Length` header and the total size is unknown. Without this header, you won't be able to track the download progress. |
| totalBytesWritten         | `number` | The total bytes written by the download operation.                                                                                                                                                                                                       |

> **Deprecated:** Use `FileSystemDownloadResult` instead.

### `DownloadResult`

Supported platforms: Android, iOS, tvOS.

Type: `FileSystemDownloadResult`

### `FileInfo`

Supported platforms: Android, iOS, tvOS.

Type: `object` shaped as below:

| Property         | Type      | Description                                                                              |
| ---------------- | --------- | ---------------------------------------------------------------------------------------- |
| exists           | `true`    | Signifies that the requested file exist.                                                 |
| isDirectory      | `boolean` | Boolean set to `true` if this is a directory and `false` if it is a file.                |
| md5(optional)    | `string`  | Present if the `md5` option was truthy. Contains the MD5 hash of the file.               |
| modificationTime | `number`  | The last modification time of the file expressed in seconds since epoch.                 |
| size             | `number`  | The size of the file in bytes.                                                           |
| uri              | `string`  | A `file://` URI pointing to the file. This is the same as the `fileUri` input parameter. |

Or `object` shaped as below:

| Property    | Type     | Description |
| ----------- | -------- | ----------- |
| exists      | `false`  | -           |
| isDirectory | `false`  | -           |
| uri         | `string` | -           |

### `FileSystemAcceptedUploadHttpMethod`

Supported platforms: Android, iOS, tvOS.

Literal Type: `string`

Acceptable values are: `'POST'` | `'PUT'` | `'PATCH'`

### `FileSystemDownloadResult`

Supported platforms: Android, iOS, tvOS.

Type: [FileSystemHttpResult](#filesystemhttpresult) extended by:

| Property      | Type     | Description                                                                              |
| ------------- | -------- | ---------------------------------------------------------------------------------------- |
| md5(optional) | `string` | Present if the `md5` option was truthy. Contains the MD5 hash of the file.               |
| uri           | `string` | A `file://` URI pointing to the file. This is the same as the `fileUri` input parameter. |

### `FileSystemHttpResult`

Supported platforms: Android, iOS, tvOS.

| Property | Type                     | Description                                                                                                                                                                                 |
| -------- | ------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --- |
| headers  | `Record<string, string>` | An object containing all the HTTP response header fields and their values for the download network request. The keys and values of the object are the header names and values respectively. |
| mimeType | `string                  | null`                                                                                                                                                                                       | -   |
| status   | `number`                 | The HTTP response status code for the download network request.                                                                                                                             |

### `FileSystemNetworkTaskProgressCallback(data)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type |
| --------- | ---- |
| `data`    | `T`  |

Returns:

`void`

### `FileSystemRequestDirectoryPermissionsResult`

Supported platforms: Android, iOS, tvOS.

Type: `object` shaped as below:

| Property | Type    | Description |
| -------- | ------- | ----------- |
| granted  | `false` | -           |

Or `object` shaped as below:

| Property     | Type     | Description                                                                                           |
| ------------ | -------- | ----------------------------------------------------------------------------------------------------- |
| directoryUri | `string` | The [SAF URI](#saf-uri) to the user's selected directory. Available only if permissions were granted. |
| granted      | `true`   | -                                                                                                     |

### `FileSystemUploadOptions`

Supported platforms: Android, iOS, tvOS.

Type: [UploadOptionsBinary](#uploadoptionsbinary) | [UploadOptionsMultipart](#uploadoptionsmultipart) extended by:

| Property              | Type                                                                      | Description                                                                                                                                                                                                             |
| --------------------- | ------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| headers(optional)     | `Record<string, string>`                                                  | An object containing all the HTTP header fields and their values for the upload network request. The keys and values of the object are the header names and values respectively.                                        |
| httpMethod(optional)  | [FileSystemAcceptedUploadHttpMethod](#filesystemaccepteduploadhttpmethod) | The request method. Default: `FileSystemAcceptedUploadHttpMethod.POST`                                                                                                                                                  |
| sessionType(optional) | [FileSystemSessionType](#filesystemsessiontype)                           | Supported platforms: iOS. A session type. Determines if tasks can be handled in the background. On Android, sessions always work in the background and you can't change it. Default: `FileSystemSessionType.BACKGROUND` |

### `FileSystemUploadResult`

Supported platforms: Android, iOS, tvOS.

Type: [FileSystemHttpResult](#filesystemhttpresult) extended by:

| Property | Type     | Description                      |
| -------- | -------- | -------------------------------- |
| body     | `string` | The body of the server response. |

### `InfoOptions`

Supported platforms: Android, iOS, tvOS.

| Property      | Type      | Description                                                  |
| ------------- | --------- | ------------------------------------------------------------ |
| md5(optional) | `boolean` | Whether to return the MD5 hash of the file. Default: `false` |

### `MakeDirectoryOptions`

Supported platforms: Android, iOS, tvOS.

| Property                | Type      | Description                                                                                    |
| ----------------------- | --------- | ---------------------------------------------------------------------------------------------- |
| intermediates(optional) | `boolean` | If `true`, don't throw an error if there is no file or directory at this URI. Default: `false` |

### `ProgressEvent`

Supported platforms: Android, iOS, tvOS.

| Property | Type     | Description |
| -------- | -------- | ----------- |
| data     | `T`      | -           |
| uuid     | `string` | -           |

### `ReadingOptions`

Supported platforms: Android, iOS, tvOS.

| Property           | Type                          | Description                                                                                                                           |
| ------------------ | ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------- | -------- | ------------------------------------------------------------------------------ |
| encoding(optional) | [EncodingType](#encodingtype) | 'utf8'                                                                                                                                | 'base64' | The encoding format to use when reading the file. Default: `EncodingType.UTF8` |
| length(optional)   | `number`                      | Optional number of bytes to read. This option is only used when `encoding: FileSystem.EncodingType.Base64` and `position` is defined. |
| position(optional) | `number`                      | Optional number of bytes to skip. This option is only used when `encoding: FileSystem.EncodingType.Base64` and `length` is defined.   |

### `RelocatingOptions`

Supported platforms: Android, iOS, tvOS.

| Property | Type     | Description                                                                                                       |
| -------- | -------- | ----------------------------------------------------------------------------------------------------------------- |
| from     | `string` | URI or [SAF](#saf-uri) URI to the asset, file, or directory. See [supported URI schemes](#supported-uri-schemes). |
| to       | `string` | `file://` URI to the file or directory which should be its new location.                                          |

### `UploadOptionsBinary`

Supported platforms: Android, iOS, tvOS.

Upload options when upload type is set to binary.

| Property             | Type                                          | Description                                                                                                          |
| -------------------- | --------------------------------------------- | -------------------------------------------------------------------------------------------------------------------- |
| uploadType(optional) | [FileSystemUploadType](#filesystemuploadtype) | Upload type determines how the file will be sent to the server. Value will be `FileSystemUploadType.BINARY_CONTENT`. |

### `UploadOptionsMultipart`

Supported platforms: Android, iOS, tvOS.

Upload options when upload type is set to multipart.

| Property             | Type                                          | Description                                                                                                     |
| -------------------- | --------------------------------------------- | --------------------------------------------------------------------------------------------------------------- |
| fieldName(optional)  | `string`                                      | The name of the field which will hold uploaded file. Defaults to the file name without an extension.            |
| mimeType(optional)   | `string`                                      | The MIME type of the provided file. If not provided, the module will try to guess it based on the extension.    |
| parameters(optional) | `Record<string, string>`                      | Additional form properties. They will be located in the request body.                                           |
| uploadType           | [FileSystemUploadType](#filesystemuploadtype) | Upload type determines how the file will be sent to the server. Value will be `FileSystemUploadType.MULTIPART`. |

### `UploadProgressData`

Supported platforms: Android, iOS, tvOS.

| Property                 | Type     | Description                                                  |
| ------------------------ | -------- | ------------------------------------------------------------ |
| totalBytesExpectedToSend | `number` | The total bytes expected to be sent by the upload operation. |
| totalBytesSent           | `number` | The total bytes sent by the upload operation.                |

### `WritingOptions`

Supported platforms: Android, iOS, tvOS.

| Property           | Type                          | Description |
| ------------------ | ----------------------------- | ----------- | -------- | ----------------------------------------------------------------------------------------- |
| encoding(optional) | [EncodingType](#encodingtype) | 'utf8'      | 'base64' | The encoding format to use when writing the file. Default: `FileSystem.EncodingType.UTF8` |

## Enums

### `EncodingType`

Supported platforms: Android, iOS, tvOS.

These values can be used to define how file system data is read / written.

#### `Base64`

`EncodingType.Base64 = "base64"`

Binary, radix-64 representation.

#### `UTF8`

`EncodingType.UTF8 = "utf8"`

Standard encoding format.

### `FileSystemSessionType`

Supported platforms: iOS.

These values can be used to define how sessions work on iOS.

#### `BACKGROUND`

`FileSystemSessionType.BACKGROUND = 0`

Using this mode means that the downloading/uploading session on the native side will work even if the application is moved to background. If the task completes while the application is in background, the Promise will be either resolved immediately or (if the application execution has already been stopped) once the app is moved to foreground again.

> Note: The background session doesn't fail if the server or your connection is down. Rather, it continues retrying until the task succeeds or is canceled manually.

#### `FOREGROUND`

`FileSystemSessionType.FOREGROUND = 1`

Using this mode means that downloading/uploading session on the native side will be terminated once the application becomes inactive (e.g. when it goes to background). Bringing the application to foreground again would trigger Promise rejection.

### `FileSystemUploadType`

Supported platforms: Android, iOS, tvOS.

#### `BINARY_CONTENT`

`FileSystemUploadType.BINARY_CONTENT = 0`

The file will be sent as a request's body. The request can't contain additional data.

#### `MULTIPART`

`FileSystemUploadType.MULTIPART = 1`

An [RFC 2387-compliant](https://www.ietf.org/rfc/rfc2387.txt) request body. The provided file will be encoded into HTTP request. This request can contain additional data represented by [`UploadOptionsMultipart`](#uploadoptionsmultipart) type.

## Supported URI schemes

In this table, you can see what type of URI can be handled by each method. For example, if you have an URI, which begins with `content://`, you cannot use `FileSystem.readAsStringAsync()`, but you can use `FileSystem.copyAsync()` which supports this scheme.

| Method name               | Android                                                                                                                            | iOS                                                               |
| ------------------------- | ---------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------- |
| `getInfoAsync`            | `file:///`,`content://`,`asset://`,no scheme                                                                                       | `file://`,`ph://`,`assets-library://`                             |
| `readAsStringAsync`       | `file:///`,`asset://`,[SAF URI](/versions/latest/sdk/filesystem-legacy#saf-uri)                                                    | `file://`                                                         |
| `writeAsStringAsync`      | `file:///`,[SAF URI](/versions/latest/sdk/filesystem-legacy#saf-uri)                                                               | `file://`                                                         |
| `deleteAsync`             | `file:///`,[SAF URI](/versions/latest/sdk/filesystem-legacy#saf-uri)                                                               | `file://`                                                         |
| `moveAsync`               | Source:`file:///`,[SAF URI](/versions/latest/sdk/filesystem-legacy#saf-uri)Destination:`file://`                                   | Source:`file://`Destination:`file://`                             |
| `copyAsync`               | Source:`file:///`,`content://`,`asset://`,[SAF URI](/versions/latest/sdk/filesystem-legacy#saf-uri),no schemeDestination:`file://` | Source:`file://`,`ph://`,`assets-library://`Destination:`file://` |
| `makeDirectoryAsync`      | `file:///`                                                                                                                         | `file://`                                                         |
| `readDirectoryAsync`      | `file:///`                                                                                                                         | `file://`                                                         |
| `downloadAsync`           | Source:`http://`,`https://`Destination:`file:///`                                                                                  | Source:`http://`,`https://`Destination:`file://`                  |
| `uploadAsync`             | Source:`file:///`Destination:`http://``https://`                                                                                   | Source:`file://`Destination:`http://``https://`                   |
| `createDownloadResumable` | Source:`http://`,`https://`Destination:`file:///`                                                                                  | Source:`http://`,`https://`Destination:`file://`                  |

> On Android **no scheme** defaults to a bundled resource.

## Permissions

### Android

The following permissions are added automatically through this library's **AndroidManifest.xml**.

| Android Permission       | Description                                          |
| ------------------------ | ---------------------------------------------------- |
| `READ_EXTERNAL_STORAGE`  | Allows an application to read from external storage. |
| `WRITE_EXTERNAL_STORAGE` | Allows an application to write to external storage.  |
| `INTERNET`               | Allows applications to open network sockets.         |

### iOS

_No permissions required_.

---

---

title: FileSystem
description: A library that provides access to the local file system on the device.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-file-system'
packageName: 'expo-file-system'
iconUrl: '/static/images/packages/expo-file-system.png'
platforms: ['android', 'ios', 'tvos', 'expo-go']
isNew: true

---

# Expo FileSystem

A library that provides access to the local file system on the device.
Android, iOS, tvOS, Included in Expo Go

`expo-file-system` provides access to files and directories stored on a device or bundled as assets into the native project. It also allows downloading files from the network.

## Installation

```sh
npx expo install expo-file-system
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```js
import { File, Directory, Paths } from "expo-file-system";
```

The `File` and `Directory` instances hold a reference to a file, content, or asset URI.

The file or directory does not need to exist â€” an error will be thrown from the constructor only if the wrong class is used to represent an existing path (so if you try to create a `File` instance passing a path to an already existing directory).

## Features

- Both synchronous and asynchronous, read and write access to file contents
- Creation, modification and deletion
- Available properties, such as `type`, `size`, `creationDate`, and more
- Ability to read and write files as streams or using the `FileHandle` class
- Easy file download/upload using `downloadFileAsync` or `expo/fetch`

## Examples

Writing and reading text files

```ts
import { File, Paths } from "expo-file-system";

try {
  const file = new File(Paths.cache, "example.txt");
  file.create(); // can throw an error if the file already exists or no permission to create it
  file.write("Hello, world!");
  console.log(file.textSync()); // Hello, world!
} catch (error) {
  console.error(error);
}
```

Picking files using system pickers

Usage with `expo-document-picker`:

```ts
import * as DocumentPicker from "expo-document-picker";
import { File } from "expo-file-system";

try {
  const result = await DocumentPicker.getDocumentAsync({
    copyToCacheDirectory: true,
  });
  const file = new File(result.assets[0]);
  console.log(file.textSync());
} catch (error) {
  console.error(error);
}
```

Using the built-in `pickFileAsync` or `pickDirectoryAsync` method on Android:

```ts
import { File } from "expo-file-system";

try {
  const file = new File.pickFileAsync();
  console.log(file.textSync());
} catch (error) {
  console.error(error);
}
```

Downloading files

Using `downloadFileAsync`:

```ts
import { Directory, File, Paths } from "expo-file-system";

const url = "https://pdfobject.com/pdf/sample.pdf";
const destination = new Directory(Paths.cache, "pdfs");
try {
  destination.create();
  const output = await File.downloadFileAsync(url, destination);
  console.log(output.exists); // true
  console.log(output.uri); // path to the downloaded file, e.g., '${cacheDirectory}/pdfs/sample.pdf'
} catch (error) {
  console.error(error);
}
```

Or using `expo/fetch`:

```ts
import { File, Paths } from "expo-file-system";
import { fetch } from "expo/fetch";

const url = "https://pdfobject.com/pdf/sample.pdf";
const response = await fetch(url);
const src = new File(Paths.cache, "file.pdf");
src.write(await response.bytes());
```

Uploading files using `expo/fetch`

You can upload files as blobs directly with `fetch` built into the Expo package:

```ts
import { File, Paths } from "expo-file-system";
import { fetch } from "expo/fetch";

const file = new File(Paths.cache, "file.txt");
file.write("Hello, world!");

const response = await fetch("https://example.com", {
  method: "POST",
  body: file,
});
```

Or using the `FormData` constructor:

```ts
import { File, Paths } from "expo-file-system";
import { fetch } from "expo/fetch";

const file = new File(Paths.cache, "file.txt");
file.write("Hello, world!");
const formData = new FormData();
formData.append("data", file);
const response = await fetch("https://example.com", {
  method: "POST",
  body: formData,
});
```

Moving and copying files

```ts
import { Directory, File, Paths } from "expo-file-system";
try {
  const file = new File(Paths.document, "example.txt");
  file.create();
  console.log(file.uri); // '${documentDirectory}/example.txt'
  const copiedFile = new File(Paths.cache, "example-copy.txt");
  file.copy(copiedFile);
  console.log(copiedFile.uri); // '${cacheDirectory}/example-copy.txt'
  file.move(Paths.cache);
  console.log(file.uri); // '${cacheDirectory}/example.txt'
  file.move(new Directory(Paths.cache, "newFolder"));
  console.log(file.uri); // '${cacheDirectory}/newFolder/example.txt'
} catch (error) {
  console.error(error);
}
```

Using legacy FileSystem API

```ts
import * as FileSystem from "expo-file-system/legacy";
import { File, Paths } from "expo-file-system";

try {
  const file = new File(Paths.cache, "example.txt");
  const content = await FileSystem.readAsStringAsync(file.uri);
  console.log(content);
} catch (error) {
  console.error(error);
}
```

Listing directory contents recursively

```ts
import { Directory, Paths } from "expo-file-system";

function printDirectory(directory: Directory, indent: number = 0) {
  console.log(`${" ".repeat(indent)} + ${directory.name}`);
  const contents = directory.list();
  for (const item of contents) {
    if (item instanceof Directory) {
      printDirectory(item, indent + 2);
    } else {
      console.log(
        `${" ".repeat(indent + 2)} - ${item.name} (${item.size} bytes)`,
      );
    }
  }
}

try {
  printDirectory(new Directory(Paths.cache));
} catch (error) {
  console.error(error);
}
```

## API

## Classes

### `Directory`

Supported platforms: Android, iOS, tvOS.

Type: Class extends `FileSystemDirectory`

Represents a directory on the filesystem.

A `Directory` instance can be created for any path, and does not need to exist on the filesystem during creation.

The constructor accepts an array of strings that are joined to create the directory URI. The first argument can also be a `Directory` instance (like `Paths.cache`).

Example

```ts
const directory = new Directory(Paths.cache, "subdirName");
```

Directory Properties

### `exists`

Supported platforms: Android, iOS, tvOS.

Type: `boolean`

A boolean representing if a directory exists and can be accessed.

### `size`

Supported platforms: Android, iOS, tvOS.

Literal type: `union`

A size of the directory in bytes. Null if the directory does not exist, or it cannot be read.

Acceptable values are: `null` | `number`

### `uri`

Supported platforms: Android, iOS, tvOS.

Read Onlyâ€ƒâ€¢â€ƒType: `string`

Represents the directory URI. The field is read-only, but it may change as a result of calling some methods such as `move`.

### `name`

Supported platforms: Android, iOS, tvOS.

Type: `string`

Directory name.

### `parentDirectory`

Supported platforms: Android, iOS, tvOS.

Type: [Directory](#directory)

Directory containing the file.

Directory Methods

### `copy(destination)`

Supported platforms: Android, iOS, tvOS.

| Parameter     | Type                    |
| ------------- | ----------------------- | ------------- |
| `destination` | [Directory](#directory) | [File](#file) |

Copies a directory.

Returns: `void`

### `create(options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                              |
| ------------------- | ------------------------------------------------- |
| `options`(optional) | [DirectoryCreateOptions](#directorycreateoptions) |

Creates a directory that the current uri points to.

Returns: `void`

### `createDirectory(name)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type     |
| --------- | -------- |
| `name`    | `string` |

Returns: `Directory`

### `createFile(name, mimeType)`

Supported platforms: Android, iOS, tvOS.

| Parameter  | Type     |
| ---------- | -------- | ------- |
| `name`     | `string` |
| `mimeType` | `null    | string` |

Returns: `File`

### `delete()`

Supported platforms: Android, iOS, tvOS.

Deletes a directory. Also deletes all files and directories inside the directory.

Returns: `void`

### `info()`

Supported platforms: Android, iOS, tvOS.

Retrieves an object containing properties of a directory.

Returns: `DirectoryInfo`

An object with directory metadata (for example, size, creation date, and so on).

### `list()`

Supported platforms: Android, iOS, tvOS.

Lists the contents of a directory. Calling this method if the parent directory does not exist will throw an error.

Returns: `(File | Directory)[]`

An array of `Directory` and `File` instances.

### `move(destination)`

Supported platforms: Android, iOS, tvOS.

| Parameter     | Type                    |
| ------------- | ----------------------- | ------------- |
| `destination` | [Directory](#directory) | [File](#file) |

Moves a directory. Updates the `uri` property that now points to the new location.

Returns: `void`

### `pickDirectoryAsync(initialUri)`

Supported platforms: Android, iOS, tvOS.

| Parameter              | Type     | Description                                                                            |
| ---------------------- | -------- | -------------------------------------------------------------------------------------- |
| `initialUri`(optional) | `string` | An optional uri pointing to an initial folder on which the directory picker is opened. |

A static method that opens a file picker to select a directory.

On iOS, the selected directory grants temporary read and write access for the current app session only. After the app restarts, you must prompt the user again to regain access.

Returns: `Promise<directory>`

a `Directory` instance. On Android, the underlying uri will be a content URI.

### `rename(newName)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type     |
| --------- | -------- |
| `newName` | `string` |

Renames a directory.

Returns: `void`

### `File`

Supported platforms: Android, iOS, tvOS.

Type: Class extends `FileSystemFile` implements [Blob](https://developer.mozilla.org/en-US/docs/Web/API/Blob)

Represents a file on the filesystem.

A `File` instance can be created for any path, and does not need to exist on the filesystem during creation.

The constructor accepts an array of strings that are joined to create the file URI. The first argument can also be a `Directory` instance (like `Paths.cache`) or a `File` instance (which creates a new reference to the same file).

Example

```ts
const file = new File(Paths.cache, "subdirName", "file.txt");
```

File Properties

### `creationTime`

Supported platforms: Android, iOS, tvOS.

Literal type: `union`

A creation time of the file expressed in milliseconds since epoch. Returns null if the file does not exist, cannot be read or the Android version is earlier than API 26.

Acceptable values are: `null` | `number`

### `exists`

Supported platforms: Android, iOS, tvOS.

Type: `boolean`

A boolean representing if a file exists. `true` if the file exists, `false` otherwise. Also, `false` if the application does not have read access to the file.

### `md5`

Supported platforms: Android, iOS, tvOS.

Literal type: `union`

A md5 hash of the file. Null if the file does not exist, or it cannot be read.

Acceptable values are: `null` | `string`

### `modificationTime`

Supported platforms: Android, iOS, tvOS.

Literal type: `union`

A last modification time of the file expressed in milliseconds since epoch. Returns a Null if the file does not exist, or it cannot be read.

Acceptable values are: `null` | `number`

### `size`

Supported platforms: Android, iOS, tvOS.

Type: `number`

A size of the file in bytes. 0 if the file does not exist, or it cannot be read.

### `type`

Supported platforms: Android, iOS, tvOS.

Type: `string`

A mime type of the file. An empty string if the file does not exist, or it cannot be read.

### `uri`

Supported platforms: Android, iOS, tvOS.

Read Onlyâ€ƒâ€¢â€ƒType: `string`

Represents the file URI. The field is read-only, but it may change as a result of calling some methods such as `move`.

### `extension`

Supported platforms: Android, iOS, tvOS.

Type: `string`

File extension.

Example

`'.png'`

### `name`

Supported platforms: Android, iOS, tvOS.

Type: `string`

File name. Includes the extension.

### `parentDirectory`

Supported platforms: Android, iOS, tvOS.

Type: [Directory](#directory)

Directory containing the file.

File Methods

### `arrayBuffer()`

Supported platforms: Android, iOS, tvOS.

The **`arrayBuffer()`** method of the Blob interface returns a Promise that resolves with the contents of the blob as binary data contained in an ArrayBuffer.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/arrayBuffer)

Returns: `Promise<arraybuffer>`

### `base64()`

Supported platforms: Android, iOS, tvOS.

Retrieves content of the file as base64.

Returns: `Promise<string>`

A promise that resolves with the contents of the file as a base64 string.

### `base64Sync()`

Supported platforms: Android, iOS, tvOS.

Retrieves content of the file as base64.

Returns: `string`

The contents of the file as a base64 string.

### `bytes()`

Supported platforms: Android, iOS, tvOS.

Retrieves byte content of the entire file.

Returns: `Promise<uint8array</uint8array`

A promise that resolves with the contents of the file as a `Uint8Array`.

### `bytesSync()`

Supported platforms: Android, iOS, tvOS.

Retrieves byte content of the entire file.

Returns: `Uint8Array`

The contents of the file as a `Uint8Array`.

### `copy(destination)`

Supported platforms: Android, iOS, tvOS.

| Parameter     | Type                    |
| ------------- | ----------------------- | ------------- |
| `destination` | [Directory](#directory) | [File](#file) |

Copies a file.

Returns: `void`

### `create(options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                    |
| ------------------- | --------------------------------------- |
| `options`(optional) | [FileCreateOptions](#filecreateoptions) |

Creates a file.

Returns: `void`

### `delete()`

Supported platforms: Android, iOS, tvOS.

Deletes a file.

Returns: `void`

### `downloadFileAsync(url, destination, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                | Description                                                                                                                                                                                                                                                      |
| ------------------- | ----------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------- |
| `url`               | `string`                            | The URL of the file to download.                                                                                                                                                                                                                                 |
| `destination`       | [Directory](#directory)             | [File](#file)                                                                                                                                                                                                                                                    | The destination directory or file. If a directory is provided, the resulting filename will be determined based on the response headers. |
| `options`(optional) | [DownloadOptions](#downloadoptions) | Download options. When the destination already contains a file, the promise rejects with a `DestinationAlreadyExists` error unless `options.idempotent` is set to `true`. With `idempotent: true`, the download overwrites the existing file instead of failing. |

A static method that downloads a file from the network.

On Android, the response body streams directly into the target file. If the download fails after it starts, a partially written file may remain at the destination. On iOS, the download first completes in a temporary location and the file is moved into place only after success, so no file is left behind when the request fails.

Returns: `Promise<file>`

A promise that resolves to the downloaded file. When the server responds with a non-2xx HTTP status, the promise rejects with an `UnableToDownload` error whose message includes the status code. No file is created in that scenario.

Example

```ts
const file = await File.downloadFileAsync(
  "https://example.com/image.png",
  new Directory(Paths.document),
);
```

### `info(options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                        |
| ------------------- | --------------------------- |
| `options`(optional) | [InfoOptions](#infooptions) |

Retrieves an object containing properties of a file

Returns: `FileInfo`

An object with file metadata (for example, size, creation date, and so on).

### `move(destination)`

Supported platforms: Android, iOS, tvOS.

| Parameter     | Type                    |
| ------------- | ----------------------- | ------------- |
| `destination` | [Directory](#directory) | [File](#file) |

Moves a directory. Updates the `uri` property that now points to the new location.

Returns: `void`

### `open()`

Supported platforms: Android, iOS, tvOS.

Returns A `FileHandle` object that can be used to read and write data to the file.

Returns: `FileHandle`

### `pickFileAsync(initialUri, mimeType)`

Supported platforms: Android, iOS, tvOS.

| Parameter              | Type     | Description                                                                       |
| ---------------------- | -------- | --------------------------------------------------------------------------------- |
| `initialUri`(optional) | `string` | An optional URI pointing to an initial folder on which the file picker is opened. |
| `mimeType`(optional)   | `string` | A mime type that is used to filter out files that can be picked out.              |

A static method that opens a file picker to select a single file of specified type. On iOS, it returns a temporary copy of the file leaving the original file untouched.

Selecting multiple files is not supported yet.

Returns: `Promise<file>`

A `File` instance or an array of `File` instances.

### `readableStream()`

Supported platforms: Android, iOS, tvOS.

Returns: `ReadableStream<uint8array</uint8array`

### `rename(newName)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type     |
| --------- | -------- |
| `newName` | `string` |

Renames a file.

Returns: `void`

### `slice(start, end, contentType)`

Supported platforms: Android, iOS, tvOS.

| Parameter               | Type     |
| ----------------------- | -------- |
| `start`(optional)       | `number` |
| `end`(optional)         | `number` |
| `contentType`(optional) | `string` |

The **`slice()`** method of the Blob interface creates and returns a new `Blob` object which contains data from a subset of the blob on which it's called.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/slice)

Returns: `Blob`

### `stream()`

Supported platforms: Android, iOS, tvOS.

The **`stream()`** method of the Blob interface returns a ReadableStream which upon reading returns the data contained within the `Blob`.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/Blob/stream)

Returns: `ReadableStream<uint8array</uint8array`

### `text()`

Supported platforms: Android, iOS, tvOS.

Retrieves text from the file.

Returns: `Promise<string>`

A promise that resolves with the contents of the file as string.

### `textSync()`

Supported platforms: Android, iOS, tvOS.

Retrieves text from the file.

Returns: `string`

The contents of the file as string.

### `writableStream()`

Supported platforms: Android, iOS, tvOS.

Returns: `WritableStream<uint8array>`

### `write(content)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type   | Description                                                                                               |
| --------- | ------ | --------------------------------------------------------------------------------------------------------- | ----------------------------------- |
| `content` | string | [Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array) | The content to write into the file. |

Writes content to the file.

Returns: `void`

### `FileHandle`

Supported platforms: Android, iOS, tvOS.

FileHandle Properties

### `offset`

Supported platforms: Android, iOS, tvOS.

Literal type: `union`

A property that indicates the current byte offset in the file. Calling `readBytes` or `writeBytes` will read or write a specified amount of bytes starting from this offset. The offset is incremented by the number of bytes read or written. The offset can be set to any value within the file size. If the offset is set to a value greater than the file size, the next write operation will append data to the end of the file. Null if the file handle is closed.

Acceptable values are: `null` | `number`

### `size`

Supported platforms: Android, iOS, tvOS.

Literal type: `union`

A size of the file in bytes or `null` if the file handle is closed.

Acceptable values are: `null` | `number`

FileHandle Methods

### `close()`

Supported platforms: Android, iOS, tvOS.

Closes the file handle. This allows the file to be deleted, moved or read by a different process. Subsequent calls to `readBytes` or `writeBytes` will throw an error.

Returns: `void`

### `readBytes(length)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type     | Description                  |
| --------- | -------- | ---------------------------- |
| `length`  | `number` | The number of bytes to read. |

Reads the specified amount of bytes from the file at the current offset.

Returns: `Uint8Array<arraybuffer>`

### `writeBytes(bytes)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type                                                                                                      | Description                                     |
| --------- | --------------------------------------------------------------------------------------------------------- | ----------------------------------------------- |
| `bytes`   | [Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array) | A `Uint8Array` array containing bytes to write. |

Writes the specified bytes to the file at the current offset.

Returns: `void`

### `Paths`

Supported platforms: Android, iOS, tvOS.

Type: Class extends `PathUtilities`

Paths Properties

### `appleSharedContainers`

Supported platforms: Android, iOS, tvOS.

Type: Record<string, [Directory](#directory)\>

### `availableDiskSpace`

Supported platforms: Android, iOS, tvOS.

Type: `number`

A property that represents the available space on device's internal storage, represented in bytes.

### `bundle`

Supported platforms: Android, iOS, tvOS.

Type: [Directory](#directory)

A property containing the bundle directory â€“ the directory where assets bundled with the application are stored.

### `cache`

Supported platforms: Android, iOS, tvOS.

Type: [Directory](#directory)

A property containing the cache directory â€“ a place to store files that can be deleted by the system when the device runs low on storage.

### `document`

Supported platforms: Android, iOS, tvOS.

Type: [Directory](#directory)

A property containing the document directory â€“ a place to store files that are safe from being deleted by the system.

### `totalDiskSpace`

Supported platforms: Android, iOS, tvOS.

Type: `number`

A property that represents the total space on device's internal storage, represented in bytes.

Paths Methods

### `basename(path, ext)`

Supported platforms: Android, iOS, tvOS.

| Parameter       | Type     | Description                 |
| --------------- | -------- | --------------------------- | ----------------------- | ----------------------------------- |
| `path`          | string   | [File](#file)               | [Directory](#directory) | The path to get the base name from. |
| `ext`(optional) | `string` | An optional file extension. |

Returns the base name of a path.

Returns: `string`

A string representing the base name.

### `dirname(path)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type   | Description   |
| --------- | ------ | ------------- | ----------------------- | ---------------------------------------- |
| `path`    | string | [File](#file) | [Directory](#directory) | The path to get the directory name from. |

Returns the directory name of a path.

Returns: `string`

A string representing the directory name.

### `extname(path)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type   | Description   |
| --------- | ------ | ------------- | ----------------------- | ----------------------------------- |
| `path`    | string | [File](#file) | [Directory](#directory) | The path to get the extension from. |

Returns the extension of a path.

Returns: `string`

A string representing the extension.

### `info(...uris)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type       |
| --------- | ---------- |
| `. .uris` | `string[]` |

Returns an object that indicates if the specified path represents a directory.

Returns: `PathInfo`

### `isAbsolute(path)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type   | Description   |
| --------- | ------ | ------------- | ----------------------- | ------------------ |
| `path`    | string | [File](#file) | [Directory](#directory) | The path to check. |

Checks if a path is absolute.

Returns: `boolean`

`true` if the path is absolute, `false` otherwise.

### `join(...paths)`

Supported platforms: Android, iOS, tvOS.

| Parameter  | Type    | Description   |
| ---------- | ------- | ------------- | -------------------------- | -------------------------- |
| `. .paths` | (string | [File](#file) | [Directory](#directory))[] | An array of path segments. |

Joins path segments into a single path.

Returns: `string`

A string representing the joined path.

### `normalize(path)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type   | Description   |
| --------- | ------ | ------------- | ----------------------- | ---------------------- |
| `path`    | string | [File](#file) | [Directory](#directory) | The path to normalize. |

Normalizes a path.

Returns: `string`

A string representing the normalized path.

### `parse(path)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type   | Description   |
| --------- | ------ | ------------- | ----------------------- | ------------------ |
| `path`    | string | [File](#file) | [Directory](#directory) | The path to parse. |

Parses a path into its components.

Returns: `{ base: string, dir: string, ext: string, name: string, root: string }`

An object containing the parsed path components.

### `relative(from, to)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type   | Description   |
| --------- | ------ | ------------- | ----------------------- | ------------------ |
| `from`    | string | [File](#file) | [Directory](#directory) | The base path.     |
| `to`      | string | [File](#file) | [Directory](#directory) | The relative path. |

Resolves a relative path to an absolute path.

Returns: `string`

A string representing the resolved path.

## Methods

> **Deprecated:** Use `new File().copy()` or import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.copyAsync(options)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type                |
| --------- | ------------------- |
| `options` | `RelocatingOptions` |

Returns: `Promise<void>`

> **Deprecated:** Import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.createDownloadResumable(uri, fileUri, options, callback, resumeData)`

Supported platforms: Android, iOS, tvOS.

| Parameter              | Type                                                          |
| ---------------------- | ------------------------------------------------------------- |
| `uri`                  | `string`                                                      |
| `fileUri`              | `string`                                                      |
| `options`(optional)    | [DownloadOptions](#downloadoptions)                           |
| `callback`(optional)   | `FileSystemNetworkTaskProgressCallback<DownloadProgressData>` |
| `resumeData`(optional) | `string`                                                      |

Returns: `any`

> **Deprecated:** Import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.createUploadTask(url, fileUri, options, callback)`

Supported platforms: Android, iOS, tvOS.

| Parameter            | Type                                                        |
| -------------------- | ----------------------------------------------------------- |
| `url`                | `string`                                                    |
| `fileUri`            | `string`                                                    |
| `options`(optional)  | `FileSystemUploadOptions`                                   |
| `callback`(optional) | `FileSystemNetworkTaskProgressCallback<UploadProgressData>` |

Returns: `any`

> **Deprecated:** Use `new File().delete()` or `new Directory().delete()` or import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.deleteAsync(fileUri, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type              |
| ------------------- | ----------------- |
| `fileUri`           | `string`          |
| `options`(optional) | `DeletingOptions` |

Returns: `Promise<void>`

> **Deprecated**

### `FileSystem.deleteLegacyDocumentDirectoryAndroid()`

Supported platforms: Android, iOS, tvOS.

Returns: `Promise<void>`

> **Deprecated:** Use `File.downloadFileAsync` or import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.downloadAsync(uri, fileUri, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                |
| ------------------- | ----------------------------------- |
| `uri`               | `string`                            |
| `fileUri`           | `string`                            |
| `options`(optional) | [DownloadOptions](#downloadoptions) |

Returns: `Promise<filesystemdownloadresult>`

> **Deprecated:** Import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.getContentUriAsync(fileUri)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type     |
| --------- | -------- |
| `fileUri` | `string` |

Returns: `Promise<string>`

> **Deprecated:** Use `Paths.availableDiskSpace` or import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.getFreeDiskStorageAsync()`

Supported platforms: Android, iOS, tvOS.

Returns: `Promise<number>`

> **Deprecated:** Use `new File().info` or import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.getInfoAsync(fileUri, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                        |
| ------------------- | --------------------------- |
| `fileUri`           | `string`                    |
| `options`(optional) | [InfoOptions](#infooptions) |

Returns: `Promise<fileinfo>`

> **Deprecated:** Use `Paths.totalDiskSpace` or import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.getTotalDiskCapacityAsync()`

Supported platforms: Android, iOS, tvOS.

Returns: `Promise<number>`

> **Deprecated:** Use `new Directory().create()` or import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.makeDirectoryAsync(fileUri, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                   |
| ------------------- | ---------------------- |
| `fileUri`           | `string`               |
| `options`(optional) | `MakeDirectoryOptions` |

Returns: `Promise<void>`

> **Deprecated:** Use `new File().move()` or import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.moveAsync(options)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type                |
| --------- | ------------------- |
| `options` | `RelocatingOptions` |

Returns: `Promise<void>`

> **Deprecated:** Use `new File().text()` or import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.readAsStringAsync(fileUri, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type             |
| ------------------- | ---------------- |
| `fileUri`           | `string`         |
| `options`(optional) | `ReadingOptions` |

Returns: `Promise<string>`

> **Deprecated:** Use `new Directory().list()` or import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.readDirectoryAsync(fileUri)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type     |
| --------- | -------- |
| `fileUri` | `string` |

Returns: `Promise<string[]>`

> **Deprecated:** Use `@expo/fetch` or import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.uploadAsync(url, fileUri, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                      |
| ------------------- | ------------------------- |
| `url`               | `string`                  |
| `fileUri`           | `string`                  |
| `options`(optional) | `FileSystemUploadOptions` |

Returns: `Promise<filesystemuploadresult>`

> **Deprecated:** Use `new File().write()` or import this method from `expo-file-system/legacy`. This method will throw in runtime.

### `FileSystem.writeAsStringAsync(fileUri, contents, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type             |
| ------------------- | ---------------- |
| `fileUri`           | `string`         |
| `contents`          | `string`         |
| `options`(optional) | `WritingOptions` |

Returns: `Promise<void>`

## Types

### `DirectoryCreateOptions`

Supported platforms: Android, iOS, tvOS.

| Property                | Type      | Description                                                                                                                                                                                                                                                                          |
| ----------------------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| idempotent(optional)    | `boolean` | This flag controls whether the `create` operation is idempotent (safe to call multiple times without error). If `true`, creating a file or directory that already exists will succeed silently. If `false`, an error will be thrown when the target already exists. Default: `false` |
| intermediates(optional) | `boolean` | Whether to create intermediate directories if they do not exist. Default: `false`                                                                                                                                                                                                    |
| overwrite(optional)     | `boolean` | Whether to overwrite the directory if it exists. Default: `false`                                                                                                                                                                                                                    |

### `DirectoryInfo`

Supported platforms: Android, iOS, tvOS.

| Property                   | Type       | Description                                                                                                                         |
| -------------------------- | ---------- | ----------------------------------------------------------------------------------------------------------------------------------- |
| creationTime(optional)     | `number`   | A creation time of the directory expressed in milliseconds since epoch. Returns null if the Android version is earlier than API 26. |
| exists                     | `boolean`  | Indicates whether the directory exists.                                                                                             |
| files(optional)            | `string[]` | A list of file names contained within a directory.                                                                                  |
| modificationTime(optional) | `number`   | The last modification time of the directory expressed in milliseconds since epoch.                                                  |
| size(optional)             | `number`   | The size of the file in bytes.                                                                                                      |
| uri(optional)              | `string`   | A `file://` URI pointing to the directory.                                                                                          |

### `DownloadOptions`

Supported platforms: Android, iOS, tvOS.

| Property             | Type        | Description                                                                                                                                                                                                                                                                        |
| -------------------- | ----------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| headers(optional)    | `undefined` | The headers to send with the request.                                                                                                                                                                                                                                              |
| idempotent(optional) | `boolean`   | This flag controls whether the `download` operation is idempotent (safe to call multiple times without error). If `true`, downloading a file that already exists overwrites the previous one. If `false`, an error is thrown when the target file already exists. Default: `false` |

### `FileCreateOptions`

Supported platforms: Android, iOS, tvOS.

| Property                | Type      | Description                                                                       |
| ----------------------- | --------- | --------------------------------------------------------------------------------- |
| intermediates(optional) | `boolean` | Whether to create intermediate directories if they do not exist. Default: `false` |
| overwrite(optional)     | `boolean` | Whether to overwrite the file if it exists. Default: `false`                      |

### `FileInfo`

Supported platforms: Android, iOS, tvOS.

| Property                   | Type      | Description                                                                                                                    |
| -------------------------- | --------- | ------------------------------------------------------------------------------------------------------------------------------ |
| creationTime(optional)     | `number`  | A creation time of the file expressed in milliseconds since epoch. Returns null if the Android version is earlier than API 26. |
| exists                     | `boolean` | Indicates whether the file exists.                                                                                             |
| md5(optional)              | `string`  | Present if the `md5` option was truthy. Contains the MD5 hash of the file.                                                     |
| modificationTime(optional) | `number`  | The last modification time of the file expressed in milliseconds since epoch.                                                  |
| size(optional)             | `number`  | The size of the file in bytes.                                                                                                 |
| uri(optional)              | `string`  | A `file://` URI pointing to the file. This is the same as the `fileUri` input parameter.                                       |

### `InfoOptions`

Supported platforms: Android, iOS, tvOS.

| Property      | Type      | Description                                                  |
| ------------- | --------- | ------------------------------------------------------------ |
| md5(optional) | `boolean` | Whether to return the MD5 hash of the file. Default: `false` |

### `PathInfo`

Supported platforms: Android, iOS, tvOS.

| Property    | Type      | Description                                                                                                                       |
| ----------- | --------- | --------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------- |
| exists      | `boolean` | Indicates whether the path exists. Returns true if it exists; false if the path does not exist or if there is no read permission. |
| isDirectory | `boolean  | null`                                                                                                                             | Indicates whether the path is a directory. Returns true or false if the path exists; otherwise, returns null. |

---

---

title: Expo Fingerprint
description: A library to generate a fingerprint from a React Native project.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/@expo/fingerprint'
packageName: '@expo/fingerprint'
iconUrl: '/static/images/packages/expo-fingerprint.png'
platforms: ['node']

---

# Expo Fingerprint

A library to generate a fingerprint from a React Native project.
Node

`@expo/fingerprint` provides an API to generate a fingerprint (hash) of your project for use in determining compatibility between the native layer and JavaScript layer of your app. The hash calculation is configurable, but is by default derived from hashing app dependencies, custom native code, native project files, and configuration.

## Installation

`@expo/fingerprint` is included with [`expo`](/versions/latest/sdk/expo) and [`expo-updates`](/versions/latest/sdk/updates) by default.

If you wish to use `@expo/fingerprint` as a standalone package, you can install it by running the command:

```sh
npx expo install @expo/fingerprint
```

## CLI Usage

```sh
npx @expo/fingerprint --help
```

## Configuration

`@expo/fingerprint` provides defaults that should work for most projects, but also provides a few ways to configure the fingerprinting process to better fit your app structure and workflow.

### .fingerprintignore

Placed in your project root, **.fingerprintignore** is a [**.gitignore**](https://git-scm.com/docs/gitignore#_pattern_format)-like ignore mechanism used to exclude files from hash calculation. All pattern paths are relative to the project root. It behaves similarly but instead uses `minimatch` for pattern matching which has some [limitations](/versions/latest/sdk/fingerprint#limitations) (see documentation for `ignorePaths` under [Options](/versions/latest/sdk/fingerprint#options)).

Here is an example **.fingerprintignore** configuration:

```ignore
# Ignore the entire android directory
android/**/*

# Ignore the entire ios directory but still keep ios/Podfile and ios/Podfile.lock
ios/**/*
!ios/Podfile
!ios/Podfile.lock

# Ignore specific package in node_modules
node_modules/some-package/**/*

# Same as above but having broader scope because packages may be nested
**/node_modules/some-package/**/*
```

### fingerprint.config.js

Placed in your project root, **fingerprint.config.js** allows you to specify custom hash calculation configuration beyond what is configurable in the **.fingerprintignore**. For supported configurations, see [Config](/versions/latest/sdk/fingerprint#config) and [`SourceSkips`](/versions/latest/sdk/fingerprint#sourceskips).

Below is an example **fingerprint.config.js** configuration, assuming you have `@expo/fingerprint` installed as a direct dependency:

```js
/** @type {import('@expo/fingerprint').Config} */
const config = {
  sourceSkips: [
    "ExpoConfigRuntimeVersionIfString",
    "ExpoConfigVersions",
    "PackageJsonAndroidAndIosScriptsIfNotContainRun",
  ],
};
module.exports = config;
```

If you are using `@expo/fingerprint` through `expo` (where `@expo/fingerprint` is installed as a transitive dependency), you can import fingerprint from `expo/fingerprint`:

```js
/** @type {import('expo/fingerprint').Config} */
```

Advanced: Customize sources before fingerprint hashing

In some cases, you may want to customize the sources before fingerprinting. For example:

- You want to remove sensitive data from the app config.
- You want to stabilize dynamic values in the app config.
- You want to transform file hashes to stable values.

To do this, you can use the `fileHookTransform` option in the **fingerprint.config.js** file to transform the sources before hashing. Learn more about the [`fileHookTransform` option](/versions/latest/sdk/fingerprint#filehooktransformfunctionsource-chunk-isendoffile-encoding).

```js
const assert = require("node:assert");

const fileChunkMap = {};

/** @type {import('@expo/fingerprint').Config} */
const config = {
  fileHookTransform: (source, chunk, isEndOfFile, encoding) => {
    // Remove the "updates" section from the app config
    if (source.type === "contents" && source.id === "expoConfig") {
      assert(isEndOfFile, "contents source is expected to have single chunk.");
      const config = JSON.parse(chunk);
      delete config.updates;
      return JSON.stringify(config);
    }

    // Transform content sources to an empty string
    if (source.type === "contents" && source.id === "packageJson:scripts") {
      return "";
    }

    // Transform a file source by replacing dynamic values
    if (source.type === "file" && source.filePath === "eas.json") {
      return chunk.toString().replace(/MyApp-Dev/g, "MyApp");
    }

    // Transform a large file that is processed in multiple chunks
    // To get the full file, buffer all chunks and return them all at once
    if (
      source.type === "file" &&
      source.filePath === "assets/large-image.jpg"
    ) {
      let receivedBuffer = fileChunkMap[source.filePath] ?? Buffer.alloc(0);
      if (chunk != null) {
        const buffer =
          typeof chunk === "string" ? Buffer.from(chunk, encoding) : chunk;
        receivedBuffer = Buffer.concat([receivedBuffer, buffer]);
        fileChunkMap[source.filePath] = receivedBuffer;
      }
      if (!isEndOfFile) {
        return null;
      }
      fileChunkMap[source.filePath] = null;
      // The full payload is available here and you can transform it as needed.
      receivedBuffer = receivedBuffer
        .toString()
        .replace(/SensitiveData/g, "StableData");
      return receivedBuffer;
    }

    // For other sources, just return the chunk
    return chunk;
  },
};

module.exports = config;
```

## Limitations

Limited support for `@expo/config-plugins` raw functions

When using config plugins with raw functions, it's essential to be aware of certain limitations, particularly in the context of fingerprinting. The library makes a best effort to generate fingerprints for changes made through config plugins; however, raw functions pose specific challenges. Raw functions are not serializable as fingerprints, which means they cannot be directly used for generating unique hashes.

To work around this limitation, the library employs one of the following strategies to create serializable fingerprints for raw functions:

1.  Using `Function.name`: The library utilizes the `Function.name` property if available for named raw functions. This property provides a recognizable name for the function, which can be used as a fingerprint property.
2.  Using `withAnonymous`: For anonymous raw functions without a `Function.name`, the library resorts to using `withAnonymous` as the fingerprint property. This is a generic identifier for anonymous functions.

Here's an example to illustrate a case in which the library will use [`withMyPlugin`, `withAnonymous`] as plugin properties for fingerprint hashing:

```js
const { withInfoPlist } = require("expo/config-plugins");

const withMyPlugin = config => {
  return withInfoPlist(config, config => {
    config.modResults.NSLocationWhenInUseUsageDescription =
      "Allow $(PRODUCT_NAME) to use your location";
    return config;
  });
};

export default ({ config }) => {
  config.plugins ||= [];
  config.plugins.push(withMyPlugin);
  config.plugins.push(config => config);
  return config;
};
```

It's important to note that due to this design, if you make changes to the implementation of raw config plugins functions, such as altering the **Info.plist** value within `withMyPlugin`, the fingerprint will still generate the same hash value. To ensure unique fingerprints when modifying config plugins implementations, consider the following options:

- Avoid Anonymous Functions: Avoid using anonymous raw config plugins functions. Instead, use named functions whenever possible, and ensure that their names remain consistent as long as the implementation changes.
- Use Local config plugins: Alternatively, you can create local config plugins as separate modules, each with its own export. This approach allows you to specify a different function name when making changes to the config plugins implementations.

Here's an example of using a local config plugin:

```js
const { withInfoPlist } = require("expo/config-plugins");

const withMyPlugin = config => {
  return withInfoPlist(config, config => {
    config.modResults.NSLocationWhenInUseUsageDescription =
      "Allow $(PRODUCT_NAME) to use your location";
    return config;
  });
};

module.exports = withMyPlugin;
```

```json
{
  "expo": {
    ...
    "plugins": "./plugins/withMyPlugin"
  }
}
```

By following these guidelines, you can effectively manage changes to config plugins and ensure that fingerprinting remains consistent and reliable.

## API

```ts
import * as Fingerprint from "@expo/fingerprint";
```

## Constants

### `Fingerprint.DEFAULT_IGNORE_PATHS`

Supported platforms: Node.

Type: `string[]`

### `Fingerprint.DEFAULT_SOURCE_SKIPS`

Supported platforms: Node.

Type: [PackageJsonAndroidAndIosScriptsIfNotContainRun](#packagejsonandroidandiosscriptsifnotcontainrun)

## Methods

### `Fingerprint.createFingerprintAsync(projectRoot, options)`

Supported platforms: Node.

| Parameter           | Type      |
| ------------------- | --------- |
| `projectRoot`       | `string`  |
| `options`(optional) | `Options` |

Create a fingerprint for a project.

Returns: `Promise<fingerprint>`

Example

```js
const fingerprint = await createFingerprintAsync("/app");
console.log(fingerprint);
```

### `Fingerprint.createProjectHashAsync(projectRoot, options)`

Supported platforms: Node.

| Parameter           | Type      |
| ------------------- | --------- |
| `projectRoot`       | `string`  |
| `options`(optional) | `Options` |

Create a native hash value for a project.

Returns: `Promise<string>`

Example

```ts
const hash = await createProjectHashAsync("/app");
console.log(hash);
```

### `Fingerprint.diffFingerprintChangesAsync(fingerprint, projectRoot, options)`

Supported platforms: Node.

| Parameter           | Type                        |
| ------------------- | --------------------------- |
| `fingerprint`       | [Fingerprint](#fingerprint) |
| `projectRoot`       | `string`                    |
| `options`(optional) | `Options`                   |

Diff the fingerprint with the fingerprint of the provided project.

Returns: `Promise<fingerprintdiffitem[]>`

Example

```ts
// Create a fingerprint for the project
const fingerprint = await createFingerprintAsync("/app");

// Make some changes to the project

// Calculate the diff
const diff = await diffFingerprintChangesAsync(fingerprint, "/app");
console.log(diff);
```

### `Fingerprint.diffFingerprints(fingerprint1, fingerprint2)`

Supported platforms: Node.

| Parameter      | Type                        |
| -------------- | --------------------------- |
| `fingerprint1` | [Fingerprint](#fingerprint) |
| `fingerprint2` | [Fingerprint](#fingerprint) |

Diff two fingerprints. The implementation assumes that the sources are sorted.

Returns: `FingerprintDiffItem[]`

Example

```ts
// Create a fingerprint for the project
const fingerprint = await createFingerprintAsync("/app");

// Make some changes to the project

// Create a fingerprint again
const fingerprint2 = await createFingerprintAsync("/app");
const diff = await diffFingerprints(fingerprint, fingerprint2);
console.log(diff);
```

## Interfaces

### `DebugInfoContents`

Supported platforms: Node.

| Property                | Type      | Description                                                         |
| ----------------------- | --------- | ------------------------------------------------------------------- |
| hash                    | `string`  | -                                                                   |
| isTransformed(optional) | `boolean` | Indicates whether the source is transformed by `fileHookTransform`. |

### `DebugInfoDir`

Supported platforms: Node.

| Property | Type       | Description                     |
| -------- | ---------- | ------------------------------- | -------------------------------- | --- |
| children | (undefined | [DebugInfoFile](#debuginfofile) | [DebugInfoDir](#debuginfodir))[] | -   |
| hash     | `string`   | -                               |
| path     | `string`   | -                               |

### `DebugInfoFile`

Supported platforms: Node.

| Property                | Type      | Description                                                         |
| ----------------------- | --------- | ------------------------------------------------------------------- |
| hash                    | `string`  | -                                                                   |
| isTransformed(optional) | `boolean` | Indicates whether the source is transformed by `fileHookTransform`. |
| path                    | `string`  | -                                                                   |

### `Fingerprint`

Supported platforms: Node.

| Property | Type                                      | Description                                                                     |
| -------- | ----------------------------------------- | ------------------------------------------------------------------------------- |
| hash     | `string`                                  | The final hash value of the whole project fingerprint.                          |
| sources  | [FingerprintSource[]](#fingerprintsource) | Sources and their hash values from which the project fingerprint was generated. |

### `HashResultContents`

Supported platforms: Node.

| Property            | Type                                    | Description |
| ------------------- | --------------------------------------- | ----------- |
| debugInfo(optional) | [DebugInfoContents](#debuginfocontents) | -           |
| hex                 | `string`                                | -           |
| id                  | `string`                                | -           |
| type                | `'contents'`                            | -           |

### `HashResultDir`

Supported platforms: Node.

| Property            | Type                          | Description |
| ------------------- | ----------------------------- | ----------- |
| debugInfo(optional) | [DebugInfoDir](#debuginfodir) | -           |
| hex                 | `string`                      | -           |
| id                  | `string`                      | -           |
| type                | `'dir'`                       | -           |

### `HashResultFile`

Supported platforms: Node.

| Property            | Type                            | Description |
| ------------------- | ------------------------------- | ----------- |
| debugInfo(optional) | [DebugInfoFile](#debuginfofile) | -           |
| hex                 | `string`                        | -           |
| id                  | `string`                        | -           |
| type                | `'file'`                        | -           |

### `HashSourceContents`

Supported platforms: Node.

| Property | Type         | Description                         |
| -------- | ------------ | ----------------------------------- | --- |
| contents | `string      | Buffer`                             | -   |
| id       | `string`     | -                                   |
| reasons  | `string[]`   | Reasons of this source coming from. |
| type     | `'contents'` | -                                   |

### `HashSourceDir`

Supported platforms: Node.

| Property | Type       | Description                         |
| -------- | ---------- | ----------------------------------- |
| filePath | `string`   | -                                   |
| reasons  | `string[]` | Reasons of this source coming from. |
| type     | `'dir'`    | -                                   |

### `HashSourceFile`

Supported platforms: Node.

| Property | Type       | Description                         |
| -------- | ---------- | ----------------------------------- |
| filePath | `string`   | -                                   |
| reasons  | `string[]` | Reasons of this source coming from. |
| type     | `'file'`   | -                                   |

### `Options`

Supported platforms: Node.

| Property                               | Type                                                                                                                     | Description                                                                                                                                                                                                                                                                                                                     |
| -------------------------------------- | ------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| concurrentIoLimit(optional)            | `number`                                                                                                                 | I/O concurrency limit. Default: `The number of CPU cores.`                                                                                                                                                                                                                                                                      |
| debug(optional)                        | `boolean`                                                                                                                | Whether to include verbose debug info in source output. Useful for debugging.                                                                                                                                                                                                                                                   |
| dirExcludes(optional)                  | `string[]`                                                                                                               | Deprecated: Use ignorePaths instead. . Exclude specified directories from hashing. The supported pattern is the same as `glob()`. Default is `['android/build', 'android/app/build', 'android/app/.cxx', 'ios/Pods']`.                                                                                                          |
| enableReactImportsPatcher(optional)    | `boolean`                                                                                                                | Enable ReactImportsPatcher to transform imports from React of the form `#import "RCTBridge.h"` to `#import <React/RCTBridge.h>`. This is useful when you want to have a stable fingerprint for Expo projects, since expo-modules-autolinking will change the import style on iOS. Default: `true for Expo SDK 51 and lower.`    |
| extraSources(optional)                 | [HashSource[]](#hashsource)                                                                                              | Additional sources for hashing.                                                                                                                                                                                                                                                                                                 |
| fileHookTransform(optional)            | [FileHookTransformFunction](/versions/latest/sdk/fingerprint#filehooktransformfunctionsource-chunk-isendoffile-encoding) | A custom hook function to transform file content sources before hashing.                                                                                                                                                                                                                                                        |
| hashAlgorithm(optional)                | `string`                                                                                                                 | The algorithm to use for `crypto.createHash()`. Default: `'sha1'`                                                                                                                                                                                                                                                               |
| ignorePaths(optional)                  | `string[]`                                                                                                               | Ignore files and directories from hashing. The supported pattern is the same as `glob()`. The pattern matching is slightly different from gitignore. Partial matching is unsupported. For example, `build` does not match `android/build`; instead, use `'**' + '/build'`.See: minimatch implementations for further reference. |
| platforms(optional)                    | [Platform[]](https://reactnative.dev/docs/platform)                                                                      | Limit native files to those for specified platforms. Default: `['android', 'ios']`                                                                                                                                                                                                                                              |
| silent(optional)                       | `boolean`                                                                                                                | Whether running the functions should mute all console output. This is useful when fingerprinting is being done as part of a CLI that outputs a fingerprint and outputting anything else pollutes the results.                                                                                                                   |
| sourceSkips(optional)                  | [SourceSkips](#sourceskips)                                                                                              | Skips some sources from fingerprint. Value is the result of bitwise-OR'ing desired values of SourceSkips. Default: `DEFAULT_SOURCE_SKIPS`                                                                                                                                                                                       |
| useRNCoreAutolinkingFromExpo(optional) | `boolean`                                                                                                                | Use the react-native core autolinking sources from `expo-modules-autolinking` rather than `@react-native-community/cli`. Default: `true for Expo SDK 52 and higher.`                                                                                                                                                            |

## Types

### `Config`

Supported platforms: Node.

Supported options for use in fingerprint.config.js

Type: [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<Options, 'concurrentIoLimit' | 'hashAlgorithm' | 'ignorePaths' | 'extraSources' | 'enableReactImportsPatcher' | 'useRNCoreAutolinkingFromExpo' | 'debug' | 'fileHookTransform'\> extended by:

| Property              | Type                        | Description       |
| --------------------- | --------------------------- | ----------------- | --- |
| sourceSkips(optional) | [SourceSkips](#sourceskips) | SourceSkipsKeys[] | -   |

### `DebugInfo`

Supported platforms: Node.

Literal Type: `union`

Acceptable values are: [DebugInfoFile](#debuginfofile) | [DebugInfoDir](#debuginfodir) | [DebugInfoContents](#debuginfocontents)

### `FileHookTransformFunction(source, chunk, isEndOfFile, encoding)`

Supported platforms: Node.

Hook function to transform file content sources before hashing.

| Parameter     | Type                                                |
| ------------- | --------------------------------------------------- | ------ | ----- |
| `source`      | [FileHookTransformSource](#filehooktransformsource) |
| `chunk`       | `Buffer                                             | string | null` |
| `isEndOfFile` | `boolean`                                           |
| `encoding`    | `BufferEncoding`                                    |

Returns:

`Buffer | string | null`

### `FileHookTransformSource`

Supported platforms: Node.

The `source` parameter for `FileHookTransformFunction`.

Type: `object` shaped as below:

| Property | Type     | Description |
| -------- | -------- | ----------- |
| filePath | `string` | -           |
| type     | `'file'` | -           |

Or `object` shaped as below:

| Property | Type         | Description |
| -------- | ------------ | ----------- |
| id       | `string`     | -           |
| type     | `'contents'` | -           |

### `FingerprintDiffItem`

Supported platforms: Node.

Type: `object` shaped as below:

| Property    | Type                                    | Description                          |
| ----------- | --------------------------------------- | ------------------------------------ |
| addedSource | [FingerprintSource](#fingerprintsource) | The added source.                    |
| op          | `'added'`                               | The operation type of the diff item. |

Or `object` shaped as below:

| Property      | Type                                    | Description                          |
| ------------- | --------------------------------------- | ------------------------------------ |
| op            | `'removed'`                             | The operation type of the diff item. |
| removedSource | [FingerprintSource](#fingerprintsource) | The removed source.                  |

Or `object` shaped as below:

| Property     | Type                                    | Description                          |
| ------------ | --------------------------------------- | ------------------------------------ |
| afterSource  | [FingerprintSource](#fingerprintsource) | The source after.                    |
| beforeSource | [FingerprintSource](#fingerprintsource) | The source before.                   |
| op           | `'changed'`                             | The operation type of the diff item. |

### `FingerprintSource`

Supported platforms: Node.

Type: [HashSource](#hashsource) extended by:

| Property            | Type                    | Description                                                                                                                          |
| ------------------- | ----------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------- |
| debugInfo(optional) | [DebugInfo](#debuginfo) | Debug info from the hashing process. Differs based on source type. Designed to be consumed by humans as opposed to programmatically. |
| hash                | `string                 | null`                                                                                                                                | Hash value of the `source`. If the source is excluded the value will be null. |

### `HashResult`

Supported platforms: Node.

Literal Type: `union`

Acceptable values are: [HashResultFile](#hashresultfile) | [HashResultDir](#hashresultdir) | [HashResultContents](#hashresultcontents)

### `HashSource`

Supported platforms: Node.

Literal Type: `union`

Acceptable values are: [HashSourceFile](#hashsourcefile) | [HashSourceDir](#hashsourcedir) | [HashSourceContents](#hashsourcecontents)

### `Platform`

Supported platforms: Node.

Literal Type: `string`

Acceptable values are: `'android'` | `'ios'`

### `ProjectWorkflow`

Supported platforms: Node.

Literal Type: `string`

Acceptable values are: `'generic'` | `'managed'` | `'unknown'`

## Enums

### `SourceSkips`

Supported platforms: Node.

Bitmask of values that can be used to skip certain parts of the sourcers when generating a fingerprint.

#### `None`

`SourceSkips.None = 0`

Skip nothing

#### `ExpoConfigVersions`

`SourceSkips.ExpoConfigVersions = 1`

Versions in app.json, including Android versionCode and iOS buildNumber

#### `ExpoConfigRuntimeVersionIfString`

`SourceSkips.ExpoConfigRuntimeVersionIfString = 2`

runtimeVersion in app.json if it is a string

#### `ExpoConfigNames`

`SourceSkips.ExpoConfigNames = 4`

App names in app.json, including shortName and description

#### `ExpoConfigAndroidPackage`

`SourceSkips.ExpoConfigAndroidPackage = 8`

Android package name in app.json

#### `ExpoConfigIosBundleIdentifier`

`SourceSkips.ExpoConfigIosBundleIdentifier = 16`

iOS bundle identifier in app.json

#### `ExpoConfigSchemes`

`SourceSkips.ExpoConfigSchemes = 32`

Schemes in app.json

#### `ExpoConfigEASProject`

`SourceSkips.ExpoConfigEASProject = 64`

EAS project information in app.json

#### `ExpoConfigAssets`

`SourceSkips.ExpoConfigAssets = 128`

Assets in app.json, including icons and splash assets

#### `ExpoConfigAll`

`SourceSkips.ExpoConfigAll = 256`

Skip the whole ExpoConfig. Prefer the other ExpoConfig source skips when possible and use this flag with caution. This will potentially ignore some native changes that should be part of most fingerprints. E.g., adding a new config plugin, changing the app icon, or changing the app name.

#### `PackageJsonAndroidAndIosScriptsIfNotContainRun`

`SourceSkips.PackageJsonAndroidAndIosScriptsIfNotContainRun = 512`

package.json scripts if android and ios items do not contain "run". Because prebuild will change the scripts in package.json, this is useful to generate a consistent fingerprint before and after prebuild.

#### `PackageJsonScriptsAll`

`SourceSkips.PackageJsonScriptsAll = 1024`

Skip the whole `scripts` section in the project's package.json.

#### `GitIgnore`

`SourceSkips.GitIgnore = 2048`

Skip .gitignore files.

#### `ExpoConfigExtraSection`

`SourceSkips.ExpoConfigExtraSection = 4096`

The [extra](https://docs.expo.dev/versions/latest/config/app/#extra) section in app.json

---

---

title: '@shopify/flash-list'
description: A React Native component that provides a fast and performant way to render lists.
sourceCodeUrl: 'https://github.com/shopify/flash-list'
packageName: '@shopify/flash-list'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']
inExpoGo: true

---

# @shopify/flash-list

A React Native component that provides a fast and performant way to render lists.
Android, iOS, tvOS, Web, Included in Expo Go

`@shopify/flash-list` is a "Fast and performant React Native list" component that is a drop-in replacement for React Native's `<FlatList>` component. It "recycles components under the hood to maximize performance."

## Installation

```sh
npx expo install @shopify/flash-list
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://shopify.github.io/flash-list/docs/) provided in the library's README or documentation.

## Learn more

[Visit official documentation](https://shopify.github.io/flash-list/) â€” Get full information on API and its usage.

---

---

title: Font
description: A library that allows loading fonts at runtime and using them in React Native components.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-font'
packageName: 'expo-font'
iconUrl: '/static/images/packages/expo-font.png'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo Font

A library that allows loading fonts at runtime and using them in React Native components.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-font` allows loading fonts from the web and using them in React Native components. See more detailed usage information in the [Fonts](/develop/user-interface/fonts) guide.

## Installation

```sh
npx expo install expo-font
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

There are two ways to add fonts to your app: using the `expo-font` config plugin (recommended for Android and iOS) or loading them at runtime (which works across all platforms including web).

On Android and iOS, the plugin allows you to embed font files at build time which is more efficient than [`useFonts`](/versions/latest/sdk/font#usefontsmap) or [`loadAsync`](/versions/latest/sdk/font#loadasyncfontfamilyorfontmap-source). After you set up the config plugin and run [prebuild](/workflow/continuous-native-generation#usage), you can render custom fonts right away. The plugin can be configured in different ways, see the [Fonts](/develop/user-interface/fonts#with-expo-font-config-plugin) guide on how to use it.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-font",
        {
          "fonts": ["./path/to/file.ttf"],
          "android": {
            "fonts": [
              {
                "fontFamily": "Source Serif 4",
                "fontDefinitions": [
                  {
                    "path": "./path/to/SourceSerif4-ExtraBold.ttf",
                    "weight": 800
                  }
                ]
              }
            ]
          }
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name      | Default | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| --------- | ------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `fonts`   | `[]`    | An array of font definitions to link to the native project. The paths should be relative to the project root. On Android, the file name becomes the font family name. On iOS, the font family name is always taken directly from the font file and may not be the same as the file name â€” follow the [naming advice](/develop/user-interface/fonts#how-to-determine-which-font-family-name-to-use) or use [`getLoadedFonts`](#getloadedfonts) to see what fonts are available. |
| `android` | `[]`    | An array of font definitions to link to the native project on Android. Use the object syntax to embed [xml fonts](https://developer.android.com/develop/ui/views/text-and-emoji/fonts-in-xml) with custom family name.                                                                                                                                                                                                                                                         |
| `ios`     | `[]`    | An array of font file paths to link to the native project on iOS. The font family name is taken directly from the font file.                                                                                                                                                                                                                                                                                                                                                   |

Are you using this library in an existing React Native app?

- **Android:** Copy font files to **android/app/src/main/assets/fonts**.
- **iOS**: See [Adding a Custom Font to Your App](https://developer.apple.com/documentation/uikit/adding-a-custom-font-to-your-app) in the Apple Developer documentation.

## Usage

If you don't want to use the [config plugin](/versions/latest/sdk/font#configuration-in-app-config), you can load a font at runtime with the `useFonts` hook, as shown in the snippet:

```tsx
import { Text, View, StyleSheet } from "react-native";
import * as SplashScreen from "expo-splash-screen";
import { useFonts } from "expo-font";
import { useEffect } from "react";

SplashScreen.preventAutoHideAsync();

export default function App() {
  // Use `useFonts` only if you can't use the config plugin.
  const [loaded, error] = useFonts({
    "Inter-Black": require("./assets/fonts/Inter-Black.otf"),
  });

  useEffect(() => {
    if (loaded || error) {
      SplashScreen.hideAsync();
    }
  }, [loaded, error]);

  if (!loaded && !error) {
    return null;
  }

  return (
    <View style={styles.container}>
      <Text style={{ fontFamily: "Inter-Black", fontSize: 30 }}>
        Inter Black
      </Text>
      <Text style={{ fontSize: 30 }}>Platform Default</Text>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
  },
});
```

## API

```js
import * as Font from "expo-font";
```

## Hooks

### `useFonts(map)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type   | Description                                |
| --------- | ------ | ------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `map`     | string | Record<string, [FontSource](#fontsource)\> | A map of `fontFamily`s to [`FontSource`](#fontsource)s. After loading the font you can use the key in the `fontFamily` style prop of a `Text` element. |

Load a map of fonts at runtime with [`loadAsync`](#loadasyncfontfamilyorfontmap-source). This returns a `boolean` if the fonts are loaded and ready to use. It also returns an error if something went wrong, to use in development.

> Note, the fonts are not "reloaded" when you dynamically change the font map.

Returns: `[boolean, null | Error]`

- **loaded** (`boolean`) - A boolean to detect if the font for `fontFamily` has finished loading.
- **error** (`Error | null`) - An error encountered when loading the fonts.

Example

```tsx
const [loaded, error] = useFonts({
  "Inter-Black": require("./assets/fonts/Inter-Black.otf"),
});
```

## Methods

### `getLoadedFonts()`

Supported platforms: Android, iOS, tvOS, Web.

Synchronously get all the fonts that have been loaded. This includes fonts that were bundled at build time using the config plugin, as well as those loaded at runtime using `loadAsync`.

Returns: `string[]`

Returns array of strings which you can use as `fontFamily` [style prop](https://reactnative.dev/docs/text#style).

### `isLoaded(fontFamily)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter    | Type     | Description                               |
| ------------ | -------- | ----------------------------------------- |
| `fontFamily` | `string` | The name used to load the `FontResource`. |

Synchronously detect if the font for `fontFamily` has finished loading.

Returns: `boolean`

Returns `true` if the font has fully loaded.

### `isLoading(fontFamily)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter    | Type     | Description                               |
| ------------ | -------- | ----------------------------------------- |
| `fontFamily` | `string` | The name used to load the `FontResource`. |

Synchronously detect if the font for `fontFamily` is still being loaded.

Returns: `boolean`

Returns `true` if the font is still loading.

### `loadAsync(fontFamilyOrFontMap, source)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter             | Type                      | Description                                                           |
| --------------------- | ------------------------- | --------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| `fontFamilyOrFontMap` | string                    | Record<string, [FontSource](#fontsource)\>                            | String or map of values that can be used as the `fontFamily` [style prop](https://reactnative.dev/docs/text#style) with React Native `Text` elements. |
| `source`(optional)    | [FontSource](#fontsource) | The font asset that should be loaded into the `fontFamily` namespace. |

An efficient method for loading fonts from static or remote resources which can then be used with the platform's native text elements. In the browser, this generates a `@font-face` block in a shared style sheet for fonts. No CSS is needed to use this method.

> **Note**: We recommend using the [config plugin](#configuration-in-app-config) instead whenever possible.

Returns: `Promise<void>`

Returns a promise that fulfils when the font has loaded. Often you may want to wrap the method in a `try/catch/finally` to ensure the app continues if the font fails to load.

### `renderToImageAsync(glyphs, options)`

Supported platforms: Android, iOS.

| Parameter           | Type                                          | Description           |
| ------------------- | --------------------------------------------- | --------------------- |
| `glyphs`            | `string`                                      | Text to be exported.  |
| `options`(optional) | [RenderToImageOptions](#rendertoimageoptions) | RenderToImageOptions. |

Creates an image with provided text.

Returns: `Promise<string>`

Promise which fulfils with uri to image.

## Interfaces

### `RenderToImageOptions`

Supported platforms: Android, iOS, tvOS, Web.

| Property             | Type     | Description                                 |
| -------------------- | -------- | ------------------------------------------- |
| color(optional)      | `string` | Font color. Default: `'black'`              |
| fontFamily(optional) | `string` | Font family name. Default: `system default` |
| size(optional)       | `number` | Size of the font. Default: `24`             |

## Types

### `FontResource`

Supported platforms: Android, iOS, tvOS, Web.

An object used to dictate the resource that is loaded into the provided font namespace when used with [`loadAsync`](#loadasyncfontfamilyorfontmap-source).

| Property          | Type                        | Description                                                                                                     |
| ----------------- | --------------------------- | --------------------------------------------------------------------------------------------------------------- | --- |
| default(optional) | `string`                    | -                                                                                                               |
| display(optional) | [FontDisplay](#fontdisplay) | Supported platforms: Web. Sets the [`font-display`](#fontdisplay) property for a given typeface in the browser. |
| uri(optional)     | `string                     | number`                                                                                                         | -   |

### `FontSource`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `union`

The different types of assets you can provide to the [`loadAsync()`](#loadasyncfontfamilyorfontmap-source) function. A font source can be a URI, a module ID, or an Expo Asset.

Acceptable values are: `string` | `number` | [Asset](/versions/latest/sdk/asset#asset) | [FontResource](#fontresource)

## Enums

### `FontDisplay`

Supported platforms: Web.

Sets the [font-display](https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display) for a given typeface. The default font value on web is `FontDisplay.AUTO`. Even though setting the `fontDisplay` does nothing on native platforms, the default behavior emulates `FontDisplay.SWAP` on flagship devices like iOS, Samsung, Pixel, etc. Default functionality varies on One Plus devices. In the browser this value is set in the generated `@font-face` CSS block and not as a style property meaning you cannot dynamically change this value based on the element it's used in.

#### `AUTO`

`FontDisplay.AUTO = "auto"`

**(Default)** The font display strategy is defined by the user agent or platform. This generally defaults to the text being invisible until the font is loaded. Good for buttons or banners that require a specific treatment.

#### `BLOCK`

`FontDisplay.BLOCK = "block"`

The text will be invisible until the font has loaded. If the font fails to load then nothing will appear - it's best to turn this off when debugging missing text.

#### `FALLBACK`

`FontDisplay.FALLBACK = "fallback"`

Splits the behavior between `SWAP` and `BLOCK`. There will be a [100ms timeout](https://developers.google.com/web/updates/2016/02/font-display?hl=en) where the text with a custom font is invisible, after that the text will either swap to the styled text or it'll show the unstyled text and continue to load the custom font. This is good for buttons that need a custom font but should also be quickly available to screen-readers.

#### `OPTIONAL`

`FontDisplay.OPTIONAL = "optional"`

This works almost identically to `FALLBACK`, the only difference is that the browser will decide to load the font based on slow connection speed or critical resource demand.

#### `SWAP`

`FontDisplay.SWAP = "swap"`

Fallback text is rendered immediately with a default font while the desired font is loaded. This is good for making the content appear to load instantly and is usually preferred.

## Error codes

| Code                | Description                                                       |
| ------------------- | ----------------------------------------------------------------- |
| ERR_FONT_API        | If the arguments passed to `loadAsync` are invalid.               |
| ERR_FONT_SOURCE     | The provided resource was of an incorrect type.                   |
| ERR_WEB_ENVIRONMENT | The browser's `document` element doesn't support injecting fonts. |
| ERR_DOWNLOAD        | Failed to download the provided resource.                         |
| ERR_FONT_FAMILY     | Invalid font family name was provided.                            |
| ERR_UNLOAD          | Attempting to unload fonts that haven't finished loading yet.     |

---

---

title: react-native-gesture-handler
description: A library that provides an API for handling complex gestures.
sourceCodeUrl: 'https://github.com/software-mansion/react-native-gesture-handler'
packageName: react-native-gesture-handler
platforms: ['android', 'ios', 'web', 'expo-go']
inExpoGo: true

---

# react-native-gesture-handler

A library that provides an API for handling complex gestures.
Android, iOS, Web, Included in Expo Go

`react-native-gesture-handler` is a library for handling complex gestures. From it's README:

> This library provides an API that exposes mobile platform-specific native capabilities of touch and gesture handling and recognition. It allows for defining complex gesture handling and recognition logic that runs 100% in the native thread and is therefore deterministic.

## Installation

```sh
npx expo install react-native-gesture-handler
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://docs.swmansion.com/react-native-gesture-handler/docs/fundamentals/installation) provided in the library's README or documentation.

## Learn more

[Visit official documentation](https://docs.swmansion.com/react-native-gesture-handler/) â€” Get full information on API and its usage.

---

---

title: GLView
description: A library that provides GLView that acts as an OpenGL ES render target and provides GLContext. Useful for rendering 2D and 3D graphics.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-gl'
packageName: 'expo-gl'
iconUrl: '/static/images/packages/expo-gl.png'
platforms: ['android', 'ios', 'web', 'expo-go']

---

# Expo GLView

A library that provides GLView that acts as an OpenGL ES render target and provides GLContext. Useful for rendering 2D and 3D graphics.
Android, iOS, Web, Included in Expo Go

`expo-gl` provides a `View` that acts as an OpenGL ES render target, useful for rendering 2D and 3D graphics. On mounting, an OpenGL ES context is created. Its drawing buffer is presented as the contents of the `View` every frame.

## Installation

```sh
npx expo install expo-gl
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { View } from "react-native";
import { GLView } from "expo-gl";

export default function App() {
  return (
    <View style={{ flex: 1, justifyContent: "center", alignItems: "center" }}>
      <GLView
        style={{ width: 300, height: 300 }}
        onContextCreate={onContextCreate}
      />
    </View>
  );
}

function onContextCreate(gl) {
  gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);
  gl.clearColor(0, 1, 1, 1);

  // Create vertex shader (shape & position)
  const vert = gl.createShader(gl.VERTEX_SHADER);
  gl.shaderSource(
    vert,
    `
    void main(void) {
      gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
      gl_PointSize = 150.0;
    }
  `,
  );
  gl.compileShader(vert);

  // Create fragment shader (color)
  const frag = gl.createShader(gl.FRAGMENT_SHADER);
  gl.shaderSource(
    frag,
    `
    void main(void) {
      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
    }
  `,
  );
  gl.compileShader(frag);

  // Link together into a program
  const program = gl.createProgram();
  gl.attachShader(program, vert);
  gl.attachShader(program, frag);
  gl.linkProgram(program);
  gl.useProgram(program);

  gl.clear(gl.COLOR_BUFFER_BIT);
  gl.drawArrays(gl.POINTS, 0, 1);

  gl.flush();
  gl.endFrameEXP();
}
```

## High-level APIs

Since the WebGL API is quite low-level, it can be helpful to use higher-level graphics APIs rendering through a `GLView` underneath. The following libraries integrate popular graphics APIs:

- [expo-three](https://github.com/expo/expo-three) for [three.js](https://threejs.org)
- [expo-processing](https://github.com/expo/expo-processing) for [processing.js](http://processingjs.org)

Any WebGL-supporting library that expects a [WebGLRenderingContext](https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14) could be used. Some times such libraries assume a web JavaScript context (such as assuming `document`). Usually this is for resource loading or event handling, with the main rendering logic still only using pure WebGL. So these libraries can usually still be used with a couple workarounds. The Expo-specific integrations above include workarounds for some popular libraries.

## Integration with Reanimated worklets

To use this API inside Reanimated worklet, you need to pass the GL context ID to the worklet and recreate the GL object like in the example below.

```jsx
import { View } from 'react-native';
import { runOnUI } from 'react-native-reanimated';
import { GLView } from 'expo-gl';

function render(gl) {
  'worklet';
  // add your WebGL code here
}

function onContextCreate(gl) {
  runOnUI((contextId: number) => {
    'worklet';
    const gl = GLView.getWorkletContext(contextId);
    render(gl);
  })(gl.contextId);
}

export default function App() {
  return (
    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
      <GLView
        style={{ width: 300, height: 300 }}
        enableExperimentalWorkletSupport
        onContextCreate={onContextCreate}
      />
    </View>
  );
}
```

For more in-depth example on how to use `expo-gl` with Reanimated and Gesture Handler you can check [this example](https://github.com/expo/expo/tree/main/apps/native-component-list/src/screens/GL/GLReanimatedExample.tsx).

### Limitations

Worklet runtime is imposing some limitations on the code that runs inside it, so if you have existing WebGL code, it'll likely require some modifications to run inside a worklet thread.

- Third-party libraries like Pixi.js or Three.js won't work inside the worklet, you can only use functions that have `'worklet'` added at the start.
- If you need to load some assets to pass to the WebGL code, it needs to be done on the main thread and passed via some reference to the worklet. If you are using `expo-assets` you can just pass asset object returned by `Asset.fromModule` or from hook `useAssets` to the `runOnUI` function.
- To implement a rendering loop you need to use `requestAnimationFrame`, APIs like `setTimeout` are not supported.

Check [Reanimated documentation](https://docs.swmansion.com/react-native-reanimated/docs/guides/worklets/) to learn more.

## Remote debugging and GLView

This API does not function as intended with remote debugging enabled. The React Native debugger runs JavaScript on your computer, not the mobile device. GLView requires synchronous native calls that are not supported in Chrome.

## API

```js
import { GLView } from "expo-gl";
```

## Component

### `GLView`

Supported platforms: Android, iOS, Web.

Type: React.[Component](https://react.dev/reference/react/Component)<[GLViewProps](#glviewprops)\>

A View that acts as an OpenGL ES render target. On mounting, an OpenGL ES context is created. Its drawing buffer is presented as the contents of the View every frame.

GLViewProps

### `enableExperimentalWorkletSupport`

Supported platforms: Android, iOS, Web.

Type: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Enables support for interacting with a `gl` object from code running on the Reanimated worklet thread.

### `msaaSamples`

Supported platforms: iOS.

Type: `number`â€ƒâ€¢â€ƒDefault: `4`

`GLView` can enable iOS's built-in [multisampling](https://www.khronos.org/registry/OpenGL/extensions/APPLE/APPLE_framebuffer_multisample.txt). This prop specifies the number of samples to use. Setting this to `0` turns off multisampling.

### `onContextCreate`

Supported platforms: Android, iOS, Web.

Type: (gl: [ExpoWebGLRenderingContext](#expowebglrenderingcontext)) => void

A function that will be called when the OpenGL ES context is created. The function is passed a single argument `gl` that extends a [WebGLRenderingContext](https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14) interface.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

## Static Methods

### `createContextAsync()`

Supported platforms: Android, iOS, Web.

Imperative API that creates headless context which is devoid of underlying view. It's useful for headless rendering or in case you want to keep just one context per application and share it between multiple components. It is slightly faster than usual context as it doesn't swap framebuffers and doesn't present them on the canvas, however it may require you to take a snapshot in order to present its results. Also, keep in mind that you need to set up a viewport and create your own framebuffer and texture that you will be drawing to, before you take a snapshot.

Returns: `Promise<expowebglrenderingcontext>`

A promise that resolves to WebGL context object. See [WebGL API](#webgl-api) for more details.

### `destroyContextAsync(exgl)`

Supported platforms: Android, iOS, Web.

| Parameter        | Type   | Description                                             |
| ---------------- | ------ | ------------------------------------------------------- | ------------------------- |
| `exgl`(optional) | number | [ExpoWebGLRenderingContext](#expowebglrenderingcontext) | WebGL context to destroy. |

Destroys given context.

Returns: `Promise<boolean>`

A promise that resolves to boolean value that is `true` if given context existed and has been destroyed successfully.

### `takeSnapshotAsync(exgl, options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                | Description                                             |
| ------------------- | ----------------------------------- | ------------------------------------------------------- | -------------------------------------- |
| `exgl`(optional)    | number                              | [ExpoWebGLRenderingContext](#expowebglrenderingcontext) | WebGL context to take a snapshot from. |
| `options`(optional) | [SnapshotOptions](#snapshotoptions) | Default: `{}`                                           |

Takes a snapshot of the framebuffer and saves it as a file to app's cache directory.

Returns: `Promise<glsnapshot>`

A promise that resolves to `GLSnapshot` object.

## Component Methods

### `createCameraTextureAsync(cameraRefOrHandle)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                    |
| ------------------- | --------------------------------------- |
| `cameraRefOrHandle` | [ComponentOrHandle](#componentorhandle) |

Returns: `Promise<webgltexture>`

### `destroyObjectAsync(glObject)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type                        |
| ---------- | --------------------------- |
| `glObject` | [WebGLObject](#webglobject) |

Returns: `Promise<boolean>`

### `startARSessionAsync()`

Supported platforms: Android, iOS, Web.

Returns: `Promise<any>`

### `takeSnapshotAsync(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                |
| ------------------- | ----------------------------------- |
| `options`(optional) | [SnapshotOptions](#snapshotoptions) |

Same as static [`takeSnapshotAsync()`](#takesnapshotasyncoptions), but uses WebGL context that is associated with the view on which the method is called.

Returns: `Promise<glsnapshot>`

## Methods

### `GLView.getWorkletContext(contextId)`

Supported platforms: Android, iOS, Web.

| Parameter   | Type     |
| ----------- | -------- |
| `contextId` | `number` |

Returns: `ExpoWebGLRenderingContext | undefined`

## Interfaces

### `ExpoWebGLRenderingContext`

Supported platforms: Android, iOS, Web.

Extends: [WebGL2RenderingContext](https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext)

| Property  | Type     | Description |
| --------- | -------- | ----------- |
| contextId | `number` | -           |

ExpoWebGLRenderingContext Methods

### `__expoSetLogging(option)`

Supported platforms: Android, iOS, Web.

| Parameter | Type                                |
| --------- | ----------------------------------- |
| `option`  | [GLLoggingOption](#glloggingoption) |

Returns: `void`

### `_expo_texImage2D(...props)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type    |
| ---------- | ------- |
| `. .props` | `any[]` |

Returns: `void`

### `_expo_texSubImage2D(...props)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type    |
| ---------- | ------- |
| `. .props` | `any[]` |

Returns: `void`

### `endFrameEXP()`

Supported platforms: Android, iOS, Web.

Returns: `void`

### `flushEXP()`

Supported platforms: Android, iOS, Web.

Returns: `void`

## Types

### `ComponentOrHandle`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Acceptable values are: `null` | `number` | [Component](https://react.dev/reference/react/Component)<any, any\> | `ComponentClass<any>`

### `GLSnapshot`

Supported platforms: Android, iOS, Web.

| Property | Type     | Description                                                            |
| -------- | -------- | ---------------------------------------------------------------------- | ---- | -------------------- |
| height   | `number` | Height of the snapshot.                                                |
| localUri | `string` | Synonym for `uri`. Makes snapshot object compatible with `texImage2D`. |
| uri      | string   | [Blob](https://developer.mozilla.org/en-US/docs/Web/API/Blob)          | null | URI to the snapshot. |
| width    | `number` | Width of the snapshot.                                                 |

### `SnapshotOptions`

Supported platforms: Android, iOS, Web.

| Property              | Type                                                                                  | Description                                                                                                                                                               |
| --------------------- | ------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| compress(optional)    | `number`                                                                              | A value in range `0` to `1.0` specifying compression level of the result image. `1.0` means no compression and `0` the highest compression. Default: `1.0`                |
| flip(optional)        | `boolean`                                                                             | Whether to flip the snapshot vertically. Default: `false`                                                                                                                 |
| format(optional)      | `'jpeg'                                                                               | 'png'                                                                                                                                                                     | 'webp'` | Specifies what type of compression should be used and what is the result file extension. PNG compression is lossless but slower, JPEG is faster but the image has visible artifacts. Note: When using WebP format, the iOS version will print a warning, and generate a 'png' file instead. It is recommended to use platform-specific code in this case. Default: `'jpeg'` |
| framebuffer(optional) | [WebGLFramebuffer](https://developer.mozilla.org/en-US/docs/Web/API/WebGLFramebuffer) | Specify the framebuffer that we will be reading from. Defaults to underlying framebuffer that is presented in the view or the current framebuffer if context is headless. |
| rect(optional)        | `{ height: number, width: number, x: number, y: number }`                             | Rect to crop the snapshot. It's passed directly to `glReadPixels`.                                                                                                        |

### `SurfaceCreateEvent`

Supported platforms: Android, iOS, Web.

| Property    | Type                    | Description |
| ----------- | ----------------------- | ----------- |
| nativeEvent | `{ exglCtxId: number }` | -           |

### `WebGLObject`

Supported platforms: Android, iOS, Web.

| Property | Type     | Description |
| -------- | -------- | ----------- |
| id       | `number` | -           |

## Enums

### `GLLoggingOption`

Supported platforms: Android, iOS, Web.

#### `DISABLED`

`GLLoggingOption.DISABLED = 0`

Disables logging entirely.

#### `METHOD_CALLS`

`GLLoggingOption.METHOD_CALLS = 1`

Logs method calls, their parameters and results.

#### `GET_ERRORS`

`GLLoggingOption.GET_ERRORS = 2`

Calls `gl.getError()` after each other method call and prints an error if any is returned. This option has a significant impact on the performance as this method is blocking.

#### `RESOLVE_CONSTANTS`

`GLLoggingOption.RESOLVE_CONSTANTS = 4`

Resolves parameters of type `number` to their constant names.

#### `TRUNCATE_STRINGS`

`GLLoggingOption.TRUNCATE_STRINGS = 8`

When this option is enabled, long strings will be truncated. It's useful if your shaders are really big and logging them significantly reduces performance.

#### `ALL`

`GLLoggingOption.ALL = 15`

Enables all other options. It implies `GET_ERRORS` so be aware of the slowdown.

## WebGL API

Once the component is mounted and the OpenGL ES context has been created, the `gl` object received through the `onContextCreate` prop becomes the interface to the OpenGL ES context, providing a WebGL API. It resembles a [WebGL2RenderingContext](https://www.khronos.org/registry/webgl/specs/latest/2.0/#3.7) in the WebGL 2 spec.

Some older Android devices may not support WebGL2 features. To check whether the device supports WebGL2 it's recommended to use `gl instanceof WebGL2RenderingContext`.

An additional method `gl.endFrameEXP()` is present, which notifies the context that the current frame is ready to present. This is similar to a 'swap buffers' API call in other OpenGL platforms.

The following WebGL2RenderingContext methods are currently unimplemented:

- `getFramebufferAttachmentParameter()`
- `getRenderbufferParameter()`
- `compressedTexImage2D()`
- `compressedTexSubImage2D()`
- `getTexParameter()`
- `getUniform()`
- `getVertexAttrib()`
- `getVertexAttribOffset()`
- `getBufferSubData()`
- `getInternalformatParameter()`
- `renderbufferStorageMultisample()`
- `compressedTexImage3D()`
- `compressedTexSubImage3D()`
- `fenceSync()`
- `isSync()`
- `deleteSync()`
- `clientWaitSync()`
- `waitSync()`
- `getSyncParameter()`
- `getActiveUniformBlockParameter()`

The `pixels` argument of [`texImage2D()`](https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texImage2D) must be `null`, an `ArrayBuffer` with pixel data, or an object of the form `{ localUri }` where `localUri` is the `file://` URI of an image in the device's file system. Thus, an `Asset` object is used once `.downloadAsync()` has been called on it (and completed) to fetch the resource.

For efficiency reasons, the current implementations of the methods don't perform type or bounds checking on their arguments. So, passing invalid arguments may cause a native crash. There are plans to update the API to perform argument checking in upcoming SDK versions.

Currently, the priority for error checking is low since engines generally don't rely on the OpenGL API to perform argument checking; otherwise, checks performed by the underlying OpenGL ES implementation are often sufficient.

---

---

title: GlassEffect
description: React components that render a liquid glass effect using iOS's native UIVisualEffectView.
sourceCodeUrl: 'https://github.com/expo/expo/tree/main/packages/expo-glass-effect'
packageName: 'expo-glass-effect'
platforms: ['ios', 'tvos', 'expo-go']
isNew: true

---

# Expo GlassEffect

React components that render a liquid glass effect using iOS's native UIVisualEffectView.
iOS, tvOS, Included in Expo Go

> `GlassView` is only available on iOS 26 and above. It will fallback to regular `View` on unsupported platforms.

React components that render native iOS liquid glass effect using [`UIVisualEffectView`](https://developer.apple.com/documentation/uikit/uivisualeffectview). Supports customizable glass styles and tint color.

#### Known issues

- The `isInteractive` prop can only be set once on mount and cannot be changed dynamically after the component has been rendered. If you need to toggle interactive behavior, you must remount the component with a different `key`.
- Avoid `opacity` values less than `1` on `GlassView` or its parent views, as this causes effects to render incorrectly. Use the `animate` and `animationDuration` props in `glassEffectStyle` to fade in/out the effect instead. See [Apple's documentation](https://developer.apple.com/documentation/uikit/uivisualeffectview#Set-the-correct-alpha-value) and [GitHub issue #41024](https://github.com/expo/expo/issues/41024) for more information.

## Installation

```sh
npx expo install expo-glass-effect
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

### `GlassView`

The `GlassView` component renders the native iOS glass effect. It supports different glass effect styles and can be customized with tint colors for various aesthetic needs.

```jsx
import { StyleSheet, View, Image } from "react-native";
import { GlassView } from "expo-glass-effect";

export default function App() {
  return (
    <View style={styles.container}>
      <Image
        style={styles.backgroundImage}
        source={{
          uri: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=400&fit=crop",
        }}
      />

      {/* Basic Glass View */}
      <GlassView style={styles.glassView} />

      {/* Glass View with clear style */}
      <GlassView
        style={styles.tintedGlassView}
        glassEffectStyle="clear"
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
  },
  backgroundImage: {
    ...StyleSheet.absoluteFill,
    width: "100%",
    height: "100%",
  },
  glassView: {
    position: "absolute",
    top: 100,
    left: 50,
    width: 200,
    height: 100,
    borderRadius: 12,
    justifyContent: "center",
    alignItems: "center",
    padding: 20,
  },
  tintedGlassView: {
    position: "absolute",
    top: 250,
    left: 50,
    width: 200,
    height: 100,
    borderRadius: 12,
    justifyContent: "center",
    alignItems: "center",
    padding: 20,
  },
  text: {
    fontSize: 16,
    fontWeight: "600",
    color: "#000",
    textAlign: "center",
  },
});
```

### `GlassContainer`

The `GlassContainer` component allows you to combine multiple glass views into a combined effect.

```jsx
import { GlassView, GlassContainer } from "expo-glass-effect";
import { StyleSheet, View, Image } from "react-native";

export default function GlassContainerDemo() {
  return (
    <View style={styles.container}>
      <Image
        style={styles.backgroundImage}
        source={{
          uri: "https://images.unsplash.com/photo-1547036967-23d11aacaee0?w=400&h=600&fit=crop",
        }}
      />
      <GlassContainer
        spacing={10}
        style={styles.containerStyle}
      >
        <GlassView
          style={styles.glass1}
          isInteractive
        />
        <GlassView style={styles.glass2} />
        <GlassView style={styles.glass3} />
      </GlassContainer>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
  },
  backgroundImage: {
    ...StyleSheet.absoluteFillObject,
    width: "100%",
    height: "100%",
  },
  containerStyle: {
    position: "absolute",
    top: 200,
    left: 50,
    width: 250,
    height: 100,
    flexDirection: "row",
    alignItems: "center",
    gap: 5,
  },
  glass1: {
    width: 60,
    height: 60,
    borderRadius: 30,
  },
  glass2: {
    width: 50,
    height: 50,
    borderRadius: 25,
  },
  glass3: {
    width: 40,
    height: 40,
    borderRadius: 20,
  },
});
```

### `isLiquidGlassAvailable`

The `isLiquidGlassAvailable` function let's you check, if the Liquid Glass effect is available in the compiled application. It validates the system and compiler versions, as well as the [**Info.plist**](https://developer.apple.com/documentation/BundleResources/Information-Property-List/UIDesignRequiresCompatibility) settings.

```tsx
import { isLiquidGlassAvailable } from "expo-glass-effect";

export default function CheckLiquidGlass() {
  return (
    <Text>
      {isLiquidGlassAvailable()
        ? "Liquid Glass effect is available"
        : "Liquid Glass effect is not available"}
    </Text>
  );
}
```

### `isGlassEffectAPIAvailable`

The `isGlassEffectAPIAvailable` function checks whether the Liquid Glass API is available at runtime on the device.

> This API was added because some iOS 26 beta versions do not have the Liquid Glass API available, which can lead to crashes. You should check this before using `GlassView` in your app to ensure compatibility. See [GitHub issue #40911](https://github.com/expo/expo/issues/40911) for more information.

```tsx
import { isGlassEffectAPIAvailable } from "expo-glass-effect";

export default function CheckGlassEffectAPI() {
  return (
    <Text>
      {isGlassEffectAPIAvailable()
        ? "Glass Effect API is available"
        : "Glass Effect API is not available"}
    </Text>
  );
}
```

## API

```js
import {
  GlassView,
  GlassContainer,
  isLiquidGlassAvailable,
  isGlassEffectAPIAvailable,
} from "expo-glass-effect";
```

## Components

### `GlassContainer`

Supported platforms: iOS, tvOS.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[GlassContainerProps](#glasscontainerprops)\>

GlassContainerProps

### `spacing`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: `number`â€ƒâ€¢â€ƒDefault: `undefined`

The distance at which glass elements start affecting each other. Controls when glass elements begin to merge together.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

### `GlassView`

Supported platforms: iOS, tvOS.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[GlassViewProps](#glassviewprops)\>

GlassViewProps

### `glassEffectStyle`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: [GlassStyle](#glassstyle)â€ƒâ€¢â€ƒDefault: `'regular'`

Glass effect style to apply to the view.

### `isInteractive`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Whether the glass effect should be interactive.

### `tintColor`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: `string`

Tint color to apply to the glass effect.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

## Methods

### `isLiquidGlassAvailable()`

Supported platforms: iOS, tvOS.

Indicates whether the app is using the Liquid Glass design. The value will be `true` when the Liquid Glass components are available in the app.

This only checks for component availability. The value may also be `true` if the user has enabled accessibility settings that limit the Liquid Glass effect. To check if the user has disabled the Liquid Glass effect via accessibility settings, use [`AccessibilityInfo.isReduceTransparencyEnabled()`](https://reactnative.dev/docs/accessibilityinfo#isreducetransparencyenabled-ios).

Returns: `boolean`

## Types

### `GlassStyle`

Supported platforms: iOS, tvOS.

Literal Type: `string`

Acceptable values are: `'clear'` | `'regular'`

---

---

title: Gyroscope
description: A library that provides access to the device's gyroscope sensor.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-sensors'
packageName: 'expo-sensors'
iconUrl: '/static/images/packages/expo-sensors.png'
platforms: ['android', 'ios*', 'web', 'expo-go']

---

# Expo Gyroscope

A library that provides access to the device's gyroscope sensor.
Android, iOS (device only), Web, Included in Expo Go

`Gyroscope` from `expo-sensors` provides access to the device's gyroscope sensor to respond to changes in rotation in three-dimensional space.

## Installation

```sh
npx expo install expo-sensors
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { StyleSheet, Text, TouchableOpacity, View } from "react-native";
import { useState, useEffect } from "react";
import { Gyroscope } from "expo-sensors";

export default function App() {
  const [{ x, y, z }, setData] = useState({
    x: 0,
    y: 0,
    z: 0,
  });
  const [subscription, setSubscription] = useState(null);

  const _slow = () => Gyroscope.setUpdateInterval(1000);
  const _fast = () => Gyroscope.setUpdateInterval(16);

  const _subscribe = () => {
    setSubscription(
      Gyroscope.addListener(gyroscopeData => {
        setData(gyroscopeData);
      }),
    );
  };

  const _unsubscribe = () => {
    subscription && subscription.remove();
    setSubscription(null);
  };

  useEffect(() => {
    _subscribe();
    return () => _unsubscribe();
  }, []);

  return (
    <View style={styles.container}>
      <Text style={styles.text}>Gyroscope:</Text>
      <Text style={styles.text}>x: {x}</Text>
      <Text style={styles.text}>y: {y}</Text>
      <Text style={styles.text}>z: {z}</Text>
      <View style={styles.buttonContainer}>
        <TouchableOpacity
          onPress={subscription ? _unsubscribe : _subscribe}
          style={styles.button}
        >
          <Text>{subscription ? "On" : "Off"}</Text>
        </TouchableOpacity>
        <TouchableOpacity
          onPress={_slow}
          style={[styles.button, styles.middleButton]}
        >
          <Text>Slow</Text>
        </TouchableOpacity>
        <TouchableOpacity
          onPress={_fast}
          style={styles.button}
        >
          <Text>Fast</Text>
        </TouchableOpacity>
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    paddingHorizontal: 10,
  },
  text: {
    textAlign: "center",
  },
  buttonContainer: {
    flexDirection: "row",
    alignItems: "stretch",
    marginTop: 15,
  },
  button: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
    backgroundColor: "#eee",
    padding: 10,
  },
  middleButton: {
    borderLeftWidth: 1,
    borderRightWidth: 1,
    borderColor: "#ccc",
  },
});
```

## API

```js
import { Gyroscope } from "expo-sensors";
```

## Classes

### `Gyroscope`

Supported platforms: Android, iOS, Web.

Type: Class extends [DeviceSensor](/versions/latest/sdk/sensors)<[GyroscopeMeasurement](#gyroscopemeasurement)\>

A base class for subscribable sensors. The events emitted by this class are measurements specified by the parameter type `Measurement`.

Gyroscope Methods

### `addListener(listener)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type                                                     | Description                                                                                                                                                         |
| ---------- | -------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `listener` | Listener<[GyroscopeMeasurement](#gyroscopemeasurement)\> | A callback that is invoked when a gyroscope update is available. When invoked, the listener is provided a single argument that is an `GyroscopeMeasurement` object. |

Subscribe for updates to the gyroscope.

Returns: `EventSubscription`

A subscription that you can call `remove()` on when you would like to unsubscribe the listener.

### `getListenerCount()`

Supported platforms: Android, iOS, Web.

Returns the registered listeners count.

Returns: `number`

### `getPermissionsAsync()`

Supported platforms: Android, iOS, Web.

Checks user's permissions for accessing sensor.

Returns: `Promise<permissionresponse>`

### `hasListeners()`

Supported platforms: Android, iOS, Web.

Returns boolean which signifies if sensor has any listeners registered.

Returns: `boolean`

### `isAvailableAsync()`

Supported platforms: Android, iOS, Web.

> You should always check the sensor availability before attempting to use it.

Returns whether the gyroscope is enabled on the device.

On mobile web, you must first invoke `Gyroscope.requestPermissionsAsync()` in a user interaction (i.e. touch event) before you can use this module. If the `status` is not equal to `granted` then you should inform the end user that they may have to open settings.

On **web** this starts a timer and waits to see if an event is fired. This should predict if the iOS device has the **device orientation** API disabled in **Settings > Safari > Motion & Orientation Access**. Some devices will also not fire if the site isn't hosted with **HTTPS** as `DeviceMotion` is now considered a secure API. There is no formal API for detecting the status of `DeviceMotion` so this API can sometimes be unreliable on web.

Returns: `Promise<boolean>`

A promise that resolves to a `boolean` denoting the availability of the gyroscope.

### `removeAllListeners()`

Supported platforms: Android, iOS, Web.

Removes all registered listeners.

Returns: `void`

### `removeSubscription(subscription)`

Supported platforms: Android, iOS, Web.

| Parameter      | Type                | Description               |
| -------------- | ------------------- | ------------------------- |
| `subscription` | `EventSubscription` | A subscription to remove. |

Removes the given subscription.

Returns: `void`

### `requestPermissionsAsync()`

Supported platforms: Android, iOS, Web.

Asks the user to grant permissions for accessing sensor.

Returns: `Promise<permissionresponse>`

### `setUpdateInterval(intervalMs)`

Supported platforms: Android, iOS, Web.

| Parameter    | Type     | Description                                                                                                                                             |
| ------------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `intervalMs` | `number` | Desired interval in milliseconds between sensor updates. Starting from Android 12 (API level 31), the system has a 200ms limit for each sensor updates. |

Set the sensor update interval.

Returns: `void`

## Interfaces

### `Subscription`

Supported platforms: Android, iOS, Web.

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Supported platforms: Android, iOS, Web.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

## Types

### `GyroscopeMeasurement`

Supported platforms: Android, iOS, Web.

Each of these keys represents the rotation along that particular axis measured in radians per second (rad/s).

| Property  | Type     | Description                                                        |
| --------- | -------- | ------------------------------------------------------------------ |
| timestamp | `number` | Timestamp of the measurement in seconds.                           |
| x         | `number` | Value of rotation in radians per second device reported in X axis. |
| y         | `number` | Value of rotation in radians per second device reported in Y axis. |
| z         | `number` | Value of rotation in radians per second device reported in Z axis. |

### `PermissionExpiration`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionResponse`

Supported platforms: Android, iOS, Web.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

## Enums

### `PermissionStatus`

Supported platforms: Android, iOS, Web.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

---

---

title: Haptics
description: A library that provides access to the system's vibration effects on Android, the haptics engine on iOS, and the Web Vibration API on web.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-haptics'
packageName: 'expo-haptics'
iconUrl: '/static/images/packages/expo-haptics.png'
platforms: ['android', 'ios', 'web']

---

# Expo Haptics

A library that provides access to the system's vibration effects on Android, the haptics engine on iOS, and the Web Vibration API on web.
Android, iOS, Web

`expo-haptics` provides haptic (touch) feedback for:

- Android devices using Vibrator system service.
- iOS 10+ devices using the Taptic Engine.
- Web platforms using the Web Vibration API.

On iOS, the Taptic engine will do nothing if any of the following conditions are true on a user's device:

- Low Power Mode is enabled. This can be detected with [`expo-battery`](/versions/latest/sdk/battery).
- User disabled the Taptic Engine in settings.
- iOS Camera is active (to prevent destabilization).
- iOS dictation is active (to not disturb the microphone input).

On web, the library uses the Web Vibration API. Note the following:

- The API must be supported by the browser (check [browser compatibility](https://caniuse.com/vibration))
- The device must have vibration hardware
- The user must grant permission to use vibration (usually automatic)
- Some browsers may ignore vibration in certain contexts (for example, background tabs)

## Installation

```sh
npx expo install expo-haptics
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration

On Android, this library requires permission to control vibration on the device. The `VIBRATE` permission is added automatically.

## Usage

```jsx
import { StyleSheet, View, Text, Button } from "react-native";
import * as Haptics from "expo-haptics";

export default function App() {
  return (
    <View style={styles.container}>
      <Text style={styles.text}>Haptics.selectionAsync</Text>
      <View style={styles.buttonContainer}>
        <Button
          title="Selection"
          onPress={() => Haptics.selectionAsync()}
        />
      </View>
      <Text style={styles.text}>Haptics.notificationAsync</Text>
      <View style={styles.buttonContainer}>
        <Button
          title="Success"
          onPress={() =>
            Haptics.notificationAsync(Haptics.NotificationFeedbackType.Success)
          }
        />
        <Button
          title="Error"
          onPress={() =>
            Haptics.notificationAsync(Haptics.NotificationFeedbackType.Error)
          }
        />
        <Button
          title="Warning"
          onPress={() =>
            Haptics.notificationAsync(Haptics.NotificationFeedbackType.Warning)
          }
        />
      </View>
      <Text style={styles.text}>Haptics.impactAsync</Text>
      <View style={styles.buttonContainer}>
        <Button
          title="Light"
          onPress={() => Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light)}
        />
        <Button
          title="Medium"
          onPress={() =>
            Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Medium)
          }
        />
        <Button
          title="Heavy"
          onPress={() => Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Heavy)}
        />
        <Button
          title="Rigid"
          onPress={() => Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Rigid)}
        />
        <Button
          title="Soft"
          onPress={() => Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Soft)}
        />
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    paddingHorizontal: 16,
  },
  buttonContainer: {
    flexDirection: "row",
    alignItems: "stretch",
    marginTop: 10,
    marginBottom: 30,
    justifyContent: "space-between",
  },
});
```

## API

```js
import * as Haptics from "expo-haptics";
```

## Methods

### `Haptics.impactAsync(style)`

Supported platforms: Android, iOS, Web.

| Parameter         | Type                                        | Description                                                                                                                                                                                                                                                                                                                                                                                                             |
| ----------------- | ------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `style`(optional) | [ImpactFeedbackStyle](#impactfeedbackstyle) | A collision indicator that on Android is simulated using [`Vibrator`](https://developer.android.com/reference/android/os/Vibrator) and on iOS, it is directly mapped to [`UIImpactFeedbackStyle`](https://developer.apple.com/documentation/uikit/uiimpactfeedbackgenerator/feedbackstyle). You can use one of `Haptics.ImpactFeedbackStyle.{Light, Medium, Heavy, Rigid, Soft}`. Default: `ImpactFeedbackStyle.Medium` |

Returns: `Promise<void>`

A `Promise` which fulfills once native size haptics functionality is triggered.

> **See:** Android's `Vibrator` API is not recommended for implementing haptics feedback. **Instead, you should use [`performAndroidHapticsAsync`](#hapticsperformandroidhapticsasynctype), which is similar to iOS haptic feedback and does not require `VIBRATE` permission.**

### `Haptics.notificationAsync(type)`

Supported platforms: Android, iOS, Web.

| Parameter        | Type                                                  | Description                                                                                                                                                                                                                                                                                                                                                                                                      |
| ---------------- | ----------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `type`(optional) | [NotificationFeedbackType](#notificationfeedbacktype) | A notification feedback type that on Android is simulated using [`Vibrator`](https://developer.android.com/reference/android/os/Vibrator) and iOS is directly mapped to [`UINotificationFeedbackType`](https://developer.apple.com/documentation/uikit/uinotificationfeedbacktype). You can use one of `Haptics.NotificationFeedbackType.{Success, Warning, Error}`. Default: `NotificationFeedbackType.Success` |

The kind of notification response used in the feedback.

Returns: `Promise<void>`

A `Promise` which fulfills once native size haptics functionality is triggered.

### `Haptics.performAndroidHapticsAsync(type)`

Supported platforms: Android.

| Parameter | Type                              |
| --------- | --------------------------------- |
| `type`    | [AndroidHaptics](#androidhaptics) |

Use the device haptics engine to provide physical feedback to the user.

Returns: `Promise<void>`

### `Haptics.selectionAsync()`

Supported platforms: Android, iOS, Web.

Used to let a user know when a selection change has been registered.

Returns: `Promise<void>`

A `Promise` which fulfills once native size haptics functionality is triggered.

## Enums

### `AndroidHaptics`

Supported platforms: Android.

#### `Clock_Tick`

`AndroidHaptics.Clock_Tick = "clock-tick"`

The user has pressed either an hour or minute tick of a Clock.

#### `Confirm`

`AndroidHaptics.Confirm = "confirm"`

A haptic effect to signal the confirmation or successful completion of a user interaction.

#### `Context_Click`

`AndroidHaptics.Context_Click = "context-click"`

The user has performed a context click on an object.

#### `Drag_Start`

`AndroidHaptics.Drag_Start = "drag-start"`

The user has started a drag-and-drop gesture. The drag target has just been "picked up".

#### `Gesture_End`

`AndroidHaptics.Gesture_End = "gesture-end"`

The user has finished a gesture (for example, on the soft keyboard).

#### `Gesture_Start`

`AndroidHaptics.Gesture_Start = "gesture-start"`

The user has started a gesture (for example, on the soft keyboard).

#### `Keyboard_Press`

`AndroidHaptics.Keyboard_Press = "keyboard-press"`

The user has pressed a virtual or software keyboard key.

#### `Keyboard_Release`

`AndroidHaptics.Keyboard_Release = "keyboard-release"`

The user has released a virtual keyboard key.

#### `Keyboard_Tap`

`AndroidHaptics.Keyboard_Tap = "keyboard-tap"`

The user has pressed a soft keyboard key.

#### `Long_Press`

`AndroidHaptics.Long_Press = "long-press"`

The user has performed a long press on an object that results in an action being performed.

#### `No_Haptics`

`AndroidHaptics.No_Haptics = "no-haptics"`

No haptic feedback should be performed.

#### `Reject`

`AndroidHaptics.Reject = "reject"`

A haptic effect to signal the rejection or failure of a user interaction.

#### `Segment_Frequent_Tick`

`AndroidHaptics.Segment_Frequent_Tick = "segment-frequent-tick"`

The user is switching between a series of many potential choices. For example, minutes on a clock face or individual percentages. This constant is expected to be very soft, so as not to be uncomfortable when performed a lot in quick succession. If the device can't make a suitably soft vibration, then it may not make any vibration.

#### `Segment_Tick`

`AndroidHaptics.Segment_Tick = "segment-tick"`

The user is switching between a series of potential choices. For example, items in a list or discrete points on a slider.

#### `Text_Handle_Move`

`AndroidHaptics.Text_Handle_Move = "text-handle-move"`

The user has performed a selection/insertion handle move on text field.

#### `Toggle_Off`

`AndroidHaptics.Toggle_Off = "toggle-off"`

The user has toggled a switch or button into the off position.

#### `Toggle_On`

`AndroidHaptics.Toggle_On = "toggle-on"`

The user has toggled a switch or button into the on position.

#### `Virtual_Key`

`AndroidHaptics.Virtual_Key = "virtual-key"`

The user has pressed on a virtual on-screen key.

#### `Virtual_Key_Release`

`AndroidHaptics.Virtual_Key_Release = "virtual-key-release"`

The user has released a virtual key.

### `ImpactFeedbackStyle`

Supported platforms: Android, iOS, Web.

The mass of the objects in the collision simulated by a `UIImpactFeedbackGenerator` object [`UINotificationFeedbackStyle`](https://developer.apple.com/documentation/uikit/uiimpactfeedbackgenerator/feedbackstyle).

#### `Heavy`

`ImpactFeedbackStyle.Heavy = "heavy"`

A collision between large, heavy user interface elements.

#### `Light`

`ImpactFeedbackStyle.Light = "light"`

A collision between small, light user interface elements.

#### `Medium`

`ImpactFeedbackStyle.Medium = "medium"`

A collision between moderately sized user interface elements.

#### `Rigid`

`ImpactFeedbackStyle.Rigid = "rigid"`

A collision between user interface elements that are rigid, exhibiting a small amount of compression or elasticity.

#### `Soft`

`ImpactFeedbackStyle.Soft = "soft"`

A collision between user interface elements that are soft, exhibiting a large amount of compression or elasticity.

### `NotificationFeedbackType`

Supported platforms: Android, iOS, Web.

The type of notification feedback generated by a `UINotificationFeedbackGenerator` object. [`UINotificationFeedbackType`](https://developer.apple.com/documentation/uikit/uinotificationfeedbackgenerator/feedbacktype).

#### `Error`

`NotificationFeedbackType.Error = "error"`

A notification feedback type indicating that a task has failed.

#### `Success`

`NotificationFeedbackType.Success = "success"`

A notification feedback type indicating that a task has completed successfully.

#### `Warning`

`NotificationFeedbackType.Warning = "warning"`

A notification feedback type indicating that a task has produced a warning.

---

---

title: Image
description: A cross-platform and performant React component that loads and renders images.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-image'
packageName: 'expo-image'
iconUrl: '/static/images/packages/expo-image.png'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo Image

A cross-platform and performant React component that loads and renders images.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-image` is a cross-platform React component that loads and renders images.

**Main features:**

- Designed for speed
- Support for many image formats (including animated ones)
- Disk and memory caching
- Supports [BlurHash](https://blurha.sh) and [ThumbHash](https://evanw.github.io/thumbhash/) - compact representations of a placeholder for an image
- Transitioning between images when the source changes (no more flickering!)
- Implements the CSS [`object-fit`](https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit) and [`object-position`](https://developer.mozilla.org/en-US/docs/Web/CSS/object-position) properties (see [`contentFit`](/versions/latest/sdk/image#contentfit) and [`contentPosition`](/versions/latest/sdk/image#contentposition) props)
- Uses performant [`SDWebImage`](https://github.com/SDWebImage/SDWebImage) and [`Glide`](https://github.com/bumptech/glide) under the hood

#### Supported image formats

| Format     | Android | iOS | Web                                           |
| ---------- | ------- | --- | --------------------------------------------- |
| WebP       | âœ“       | âœ“   | âœ“                                             |
| PNG / APNG | âœ“       | âœ“   | âœ“                                             |
| AVIF       | âœ“       | âœ“   | âœ“                                             |
| HEIC       | âœ“       | âœ“   | âœ— [not adopted yet](https://caniuse.com/heif) |
| JPEG       | âœ“       | âœ“   | âœ“                                             |
| GIF        | âœ“       | âœ“   | âœ“                                             |
| SVG        | âœ“       | âœ“   | âœ“                                             |
| ICO        | âœ“       | âœ“   | âœ“                                             |
| ICNS       | âœ—       | âœ“   | âœ—                                             |

## Installation

```sh
npx expo install expo-image
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { StyleSheet, View } from "react-native";
import { Image } from "expo-image";

const blurhash =
  "|rF?hV%2WCj[ayj[a|j[az_NaeWBj@ayfRayfQfQM{M|azj[azf6fQfQfQIpWXofj[ayj[j[fQayWCoeoeaya}j[ayfQa{oLj?j[WVj[ayayj[fQoff7azayj[ayj[j[ayofayayayj[fQj[ayayj[ayfjj[j[ayjuayj[";

export default function App() {
  return (
    <View style={styles.container}>
      <Image
        style={styles.image}
        source="https://picsum.photos/seed/696/3000/2000"
        placeholder={{ blurhash }}
        contentFit="cover"
        transition={1000}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#fff",
    alignItems: "center",
    justifyContent: "center",
  },
  image: {
    flex: 1,
    width: "100%",
    backgroundColor: "#0553",
  },
});
```

## API

```js
import { Image } from "expo-image";
```

## Components

### `Image`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[PureComponent](https://react.dev/reference/react/PureComponent)<[ImageProps](#imageprops)\>

Some props are from React Native Image that Expo Image supports (more or less) for easier migration, but all of them are deprecated and might be removed in the future.

ImageProps

### `accessibilityLabel`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`â€ƒâ€¢â€ƒDefault: `undefined`

The text that's read by the screen reader when the user interacts with the image. Sets the `alt` tag on web which is used for web crawlers and link traversal.

### `accessible`

Supported platforms: Android, iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

When true, indicates that the view is an accessibility element. When a view is an accessibility element, it groups its children into a single selectable component.

On Android, the `accessible` property will be translated into the native `isScreenReaderFocusable`, so it's only affecting the screen readers behaviour.

### `allowDownscaling`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Whether the image should be downscaled to match the size of the view container. Turning off this functionality could negatively impact the application's performance, particularly when working with large assets. However, it would result in smoother image resizing, and end-users would always have access to the highest possible asset quality.

Downscaling is never used when the `contentFit` prop is set to `none` or `fill`.

### `alt`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`â€ƒâ€¢â€ƒDefault: `undefined`

The text that's read by the screen reader when the user interacts with the image. Sets the `alt` tag on web which is used for web crawlers and link traversal. Is an alias for `accessibilityLabel`.

### `autoplay`

Supported platforms: Android, iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Determines if an image should automatically begin playing if it is an animated image.

### `blurRadius`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `number`â€ƒâ€¢â€ƒDefault: `0`

The radius of the blur in points, `0` means no blur effect. This effect is not applied to placeholders.

### `cachePolicy`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`â€ƒâ€¢â€ƒDefault: `'disk'`

Determines whether to cache the image and where: on the disk, in the memory or both.

- `'none'` - Image is not cached at all.
- `'disk'` - Image is queried from the disk cache if exists, otherwise it's downloaded and then stored on the disk.
- `'memory'` - Image is cached in memory. Might be useful when you render a high-resolution picture many times. Memory cache may be purged very quickly to prevent high memory usage and the risk of out of memory exceptions.
- `'memory-disk'` - Image is cached in memory, but with a fallback to the disk cache.

Acceptable values are: `null` | `'none'` | `'disk'` | `'memory'` | `'memory-disk'`

### `contentFit`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `ImageContentFit`â€ƒâ€¢â€ƒDefault: `'cover'`

Determines how the image should be resized to fit its container. This property tells the image to fill the container in a variety of ways; such as "preserve that aspect ratio" or "stretch up and take up as much space as possible". It mirrors the CSS [`object-fit`](https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit) property.

- `'cover'` - The image is sized to maintain its aspect ratio while filling the container box. If the image's aspect ratio does not match the aspect ratio of its box, then the object will be clipped to fit.
- `'contain'` - The image is scaled down or up to maintain its aspect ratio while fitting within the container box.
- `'fill'` - The image is sized to entirely fill the container box. If necessary, the image will be stretched or squished to fit.
- `'none'` - The image is not resized and is centered by default. When specified, the exact position can be controlled with [`contentPosition`](#contentposition) prop.
- `'scale-down'` - The image is sized as if `none` or `contain` were specified, whichever would result in a smaller concrete image size.

### `contentPosition`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [ImageContentPosition](#imagecontentposition)â€ƒâ€¢â€ƒDefault: `'center'`

It is used together with [`contentFit`](#contentfit) to specify how the image should be positioned with x/y coordinates inside its own container. An equivalent of the CSS [`object-position`](https://developer.mozilla.org/en-US/docs/Web/CSS/object-position) property.

### `decodeFormat`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: `ImageDecodeFormat`â€ƒâ€¢â€ƒDefault: `'argb'`

The format in which the image data should be decoded. It's not guaranteed that the platform will use the specified format.

- `'argb'` - The image is decoded into a 32-bit color space with alpha channel ([https://developer.android.com/reference/android/graphics/Bitmap.Config#ARGB_8888](https://developer.android.com/reference/android/graphics/Bitmap.Config#ARGB_8888)).
- `'rgb'` - The image is decoded into a 16-bit color space without alpha channel ([https://developer.android.com/reference/android/graphics/Bitmap.Config#RGB_565](https://developer.android.com/reference/android/graphics/Bitmap.Config#RGB_565)).

> **Deprecated:** Provides compatibility for [`defaultSource` from React Native Image](https://reactnative.dev/docs/image#defaultsource). Use [`placeholder`](#placeholder) prop instead.

### `defaultSource`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

Acceptable values are: `null` | [ImageSource](#imagesource)

### `enableLiveTextInteraction`

Supported platforms: iOS 16.0+.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Enables Live Text interaction with the image. Check official [Apple documentation](https://developer.apple.com/documentation/visionkit/enabling_live_text_interactions_with_images) for more details.

### `enforceEarlyResizing`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Force early resizing of the image to match the container size. This option helps to reduce the memory usage of the image view, especially when the image is larger than the container. It may affect the `resizeType` and `contentPosition` properties when the image view is resized dynamically.

> **Deprecated:** Provides compatibility for [`fadeDuration` from React Native Image](https://reactnative.dev/docs/image#fadeduration-android). Instead use [`transition`](#transition) with the provided duration.

### `fadeDuration`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `number`

### `focusable`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Whether this View should be focusable with a non-touch input device and receive focus with a hardware keyboard.

> **Deprecated:** Provides compatibility for [`loadingIndicatorSource` from React Native Image](https://reactnative.dev/docs/image#loadingindicatorsource). Use [`placeholder`](#placeholder) prop instead.

### `loadingIndicatorSource`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

Acceptable values are: `null` | [ImageSource](#imagesource)

### `onDisplay`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

Called when the image view successfully rendered the source image.

### `onError`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: (event: [ImageErrorEventData](#imageerroreventdata)) => void

Called on an image fetching error.

### `onLoad`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: (event: [ImageLoadEventData](#imageloadeventdata)) => void

Called when the image load completes successfully.

### `onLoadEnd`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

Called when the image load either succeeds or fails.

### `onLoadStart`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

Called when the image starts to load.

### `onProgress`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: (event: [ImageProgressEventData](#imageprogresseventdata)) => void

Called when the image is loading. Can be called multiple times before the image has finished loading. The event object provides details on how many bytes were loaded so far and what's the expected total size.

### `placeholder`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

An image to display while loading the proper image and no image has been displayed yet or the source is unset.

> **Note**: The default value for placeholder's content fit is 'scale-down', which differs from the source image's default value. Using a lower-resolution placeholder may cause flickering due to scaling differences between it and the final image. To prevent this, you can set the [`placeholderContentFit`](#placeholdercontentfit) to match the [`contentFit`](#contentfit) value.

Acceptable values are: `null` | `string` | `number` | [ImageSource](#imagesource) | [SharedRef](/versions/v54.0.0/sdk/expo#sharedreftype)<'image'\> | [ImageSource[]](#imagesource) | `string[]`

### `placeholderContentFit`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `ImageContentFit`â€ƒâ€¢â€ƒDefault: `'scale-down'`

Determines how the placeholder should be resized to fit its container. Available resize modes are the same as for the [`contentFit`](#contentfit) prop.

### `preferHighDynamicRange`

Supported platforms: iOS 17.0+, tvOS 17.0+.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Controls whether the image view can leverage the extended dynamic range (EDR). Use this prop if you want to support high dynamic range (HDR) images, otherwise all images are rendered as standard dynamic range (SDR).

### `priority`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`â€ƒâ€¢â€ƒDefault: `'normal'`

Priorities for completing loads. If more than one load is queued at a time, the load with the higher priority will be started first. Priorities are considered best effort, there are no guarantees about the order in which loads will start or finish.

Acceptable values are: `null` | `'low'` | `'normal'` | `'high'`

### `recyclingKey`

Supported platforms: Android, iOS.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`â€ƒâ€¢â€ƒDefault: `null`

Changing this prop resets the image view content to blank or a placeholder before loading and rendering the final image. This is especially useful for any kinds of recycling views like [FlashList](https://github.com/shopify/flash-list) to prevent showing the previous source before the new one fully loads.

Acceptable values are: `null` | `string`

> **Deprecated:** Provides compatibility for [`resizeMode` from React Native Image](https://reactnative.dev/docs/image#resizemode). Note that `"repeat"` option is not supported at all. Use the more powerful [`contentFit`](#contentfit) and [`contentPosition`](#contentposition) props instead.

### `resizeMode`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `string`

Acceptable values are: `'cover'` | `'contain'` | `'center'` | `'stretch'` | `'repeat'`

### `responsivePolicy`

Supported platforms: Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `string`â€ƒâ€¢â€ƒDefault: `'static'`

Controls the selection of the image source based on the container or viewport size on the web.

If set to `'static'`, the browser selects the correct source based on user's viewport width. Works with static rendering. Make sure to set the `'webMaxViewportWidth'` property on each source for best results. For example, if an image occupies 1/3 of the screen width, set the `'webMaxViewportWidth'` to 3x the image width. The source with the largest `'webMaxViewportWidth'` is used even for larger viewports.

If set to `'initial'`, the component will select the correct source during mount based on container size. Does not work with static rendering.

If set to `'live'`, the component will select the correct source on every resize based on container size. Does not work with static rendering.

Acceptable values are: `'live'` | `'initial'` | `'static'`

### `source`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

The image source, either a remote URL, a local file resource or a number that is the result of the `require()` function. When provided as an array of sources, the source that fits best into the container size and is closest to the screen scale will be chosen. In this case it is important to provide `width`, `height` and `scale` properties.

Acceptable values are: `null` | `string` | `number` | [ImageSource](#imagesource) | [SharedRef](/versions/v54.0.0/sdk/expo#sharedreftype)<'image'\> | [ImageSource[]](#imagesource) | `string[]`

### `tintColor`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`â€ƒâ€¢â€ƒDefault: `null`

A color used to tint template images (a bitmap image where only the opacity matters). The color is applied to every non-transparent pixel, causing the image's shape to adopt that color. This effect is not applied to placeholders.

Acceptable values are: `null` | `string`

### `transition`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

Describes how the image view should transition the contents when switching the image source.  
If provided as a number, it is the duration in milliseconds of the `'cross-dissolve'` effect.

Acceptable values are: `null` | `number` | [ImageTransition](#imagetransition)

### `useAppleWebpCodec`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Whether to use the Apple's default WebP codec.

Set this prop to `false` to use the official standard-compliant [libwebp](https://github.com/webmproject/libwebp) codec for WebP images. The default implementation from Apple is faster and uses less memory but may render animated images with incorrect blending or play them at the wrong framerate.

> **See:** [https://github.com/SDWebImage/SDWebImage/wiki/Advanced-Usage#awebp-coder](https://github.com/SDWebImage/SDWebImage/wiki/Advanced-Usage#awebp-coder)

#### Inherited Props

- [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[ViewProps](https://reactnative.dev/docs/view#props), 'style' | 'children'\>

### `ImageBackground`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[ImageBackgroundProps](#imagebackgroundprops)\>

It allows you to use an image as a background while rendering other content on top of it. It extends all `Image` props but provides separate styling controls for the container and the background image itself.

ImageBackgroundProps

### `imageStyle`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: StyleProp<[ImageStyle](#imagestyle)\>

Style object for the image.

### `style`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: StyleProp<[ViewStyle](https://reactnative.dev/docs/view-style-props)\>

The style of the image container.

#### Inherited Props

- [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[ImageProps](#imageprops), 'style'\>

## Static Methods

### `clearDiskCache()`

Supported platforms: Android, iOS.

Asynchronously clears all images from the disk cache.

Returns: `Promise<boolean>`

A promise resolving to `true` when the operation succeeds. It may resolve to `false` on Android when the activity is no longer available. Resolves to `false` on Web.

### `clearMemoryCache()`

Supported platforms: Android, iOS.

Asynchronously clears all images stored in memory.

Returns: `Promise<boolean>`

A promise resolving to `true` when the operation succeeds. It may resolve to `false` on Android when the activity is no longer available. Resolves to `false` on Web.

### `generateBlurhashAsync(source, numberOfComponents)`

Supported platforms: Android, iOS.

| Parameter            | Type              | Description                        |
| -------------------- | ----------------- | ---------------------------------- | ---------------------------------------------------------------------------------------------------- |
| `source`             | `string           | ImageRef`                          | The image source, either a URL (string) or an ImageRef                                               |
| `numberOfComponents` | `[number, number] | { height: number, width: number }` | The number of components to encode the blurhash with. Must be between 1 and 9. Defaults to `[4, 3]`. |

Asynchronously generates a [Blurhash](https://blurha.sh) from an image.

Returns: `Promise<null>`

A promise resolving to the blurhash string.

### `generateThumbhashAsync(source)`

Supported platforms: Android, iOS.

| Parameter | Type    | Description |
| --------- | ------- | ----------- | ------------------------------------------------------ |
| `source`  | `string | ImageRef`   | The image source, either a URL (string) or an ImageRef |

Asynchronously generates a [Thumbhash](https://evanw.github.io/thumbhash/) from an image.

Returns: `Promise<string>`

A promise resolving to the thumbhash string.

### `getCachePathAsync(cacheKey)`

Supported platforms: Android, iOS.

| Parameter  | Type     | Description                                                                                                              |
| ---------- | -------- | ------------------------------------------------------------------------------------------------------------------------ |
| `cacheKey` | `string` | The cache key for the requested image. Unless you have set a custom cache key, this will be the source URL of the image. |

Asynchronously checks if an image exists in the disk cache and resolves to the path of the cached image if it does.

Returns: `Promise<null>`

A promise resolving to the path of the cached image. It will resolve to `null` if the image does not exist in the cache.

### `loadAsync(source, options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                  |
| ------------------- | ------------------------------------- | ------ | --------------------------- |
| `source`            | string                                | number | [ImageSource](#imagesource) |
| `options`(optional) | [ImageLoadOptions](#imageloadoptions) |

Loads an image from the given source to memory and resolves to an object that references the native image instance.

Returns: `Promise<imageref>`

### `prefetch(urls, cachePolicy)`

Supported platforms: Android, iOS, tvOS, Web.

Overload #1

| Parameter               | Type    | Description |
| ----------------------- | ------- | ----------- | ------------------------------------------------------- | --------------------------------------- |
| `urls`                  | `string | string[]`   | A URL string or an array of URLs of images to prefetch. |
| `cachePolicy`(optional) | `'disk' | 'memory'    | 'memory-disk'`                                          | The cache policy for prefetched images. |

Preloads images at the given URLs that can be later used in the image view. Preloaded images are cached to the memory and disk by default, so make sure to use `disk` (default) or `memory-disk` [cache policy](#cachepolicy).

Returns: `Promise<boolean>`

A promise resolving to `true` as soon as all images have been successfully prefetched. If an image fails to be prefetched, the promise will immediately resolve to `false` regardless of whether other images have finished prefetching.

### `prefetch(urls, options)`

Supported platforms: Android, iOS, tvOS, Web.

Overload #2

| Parameter           | Type                                          | Description                     |
| ------------------- | --------------------------------------------- | ------------------------------- | ------------------------------------------------------- |
| `urls`              | `string                                       | string[]`                       | A URL string or an array of URLs of images to prefetch. |
| `options`(optional) | [ImagePrefetchOptions](#imageprefetchoptions) | Options for prefetching images. |

Preloads images at the given URLs that can be later used in the image view. Preloaded images are cached to the memory and disk by default, so make sure to use `disk` (default) or `memory-disk` [cache policy](#cachepolicy).

Returns: `Promise<boolean>`

A promise resolving to `true` as soon as all images have been successfully prefetched. If an image fails to be prefetched, the promise will immediately resolve to `false` regardless of whether other images have finished prefetching.

## Component Methods

### `getAnimatableRef()`

Supported platforms: Android, iOS, tvOS, Web.

Returns: `null | View | Image`

### `lockResourceAsync()`

Supported platforms: Android, iOS.

Prevents the resource from being reloaded by locking it.

Returns: `Promise<void>`

### `reloadAsync()`

Supported platforms: Android, iOS.

Reloads the resource, ignoring lock.

Returns: `Promise<void>`

### `startAnimating()`

Supported platforms: Android, iOS.

Asynchronously starts playback of the view's image if it is animated.

Returns: `Promise<void>`

### `stopAnimating()`

Supported platforms: Android, iOS.

Asynchronously stops the playback of the view's image if it is animated.

Returns: `Promise<void>`

### `unlockResourceAsync()`

Supported platforms: Android, iOS.

Releases the lock on the resource, allowing it to be reloaded.

Returns: `Promise<void>`

## Hooks

### `useImage(source, options, dependencies)`

Supported platforms: Android, iOS, Web.

| Parameter                | Type                                  |
| ------------------------ | ------------------------------------- | ------ | --------------------------- |
| `source`                 | string                                | number | [ImageSource](#imagesource) |
| `options`(optional)      | [ImageLoadOptions](#imageloadoptions) |
| `dependencies`(optional) | `DependencyList`                      |

A hook that loads an image from the given source and returns a reference to the native image instance, or `null` until the first image is successfully loaded.

It loads a new image every time the `uri` of the provided source changes. To trigger reloads in some other scenarios, you can provide an additional dependency list.

Returns: `ImageRef | null`

Example

```ts
import { useImage, Image } from 'expo-image';
import { Text } from 'react-native';

export default function MyImage() {
  const image = useImage('https://picsum.photos/1000/800', {
    maxWidth: 800,
    onError(error, retry) {
      console.error('Loading failed:', error.message);
    }
  });

  if (!image) {
    return <Text>Image is loading...</Text>;
  }

  return <Image source={image} style={{ width: image.width / 2, height: image.height / 2 }} />;
}
```

## Classes

### `ImageRef`

Supported platforms: Android, iOS, tvOS, Web.

Type: Class extends [SharedRef](/versions/v54.0.0/sdk/expo#sharedreftype)<'image'\>

An object that is a reference to a native image instance â€“ [Drawable](https://developer.android.com/reference/android/graphics/drawable/Drawable) on Android and [UIImage](https://developer.apple.com/documentation/uikit/uiimage) on iOS. Instances of this class can be passed as a source to the [Image](#image) component in which case the image is rendered immediately since its native representation is already available in the memory.

ImageRef Properties

### `height`

Supported platforms: Android, iOS, tvOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: `number`

Logical height of the image. Multiply it by the value in the `scale` property to get the height in pixels.

### `isAnimated`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒRead Onlyâ€ƒâ€¢â€ƒType: `boolean`

Whether the referenced image is an animated image.

### `mediaType`

Supported platforms: iOS.

Read Onlyâ€ƒâ€¢â€ƒLiteral type: `union`

Media type (also known as MIME type) of the image, based on its format. Returns `null` when the format is unknown or not supported.

Acceptable values are: `null` | `string`

### `nativeRefType`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string`

The type of the native reference.

### `scale`

Supported platforms: Android, iOS, tvOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: `number`

On iOS, if you load an image from a file whose name includes the `@2x` modifier, the scale is set to **2.0**. All other images are assumed to have a scale factor of **1.0**. On Android, it calculates the scale based on the bitmap density divided by screen density.

On all platforms, if you multiply the logical size of the image by this value, you get the dimensions of the image in pixels.

### `width`

Supported platforms: Android, iOS, tvOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: `number`

Logical width of the image. Multiply it by the value in the `scale` property to get the width in pixels.

## Types

### `ImageContentPosition`

Supported platforms: Android, iOS, tvOS, Web.

Specifies the position of the image inside its container. One value controls the x-axis and the second value controls the y-axis.

Additionally, it supports stringified shorthand form that specifies the edges to which to align the image content:  
`'center'`, `'top'`, `'right'`, `'bottom'`, `'left'`, `'top center'`, `'top right'`, `'top left'`, `'right center'`, `'right top'`, `'right bottom'`, `'bottom center'`, `'bottom right'`, `'bottom left'`, `'left center'`, `'left top'`, `'left bottom'`.  
If only one keyword is provided, then the other dimension is set to `'center'` (`'50%'`), so the image is placed in the middle of the specified edge.  
As an example, `'top right'` is the same as `{ top: 0, right: 0 }` and `'bottom'` is the same as `{ bottom: 0, left: '50%' }`.

Type: `ImageContentPositionString` or `object` shaped as below:

| Property        | Type                                                    | Description |
| --------------- | ------------------------------------------------------- | ----------- |
| right(optional) | [ImageContentPositionValue](#imagecontentpositionvalue) | -           |
| top(optional)   | [ImageContentPositionValue](#imagecontentpositionvalue) | -           |

Or `object` shaped as below:

| Property       | Type                                                    | Description |
| -------------- | ------------------------------------------------------- | ----------- |
| left(optional) | [ImageContentPositionValue](#imagecontentpositionvalue) | -           |
| top(optional)  | [ImageContentPositionValue](#imagecontentpositionvalue) | -           |

Or `object` shaped as below:

| Property         | Type                                                    | Description |
| ---------------- | ------------------------------------------------------- | ----------- |
| bottom(optional) | [ImageContentPositionValue](#imagecontentpositionvalue) | -           |
| right(optional)  | [ImageContentPositionValue](#imagecontentpositionvalue) | -           |

Or `object` shaped as below:

| Property         | Type                                                    | Description |
| ---------------- | ------------------------------------------------------- | ----------- |
| bottom(optional) | [ImageContentPositionValue](#imagecontentpositionvalue) | -           |
| left(optional)   | [ImageContentPositionValue](#imagecontentpositionvalue) | -           |

### `ImageContentPositionValue`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `union`

A value that represents the relative position of a single axis.

If `number`, it is a distance in points (logical pixels) from the respective edge.  
If `string`, it must be a percentage value where `'100%'` is the difference in size between the container and the image along the respective axis, or `'center'` which is an alias for `'50%'` that is the default value. You can read more regarding percentages on the MDN docs for [`background-position`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-position#regarding_percentages) that describes this concept well.

Acceptable values are: `number` | `string` | `{number}%` | `{number}` | `'center'`

### `ImageErrorEventData`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type     | Description |
| -------- | -------- | ----------- |
| error    | `string` | -           |

### `ImageLoadEventData`

Supported platforms: Android, iOS, tvOS, Web.

| Property  | Type                                                      | Description                         |
| --------- | --------------------------------------------------------- | ----------------------------------- | --------- | --- |
| cacheType | `'none'                                                   | 'disk'                              | 'memory'` | -   |
| source    | `{ height: number, isAnimated: boolean, mediaType: string | null, url: string, width: number }` | -         |

### `ImageLoadOptions`

Supported platforms: Android, iOS, tvOS, Web.

An object with options for the [`useImage`](#useimage) hook.

| Property            | Type                                                                                                                                | Description                                                                                                                               |
| ------------------- | ----------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| maxHeight(optional) | `number`                                                                                                                            | If provided, the image will be automatically resized to not exceed this height in pixels, preserving its aspect ratio.                    |
| maxWidth(optional)  | `number`                                                                                                                            | If provided, the image will be automatically resized to not exceed this width in pixels, preserving its aspect ratio.                     |
| onError(optional)   | (error: [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error), retry: () => void) => void | Function to call when the image has failed to load. In addition to the error, it also provides a function that retries loading the image. |

### `ImagePrefetchOptions`

Supported platforms: Android, iOS, tvOS, Web.

| Property              | Type                     | Description                                          |
| --------------------- | ------------------------ | ---------------------------------------------------- | --------- | ---------------------------------------------------------------- |
| cachePolicy(optional) | `'disk'                  | 'memory-disk'                                        | 'memory'` | The cache policy for prefetched images. Default: `'memory-disk'` |
| headers(optional)     | `Record<string, string>` | A map of headers to use when prefetching the images. |

### `ImageProgressEventData`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type     | Description |
| -------- | -------- | ----------- |
| loaded   | `number` | -           |
| total    | `number` | -           |

### `ImageSource`

Supported platforms: Android, iOS, tvOS, Web.

| Property                      | Type                     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ----------------------------- | ------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| blurhash(optional)            | `string`                 | A string used to generate the image [`placeholder`](#placeholder). For example, `placeholder={blurhash}`. If `uri` is provided as the value of the `source` prop, this is ignored since the `source` can only have `blurhash` or `uri`. When using the blurhash, you should also provide `width` and `height` (higher values reduce performance), otherwise their default value is `16`. For more information, see [`woltapp/blurhash`](https://github.com/woltapp/blurhash) repository. |
| cacheKey(optional)            | `string`                 | The cache key used to query and store this specific image. If not provided, the `uri` is used also as the cache key.                                                                                                                                                                                                                                                                                                                                                                     |
| headers(optional)             | `Record<string, string>` | An object representing the HTTP headers to send along with the request for a remote image. On web requires the `Access-Control-Allow-Origin` header returned by the server to include the current domain.                                                                                                                                                                                                                                                                                |
| height(optional)              | `number                  | null`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Can be specified if known at build time, in which case the value will be used to set the default `<Image/>` component dimension. |
| isAnimated(optional)          | `boolean`                | Supported platforms: Android, iOS. Whether the image is animated (an animated GIF or WebP for example).                                                                                                                                                                                                                                                                                                                                                                                  |
| thumbhash(optional)           | `string`                 | A string used to generate the image [`placeholder`](#placeholder). For example, `placeholder={thumbhash}`. If `uri` is provided as the value of the `source` prop, this is ignored since the `source` can only have `thumbhash` or `uri`. For more information, see [`thumbhash website`](https://evanw.github.io/thumbhash/).                                                                                                                                                           |
| uri(optional)                 | `string`                 | A string representing the resource identifier for the image, which could be an HTTPS address, a local file path, or the name of a static image resource.                                                                                                                                                                                                                                                                                                                                 |
| webMaxViewportWidth(optional) | `number`                 | Supported platforms: Web. The max width of the viewport for which this source should be selected. Has no effect if `source` prop is not an array or has only 1 element. Has no effect if `responsivePolicy` is not set to `static`. Ignored if `blurhash` or `thumbhash` is provided (image hashes are never selected if passed in an array).                                                                                                                                            |
| width(optional)               | `number                  | null`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Can be specified if known at build time, in which case the value will be used to set the default `<Image/>` component dimension. |

### `ImageTransition`

Supported platforms: Android, iOS, tvOS, Web.

An object that describes the smooth transition when switching the image source.

| Property           | Type              | Description                                                  |
| ------------------ | ----------------- | ------------------------------------------------------------ | ----------------- | ------------------ | ----------------------------------------------------------------------------------------------------------------------- | --------- | ----------- | ----- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| duration(optional) | `number`          | The duration of the transition in milliseconds. Default: `0` |
| effect(optional)   | `'cross-dissolve' | 'flip-from-top'                                              | 'flip-from-right' | 'flip-from-bottom' | 'flip-from-left'                                                                                                        | 'curl-up' | 'curl-down' | null` | An animation effect used for transition. Default: ``'cross-dissolve' On Android, only `'cross-dissolve'` is supported. On Web, `'curl-up'` and `'curl-down'` effects are not supported.`` |
| timing(optional)   | `'ease-in-out'    | 'ease-in'                                                    | 'ease-out'        | 'linear'`          | Specifies the speed curve of the transition effect and how intermediate values are calculated. Default: `'ease-in-out'` |

## Generating a blurhash on a server

Images can significantly improve the visual experience, however, they can also slow down app/page loading times due to their large file sizes. To overcome this, you can create placeholder images using blurhash algorithm that provides an immersive experience while deferring the loading of the actual picture until later.

This guide demonstrates how to create a blurhash of an uploaded image on the backend using JavaScript and Express.js. The same techniques and principles apply to other languages and server technologies.

Start by installing a few dependencies: [`multer`](https://github.com/expressjs/multer) for handling multipart requests, [`sharp`](https://github.com/lovell/sharp) for converting files to a data buffer, and the official [`blurhash` JavaScript package](https://github.com/woltapp/blurhash/tree/master/TypeScript).

```sh
npm install multer sharp blurhash
```

Next, import all required functions from installed packages and initialize `multer`:

```js
// Multer is a middleware for handling `multipart/form-data`.
// Import the encode function from the blurhash package.
const { encode } = require("blurhash");
const multer = require("multer");
// Sharp allows you to receive a data buffer from the uploaded image.
const sharp = require("sharp");

// Initialize `multer`.
const upload = multer();
```

Assuming the `app` is a variable that holds a reference to the Express server, an endpoint can be created that accepts an image and returns a JSON response containing the generated blurhash.

```js
app.post("/blurhash", upload.single("image"), async (req, res) => {
  const { file } = req;
  // If the file is not available we're returning with error.
  if (file === null) {
    res.status(400).json({ message: "Image is missing" });
    return;
  }

  // Users can specify number of components in each axes.
  const componentX = req.body.componentX ?? 4;
  const componentY = req.body.componentY ?? 3;

  // We're converting provided image to a byte buffer.
  // Sharp currently supports multiple common formats like JPEG, PNG, WebP, GIF, and AVIF.
  const { data, info } = await sharp(file.buffer).ensureAlpha().raw().toBuffer({
    resolveWithObject: true,
  });

  const blurhash = encode(
    new Uint8ClampedArray(data),
    info.width,
    info.height,
    componentX,
    componentY,
  );
  res.json({ blurhash });
});
```

Additionally, the request can include two parameters: `componentX` and `componentY`, are passed through the algorithm. These values can be calculated or hard-coded on the server or specified by the user. However, they must be within the range of 1 to 9 and have an aspect ratio similar to the uploaded image. A value of 9 will give the best results but may take longer to generate the hash.

The process of generating a blurhash can be accomplished in various languages and server technologies, similar to the one using JavaScript. The key step is to locate an encoder for your chosen language, which can often be found in the [`woltapp/blurhash`](https://github.com/woltapp/blurhash#implementations) repository. Once you have the encoder, you will need to obtain a representation of the image. Some libraries use a default image class (for example, the Swift implementation uses `UIImage`). In other cases, you will have to provide raw byte data. Make sure to check the encoder's documentation to confirm the expected data format.

> When working with raw byte data, ensure that the alpha layer is present (each pixel is represented by red, green, blue, and alpha values). Failing to do so will lead to errors such as "width and height must match the pixels array".

---

---

title: ImageManipulator
description: A library that provides an API for image manipulation on the local file system.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-image-manipulator'
packageName: 'expo-image-manipulator'
iconUrl: '/static/images/packages/expo-image-manipulator.png'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo ImageManipulator

A library that provides an API for image manipulation on the local file system.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-image-manipulator` provides an API to modify images stored on the local file system.

## Installation

```sh
npx expo install expo-image-manipulator
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

This will first rotate the image 90 degrees clockwise, then flip the rotated image vertically and save it as a PNG.

```jsx
import {
  FlipType,
  SaveFormat,
  useImageManipulator,
} from "expo-image-manipulator";
import { Button, Image, StyleSheet, Text, View } from "react-native";
import { useEffect, useState } from "react";
import { Asset } from "expo-asset";

const IMAGE = Asset.fromModule(require("./assets/snack-icon.png"));

export default function App() {
  const [imageUri, setImageUri] = useState(IMAGE.uri);
  const [isReady, setIsReady] = useState(false);
  const context = useImageManipulator(imageUri);

  const loadImageAsync = async () => {
    await IMAGE.downloadAsync();
    setImageUri(IMAGE.localUri ?? IMAGE.uri);
    setIsReady(true);
  };

  useEffect(() => {
    loadImageAsync();
  }, []);

  const rotate90andFlip = async () => {
    context.rotate(90).flip(FlipType.Vertical);
    const renderedImage = await context.renderAsync();
    const result = await renderedImage.saveAsync({
      format: SaveFormat.PNG,
    });

    setImageUri(result.uri);
  };

  if (!isReady) {
    return (
      <View style={styles.container}>
        <Text>Loading image...</Text>
      </View>
    );
  }

  return (
    <View style={styles.container}>
      <View style={styles.imageContainer}>
        <Image
          source={{ uri: imageUri }}
          style={styles.image}
        />
      </View>
      <Button
        title="Rotate and Flip"
        onPress={rotate90andFlip}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
  },
  imageContainer: {
    marginVertical: 20,
    alignItems: "center",
    justifyContent: "center",
  },
  image: {
    width: 300,
    height: 300,
    resizeMode: "contain",
  },
});
```

## API

```js
import * as ImageManipulator from "expo-image-manipulator";
```

## Constants

### `ImageManipulator.ImageManipulator`

Supported platforms: Android, iOS, tvOS, Web.

Type: [ImageManipulator](#imagemanipulator)

## Hooks

### `useImageManipulator(source)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type   |
| --------- | ------ | --------------------------------------------------------------- |
| `source`  | string | [SharedRef](/versions/v54.0.0/sdk/expo#sharedreftype)<'image'\> |

Returns: `ImageManipulatorContext`

## Classes

### `ImageManipulator`

Supported platforms: Android, iOS, tvOS, Web.

Type: Class extends [NativeModule](/versions/v54.0.0/sdk/expo#nativemoduletype)

ImageManipulator Methods

### `manipulate(source)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type   |
| --------- | ------ | --------------------------------------------------------------- |
| `source`  | string | [SharedRef](/versions/v54.0.0/sdk/expo#sharedreftype)<'image'\> |

Loads an image from the given URI and creates a new image manipulation context.

Returns: `ImageManipulatorContext`

### `ImageManipulatorContext`

Supported platforms: Android, iOS, tvOS, Web.

Type: Class extends [SharedObject](/versions/v54.0.0/sdk/expo#sharedobjecttype)

A context for an image manipulation. It provides synchronous, chainable functions that schedule transformations on the original image to the background thread. Use an asynchronous [`renderAsync`](#renderasync) to await for all transformations to finish and access the final image.

ImageManipulatorContext Methods

### `crop(rect)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type                                                                  | Description                                                        |
| --------- | --------------------------------------------------------------------- | ------------------------------------------------------------------ |
| `rect`    | `{ height: number, originX: number, originY: number, width: number }` | Fields specify top-left corner and dimensions of a crop rectangle. |

Crops the image to the given rectangle's origin and size.

Returns: `ImageManipulatorContext`

### `extent(options)`

Supported platforms: Web.

| Parameter | Type                     |
| --------- | ------------------------ | -------------------------------------------------------------------------- |
| `options` | `{ backgroundColor: null | string, height: number, originX: number, originY: number, width: number }` |

Set the image size and offset. If the image is enlarged, unfilled areas are set to the `backgroundColor`. To position the image, use `originX` and `originY`.

Returns: `ImageManipulatorContext`

### `flip(flipType)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter  | Type        | Description   |
| ---------- | ----------- | ------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `flipType` | `'vertical' | 'horizontal'` | An axis on which image will be flipped. Only one flip per transformation is available. If you want to flip according to both axes then provide two separate transformations. |

Flips the image vertically or horizontally.

Returns: `ImageManipulatorContext`

### `renderAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Awaits for all manipulation tasks to finish and resolves with a reference to the resulted native image.

Returns: `Promise<imageref>`

### `reset()`

Supported platforms: Android, iOS, tvOS, Web.

Resets the manipulator context to the originally loaded image.

Returns: `ImageManipulatorContext`

### `resize(size)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type            | Description         |
| --------- | --------------- | ------------------- | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
| `size`    | `{ height: null | number, width: null | number }` | Values correspond to the result image dimensions. If you specify only one value, the other will be calculated automatically to preserve image ratio. |

Resizes the image to the given size.

Returns: `ImageManipulatorContext`

### `rotate(degrees)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type     | Description                                                                                                        |
| --------- | -------- | ------------------------------------------------------------------------------------------------------------------ |
| `degrees` | `number` | Degrees to rotate the image. Rotation is clockwise when the value is positive and counter-clockwise when negative. |

Rotates the image by the given number of degrees.

Returns: `ImageManipulatorContext`

### `ImageRef`

Supported platforms: Android, iOS, tvOS, Web.

Type: Class extends [SharedRef](/versions/v54.0.0/sdk/expo#sharedreftype)<'image'\>

A reference to a native instance of the image.

ImageRef Properties

### `height`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number`

Height of the image.

### `nativeRefType`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string`

The type of the native reference.

### `width`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number`

Width of the image.

ImageRef Methods

### `saveAsync(options)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter           | Type                        | Description                                        |
| ------------------- | --------------------------- | -------------------------------------------------- |
| `options`(optional) | [SaveOptions](#saveoptions) | A map defining how modified image should be saved. |

Saves the image to the file system in the cache directory.

Returns: `Promise<imageresult>`

## Methods

> **Deprecated:** It has been replaced by the new, contextual and object-oriented API. Use [`ImageManipulator.manipulate`](#manipulatesource) or [`useImageManipulator`](#useimagemanipulatorsource) instead.

### `ImageManipulator.manipulateAsync(uri, actions, saveOptions)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter               | Type                        | Description                                                                                                                                                        |
| ----------------------- | --------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `uri`                   | `string`                    | URI of the file to manipulate. Should be on the local file system or a base64 data URI.                                                                            |
| `actions`(optional)     | [Action[]](#action)         | An array of objects representing manipulation options. Each object should have **only one** of the keys that corresponds to specific transformation. Default: `[]` |
| `saveOptions`(optional) | [SaveOptions](#saveoptions) | A map defining how modified image should be saved. Default: `{}`                                                                                                   |

Manipulate the image provided via `uri`. Available modifications are rotating, flipping (mirroring), resizing and cropping. Each invocation results in a new file. With one invocation you can provide a set of actions to perform over the image. Overwriting the source file would not have an effect in displaying the result as images are cached.

Returns: `Promise<imageresult>`

Promise which fulfils with [`ImageResult`](#imageresult) object.

## Types

### `Action`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `union`

Acceptable values are: [ActionResize](#actionresize) | [ActionRotate](#actionrotate) | [ActionFlip](#actionflip) | [ActionCrop](#actioncrop) | [ActionExtent](#actionextent)

### `ActionCrop`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type                                                                  | Description                                                        |
| -------- | --------------------------------------------------------------------- | ------------------------------------------------------------------ |
| crop     | `{ height: number, originX: number, originY: number, width: number }` | Fields specify top-left corner and dimensions of a crop rectangle. |

### `ActionExtent`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type                       | Description                                                              |
| -------- | -------------------------- | ------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| extent   | `{ backgroundColor: string | null, height: number, originX: number, originY: number, width: number }` | Supported platforms: Web. Set the image size and offset. If the image is enlarged, unfilled areas are set to the `backgroundColor`. To position the image, use `originX` and `originY`. |

### `ActionFlip`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type                  | Description                                                                                                                                                                  |
| -------- | --------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| flip     | [FlipType](#fliptype) | An axis on which image will be flipped. Only one flip per transformation is available. If you want to flip according to both axes then provide two separate transformations. |

### `ActionResize`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type                                | Description                                                                                                                                          |
| -------- | ----------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
| resize   | `{ height: number, width: number }` | Values correspond to the result image dimensions. If you specify only one value, the other will be calculated automatically to preserve image ratio. |

### `ActionRotate`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type     | Description                                                                                                        |
| -------- | -------- | ------------------------------------------------------------------------------------------------------------------ |
| rotate   | `number` | Degrees to rotate the image. Rotation is clockwise when the value is positive and counter-clockwise when negative. |

### `ImageResult`

Supported platforms: Android, iOS, tvOS, Web.

| Property         | Type     | Description                                                                                                                                                                                                                                                                                                              |
| ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| base64(optional) | `string` | It is included if the `base64` save option was truthy, and is a string containing the JPEG/PNG (depending on `format`) data of the image in Base64. Prepend that with `'data:image/xxx;base64,'` to get a data URI, which you can use as the source for an `Image` element for example (where `xxx` is `jpeg` or `png`). |
| height           | `number` | Height of the image or video.                                                                                                                                                                                                                                                                                            |
| uri              | `string` | An URI to the modified image (usable as the source for an `Image` or `Video` element).                                                                                                                                                                                                                                   |
| width            | `number` | Width of the image or video.                                                                                                                                                                                                                                                                                             |

### `SaveOptions`

Supported platforms: Android, iOS, tvOS, Web.

A map defining how modified image should be saved.

| Property           | Type                      | Description                                                                                                                                                                                                                                  |
| ------------------ | ------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| base64(optional)   | `boolean`                 | Whether to also include the image data in Base64 format.                                                                                                                                                                                     |
| compress(optional) | `number`                  | A value in range `0.0` - `1.0` specifying compression level of the result image. `1` means no compression (highest quality) and `0` the highest compression (lowest quality).                                                                |
| format(optional)   | [SaveFormat](#saveformat) | Specifies what type of compression should be used and what is the result file extension. `SaveFormat.PNG` compression is lossless but slower, `SaveFormat.JPEG` is faster but the image has visible artifacts. Defaults to `SaveFormat.JPEG` |

## Enums

### `FlipType`

Supported platforms: Android, iOS, tvOS, Web.

#### `Horizontal`

`FlipType.Horizontal = "horizontal"`

#### `Vertical`

`FlipType.Vertical = "vertical"`

### `SaveFormat`

Supported platforms: Android, iOS, tvOS, Web.

#### `JPEG`

`SaveFormat.JPEG = "jpeg"`

#### `PNG`

`SaveFormat.PNG = "png"`

#### `WEBP`

`SaveFormat.WEBP = "webp"`

---

---

title: ImagePicker
description: A library that provides access to the system's UI for selecting images and videos from the phone's library or taking a photo with the camera.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-image-picker'
packageName: 'expo-image-picker'
iconUrl: '/static/images/packages/expo-image-picker.png'
platforms: ['android', 'ios', 'web', 'expo-go']

---

# Expo ImagePicker

A library that provides access to the system's UI for selecting images and videos from the phone's library or taking a photo with the camera.
Android, iOS, Web, Included in Expo Go

`expo-image-picker` provides access to the system's UI for selecting images and videos from the phone's library or taking a photo with the camera.

## Installation

```sh
npx expo install expo-image-picker
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

#### Known issuesâ€‚

On iOS, when an image (usually of a [higher resolution](http://www.openradar.me/49866214)) is picked from the camera roll, the result of the cropped image gives the wrong value for the cropped rectangle in some cases. Unfortunately, this issue is with the underlying `UIImagePickerController` due to a bug in the closed-source tools built into iOS.

## Configuration in app config

You can configure `expo-image-picker` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

By default `expo-image-picker` will add `RECORD_AUDIO` permission on Android. You can remove it by setting the `microphonePermission` to false in the config below.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-image-picker",
        {
          "photosPermission": "The app accesses your photos to let you share them with your friends."
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                   | Default                                             | Description                                                                                                                                                    |
| ---------------------- | --------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `photosPermission`     | `"Allow $(PRODUCT_NAME) to access your photos"`     | Only for: iOS. A string to set the `NSPhotoLibraryUsageDescription` permission message.                                                                        |
| `cameraPermission`     | `"Allow $(PRODUCT_NAME) to access your camera"`     | A string to set the `NSCameraUsageDescription` permission message. If value `false` is provided then `CAMERA` permission will be blocked on Android.           |
| `microphonePermission` | `"Allow $(PRODUCT_NAME) to access your microphone"` | A string to set the `NSMicrophoneUsageDescription` permission message. If value `false` is provided then `RECORD_AUDIO` permission will be blocked on Android. |

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) or you're using a native **ios** project manually, then you need to add `NSPhotoLibraryUsageDescription`, `NSCameraUsageDescription`, and `NSMicrophoneUsageDescription` keys to your **ios/[app]/Info.plist**:

```xml
<key>NSPhotoLibraryUsageDescription</key>
<string>Give $(PRODUCT_NAME) permission to save photos</string>
<key>NSCameraUsageDescription</key>
<string>Give $(PRODUCT_NAME) permission to access your camera</string>
<key>NSMicrophoneUsageDescription</key>
<string>Give $(PRODUCT_NAME) permission to use your microphone</string>
```

## Usage

```tsx
import { Alert, Button, Image, View, StyleSheet } from "react-native";
import * as ImagePicker from "expo-image-picker";
import { useState } from "react";

export default function ImagePickerExample() {
  const [image, setImage] = useState<string | null>(null);

  const pickImage = async () => {
    // No permissions request is necessary for launching the image library.
    // Manually request permissions for videos on iOS when `allowsEditing` is set to `false`
    // and `videoExportPreset` is `'Passthrough'` (the default), ideally before launching the picker
    // so the app users aren't surprised by a system dialog after picking a video.
    // See "Invoke permissions for videos" sub section for more details.
    const permissionResult =
      await ImagePicker.requestMediaLibraryPermissionsAsync();

    if (!permissionResult.granted) {
      Alert.alert(
        "Permission required",
        "Permission to access the media library is required.",
      );
      return;
    }

    let result = await ImagePicker.launchImageLibraryAsync({
      mediaTypes: ["images", "videos"],
      allowsEditing: true,
      aspect: [4, 3],
      quality: 1,
    });

    console.log(result);

    if (!result.canceled) {
      setImage(result.assets[0].uri);
    }
  };

  return (
    <View style={styles.container}>
      <Button
        title="Pick an image from camera roll"
        onPress={pickImage}
      />
      {image && (
        <Image
          source={{ uri: image }}
          style={styles.image}
        />
      )}
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    justifyContent: "center",
  },
  image: {
    width: 200,
    height: 200,
  },
});
```

When you run this example and pick an image, you will see the image that you picked show up in your app, and a similar log will be shown in the console:

```json
{
  "assets": [
    {
      "assetId": "C166F9F5-B5FE-4501-9531",
      "base64": null,
      "duration": null,
      "exif": null,
      "fileName": "IMG.HEIC",
      "fileSize": 6018901,
      "height": 3025,
      "type": "image",
      "uri": "file:///data/user/0/host.exp.exponent/cache/cropped1814158652.jpg"
      "width": 3024
    }
  ],
  "canceled": false
}
```

### Invoke permissions for videos

In SDK 54 and later, the default configuration keeps `allowsEditing` set to `false` and [`videoExportPreset`](/versions/latest/sdk/imagepicker#videoexportpreset) set to `'Passthrough'`. These settings return the original asset (including HEIC and AVIF files) instantly because the picker skips compression, but iOS requires media library permission to access the original file and displays a permission dialog immediately after the user selects a video.

To avoid showing permissions dialog after selection, **manually request media library permissions before opening the picker** via [`requestMediaLibraryPermissionsAsync`](/versions/latest/sdk/imagepicker#imagepickerrequestmedialibrarypermissionsasyncwriteonly) or [`useMediaLibraryPermissions`](/versions/latest/sdk/imagepicker#usemedialibrarypermissionsoptions).

### With AWS S3

[AWS storage example](https://github.com/expo/examples/tree/master/with-aws-storage-upload) â€” An example of how to use AWS storage can be found in with-aws-storage-upload.

See [Amplify documentation](https://docs.amplify.aws/) guide to set up your project correctly.

### With Firebase

[Firebase storage example](https://github.com/expo/examples/tree/master/with-firebase-storage-upload) â€” An example of how to use Firebase storage can be found in with-firebase-storage-upload.

See [Using Firebase](/guides/using-firebase) guide to set up your project correctly.

## API

```js
import * as ImagePicker from "expo-image-picker";
```

## Hooks

### `useCameraPermissions(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                            |
| ------------------- | ------------------------------- |
| `options`(optional) | `PermissionHookOptions<object>` |

Check or request permissions to access the camera. This uses both `requestCameraPermissionsAsync` and `getCameraPermissionsAsync` to interact with the permissions.

Returns: `[null | PermissionResponse, RequestPermissionMethod<permissionresponse>, GetPermissionMethod]</permissionresponse>`

Example

```ts
const [status, requestPermission] = ImagePicker.useCameraPermissions();
```

### `useMediaLibraryPermissions(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                            |
| ------------------- | ----------------------------------------------- |
| `options`(optional) | `PermissionHookOptions<{ writeOnly: boolean }>` |

Check or request permissions to access the media library. This uses both `requestMediaLibraryPermissionsAsync` and `getMediaLibraryPermissionsAsync` to interact with the permissions.

Returns: `[null | MediaLibraryPermissionResponse, RequestPermissionMethod<medialibrarypermissionresponse>, GetPermissionMethod]</medialibrarypermissionresponse>`

Example

```ts
const [status, requestPermission] = ImagePicker.useMediaLibraryPermissions();
```

## Methods

### `ImagePicker.getCameraPermissionsAsync()`

Supported platforms: Android, iOS, Web.

Checks user's permissions for accessing camera.

Returns: `Promise<camerapermissionresponse>`

A promise that fulfills with an object of type [CameraPermissionResponse](#camerapermissionresponse).

### `ImagePicker.getMediaLibraryPermissionsAsync(writeOnly)`

Supported platforms: Android, iOS, Web.

| Parameter             | Type      | Description                                                                                   |
| --------------------- | --------- | --------------------------------------------------------------------------------------------- |
| `writeOnly`(optional) | `boolean` | Whether to request write or read and write permissions. Defaults to `false`. Default: `false` |

Checks user's permissions for accessing photos.

Returns: `Promise<medialibrarypermissionresponse>`

A promise that fulfills with an object of type [MediaLibraryPermissionResponse](#medialibrarypermissionresponse).

### `ImagePicker.getPendingResultAsync()`

Supported platforms: Android, iOS, Web.

Android system sometimes kills the `MainActivity` after the `ImagePicker` finishes. When this happens, we lose the data selected using the `ImagePicker`. However, you can retrieve the lost data by calling `getPendingResultAsync`. You can test this functionality by turning on `Don't keep activities` in the developer options.

Returns: `Promise<imagepickerresult>`

- **On Android:** a promise that resolves to an object of exactly same type as in `ImagePicker.launchImageLibraryAsync` or `ImagePicker.launchCameraAsync` if the `ImagePicker` finished successfully. Otherwise, an object of type [`ImagePickerErrorResult`](#imagepickerimagepickererrorresult).
- **On other platforms:** `null`

### `ImagePicker.launchCameraAsync(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                      | Description                                   |
| ------------------- | ----------------------------------------- | --------------------------------------------- |
| `options`(optional) | [ImagePickerOptions](#imagepickeroptions) | An `ImagePickerOptions` object. Default: `{}` |

Display the system UI for taking a photo with the camera. Requires `Permissions.CAMERA`. On Android and iOS 10 `Permissions.CAMERA_ROLL` is also required. On mobile web, this must be called immediately in a user interaction like a button press, otherwise the browser will block the request without a warning.

> **Note:** Make sure that you handle `MainActivity` destruction on **Android**. See [ImagePicker.getPendingResultAsync](#imagepickergetpendingresultasync). **Notes for Web:** The system UI can only be shown after user activation (e.g. a `Button` press). Therefore, calling `launchCameraAsync` in `componentDidMount`, for example, will **not** work as intended. The `cancelled` event will not be returned in the browser due to platform restrictions and inconsistencies across browsers.

Returns: `Promise<imagepickerresult>`

A promise that resolves to an object with `canceled` and `assets` fields. When the user canceled the action the `assets` is always `null`, otherwise it's an array of the selected media assets which have a form of [`ImagePickerAsset`](#imagepickerasset).

### `ImagePicker.launchImageLibraryAsync(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                      | Description                                                                      |
| ------------------- | ----------------------------------------- | -------------------------------------------------------------------------------- |
| `options`(optional) | [ImagePickerOptions](#imagepickeroptions) | An object extended by [`ImagePickerOptions`](#imagepickeroptions). Default: `{}` |

Display the system UI for choosing an image or a video from the phone's library. Requires `Permissions.MEDIA_LIBRARY` on iOS 10 only. On mobile web, this must be called immediately in a user interaction like a button press, otherwise the browser will block the request without a warning.

**Animated GIFs support:** On Android, if the selected image is an animated GIF, the result image will be an animated GIF too if and only if `quality` is explicitly set to `1.0` and `allowsEditing` is set to `false`. Otherwise compression and/or cropper will pick the first frame of the GIF and return it as the result (on Android the result will be a PNG). On iOS, both quality and cropping are supported.

> **Notes for Web:** The system UI can only be shown after user activation (e.g. a `Button` press). Therefore, calling `launchImageLibraryAsync` in `componentDidMount`, for example, will **not** work as intended. The `cancelled` event will not be returned in the browser due to platform restrictions and inconsistencies across browsers.

Returns: `Promise<imagepickerresult>`

A promise that resolves to an object with `canceled` and `assets` fields. When the user canceled the action the `assets` is always `null`, otherwise it's an array of the selected media assets which have a form of [`ImagePickerAsset`](#imagepickerasset).

### `ImagePicker.requestCameraPermissionsAsync()`

Supported platforms: Android, iOS, Web.

Asks the user to grant permissions for accessing camera. This does nothing on web because the browser camera is not used.

Returns: `Promise<camerapermissionresponse>`

A promise that fulfills with an object of type [CameraPermissionResponse](#camerarollpermissionresponse).

### `ImagePicker.requestMediaLibraryPermissionsAsync(writeOnly)`

Supported platforms: Android, iOS, Web.

| Parameter             | Type      | Description                                                                                   |
| --------------------- | --------- | --------------------------------------------------------------------------------------------- |
| `writeOnly`(optional) | `boolean` | Whether to request write or read and write permissions. Defaults to `false`. Default: `false` |

Asks the user to grant permissions for accessing user's photo. This method does nothing on web.

Returns: `Promise<medialibrarypermissionresponse>`

A promise that fulfills with an object of type [MediaLibraryPermissionResponse](#medialibrarypermissionresponse).

## Types

### `CameraPermissionResponse`

Supported platforms: Android, iOS, Web.

Type: `PermissionResponse`

Alias for `PermissionResponse` type exported by `expo-modules-core`.

### `CropShape`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

The shape of the crop area.

Acceptable values are: `'rectangle'` | `'oval'`

### `DefaultTab`

Supported platforms: Android.

Literal Type: `string`

The default tab with which the image picker will be opened.

- `'photos'` - the photos/videos tab will be opened.
- `'albums'` - the albums tab will be opened.

Acceptable values are: `'photos'` | `'albums'`

### `ImagePickerAsset`

Supported platforms: Android, iOS, Web.

Represents an asset (image or video) returned by the image picker or camera.

| Property          | Type    | Description |
| ----------------- | ------- | ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| assetId(optional) | `string | null`       | Supported platforms: Android, iOS. The unique ID that represents the picked image or video, if picked from the library. It can be used by [expo-media-library](/versions/latest/sdk/media-library) to manage the picked asset. This might be null when the ID is unavailable or the user gave limited permission to access the media library. On Android, the ID is unavailable when the user selects a photo by directly browsing file system. |
| base64(optional)  | `string | null`       | When the `base64` option is truthy, it is a Base64-encoded string of the selected image's JPEG data, otherwise `null`. If you prepend this with `'data:image/jpeg;base64,'` to create a data URI, you can use it as the source of an `Image` element; for example:                                                                                                                                                                              |

```ts
<Image
  source={{ uri: 'data:image/jpeg;base64,' + asset.base64 }}
  style={{ width: 200, height: 200 }}
/>
```

|
| duration(optional) | `number | null` | Length of the video in milliseconds or `null` if the asset is not a video. |
| exif(optional) | `Record<string, any> | null` | Supported platforms: Android, iOS. The `exif` field is included if the `exif` option is truthy, and is an object containing the image's EXIF data. The names of this object's properties are EXIF tags and the values are the respective EXIF values for those tags. |
| file(optional) | [File](#file) | Supported platforms: Web. The web `File` object containing the selected media. This property is web-only and can be used to upload to a server with `FormData`. |
| fileName(optional) | `string | null` | Preferred filename to use when saving this item. This might be `null` when the name is unavailable or user gave limited permission to access the media library. |
| fileSize(optional) | `number` | File size of the picked image or video, in bytes. |
| height | `number` | Height of the image or video. |
| mimeType(optional) | `string` | The MIME type of the selected asset or `null` if could not be determined. |
| pairedVideoAsset(optional) | [ImagePickerAsset](#imagepickerasset) | null | Supported platforms: iOS. Contains information about the video paired with the image file. This property is only set when `livePhotos` media type was present in the `mediaTypes` array when launching the picker and a live photo was selected. |
| type(optional) | `'image' | 'video' | 'livePhoto' | 'pairedVideo'` | The type of the asset.

- `'image'` - for images.
- `'video'` - for videos.
- `'livePhoto'` - for live photos. (iOS only)
- `'pairedVideo'` - for videos paired with photos, which can be combined to create a live photo. (iOS only)

|
| uri | `string` | URI to the local image or video file (usable as the source of an `Image` element, in the case of an image) and `width` and `height` specify the dimensions of the media. |
| width | `number` | Width of the image or video. |

### `ImagePickerCanceledResult`

Supported platforms: Android, iOS, Web.

Type representing canceled pick result.

| Property | Type   | Description                                                       |
| -------- | ------ | ----------------------------------------------------------------- |
| assets   | `null` | `null` signifying that the request was canceled.                  |
| canceled | `true` | Boolean flag set to `true` showing that the request was canceled. |

### `ImagePickerErrorResult`

Supported platforms: Android, iOS, Web.

| Property            | Type     | Description                           |
| ------------------- | -------- | ------------------------------------- |
| code                | `string` | The error code.                       |
| exception(optional) | `string` | The exception which caused the error. |
| message             | `string` | The error message.                    |

### `ImagePickerOptions`

Supported platforms: Android, iOS, Web.

| Property                          | Type                      | Description                                                                                                                                                                                                                                                                              |
| --------------------------------- | ------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| allowsEditing(optional)           | `boolean`                 | Supported platforms: Android, iOS. Whether to show a UI to edit the image after it is picked. On Android the user can crop and rotate the image and on iOS simply crop it. Default: `false`                                                                                              |
| allowsMultipleSelection(optional) | `boolean`                 | Supported platforms: Android, iOS 14+, Web. Whether or not to allow selecting multiple media files at once. Cropping multiple images is not supported - this option is mutually exclusive with allowsEditing. If this option is enabled, then allowsEditing is ignored. Default: `false` |
| aspect(optional)                  | `[number, number]`        | An array with two entries `[x, y]` specifying the aspect ratio to maintain if the user is allowed to edit the image (by passing `allowsEditing: true`). This is only applicable on Android, since on iOS the crop rectangle is always a square.                                          |
| base64(optional)                  | `boolean`                 | Whether to also include the image data in Base64 format.                                                                                                                                                                                                                                 |
| cameraType(optional)              | [CameraType](#cameratype) | Selects the camera-facing type. The `CameraType` enum provides two options: `front` for the front-facing camera and `back` for the back-facing camera.                                                                                                                                   |

- **On Android**, the behavior of this option may vary based on the camera app installed on the device.
- **On Web**, if this option is not provided, use "camera" as the default value of internal input element for backwards compatibility.

. Default: `CameraType.back` |
| defaultTab(optional) | [DefaultTab](#defaulttab) | Supported platforms: Android. Choose the default tab with which the image picker will be opened. Default: `'photos'` |
| exif(optional) | `boolean` | Supported platforms: Android, iOS. Whether to also include the EXIF data for the image. On iOS the EXIF data does not include GPS tags in the camera case. |
| legacy(optional) | `boolean` | Supported platforms: Android. Uses the legacy image picker on Android. This will allow media to be selected from outside the users photo library. Default: `false` |
| mediaTypes(optional) | [MediaType](#mediatype) | [MediaType[]](#mediatype) | [MediaTypeOptions](#mediatypeoptions) | Choose what type of media to pick. Default: `'images'` |
| orderedSelection(optional) | `boolean` | Supported platforms: iOS 15+. Whether to display number badges when assets are selected. The badges are numbered in selection order. Assets are then returned in the exact same order they were selected. Assets should be returned in the selection order regardless of this option, but there is no guarantee that it is always true when this option is disabled. Default: `false` |
| preferredAssetRepresentationMode(optional) | [UIImagePickerPreferredAssetRepresentationMode](#uiimagepickerpreferredassetrepresentationmode) | Supported platforms: iOS 14+. Choose [preferred asset representation mode](https://developer.apple.com/documentation/photokit/phpickerconfigurationassetrepresentationmode) to use when loading assets. Default: `ImagePicker.UIImagePickerPreferredAssetRepresentationMode.Automatic` |
| presentationStyle(optional) | [UIImagePickerPresentationStyle](#uiimagepickerpresentationstyle) | Supported platforms: iOS. Choose [presentation style](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621355-modalpresentationstyle?language=objc) to customize view during taking photo/video. Default: `ImagePicker.UIImagePickerPresentationStyle.Automatic` |
| quality(optional) | `number` | Supported platforms: Android, iOS. Specify the quality of compression, from `0` to `1`. `0` means compress for small size, `1` means compress for maximum quality. Note: If the selected image has been compressed before, the size of the output file may be bigger than the size of the original image. Note: On iOS, if a .bmp or .png image is selected from the library, this option is ignored. Default: `1.0` |
| selectionLimit(optional) | `number` | Supported platforms: Android, iOS 14+. The maximum number of items that user can select. Applicable when `allowsMultipleSelection` is enabled. Setting the value to `0` sets the selection limit to the maximum that the system supports. Default: `0` |
| shape(optional) | [CropShape](#cropshape) | Supported platforms: Android. Specify the shape of the crop area if the user is allowed to edit the image (by passing `allowsEditing: true`). This option is only applicable on Android. Default: `rectangle` |
| videoExportPreset(optional) | [VideoExportPreset](#videoexportpreset) | Deprecated: See videoExportPreset in Apple documentation. . Supported platforms: iOS 11+. Specify preset which will be used to compress selected video. Default: `ImagePicker.VideoExportPreset.Passthrough` |
| videoMaxDuration(optional) | `number` | Maximum duration, in seconds, for video recording. Setting this to `0` disables the limit. Defaults to `0` (no limit).

- **On iOS**, when `allowsEditing` is set to `true`, maximum duration is limited to 10 minutes. This limit is applied automatically, if `0` or no value is specified.
- **On Android**, effect of this option depends on support of installed camera app.
- **On Web** this option has no effect - the limit is browser-dependant.

|
| videoQuality(optional) | [UIImagePickerControllerQualityType](#uiimagepickercontrollerqualitytype) | Supported platforms: iOS. Specify the quality of recorded videos. Defaults to the highest quality available for the device. Default: `ImagePicker.UIImagePickerControllerQualityType.High` |

### `ImagePickerResult`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Type representing successful and canceled pick result.

Acceptable values are: [ImagePickerSuccessResult](#imagepickersuccessresult) | [ImagePickerCanceledResult](#imagepickercanceledresult)

### `ImagePickerSuccessResult`

Supported platforms: Android, iOS, Web.

Type representing successful pick result.

| Property | Type                                    | Description                                                          |
| -------- | --------------------------------------- | -------------------------------------------------------------------- |
| assets   | [ImagePickerAsset[]](#imagepickerasset) | An array of picked assets.                                           |
| canceled | `false`                                 | Boolean flag set to `false` showing that the request was successful. |

### `MediaLibraryPermissionResponse`

Supported platforms: Android, iOS, Web.

Extends `PermissionResponse` type exported by `expo-modules-core`, containing additional iOS-specific field.

Type: `PermissionResponse` extended by:

| Property                   | Type   | Description |
| -------------------------- | ------ | ----------- | ------- | ----------------------------------------------------------------------------------------------------- |
| accessPrivileges(optional) | `'all' | 'limited'   | 'none'` | Indicates if your app has access to the whole or only part of the photo library. Possible values are: |

- `'all'` if the user granted your app access to the whole photo library
- `'limited'` if the user granted your app access only to selected photos (only available on Android API 34+ and iOS 14.0+)
- `'none'` if user denied or hasn't yet granted the permission

|

### `MediaType`

Supported platforms: Android, iOS, Web.

Literal Type: `string`

Media types that can be picked by the image picker.

- `'images'` - for images.
- `'videos'` - for videos.
- `'livePhotos'` - for live photos (iOS only).

> When the `livePhotos` type is added to the media types array and a live photo is selected, the resulting `ImagePickerAsset` will contain an unaltered image and the `pairedVideoAsset` field will contain a video asset paired with the image. This option will be ignored when the `allowsEditing` option is enabled. Due to platform limitations live photos are returned at original quality, regardless of the `quality` option.

> When on Android or Web `livePhotos` type passed as a media type will be ignored.

Acceptable values are: `'images'` | `'videos'` | `'livePhotos'`

### `PermissionExpiration`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionHookOptions`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Acceptable values are: `PermissionHookBehavior` | `Options`

### `PermissionResponse`

Supported platforms: Android, iOS, Web.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

## Enums

### `CameraType`

Supported platforms: Android, iOS, Web.

#### `back`

`CameraType.back = "back"`

Back/rear camera.

#### `front`

`CameraType.front = "front"`

Front camera

> **Deprecated:** To set media types available in the image picker use an array of [`MediaType`](#mediatype) instead.

### `MediaTypeOptions`

Supported platforms: Android, iOS, Web.

#### `All`

`MediaTypeOptions.All = "All"`

Images and videos.

#### `Images`

`MediaTypeOptions.Images = "Images"`

Only images.

#### `Videos`

`MediaTypeOptions.Videos = "Videos"`

Only videos.

### `PermissionStatus`

Supported platforms: Android, iOS, Web.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

### `UIImagePickerControllerQualityType`

Supported platforms: Android, iOS, Web.

#### `High`

`UIImagePickerControllerQualityType.High = 0`

Highest available resolution.

#### `Medium`

`UIImagePickerControllerQualityType.Medium = 1`

Depends on the device.

#### `Low`

`UIImagePickerControllerQualityType.Low = 2`

Depends on the device.

#### `VGA640x480`

`UIImagePickerControllerQualityType.VGA640x480 = 3`

640 Ã— 480

#### `IFrame1280x720`

`UIImagePickerControllerQualityType.IFrame1280x720 = 4`

1280 Ã— 720

#### `IFrame960x540`

`UIImagePickerControllerQualityType.IFrame960x540 = 5`

960 Ã— 540

### `UIImagePickerPreferredAssetRepresentationMode`

Supported platforms: iOS.

Picker preferred asset representation mode. Its values are directly mapped to the [`PHPickerConfigurationAssetRepresentationMode`](https://developer.apple.com/documentation/photokit/phpickerconfigurationassetrepresentationmode).

#### `Automatic`

`UIImagePickerPreferredAssetRepresentationMode.Automatic = "automatic"`

A mode that indicates that the system chooses the appropriate asset representation.

#### `Compatible`

`UIImagePickerPreferredAssetRepresentationMode.Compatible = "compatible"`

A mode that uses the most compatible asset representation.

#### `Current`

`UIImagePickerPreferredAssetRepresentationMode.Current = "current"`

A mode that uses the current representation to avoid transcoding, if possible.

### `UIImagePickerPresentationStyle`

Supported platforms: iOS.

Picker presentation style. Its values are directly mapped to the [`UIModalPresentationStyle`](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621355-modalpresentationstyle).

#### `AUTOMATIC`

Supported platforms: iOS.

`UIImagePickerPresentationStyle.AUTOMATIC = "automatic"`

The default presentation style chosen by the system. On older iOS versions, falls back to `WebBrowserPresentationStyle.FullScreen`.

#### `CURRENT_CONTEXT`

`UIImagePickerPresentationStyle.CURRENT_CONTEXT = "currentContext"`

A presentation style where the picker is displayed over the app's content.

#### `FORM_SHEET`

`UIImagePickerPresentationStyle.FORM_SHEET = "formSheet"`

A presentation style that displays the picker centered in the screen.

#### `FULL_SCREEN`

`UIImagePickerPresentationStyle.FULL_SCREEN = "fullScreen"`

A presentation style in which the presented picker covers the screen.

#### `OVER_CURRENT_CONTEXT`

`UIImagePickerPresentationStyle.OVER_CURRENT_CONTEXT = "overCurrentContext"`

A presentation style where the picker is displayed over the app's content.

#### `OVER_FULL_SCREEN`

`UIImagePickerPresentationStyle.OVER_FULL_SCREEN = "overFullScreen"`

A presentation style in which the picker view covers the screen.

#### `PAGE_SHEET`

`UIImagePickerPresentationStyle.PAGE_SHEET = "pageSheet"`

A presentation style that partially covers the underlying content.

#### `POPOVER`

`UIImagePickerPresentationStyle.POPOVER = "popover"`

A presentation style where the picker is displayed in a popover view.

### `VideoExportPreset`

Supported platforms: Android, iOS, Web.

#### `Passthrough`

`VideoExportPreset.Passthrough = 0`

Resolution: **Unchanged** â€¢ Video compression: **None** â€¢ Audio compression: **None**

#### `LowQuality`

`VideoExportPreset.LowQuality = 1`

Resolution: **Depends on the device** â€¢ Video compression: **H.264** â€¢ Audio compression: **AAC**

#### `MediumQuality`

`VideoExportPreset.MediumQuality = 2`

Resolution: **Depends on the device** â€¢ Video compression: **H.264** â€¢ Audio compression: **AAC**

#### `HighestQuality`

`VideoExportPreset.HighestQuality = 3`

Resolution: **Depends on the device** â€¢ Video compression: **H.264** â€¢ Audio compression: **AAC**

#### `H264_640x480`

`VideoExportPreset.H264_640x480 = 4`

Resolution: **640 Ã— 480** â€¢ Video compression: **H.264** â€¢ Audio compression: **AAC**

#### `H264_960x540`

`VideoExportPreset.H264_960x540 = 5`

Resolution: **960 Ã— 540** â€¢ Video compression: **H.264** â€¢ Audio compression: **AAC**

#### `H264_1280x720`

`VideoExportPreset.H264_1280x720 = 6`

Resolution: **1280 Ã— 720** â€¢ Video compression: **H.264** â€¢ Audio compression: **AAC**

#### `H264_1920x1080`

`VideoExportPreset.H264_1920x1080 = 7`

Resolution: **1920 Ã— 1080** â€¢ Video compression: **H.264** â€¢ Audio compression: **AAC**

#### `H264_3840x2160`

`VideoExportPreset.H264_3840x2160 = 8`

Resolution: **3840 Ã— 2160** â€¢ Video compression: **H.264** â€¢ Audio compression: **AAC**

#### `HEVC_1920x1080`

`VideoExportPreset.HEVC_1920x1080 = 9`

Resolution: **1920 Ã— 1080** â€¢ Video compression: **HEVC** â€¢ Audio compression: **AAC**

#### `HEVC_3840x2160`

`VideoExportPreset.HEVC_3840x2160 = 10`

Resolution: **3840 Ã— 2160** â€¢ Video compression: **HEVC** â€¢ Audio compression: **AAC**

## Permissions

### Android

The following permissions are added automatically through the library's **AndroidManifest.xml**.

| Android Permission       | Description                                          |
| ------------------------ | ---------------------------------------------------- |
| `CAMERA`                 | Required to be able to access the camera device.     |
| `READ_EXTERNAL_STORAGE`  | Allows an application to read from external storage. |
| `WRITE_EXTERNAL_STORAGE` | Allows an application to write to external storage.  |

### iOS

The following usage description keys are used by the APIs in this library.

| Info.plist Key                   | Description                                                                                 |
| -------------------------------- | ------------------------------------------------------------------------------------------- |
| `NSMicrophoneUsageDescription`   | A message that tells the user why the app is requesting access to the deviceâ€™s microphone.  |
| `NSPhotoLibraryUsageDescription` | A message that tells the user why the app is requesting access to the userâ€™s photo library. |
| `NSCameraUsageDescription`       | A message that tells the user why the app is requesting access to the deviceâ€™s camera.      |

---

---

title: IntentLauncher
description: A library that provides an API to launch Android intents.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-intent-launcher'
packageName: 'expo-intent-launcher'
platforms: ['android', 'expo-go']

---

# Expo IntentLauncher

A library that provides an API to launch Android intents.
Android, Included in Expo Go

`expo-intent-launcher` provides a way to launch Android intents. For example, you can use this API to open a specific settings screen.

## Installation

```sh
npx expo install expo-intent-launcher
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```ts
import { startActivityAsync, ActivityAction } from "expo-intent-launcher";

// Open location settings
startActivityAsync(ActivityAction.LOCATION_SOURCE_SETTINGS);
```

## API

```js
import * as IntentLauncher from "expo-intent-launcher";
```

## Methods

### `IntentLauncher.getApplicationIconAsync(packageName)`

Supported platforms: Android.

| Parameter     | Type     | Description                                                                                 |
| ------------- | -------- | ------------------------------------------------------------------------------------------- |
| `packageName` | `string` | The package name of the target application. For example, `com.google.android.gm` for Gmail. |

Returns the icon of the specified application as a base64-encoded PNG image string. The returned string is prefixed with `data:image/png;base64,` and can be used directly in an `expo-image`'s [`Image.source`](/versions/latest/sdk/image#source) prop.

Returns: `Promise<string>`

A promise that resolves to the base64-encoded PNG icon of the specified application, or an empty string if the icon could not be retrieved.

### `IntentLauncher.openApplication(packageName)`

Supported platforms: Android.

| Parameter     | Type     | Description                                     |
| ------------- | -------- | ----------------------------------------------- |
| `packageName` | `string` | For example: `com.google.android.gm` for Gmail. |

Opens an application by its package name.

Returns: `void`

### `IntentLauncher.startActivityAsync(activityAction, params)`

Supported platforms: Android.

| Parameter          | Type                                          | Description                                                                                                                                                                                                                                                                                                                        |
| ------------------ | --------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `activityAction`   | `string`                                      | The action to be performed, for example, `IntentLauncher.ActivityAction.WIRELESS_SETTINGS`. There are a few pre-defined constants you can use for this parameter. You can find them at [`expo-intent-launcher/src/IntentLauncher.ts`](https://github.com/expo/expo/blob/main/packages/expo-intent-launcher/src/IntentLauncher.ts). |
| `params`(optional) | [IntentLauncherParams](#intentlauncherparams) | An object of intent parameters. Default: `{}`                                                                                                                                                                                                                                                                                      |

Starts the specified activity. The method will return a promise which resolves when the user returns to the app.

Returns: `Promise<intentlauncherresult>`

A promise which fulfils with `IntentLauncherResult` object.

## Interfaces

### `IntentLauncherParams`

Supported platforms: Android.

| Property              | Type                  | Description                                                                                                                                                                                                                       |
| --------------------- | --------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| category(optional)    | `string`              | Category provides more details about the action the intent performs. See [`Intent.addCategory`](<https://developer.android.com/reference/android/content/Intent#addCategory(java.lang.String)>).                                  |
| className(optional)   | `string`              | Class name of the ComponentName.                                                                                                                                                                                                  |
| data(optional)        | `string`              | A URI specifying the data that the intent should operate upon. (_Note:_ Android requires the URI scheme to be lowercase, unlike the formal RFC.)                                                                                  |
| extra(optional)       | `Record<string, any>` | A map specifying additional key-value pairs which are passed with the intent as `extras`. The keys must include a package prefix, for example the app `com.android.contacts` would use names like `com.android.contacts.ShowAll`. |
| flags(optional)       | `number`              | Bitmask of flags to be used. See [`Intent.setFlags`](<https://developer.android.com/reference/android/content/Intent#setFlags(int)>) for more details.                                                                            |
| packageName(optional) | `string`              | Package name used as an identifier of ComponentName. Set this only if you want to explicitly set the component to handle the intent.                                                                                              |
| type(optional)        | `string`              | A string specifying the MIME type of the data represented by the data parameter. Ignore this argument to allow Android to infer the correct MIME type.                                                                            |

### `IntentLauncherResult`

Supported platforms: Android.

| Property        | Type                      | Description                                                  |
| --------------- | ------------------------- | ------------------------------------------------------------ |
| data(optional)  | `string`                  | Optional data URI that can be returned by the activity.      |
| extra(optional) | `object`                  | Optional extras object that can be returned by the activity. |
| resultCode      | [ResultCode](#resultcode) | Result code returned by the activity.                        |

## Enums

### `ActivityAction`

Supported platforms: Android.

Constants are from the source code of [Settings provider](https://developer.android.com/reference/android/provider/Settings).

#### `ACCESSIBILITY_COLOR_CONTRAST_SETTINGS`

`ActivityAction.ACCESSIBILITY_COLOR_CONTRAST_SETTINGS = "android.settings.ACCESSIBILITY_COLOR_CONTRAST_SETTINGS"`

#### `ACCESSIBILITY_COLOR_MOTION_SETTINGS`

`ActivityAction.ACCESSIBILITY_COLOR_MOTION_SETTINGS = "android.settings.ACCESSIBILITY_COLOR_MOTION_SETTINGS"`

#### `ACCESSIBILITY_DETAILS_SETTINGS`

`ActivityAction.ACCESSIBILITY_DETAILS_SETTINGS = "android.settings.ACCESSIBILITY_DETAILS_SETTINGS"`

#### `ACCESSIBILITY_SETTINGS`

`ActivityAction.ACCESSIBILITY_SETTINGS = "android.settings.ACCESSIBILITY_SETTINGS"`

#### `ACCESSIBILITY_SETTINGS_FOR_SUW`

`ActivityAction.ACCESSIBILITY_SETTINGS_FOR_SUW = "android.settings.ACCESSIBILITY_SETTINGS_FOR_SUW"`

#### `ACCESSIBILITY_SHORTCUT_SETTINGS`

`ActivityAction.ACCESSIBILITY_SHORTCUT_SETTINGS = "android.settings.ACCESSIBILITY_SHORTCUT_SETTINGS"`

#### `ACCOUNT_SYNC_SETTINGS`

`ActivityAction.ACCOUNT_SYNC_SETTINGS = "android.settings.ACCOUNT_SYNC_SETTINGS"`

#### `APP_NOTIFICATION_REDACTION`

`ActivityAction.APP_NOTIFICATION_REDACTION = "android.settings.ACTION_APP_NOTIFICATION_REDACTION"`

#### `CONDITION_PROVIDER_SETTINGS`

`ActivityAction.CONDITION_PROVIDER_SETTINGS = "android.settings.ACTION_CONDITION_PROVIDER_SETTINGS"`

#### `MEDIA_CONTROLS_SETTINGS`

`ActivityAction.MEDIA_CONTROLS_SETTINGS = "android.settings.ACTION_MEDIA_CONTROLS_SETTINGS"`

#### `NOTIFICATION_LISTENER_SETTINGS`

`ActivityAction.NOTIFICATION_LISTENER_SETTINGS = "android.settings.ACTION_NOTIFICATION_LISTENER_SETTINGS"`

#### `OTHER_SOUND_SETTINGS`

`ActivityAction.OTHER_SOUND_SETTINGS = "android.settings.ACTION_OTHER_SOUND_SETTINGS"`

#### `POWER_MENU_SETTINGS`

`ActivityAction.POWER_MENU_SETTINGS = "android.settings.ACTION_POWER_MENU_SETTINGS"`

#### `PRINT_SETTINGS`

`ActivityAction.PRINT_SETTINGS = "android.settings.ACTION_PRINT_SETTINGS"`

#### `MANAGE_OVERLAY_PERMISSION`

`ActivityAction.MANAGE_OVERLAY_PERMISSION = "android.settings.action.MANAGE_OVERLAY_PERMISSION"`

#### `MANAGE_WRITE_SETTINGS`

`ActivityAction.MANAGE_WRITE_SETTINGS = "android.settings.action.MANAGE_WRITE_SETTINGS"`

#### `ONE_HANDED_SETTINGS`

`ActivityAction.ONE_HANDED_SETTINGS = "android.settings.action.ONE_HANDED_SETTINGS"`

#### `ADAPTIVE_BRIGHTNESS_SETTINGS`

`ActivityAction.ADAPTIVE_BRIGHTNESS_SETTINGS = "android.settings.ADAPTIVE_BRIGHTNESS_SETTINGS"`

#### `ADD_ACCOUNT_SETTINGS`

`ActivityAction.ADD_ACCOUNT_SETTINGS = "android.settings.ADD_ACCOUNT_SETTINGS"`

#### `ADVANCED_MEMORY_PROTECTION_SETTINGS`

`ActivityAction.ADVANCED_MEMORY_PROTECTION_SETTINGS = "android.settings.ADVANCED_MEMORY_PROTECTION_SETTINGS"`

#### `AIRPLANE_MODE_SETTINGS`

`ActivityAction.AIRPLANE_MODE_SETTINGS = "android.settings.AIRPLANE_MODE_SETTINGS"`

#### `ALL_APPS_NOTIFICATION_SETTINGS`

`ActivityAction.ALL_APPS_NOTIFICATION_SETTINGS = "android.settings.ALL_APPS_NOTIFICATION_SETTINGS"`

#### `ALL_APPS_NOTIFICATION_SETTINGS_FOR_REVIEW`

`ActivityAction.ALL_APPS_NOTIFICATION_SETTINGS_FOR_REVIEW = "android.settings.ALL_APPS_NOTIFICATION_SETTINGS_FOR_REVIEW"`

#### `APN_SETTINGS`

`ActivityAction.APN_SETTINGS = "android.settings.APN_SETTINGS"`

#### `APP_LOCALE_SETTINGS`

`ActivityAction.APP_LOCALE_SETTINGS = "android.settings.APP_LOCALE_SETTINGS"`

#### `APP_MEMORY_USAGE`

`ActivityAction.APP_MEMORY_USAGE = "android.settings.APP_MEMORY_USAGE"`

#### `APP_NOTIFICATION_BUBBLE_SETTINGS`

`ActivityAction.APP_NOTIFICATION_BUBBLE_SETTINGS = "android.settings.APP_NOTIFICATION_BUBBLE_SETTINGS"`

#### `APP_NOTIFICATION_SETTINGS`

`ActivityAction.APP_NOTIFICATION_SETTINGS = "android.settings.APP_NOTIFICATION_SETTINGS"`

#### `APP_OPEN_BY_DEFAULT_SETTINGS`

`ActivityAction.APP_OPEN_BY_DEFAULT_SETTINGS = "android.settings.APP_OPEN_BY_DEFAULT_SETTINGS"`

#### `APPLICATION_DETAILS_SETTINGS`

`ActivityAction.APPLICATION_DETAILS_SETTINGS = "android.settings.APPLICATION_DETAILS_SETTINGS"`

#### `APPLICATION_DEVELOPMENT_SETTINGS`

`ActivityAction.APPLICATION_DEVELOPMENT_SETTINGS = "android.settings.APPLICATION_DEVELOPMENT_SETTINGS"`

#### `APPLICATION_SETTINGS`

`ActivityAction.APPLICATION_SETTINGS = "android.settings.APPLICATION_SETTINGS"`

#### `AUDIO_STREAM_DIALOG`

`ActivityAction.AUDIO_STREAM_DIALOG = "android.settings.AUDIO_STREAM_DIALOG"`

#### `AUTO_ROTATE_SETTINGS`

`ActivityAction.AUTO_ROTATE_SETTINGS = "android.settings.AUTO_ROTATE_SETTINGS"`

#### `AUTOMATIC_ZEN_RULE_SETTINGS`

`ActivityAction.AUTOMATIC_ZEN_RULE_SETTINGS = "android.settings.AUTOMATIC_ZEN_RULE_SETTINGS"`

#### `BATTERY_SAVER_SETTINGS`

`ActivityAction.BATTERY_SAVER_SETTINGS = "android.settings.BATTERY_SAVER_SETTINGS"`

#### `BIOMETRIC_ENROLL`

`ActivityAction.BIOMETRIC_ENROLL = "android.settings.BIOMETRIC_ENROLL"`

#### `BLUETOOTH_DASHBOARD_SETTINGS`

`ActivityAction.BLUETOOTH_DASHBOARD_SETTINGS = "android.settings.BLUETOOTH_DASHBOARD_SETTINGS"`

#### `BLUETOOTH_LE_AUDIO_QR_CODE_SCANNER`

`ActivityAction.BLUETOOTH_LE_AUDIO_QR_CODE_SCANNER = "android.settings.BLUETOOTH_LE_AUDIO_QR_CODE_SCANNER"`

#### `BLUETOOTH_PAIRING_SETTINGS`

`ActivityAction.BLUETOOTH_PAIRING_SETTINGS = "android.settings.BLUETOOTH_PAIRING_SETTINGS"`

#### `BLUETOOTH_SETTINGS`

`ActivityAction.BLUETOOTH_SETTINGS = "android.settings.BLUETOOTH_SETTINGS"`

#### `BLUTOOTH_FIND_BROADCASTS_ACTIVITY`

`ActivityAction.BLUTOOTH_FIND_BROADCASTS_ACTIVITY = "android.settings.BLUTOOTH_FIND_BROADCASTS_ACTIVITY"`

#### `BUGREPORT_HANDLER_SETTINGS`

`ActivityAction.BUGREPORT_HANDLER_SETTINGS = "android.settings.BUGREPORT_HANDLER_SETTINGS"`

#### `CAPTIONING_SETTINGS`

`ActivityAction.CAPTIONING_SETTINGS = "android.settings.CAPTIONING_SETTINGS"`

#### `CAST_SETTINGS`

`ActivityAction.CAST_SETTINGS = "android.settings.CAST_SETTINGS"`

#### `CELLULAR_NETWORK_SECURITY`

`ActivityAction.CELLULAR_NETWORK_SECURITY = "android.settings.CELLULAR_NETWORK_SECURITY"`

#### `CHANNEL_NOTIFICATION_SETTINGS`

`ActivityAction.CHANNEL_NOTIFICATION_SETTINGS = "android.settings.CHANNEL_NOTIFICATION_SETTINGS"`

#### `COLOR_INVERSION_SETTINGS`

`ActivityAction.COLOR_INVERSION_SETTINGS = "android.settings.COLOR_INVERSION_SETTINGS"`

#### `COMBINED_BIOMETRICS_SETTINGS`

`ActivityAction.COMBINED_BIOMETRICS_SETTINGS = "android.settings.COMBINED_BIOMETRICS_SETTINGS"`

#### `COMMUNAL_SETTINGS`

`ActivityAction.COMMUNAL_SETTINGS = "android.settings.COMMUNAL_SETTINGS"`

#### `CONVERSATION_SETTINGS`

`ActivityAction.CONVERSATION_SETTINGS = "android.settings.CONVERSATION_SETTINGS"`

#### `CREDENTIAL_PROVIDER`

`ActivityAction.CREDENTIAL_PROVIDER = "android.settings.CREDENTIAL_PROVIDER"`

#### `DARK_THEME_SETTINGS`

`ActivityAction.DARK_THEME_SETTINGS = "android.settings.DARK_THEME_SETTINGS"`

#### `DATA_ROAMING_SETTINGS`

`ActivityAction.DATA_ROAMING_SETTINGS = "android.settings.DATA_ROAMING_SETTINGS"`

#### `DATA_SAVER_SETTINGS`

`ActivityAction.DATA_SAVER_SETTINGS = "android.settings.DATA_SAVER_SETTINGS"`

#### `DATA_USAGE_SETTINGS`

`ActivityAction.DATA_USAGE_SETTINGS = "android.settings.DATA_USAGE_SETTINGS"`

#### `DATE_SETTINGS`

`ActivityAction.DATE_SETTINGS = "android.settings.DATE_SETTINGS"`

#### `DEVELOPMENT_START_DSU_LOADER`

`ActivityAction.DEVELOPMENT_START_DSU_LOADER = "android.settings.development.START_DSU_LOADER"`

#### `DEVICE_INFO_SETTINGS`

`ActivityAction.DEVICE_INFO_SETTINGS = "android.settings.DEVICE_INFO_SETTINGS"`

#### `DEVICE_NAME`

`ActivityAction.DEVICE_NAME = "android.settings.DEVICE_NAME"`

#### `DISPLAY_SETTINGS`

`ActivityAction.DISPLAY_SETTINGS = "android.settings.DISPLAY_SETTINGS"`

#### `DREAM_SETTINGS`

`ActivityAction.DREAM_SETTINGS = "android.settings.DREAM_SETTINGS"`

#### `ENTERPRISE_PRIVACY_SETTINGS`

`ActivityAction.ENTERPRISE_PRIVACY_SETTINGS = "android.settings.ENTERPRISE_PRIVACY_SETTINGS"`

#### `FACE_ENROLL`

`ActivityAction.FACE_ENROLL = "android.settings.FACE_ENROLL"`

#### `FACE_SETTINGS`

`ActivityAction.FACE_SETTINGS = "android.settings.FACE_SETTINGS"`

#### `FINGERPRINT_ENROLL`

`ActivityAction.FINGERPRINT_ENROLL = "android.settings.FINGERPRINT_ENROLL"`

#### `FINGERPRINT_SETTINGS`

`ActivityAction.FINGERPRINT_SETTINGS = "android.settings.FINGERPRINT_SETTINGS"`

#### `FINGERPRINT_SETTINGS_V2`

`ActivityAction.FINGERPRINT_SETTINGS_V2 = "android.settings.FINGERPRINT_SETTINGS_V2"`

#### `FINGERPRINT_SETUP`

`ActivityAction.FINGERPRINT_SETUP = "android.settings.FINGERPRINT_SETUP"`

#### `FIRST_DAY_OF_WEEK_SETTINGS`

`ActivityAction.FIRST_DAY_OF_WEEK_SETTINGS = "android.settings.FIRST_DAY_OF_WEEK_SETTINGS"`

#### `HARD_KEYBOARD_LAYOUT_PICKER_SETTINGS`

`ActivityAction.HARD_KEYBOARD_LAYOUT_PICKER_SETTINGS = "android.settings.HARD_KEYBOARD_LAYOUT_PICKER_SETTINGS"`

#### `HARD_KEYBOARD_SETTINGS`

`ActivityAction.HARD_KEYBOARD_SETTINGS = "android.settings.HARD_KEYBOARD_SETTINGS"`

#### `HEARING_DEVICES_PAIRING_SETTINGS`

`ActivityAction.HEARING_DEVICES_PAIRING_SETTINGS = "android.settings.HEARING_DEVICES_PAIRING_SETTINGS"`

#### `HEARING_DEVICES_SETTINGS`

`ActivityAction.HEARING_DEVICES_SETTINGS = "android.settings.HEARING_DEVICES_SETTINGS"`

#### `HOME_SETTINGS`

`ActivityAction.HOME_SETTINGS = "android.settings.HOME_SETTINGS"`

#### `IGNORE_BACKGROUND_DATA_RESTRICTIONS_SETTINGS`

`ActivityAction.IGNORE_BACKGROUND_DATA_RESTRICTIONS_SETTINGS = "android.settings.IGNORE_BACKGROUND_DATA_RESTRICTIONS_SETTINGS"`

#### `IGNORE_BATTERY_OPTIMIZATION_SETTINGS`

`ActivityAction.IGNORE_BATTERY_OPTIMIZATION_SETTINGS = "android.settings.IGNORE_BATTERY_OPTIMIZATION_SETTINGS"`

#### `INPUT_METHOD_SETTINGS`

`ActivityAction.INPUT_METHOD_SETTINGS = "android.settings.INPUT_METHOD_SETTINGS"`

#### `INPUT_METHOD_SUBTYPE_SETTINGS`

`ActivityAction.INPUT_METHOD_SUBTYPE_SETTINGS = "android.settings.INPUT_METHOD_SUBTYPE_SETTINGS"`

#### `INTERNAL_STORAGE_SETTINGS`

`ActivityAction.INTERNAL_STORAGE_SETTINGS = "android.settings.INTERNAL_STORAGE_SETTINGS"`

#### `LANGUAGE_SETTINGS`

`ActivityAction.LANGUAGE_SETTINGS = "android.settings.LANGUAGE_SETTINGS"`

#### `LICENSE`

`ActivityAction.LICENSE = "android.settings.LICENSE"`

#### `LOCALE_SETTINGS`

`ActivityAction.LOCALE_SETTINGS = "android.settings.LOCALE_SETTINGS"`

#### `LOCATION_SCANNING_SETTINGS`

`ActivityAction.LOCATION_SCANNING_SETTINGS = "android.settings.LOCATION_SCANNING_SETTINGS"`

#### `LOCATION_SOURCE_SETTINGS`

`ActivityAction.LOCATION_SOURCE_SETTINGS = "android.settings.LOCATION_SOURCE_SETTINGS"`

#### `LOCK_SCREEN_SETTINGS`

`ActivityAction.LOCK_SCREEN_SETTINGS = "android.settings.LOCK_SCREEN_SETTINGS"`

#### `MANAGE_ADAPTIVE_NOTIFICATIONS`

`ActivityAction.MANAGE_ADAPTIVE_NOTIFICATIONS = "android.settings.MANAGE_ADAPTIVE_NOTIFICATIONS"`

#### `MANAGE_ALL_APPLICATIONS_SETTINGS`

`ActivityAction.MANAGE_ALL_APPLICATIONS_SETTINGS = "android.settings.MANAGE_ALL_APPLICATIONS_SETTINGS"`

#### `MANAGE_ALL_FILES_ACCESS_PERMISSION`

`ActivityAction.MANAGE_ALL_FILES_ACCESS_PERMISSION = "android.settings.MANAGE_ALL_FILES_ACCESS_PERMISSION"`

#### `MANAGE_ALL_SIM_PROFILES_SETTINGS`

`ActivityAction.MANAGE_ALL_SIM_PROFILES_SETTINGS = "android.settings.MANAGE_ALL_SIM_PROFILES_SETTINGS"`

#### `MANAGE_APP_ALL_FILES_ACCESS_PERMISSION`

`ActivityAction.MANAGE_APP_ALL_FILES_ACCESS_PERMISSION = "android.settings.MANAGE_APP_ALL_FILES_ACCESS_PERMISSION"`

#### `MANAGE_APP_LONG_RUNNING_JOBS`

`ActivityAction.MANAGE_APP_LONG_RUNNING_JOBS = "android.settings.MANAGE_APP_LONG_RUNNING_JOBS"`

#### `MANAGE_APP_OVERLAY_PERMISSION`

`ActivityAction.MANAGE_APP_OVERLAY_PERMISSION = "android.settings.MANAGE_APP_OVERLAY_PERMISSION"`

#### `MANAGE_APP_USE_FULL_SCREEN_INTENT`

`ActivityAction.MANAGE_APP_USE_FULL_SCREEN_INTENT = "android.settings.MANAGE_APP_USE_FULL_SCREEN_INTENT"`

#### `MANAGE_APPLICATIONS_SETTINGS`

`ActivityAction.MANAGE_APPLICATIONS_SETTINGS = "android.settings.MANAGE_APPLICATIONS_SETTINGS"`

#### `MANAGE_CLONED_APPS_SETTINGS`

`ActivityAction.MANAGE_CLONED_APPS_SETTINGS = "android.settings.MANAGE_CLONED_APPS_SETTINGS"`

#### `MANAGE_CROSS_PROFILE_ACCESS`

`ActivityAction.MANAGE_CROSS_PROFILE_ACCESS = "android.settings.MANAGE_CROSS_PROFILE_ACCESS"`

#### `MANAGE_DEFAULT_APPS_SETTINGS`

`ActivityAction.MANAGE_DEFAULT_APPS_SETTINGS = "android.settings.MANAGE_DEFAULT_APPS_SETTINGS"`

#### `MANAGE_DOMAIN_URLS`

`ActivityAction.MANAGE_DOMAIN_URLS = "android.settings.MANAGE_DOMAIN_URLS"`

#### `MANAGE_UNKNOWN_APP_SOURCES`

`ActivityAction.MANAGE_UNKNOWN_APP_SOURCES = "android.settings.MANAGE_UNKNOWN_APP_SOURCES"`

#### `MANAGE_USER_ASPECT_RATIO_SETTINGS`

`ActivityAction.MANAGE_USER_ASPECT_RATIO_SETTINGS = "android.settings.MANAGE_USER_ASPECT_RATIO_SETTINGS"`

#### `MANAGED_PROFILE_SETTINGS`

`ActivityAction.MANAGED_PROFILE_SETTINGS = "android.settings.MANAGED_PROFILE_SETTINGS"`

#### `MEDIA_BROADCAST_DIALOG`

`ActivityAction.MEDIA_BROADCAST_DIALOG = "android.settings.MEDIA_BROADCAST_DIALOG"`

#### `MEMORY_CARD_SETTINGS`

`ActivityAction.MEMORY_CARD_SETTINGS = "android.settings.MEMORY_CARD_SETTINGS"`

#### `MMS_MESSAGE_SETTING`

`ActivityAction.MMS_MESSAGE_SETTING = "android.settings.MMS_MESSAGE_SETTING"`

#### `MOBILE_DATA_USAGE`

`ActivityAction.MOBILE_DATA_USAGE = "android.settings.MOBILE_DATA_USAGE"`

#### `MOBILE_NETWORK_LIST`

`ActivityAction.MOBILE_NETWORK_LIST = "android.settings.MOBILE_NETWORK_LIST"`

#### `MODULE_LICENSES`

`ActivityAction.MODULE_LICENSES = "android.settings.MODULE_LICENSES"`

#### `NETWORK_OPERATOR_SETTINGS`

`ActivityAction.NETWORK_OPERATOR_SETTINGS = "android.settings.NETWORK_OPERATOR_SETTINGS"`

#### `NETWORK_PROVIDER_SETTINGS`

`ActivityAction.NETWORK_PROVIDER_SETTINGS = "android.settings.NETWORK_PROVIDER_SETTINGS"`

#### `NFC_SETTINGS`

`ActivityAction.NFC_SETTINGS = "android.settings.NFC_SETTINGS"`

#### `NIGHT_DISPLAY_SETTINGS`

`ActivityAction.NIGHT_DISPLAY_SETTINGS = "android.settings.NIGHT_DISPLAY_SETTINGS"`

#### `NOTIFICATION_ASSISTANT_SETTINGS`

`ActivityAction.NOTIFICATION_ASSISTANT_SETTINGS = "android.settings.NOTIFICATION_ASSISTANT_SETTINGS"`

#### `NOTIFICATION_HISTORY`

`ActivityAction.NOTIFICATION_HISTORY = "android.settings.NOTIFICATION_HISTORY"`

#### `NOTIFICATION_LISTENER_DETAIL_SETTINGS`

`ActivityAction.NOTIFICATION_LISTENER_DETAIL_SETTINGS = "android.settings.NOTIFICATION_LISTENER_DETAIL_SETTINGS"`

#### `NOTIFICATION_POLICY_ACCESS_DETAIL_SETTINGS`

`ActivityAction.NOTIFICATION_POLICY_ACCESS_DETAIL_SETTINGS = "android.settings.NOTIFICATION_POLICY_ACCESS_DETAIL_SETTINGS"`

#### `NOTIFICATION_POLICY_ACCESS_SETTINGS`

`ActivityAction.NOTIFICATION_POLICY_ACCESS_SETTINGS = "android.settings.NOTIFICATION_POLICY_ACCESS_SETTINGS"`

#### `NOTIFICATION_SETTINGS`

`ActivityAction.NOTIFICATION_SETTINGS = "android.settings.NOTIFICATION_SETTINGS"`

#### `PANEL_INTERNET_CONNECTIVITY`

`ActivityAction.PANEL_INTERNET_CONNECTIVITY = "android.settings.panel.action.INTERNET_CONNECTIVITY"`

#### `PANEL_NFC`

`ActivityAction.PANEL_NFC = "android.settings.panel.action.NFC"`

#### `PANEL_VOLUME`

`ActivityAction.PANEL_VOLUME = "android.settings.panel.action.VOLUME"`

#### `PANEL_WIFI`

`ActivityAction.PANEL_WIFI = "android.settings.panel.action.WIFI"`

#### `PICTURE_IN_PICTURE_SETTINGS`

`ActivityAction.PICTURE_IN_PICTURE_SETTINGS = "android.settings.PICTURE_IN_PICTURE_SETTINGS"`

#### `PREMIUM_SMS_SETTINGS`

`ActivityAction.PREMIUM_SMS_SETTINGS = "android.settings.PREMIUM_SMS_SETTINGS"`

#### `PRIVACY_ADVANCED_SETTINGS`

`ActivityAction.PRIVACY_ADVANCED_SETTINGS = "android.settings.PRIVACY_ADVANCED_SETTINGS"`

#### `PRIVACY_CONTROLS`

`ActivityAction.PRIVACY_CONTROLS = "android.settings.PRIVACY_CONTROLS"`

#### `PRIVACY_SETTINGS`

`ActivityAction.PRIVACY_SETTINGS = "android.settings.PRIVACY_SETTINGS"`

#### `PROCESS_WIFI_EASY_CONNECT_URI`

`ActivityAction.PROCESS_WIFI_EASY_CONNECT_URI = "android.settings.PROCESS_WIFI_EASY_CONNECT_URI"`

#### `REDUCE_BRIGHT_COLORS_SETTINGS`

`ActivityAction.REDUCE_BRIGHT_COLORS_SETTINGS = "android.settings.REDUCE_BRIGHT_COLORS_SETTINGS"`

#### `REGIONAL_PREFERENCES_SETTINGS`

`ActivityAction.REGIONAL_PREFERENCES_SETTINGS = "android.settings.REGIONAL_PREFERENCES_SETTINGS"`

#### `REMOTE_AUTHENTICATOR_ENROLL`

`ActivityAction.REMOTE_AUTHENTICATOR_ENROLL = "android.settings.REMOTE_AUTHENTICATOR_ENROLL"`

#### `REQUEST_ENABLE_CONTENT_CAPTURE`

`ActivityAction.REQUEST_ENABLE_CONTENT_CAPTURE = "android.settings.REQUEST_ENABLE_CONTENT_CAPTURE"`

#### `REQUEST_IGNORE_BATTERY_OPTIMIZATIONS`

`ActivityAction.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS = "android.settings.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS"`

#### `REQUEST_MANAGE_MEDIA`

`ActivityAction.REQUEST_MANAGE_MEDIA = "android.settings.REQUEST_MANAGE_MEDIA"`

#### `REQUEST_MEDIA_ROUTING_CONTROL`

`ActivityAction.REQUEST_MEDIA_ROUTING_CONTROL = "android.settings.REQUEST_MEDIA_ROUTING_CONTROL"`

#### `REQUEST_SCHEDULE_EXACT_ALARM`

`ActivityAction.REQUEST_SCHEDULE_EXACT_ALARM = "android.settings.REQUEST_SCHEDULE_EXACT_ALARM"`

#### `REQUEST_SET_AUTOFILL_SERVICE`

`ActivityAction.REQUEST_SET_AUTOFILL_SERVICE = "android.settings.REQUEST_SET_AUTOFILL_SERVICE"`

#### `SATELLITE_SETTING`

`ActivityAction.SATELLITE_SETTING = "android.settings.SATELLITE_SETTING"`

#### `SCREEN_TIMEOUT_SETTINGS`

`ActivityAction.SCREEN_TIMEOUT_SETTINGS = "android.settings.SCREEN_TIMEOUT_SETTINGS"`

#### `SECURITY_SETTINGS`

`ActivityAction.SECURITY_SETTINGS = "android.settings.SECURITY_SETTINGS"`

#### `SETTINGS`

`ActivityAction.SETTINGS = "android.settings.SETTINGS"`

#### `SETTINGS_EMBED_DEEP_LINK_ACTIVITY`

`ActivityAction.SETTINGS_EMBED_DEEP_LINK_ACTIVITY = "android.settings.SETTINGS_EMBED_DEEP_LINK_ACTIVITY"`

#### `SHOW_ADMIN_SUPPORT_DETAILS`

`ActivityAction.SHOW_ADMIN_SUPPORT_DETAILS = "android.settings.SHOW_ADMIN_SUPPORT_DETAILS"`

#### `SHOW_MANUAL`

`ActivityAction.SHOW_MANUAL = "android.settings.SHOW_MANUAL"`

#### `SHOW_REGULATORY_INFO`

`ActivityAction.SHOW_REGULATORY_INFO = "android.settings.SHOW_REGULATORY_INFO"`

#### `SHOW_REMOTE_BUGREPORT_DIALOG`

`ActivityAction.SHOW_REMOTE_BUGREPORT_DIALOG = "android.settings.SHOW_REMOTE_BUGREPORT_DIALOG"`

#### `SHOW_RESTRICTED_SETTING_DIALOG`

`ActivityAction.SHOW_RESTRICTED_SETTING_DIALOG = "android.settings.SHOW_RESTRICTED_SETTING_DIALOG"`

#### `SIM_PREFERENCE_SETTINGS`

`ActivityAction.SIM_PREFERENCE_SETTINGS = "android.settings.SIM_PREFERENCE_SETTINGS"`

#### `SOUND_SETTINGS`

`ActivityAction.SOUND_SETTINGS = "android.settings.SOUND_SETTINGS"`

#### `SPA_SEARCH_LANDING`

`ActivityAction.SPA_SEARCH_LANDING = "android.settings.SPA_SEARCH_LANDING"`

#### `STORAGE_MANAGER_SETTINGS`

`ActivityAction.STORAGE_MANAGER_SETTINGS = "android.settings.STORAGE_MANAGER_SETTINGS"`

#### `SYNC_SETTINGS`

`ActivityAction.SYNC_SETTINGS = "android.settings.SYNC_SETTINGS"`

#### `TEMPERATURE_UNIT_SETTINGS`

`ActivityAction.TEMPERATURE_UNIT_SETTINGS = "android.settings.TEMPERATURE_UNIT_SETTINGS"`

#### `TETHER_PROVISIONING_UI`

`ActivityAction.TETHER_PROVISIONING_UI = "android.settings.TETHER_PROVISIONING_UI"`

#### `TETHER_SETTINGS`

`ActivityAction.TETHER_SETTINGS = "android.settings.TETHER_SETTINGS"`

#### `TETHER_UNSUPPORTED_CARRIER_UI`

`ActivityAction.TETHER_UNSUPPORTED_CARRIER_UI = "android.settings.TETHER_UNSUPPORTED_CARRIER_UI"`

#### `TEXT_READING_SETTINGS`

`ActivityAction.TEXT_READING_SETTINGS = "android.settings.TEXT_READING_SETTINGS"`

#### `TURN_SCREEN_ON_SETTINGS`

`ActivityAction.TURN_SCREEN_ON_SETTINGS = "android.settings.TURN_SCREEN_ON_SETTINGS"`

#### `USAGE_ACCESS_SETTINGS`

`ActivityAction.USAGE_ACCESS_SETTINGS = "android.settings.USAGE_ACCESS_SETTINGS"`

#### `USER_DICTIONARY_INSERT`

`ActivityAction.USER_DICTIONARY_INSERT = "android.settings.USER_DICTIONARY_INSERT"`

#### `USER_DICTIONARY_SETTINGS`

`ActivityAction.USER_DICTIONARY_SETTINGS = "android.settings.USER_DICTIONARY_SETTINGS"`

#### `USER_SETTINGS`

`ActivityAction.USER_SETTINGS = "android.settings.USER_SETTINGS"`

#### `VIEW_ADVANCED_POWER_USAGE_DETAIL`

`ActivityAction.VIEW_ADVANCED_POWER_USAGE_DETAIL = "android.settings.VIEW_ADVANCED_POWER_USAGE_DETAIL"`

#### `VOICE_CONTROL_AIRPLANE_MODE`

`ActivityAction.VOICE_CONTROL_AIRPLANE_MODE = "android.settings.VOICE_CONTROL_AIRPLANE_MODE"`

#### `VOICE_CONTROL_BATTERY_SAVER_MODE`

`ActivityAction.VOICE_CONTROL_BATTERY_SAVER_MODE = "android.settings.VOICE_CONTROL_BATTERY_SAVER_MODE"`

#### `VOICE_CONTROL_DO_NOT_DISTURB_MODE`

`ActivityAction.VOICE_CONTROL_DO_NOT_DISTURB_MODE = "android.settings.VOICE_CONTROL_DO_NOT_DISTURB_MODE"`

#### `VOICE_INPUT_SETTINGS`

`ActivityAction.VOICE_INPUT_SETTINGS = "android.settings.VOICE_INPUT_SETTINGS"`

#### `VPN_SETTINGS`

`ActivityAction.VPN_SETTINGS = "android.settings.VPN_SETTINGS"`

#### `VR_LISTENER_SETTINGS`

`ActivityAction.VR_LISTENER_SETTINGS = "android.settings.VR_LISTENER_SETTINGS"`

#### `WALLPAPER_SETTINGS`

`ActivityAction.WALLPAPER_SETTINGS = "android.settings.WALLPAPER_SETTINGS"`

#### `WEBVIEW_SETTINGS`

`ActivityAction.WEBVIEW_SETTINGS = "android.settings.WEBVIEW_SETTINGS"`

#### `WIFI_ADD_NETWORKS`

`ActivityAction.WIFI_ADD_NETWORKS = "android.settings.WIFI_ADD_NETWORKS"`

#### `WIFI_CALLING_SETTINGS`

`ActivityAction.WIFI_CALLING_SETTINGS = "android.settings.WIFI_CALLING_SETTINGS"`

#### `WIFI_DETAILS_SETTINGS`

`ActivityAction.WIFI_DETAILS_SETTINGS = "android.settings.WIFI_DETAILS_SETTINGS"`

#### `WIFI_DPP_CONFIGURATOR_AUTH_QR_CODE_GENERATOR`

`ActivityAction.WIFI_DPP_CONFIGURATOR_AUTH_QR_CODE_GENERATOR = "android.settings.WIFI_DPP_CONFIGURATOR_AUTH_QR_CODE_GENERATOR"`

#### `WIFI_DPP_CONFIGURATOR_QR_CODE_GENERATOR`

`ActivityAction.WIFI_DPP_CONFIGURATOR_QR_CODE_GENERATOR = "android.settings.WIFI_DPP_CONFIGURATOR_QR_CODE_GENERATOR"`

#### `WIFI_DPP_CONFIGURATOR_QR_CODE_SCANNER`

`ActivityAction.WIFI_DPP_CONFIGURATOR_QR_CODE_SCANNER = "android.settings.WIFI_DPP_CONFIGURATOR_QR_CODE_SCANNER"`

#### `WIFI_DPP_ENROLLEE_QR_CODE_SCANNER`

`ActivityAction.WIFI_DPP_ENROLLEE_QR_CODE_SCANNER = "android.settings.WIFI_DPP_ENROLLEE_QR_CODE_SCANNER"`

#### `WIFI_IP_SETTINGS`

`ActivityAction.WIFI_IP_SETTINGS = "android.settings.WIFI_IP_SETTINGS"`

#### `WIFI_SAVED_NETWORK_SETTINGS`

`ActivityAction.WIFI_SAVED_NETWORK_SETTINGS = "android.settings.WIFI_SAVED_NETWORK_SETTINGS"`

#### `WIFI_SCANNING_SETTINGS`

`ActivityAction.WIFI_SCANNING_SETTINGS = "android.settings.WIFI_SCANNING_SETTINGS"`

#### `WIFI_SETTINGS`

`ActivityAction.WIFI_SETTINGS = "android.settings.WIFI_SETTINGS"`

#### `WIRELESS_SETTINGS`

`ActivityAction.WIRELESS_SETTINGS = "android.settings.WIRELESS_SETTINGS"`

#### `ZEN_MODE_AUTOMATION_SETTINGS`

`ActivityAction.ZEN_MODE_AUTOMATION_SETTINGS = "android.settings.ZEN_MODE_AUTOMATION_SETTINGS"`

#### `ZEN_MODE_EVENT_RULE_SETTINGS`

`ActivityAction.ZEN_MODE_EVENT_RULE_SETTINGS = "android.settings.ZEN_MODE_EVENT_RULE_SETTINGS"`

#### `ZEN_MODE_PRIORITY_SETTINGS`

`ActivityAction.ZEN_MODE_PRIORITY_SETTINGS = "android.settings.ZEN_MODE_PRIORITY_SETTINGS"`

#### `ZEN_MODE_SCHEDULE_RULE_SETTINGS`

`ActivityAction.ZEN_MODE_SCHEDULE_RULE_SETTINGS = "android.settings.ZEN_MODE_SCHEDULE_RULE_SETTINGS"`

#### `ZEN_MODE_SETTINGS`

`ActivityAction.ZEN_MODE_SETTINGS = "android.settings.ZEN_MODE_SETTINGS"`

#### `ACCESSIBILITY_COLOR_SPACE_SETTINGS`

`ActivityAction.ACCESSIBILITY_COLOR_SPACE_SETTINGS = "com.android.settings.ACCESSIBILITY_COLOR_SPACE_SETTINGS"`

#### `FACTORY_RESET`

`ActivityAction.FACTORY_RESET = "com.android.settings.action.FACTORY_RESET"`

#### `IA_SETTINGS`

`ActivityAction.IA_SETTINGS = "com.android.settings.action.IA_SETTINGS"`

#### `OPEN_PRIVATE_SPACE_SETTINGS`

`ActivityAction.OPEN_PRIVATE_SPACE_SETTINGS = "com.android.settings.action.OPEN_PRIVATE_SPACE_SETTINGS"`

#### `SUGGESTION_STATE_PROVIDER`

`ActivityAction.SUGGESTION_STATE_PROVIDER = "com.android.settings.action.SUGGESTION_STATE_PROVIDER"`

#### `SUPPORT_SETTINGS`

`ActivityAction.SUPPORT_SETTINGS = "com.android.settings.action.SUPPORT_SETTINGS"`

#### `ADVANCED_CONNECTED_DEVICE_SETTINGS`

`ActivityAction.ADVANCED_CONNECTED_DEVICE_SETTINGS = "com.android.settings.ADVANCED_CONNECTED_DEVICE_SETTINGS"`

#### `APP_STORAGE_SETTINGS`

`ActivityAction.APP_STORAGE_SETTINGS = "com.android.settings.APP_STORAGE_SETTINGS"`

#### `BACKUP_SETTINGS`

`ActivityAction.BACKUP_SETTINGS = "com.android.settings.BACKUP_SETTINGS"`

#### `BATTERY_SAVER_SCHEDULE_SETTINGS`

`ActivityAction.BATTERY_SAVER_SCHEDULE_SETTINGS = "com.android.settings.BATTERY_SAVER_SCHEDULE_SETTINGS"`

#### `BATTERY_POWER_USAGE_ADVANCED`

`ActivityAction.BATTERY_POWER_USAGE_ADVANCED = "com.android.settings.battery.action.POWER_USAGE_ADVANCED"`

#### `BIOMETRIC_SETTINGS_PROVIDER`

`ActivityAction.BIOMETRIC_SETTINGS_PROVIDER = "com.android.settings.biometrics.BIOMETRIC_SETTINGS_PROVIDER"`

#### `BLUETOOTH_AUDIO_SHARING_SETTINGS`

`ActivityAction.BLUETOOTH_AUDIO_SHARING_SETTINGS = "com.android.settings.BLUETOOTH_AUDIO_SHARING_SETTINGS"`

#### `BLUETOOTH_DEVICE_DETAIL_SETTINGS`

`ActivityAction.BLUETOOTH_DEVICE_DETAIL_SETTINGS = "com.android.settings.BLUETOOTH_DEVICE_DETAIL_SETTINGS"`

#### `BUTTON_NAVIGATION_SETTINGS`

`ActivityAction.BUTTON_NAVIGATION_SETTINGS = "com.android.settings.BUTTON_NAVIGATION_SETTINGS"`

#### `GESTURE_NAVIGATION_SETTINGS`

`ActivityAction.GESTURE_NAVIGATION_SETTINGS = "com.android.settings.GESTURE_NAVIGATION_SETTINGS"`

#### `MONITORING_CERT_INFO`

`ActivityAction.MONITORING_CERT_INFO = "com.android.settings.MONITORING_CERT_INFO"`

#### `MORE_SECURITY_PRIVACY_SETTINGS`

`ActivityAction.MORE_SECURITY_PRIVACY_SETTINGS = "com.android.settings.MORE_SECURITY_PRIVACY_SETTINGS"`

#### `NAVIGATION_MODE_SETTINGS`

`ActivityAction.NAVIGATION_MODE_SETTINGS = "com.android.settings.NAVIGATION_MODE_SETTINGS"`

#### `PREVIOUSLY_CONNECTED_DEVICE`

`ActivityAction.PREVIOUSLY_CONNECTED_DEVICE = "com.android.settings.PREVIOUSLY_CONNECTED_DEVICE"`

#### `SEARCH_RESULT_TRAMPOLINE`

`ActivityAction.SEARCH_RESULT_TRAMPOLINE = "com.android.settings.SEARCH_RESULT_TRAMPOLINE"`

#### `SECURITY_ADVANCED_SETTINGS`

`ActivityAction.SECURITY_ADVANCED_SETTINGS = "com.android.settings.security.SECURITY_ADVANCED_SETTINGS"`

#### `SETUP_LOCK_SCREEN`

`ActivityAction.SETUP_LOCK_SCREEN = "com.android.settings.SETUP_LOCK_SCREEN"`

#### `SIM_SUB_INFO_SETTINGS`

`ActivityAction.SIM_SUB_INFO_SETTINGS = "com.android.settings.sim.SIM_SUB_INFO_SETTINGS"`

#### `STYLUS_USI_DETAILS_SETTINGS`

`ActivityAction.STYLUS_USI_DETAILS_SETTINGS = "com.android.settings.STYLUS_USI_DETAILS_SETTINGS"`

#### `TRUSTED_CREDENTIALS`

`ActivityAction.TRUSTED_CREDENTIALS = "com.android.settings.TRUSTED_CREDENTIALS"`

#### `TRUSTED_CREDENTIALS_USER`

`ActivityAction.TRUSTED_CREDENTIALS_USER = "com.android.settings.TRUSTED_CREDENTIALS_USER"`

#### `TTS_SETTINGS`

`ActivityAction.TTS_SETTINGS = "com.android.settings.TTS_SETTINGS"`

#### `WIFI_DIALOG`

`ActivityAction.WIFI_DIALOG = "com.android.settings.WIFI_DIALOG"`

#### `WIFI_TETHER_SETTINGS`

`ActivityAction.WIFI_TETHER_SETTINGS = "com.android.settings.WIFI_TETHER_SETTINGS"`

#### `WIFI_NETWORK_REQUEST`

`ActivityAction.WIFI_NETWORK_REQUEST = "com.android.settings.wifi.action.NETWORK_REQUEST"`

### `ResultCode`

Supported platforms: Android.

#### `Success`

`ResultCode.Success = -1`

Indicates that the activity operation succeeded.

#### `Canceled`

`ResultCode.Canceled = 0`

Means that the activity was canceled, for example, by tapping on the back button.

#### `FirstUser`

`ResultCode.FirstUser = 1`

First custom, user-defined value that can be returned by the activity.

---

---

title: KeepAwake
description: A React component that prevents the screen from sleeping when rendered.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-keep-awake'
packageName: 'expo-keep-awake'
iconUrl: '/static/images/packages/expo-keep-awake.png'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo KeepAwake

A React component that prevents the screen from sleeping when rendered.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-keep-awake` provides a React hook that prevents the screen from sleeping and a pair of functions to enable this behavior imperatively.

## Installation

```sh
npx expo install expo-keep-awake
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

### Example: hook

```jsx
import { useKeepAwake } from "expo-keep-awake";
import { Text, View } from "react-native";
import React from "react";

export default function KeepAwakeExample() {
  useKeepAwake();
  return (
    <View style={{ flex: 1, alignItems: "center", justifyContent: "center" }}>
      <Text>This screen will never sleep!</Text>
    </View>
  );
}
```

### Example: functions

```jsx
import { activateKeepAwake, deactivateKeepAwake } from "expo-keep-awake";
import { Button, View } from "react-native";
import React from "react";

export default class KeepAwakeExample extends React.Component {
  render() {
    return (
      <View style={{ flex: 1, alignItems: "center", justifyContent: "center" }}>
        <Button
          onPress={this._activate}
          title="Activate"
        />
        <Button
          onPress={this._deactivate}
          title="Deactivate"
        />
      </View>
    );
  }

  _activate = () => {
    activateKeepAwake();
    alert("Activated!");
  };

  _deactivate = () => {
    deactivateKeepAwake();
    alert("Deactivated!");
  };
}
```

## API

```js
import * as KeepAwake from "expo-keep-awake";
```

## Constants

### `KeepAwake.ExpoKeepAwakeTag`

Supported platforms: Android, iOS, tvOS, Web.

Type: `'ExpoKeepAwakeDefaultTag'`

Default tag, used when no tag has been specified in keep awake method calls.

## Hooks

### `useKeepAwake(tag, options)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter           | Type                                  | Description                                                                                        |
| ------------------- | ------------------------------------- | -------------------------------------------------------------------------------------------------- |
| `tag`(optional)     | `string`                              | Tag to lock screen sleep prevention. If not provided, an ID unique to the owner component is used. |
| `options`(optional) | [KeepAwakeOptions](#keepawakeoptions) | Additional options for the keep awake hook.                                                        |

A React hook to keep the screen awake for as long as the owner component is mounted. The optionally provided `tag` argument is used when activating and deactivating the keep-awake feature. If unspecified, an ID unique to the owner component is used. See the documentation for `activateKeepAwakeAsync` below to learn more about the `tag` argument.

Returns: `void`

## Methods

> **Deprecated:** use `activateKeepAwakeAsync` instead.

### `KeepAwake.activateKeepAwake(tag)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter       | Type     | Description                                                                                                |
| --------------- | -------- | ---------------------------------------------------------------------------------------------------------- |
| `tag`(optional) | `string` | Tag to lock screen sleep prevention. If not provided, the default tag is used. Default: `ExpoKeepAwakeTag` |

Prevents the screen from sleeping until `deactivateKeepAwake` is called with the same `tag` value.

If the `tag` argument is specified, the screen will not sleep until you call `deactivateKeepAwake` with the same `tag` argument. When using multiple `tags` for activation you'll have to deactivate each one in order to re-enable screen sleep. If tag is unspecified, the default `tag` is used.

Web support [is limited](https://caniuse.com/wake-lock).

Returns: `Promise<void>`

### `KeepAwake.activateKeepAwakeAsync(tag)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter       | Type     | Description                                                                                                |
| --------------- | -------- | ---------------------------------------------------------------------------------------------------------- |
| `tag`(optional) | `string` | Tag to lock screen sleep prevention. If not provided, the default tag is used. Default: `ExpoKeepAwakeTag` |

Prevents the screen from sleeping until `deactivateKeepAwake` is called with the same `tag` value.

If the `tag` argument is specified, the screen will not sleep until you call `deactivateKeepAwake` with the same `tag` argument. When using multiple `tags` for activation you'll have to deactivate each one in order to re-enable screen sleep. If tag is unspecified, the default `tag` is used.

Web support [is limited](https://caniuse.com/wake-lock).

Returns: `Promise<void>`

### `KeepAwake.deactivateKeepAwake(tag)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter       | Type     | Description                                                                                                               |
| --------------- | -------- | ------------------------------------------------------------------------------------------------------------------------- |
| `tag`(optional) | `string` | Tag to release the lock on screen sleep prevention. If not provided, the default tag is used. Default: `ExpoKeepAwakeTag` |

Releases the lock on screen-sleep prevention associated with the given `tag` value. If `tag` is unspecified, it defaults to the same default tag that `activateKeepAwake` uses.

Returns: `Promise<void>`

### `KeepAwake.isAvailableAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Returns: `Promise<boolean>`

`true` on all platforms except [unsupported web browsers](https://caniuse.com/wake-lock).

## Event Subscriptions

### `KeepAwake.addListener(tagOrListener, listener)`

Supported platforms: Web.

| Parameter            | Type                                                                        |
| -------------------- | --------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| `tagOrListener`      | string                                                                      | [KeepAwakeListener](/versions/latest/sdk/keep-awake#keepawakelistenerevent) |
| `listener`(optional) | [KeepAwakeListener](/versions/latest/sdk/keep-awake#keepawakelistenerevent) |

Observe changes to the keep awake timer. On web, this changes when navigating away from the active window/tab. No-op on native.

Returns: `EventSubscription`

Example

```ts
KeepAwake.addListener(({ state }) => {
  // ...
});
```

## Types

### `KeepAwakeEvent`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type                                        | Description       |
| -------- | ------------------------------------------- | ----------------- |
| state    | [KeepAwakeEventState](#keepawakeeventstate) | Keep awake state. |

### `KeepAwakeListener(event)`

Supported platforms: Web.

| Parameter | Type                              |
| --------- | --------------------------------- |
| `event`   | [KeepAwakeEvent](#keepawakeevent) |

Returns:

`void`

### `KeepAwakeOptions`

Supported platforms: Android, iOS, tvOS, Web.

| Property                             | Type                                                                        | Description                                                                                                                                                                      |
| ------------------------------------ | --------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| listener(optional)                   | [KeepAwakeListener](/versions/latest/sdk/keep-awake#keepawakelistenerevent) | Supported platforms: Web. A callback that is invoked when the keep-awake state changes.                                                                                          |
| suppressDeactivateWarnings(optional) | `boolean`                                                                   | The call will throw an unhandled promise rejection on Android when the original Activity is dead or deactivated. Set the value to `true` for suppressing the uncaught exception. |

## Enums

### `KeepAwakeEventState`

Supported platforms: Android, iOS, tvOS, Web.

#### `RELEASE`

`KeepAwakeEventState.RELEASE = "release"`

---

---

title: react-native-keyboard-controller
description: A library that provides a Keyboard manager that works in an identical way on Android and iOS
sourceCodeUrl: 'https://github.com/kirillzyusko/react-native-keyboard-controller'
packageName: react-native-keyboard-controller
platforms: ['android', 'ios', 'expo-go']
inExpoGo: true
isNew: true

---

# react-native-keyboard-controller

A library that provides a Keyboard manager that works in an identical way on Android and iOS
Android, iOS, Included in Expo Go

`react-native-keyboard-controller` offers additional functionality beyond the built-in React Native keyboard APIs, providing consistency across Android and iOS with minimal configuration and offering the native feel users expect.

## Installation

```sh
npx expo install react-native-keyboard-controller
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://kirillzyusko.github.io/react-native-keyboard-controller/docs/installation) provided in the library's README or documentation.

## Usage

```tsx
import {
  KeyboardAwareScrollView,
  KeyboardToolbar,
} from "react-native-keyboard-controller";
import { TextInput, View, StyleSheet } from "react-native";

export default function FormScreen() {
  return (
    <>
      <KeyboardAwareScrollView
        bottomOffset={62}
        contentContainerStyle={styles.container}
      >
        <View>
          <TextInput
            placeholder="Type a message..."
            style={styles.textInput}
          />
          <TextInput
            placeholder="Type a message..."
            style={styles.textInput}
          />
        </View>
        <TextInput
          placeholder="Type a message..."
          style={styles.textInput}
        />
        <View>
          <TextInput
            placeholder="Type a message..."
            style={styles.textInput}
          />
          <TextInput
            placeholder="Type a message..."
            style={styles.textInput}
          />
          <TextInput
            placeholder="Type a message..."
            style={styles.textInput}
          />
        </View>
        <TextInput
          placeholder="Type a message..."
          style={styles.textInput}
        />
      </KeyboardAwareScrollView>
      <KeyboardToolbar />
    </>
  );
}

const styles = StyleSheet.create({
  container: {
    gap: 16,
    padding: 16,
  },
  listStyle: {
    padding: 16,
    gap: 16,
  },
  textInput: {
    width: "auto",
    flexGrow: 1,
    flexShrink: 1,
    height: 45,
    borderWidth: 1,
    borderRadius: 8,
    borderColor: "#d8d8d8",
    backgroundColor: "#fff",
    padding: 8,
    marginBottom: 8,
  },
});
```

## Additional resources

[Advanced keyboard handling](/guides/keyboard-handling#advanced-keyboard-handling-with-keyboard-controller) â€” Learn more about advanced keyboard handling examples with Keyboard Controller

[Visit official documentation](https://kirillzyusko.github.io/react-native-keyboard-controller/) â€” Get full information on API and its usage.

---

---

title: LightSensor
description: A library that provides access to the device's light sensor.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-sensors'
packageName: 'expo-sensors'
iconUrl: '/static/images/packages/expo-sensors.png'
platforms: ['android', 'expo-go']

---

# Expo LightSensor

A library that provides access to the device's light sensor.
Android, Included in Expo Go

`LightSensor` from `expo-sensors` provides access to the device's light sensor to respond to illuminance changes.

## Installation

```sh
npx expo install expo-sensors
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import {
  StyleSheet,
  Text,
  TouchableOpacity,
  View,
  Platform,
} from "react-native";
import { useState, useEffect } from "react";
import { LightSensor } from "expo-sensors";

export default function App() {
  const [{ illuminance }, setData] = useState({ illuminance: 0 });
  const [subscription, setSubscription] = useState(null);

  const toggle = () => {
    if (subscription) {
      unsubscribe();
    } else {
      subscribe();
    }
  };

  const subscribe = () => {
    setSubscription(
      LightSensor.addListener(sensorData => {
        setData(sensorData);
      }),
    );
  };

  const unsubscribe = () => {
    subscription && subscription.remove();
    setSubscription(null);
  };

  useEffect(() => {
    subscribe();
    return () => unsubscribe();
  }, []);

  return (
    <View style={styles.sensor}>
      <Text>Light Sensor:</Text>
      <Text>
        Illuminance:{" "}
        {Platform.OS === "android"
          ? `${illuminance} lx`
          : `Only available on Android`}
      </Text>
      <View style={styles.buttonContainer}>
        <TouchableOpacity
          onPress={toggle}
          style={styles.button}
        >
          <Text>Toggle</Text>
        </TouchableOpacity>
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  sensor: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
    paddingHorizontal: 10,
  },
  buttonContainer: {
    flexDirection: "row",
    alignItems: "stretch",
    marginTop: 15,
  },
  button: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
    backgroundColor: "#eee",
    padding: 10,
  },
});
```

## API

```js
import { LightSensor } from "expo-sensors";
```

## Classes

### `LightSensor`

Supported platforms: Android.

Type: Class extends [DeviceSensor](/versions/latest/sdk/sensors)<[LightSensorMeasurement](#lightsensormeasurement)\>

LightSensor Methods

### `addListener(listener)`

Supported platforms: Android.

| Parameter  | Type                                                         | Description                                                                                                                                                |
| ---------- | ------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `listener` | Listener<[LightSensorMeasurement](#lightsensormeasurement)\> | A callback that is invoked when a LightSensor update is available. When invoked, the listener is provided a single argument that is the illuminance value. |

Subscribe for updates to the light sensor.

Returns: `EventSubscription`

A subscription that you can call `remove()` on when you would like to unsubscribe the listener.

### `getListenerCount()`

Supported platforms: Android.

Returns the registered listeners count.

Returns: `number`

### `getPermissionsAsync()`

Supported platforms: Android.

Checks user's permissions for accessing sensor.

Returns: `Promise<permissionresponse>`

### `hasListeners()`

Supported platforms: Android.

Returns boolean which signifies if sensor has any listeners registered.

Returns: `boolean`

### `isAvailableAsync()`

Supported platforms: Android.

> You should always check the sensor availability before attempting to use it.

Returns whether the light sensor is available and enabled on the device. Requires at least Android 2.3 (API Level 9).

Returns: `Promise<boolean>`

A promise that resolves to a `boolean` denoting the availability of the light sensor.

### `removeAllListeners()`

Supported platforms: Android.

Removes all registered listeners.

Returns: `void`

### `removeSubscription(subscription)`

Supported platforms: Android.

| Parameter      | Type                | Description               |
| -------------- | ------------------- | ------------------------- |
| `subscription` | `EventSubscription` | A subscription to remove. |

Removes the given subscription.

Returns: `void`

### `requestPermissionsAsync()`

Supported platforms: Android.

Asks the user to grant permissions for accessing sensor.

Returns: `Promise<permissionresponse>`

### `setUpdateInterval(intervalMs)`

Supported platforms: Android.

| Parameter    | Type     | Description                                                                                                                                             |
| ------------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `intervalMs` | `number` | Desired interval in milliseconds between sensor updates. Starting from Android 12 (API level 31), the system has a 200ms limit for each sensor updates. |

Set the sensor update interval.

Returns: `void`

## Interfaces

### `Subscription`

Supported platforms: Android.

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Supported platforms: Android.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

## Types

### `LightSensorMeasurement`

Supported platforms: Android.

| Property    | Type     | Description                                                        |
| ----------- | -------- | ------------------------------------------------------------------ |
| illuminance | `number` | Ambient light level registered by the device measured in lux (lx). |
| timestamp   | `number` | Timestamp of the measurement in seconds.                           |

### `PermissionExpiration`

Supported platforms: Android.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionResponse`

Supported platforms: Android.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

## Enums

### `PermissionStatus`

Supported platforms: Android.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

---

---

title: LinearGradient
description: A universal React component that renders a gradient view.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-linear-gradient'
packageName: 'expo-linear-gradient'
iconUrl: '/static/images/packages/expo-linear-gradient.png'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo LinearGradient

A universal React component that renders a gradient view.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-linear-gradient` provides a native React view that transitions between multiple colors in a linear direction.

## Installation

```sh
npx expo install expo-linear-gradient
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```tsx
import { LinearGradient } from "expo-linear-gradient";
import { StyleSheet, Text, View } from "react-native";

export default function App() {
  return (
    <View style={styles.container}>
      <LinearGradient
        // Background Linear Gradient
        colors={["rgba(0,0,0,0.8)", "transparent"]}
        style={styles.background}
      />
      <LinearGradient
        // Button Linear Gradient
        colors={["#4c669f", "#3b5998", "#192f6a"]}
        style={styles.button}
      >
        <Text style={styles.text}>Sign in with Facebook</Text>
      </LinearGradient>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    justifyContent: "center",
    backgroundColor: "orange",
  },
  background: {
    position: "absolute",
    left: 0,
    right: 0,
    top: 0,
    height: 300,
  },
  button: {
    padding: 15,
    alignItems: "center",
    borderRadius: 5,
  },
  text: {
    backgroundColor: "transparent",
    fontSize: 15,
    color: "#fff",
  },
});
```

## API

```js
import { LinearGradient } from "expo-linear-gradient";
```

## Component

### `LinearGradient`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Component](https://react.dev/reference/react/Component)<[LinearGradientProps](#lineargradientprops)\>

Renders a native view that transitions between multiple colors in a linear direction.

LinearGradientProps

### `colors`

Supported platforms: Android, iOS, tvOS, Web.

Type: readonly \[[ColorValue](https://reactnative.dev/docs/colors), [ColorValue](https://reactnative.dev/docs/colors), ...[ColorValue[]](https://reactnative.dev/docs/colors)\]

A readonly array of colors that represent stops in the gradient. At least two colors are required (for a single-color background, use the `style.backgroundColor` prop on a `View` component).

For TypeScript to know the provided array has 2 or more values, it should be provided "inline" or typed `as const`.

### `dither`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Enables or disables paint dithering. Dithering can reduce the gradient color banding issue. Setting `false` may improve gradient rendering performance.

### `end`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

For example, `{ x: 0.1, y: 0.2 }` means that the gradient will end `10%` from the left and `20%` from the bottom.

**On web**, this only changes the angle of the gradient because CSS gradients don't support changing the end position.

Acceptable values are: [LinearGradientPoint](#lineargradientpoint) | `null`

### `locations`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`â€ƒâ€¢â€ƒDefault: `[]`

A readonly array that contains `number`s ranging from `0` to `1`, inclusive, and is the same length as the `colors` property. Each number indicates a color-stop location where each respective color should be located. If not specified, the colors will be distributed evenly across the gradient.

For example, `[0.5, 0.8]` would render:

- the first color, solid, from the beginning of the gradient view to 50% through (the middle);
- a gradient from the first color to the second from the 50% point to the 80% point; and
- the second color, solid, from the 80% point to the end of the gradient view.

> The color-stop locations must be ascending from least to greatest.

Acceptable values are: `readonly [number, number, ...number[]]` | `null`

### `start`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

For example, `{ x: 0.1, y: 0.2 }` means that the gradient will start `10%` from the left and `20%` from the top.

**On web**, this only changes the angle of the gradient because CSS gradients don't support changing the starting position.

Acceptable values are: [LinearGradientPoint](#lineargradientpoint) | `null`

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

## Types

### `LinearGradientPoint`

Supported platforms: Android, iOS, tvOS, Web.

An object `{ x: number; y: number }` or array `[x, y]` that represents the point at which the gradient starts or ends, as a fraction of the overall size of the gradient ranging from `0` to `1`, inclusive.

Type: [NativeLinearGradientPoint](#nativelineargradientpoint) or `object` shaped as below:

| Property | Type     | Description                                                                             |
| -------- | -------- | --------------------------------------------------------------------------------------- |
| x        | `number` | A number ranging from `0` to `1`, representing the position of gradient transformation. |
| y        | `number` | A number ranging from `0` to `1`, representing the position of gradient transformation. |

### `NativeLinearGradientPoint`

Supported platforms: Android, iOS, tvOS, Web.

Tuple: `[x: number, y: number]`

---

---

title: Linking
description: An API that provides methods to create and open deep links universally.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-linking'
packageName: 'expo-linking'
platforms: ['android', 'ios', 'web', 'tvos', 'expo-go']

---

# Expo Linking

An API that provides methods to create and open deep links universally.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-linking` provides utilities for your app to interact with other installed apps using deep links. It also provides helper methods for constructing and parsing deep links into your app. This library is an extension of the React Native [`Linking`](https://reactnative.dev/docs/linking).

For a more comprehensive explanation of how to use `expo-linking`, refer to the [Linking into other apps](/linking/into-other-apps).

## Installation

```sh
npx expo install expo-linking
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## API

```js
import * as Linking from "expo-linking";
```

## Hooks

### `useLinkingURL()`

Supported platforms: Android, iOS, tvOS, Web.

Returns the linking URL followed by any subsequent changes to the URL. Always returns the initial URL immediately on reload.

Returns: `string | null`

Returns the initial URL or `null`.

> **Deprecated:** Use `useLinkingURL` hook instead.

### `useURL()`

Supported platforms: Android, iOS, tvOS, Web.

Returns the initial URL followed by any subsequent changes to the URL.

Returns: `string | null`

Returns the initial URL or `null`.

## Methods

### `Linking.canOpenURL(url)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type     | Description                                  |
| --------- | -------- | -------------------------------------------- |
| `url`     | `string` | The URL that you want to test can be opened. |

Determine whether or not an installed app can handle a given URL. On web this always returns `true` because there is no API for detecting what URLs can be opened.

Returns: `Promise<boolean>`

A `Promise` object that is fulfilled with `true` if the URL can be handled, otherwise it `false` if not. The `Promise` will reject on Android if it was impossible to check if the URL can be opened, and on iOS if you didn't [add the specific scheme in the `LSApplicationQueriesSchemes` key inside **Info.plist**](/guides/linking#linking-from-your-app).

### `Linking.collectManifestSchemes()`

Supported platforms: Android, iOS, tvOS, Web.

Collect a list of platform schemes from the manifest.

This method is based on the `Scheme` modules from `@expo/config-plugins` which are used for collecting the schemes before prebuilding a native app.

- Android: `scheme` -> `android.scheme` -> `android.package`
- iOS: `scheme` -> `ios.scheme` -> `ios.bundleIdentifier`

Returns: `string[]`

### `Linking.createURL(path, namedParameters)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                   | Type                                                              | Description                                         |
| --------------------------- | ----------------------------------------------------------------- | --------------------------------------------------- |
| `path`                      | `string`                                                          | Addition path components to append to the base URL. |
| `namedParameters`(optional) | [CreateURLOptions](/versions/latest/sdk/linking#createurloptions) | Additional options object. Default: `{}`            |

Helper method for constructing a deep link into your app, given an optional path and set of query parameters. Creates a URI scheme with two slashes by default.

The scheme must be defined in the [app config](/versions/latest/config/app) under `expo.scheme` or `expo.{android,ios}.scheme`. Platform-specific schemes defined under `expo.{android,ios}.scheme` take precedence over universal schemes defined under `expo.scheme`.

#### Examples

- Development and production builds: `<scheme>://path` - uses the optional `scheme` property if provided, and otherwise uses the first scheme defined by your app config
- Web (dev): `https://localhost:19006/path`
- Web (prod): `https://myapp.com/path`
- Expo Go (dev): `exp://128.0.0.1:8081/--/path`

The behavior of this method in Expo Go for published updates is undefined and should not be relied upon. The created URL in this case is neither stable nor predictable during the lifetime of the app. If a stable URL is needed, for example in authorization callbacks, a build (or development build) of your application should be used and the scheme provided.

Returns: `string`

A URL string which points to your app with the given deep link information.

### `Linking.getInitialURL()`

Supported platforms: Android, iOS, tvOS, Web.

Get the URL that was used to launch the app if it was launched by a link.

Returns: `Promise<string>`

The URL string that launched your app, or `null`.

### `Linking.getLinkingURL()`

Supported platforms: Android, iOS, tvOS, Web.

Get the URL that was used to launch the app if it was launched by a link.

Returns: `string | null`

The URL string that launched your app, or `null`.

### `Linking.hasConstantsManifest()`

Supported platforms: Android, iOS, tvOS, Web.

Ensure the user has linked the expo-constants manifest in bare workflow.

Returns: `boolean`

### `Linking.hasCustomScheme()`

Supported platforms: Android, iOS, tvOS, Web.

Returns: `boolean`

### `Linking.openSettings()`

Supported platforms: Android, iOS, tvOS, Web.

Open the operating system settings app and displays the appâ€™s custom settings, if it has any.

Returns: `Promise<void>`

### `Linking.openURL(url)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type     | Description                                                                   |
| --------- | -------- | ----------------------------------------------------------------------------- |
| `url`     | `string` | A URL for the operating system to open. For example: `tel:5555555`, `exp://`. |

Attempt to open the given URL with an installed app. See the [Linking guide](/guides/linking) for more information.

Returns: `Promise<true>`

A `Promise` that is fulfilled with `true` if the link is opened operating system automatically or the user confirms the prompt to open the link. The `Promise` rejects if there are no applications registered for the URL or the user cancels the dialog.

### `Linking.parse(url)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type     | Description                                                                                              |
| --------- | -------- | -------------------------------------------------------------------------------------------------------- |
| `url`     | `string` | A URL that points to the currently running experience (for example, an output of `Linking.createURL()`). |

Helper method for parsing out deep link information from a URL.

Returns: `ParsedURL`

A `ParsedURL` object.

### `Linking.parseInitialURLAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Helper method which wraps React Native's `Linking.getInitialURL()` in `Linking.parse()`. Parses the deep link information out of the URL used to open the experience initially. If no link opened the app, all the fields will be `null`.

> On the web it parses the current window URL.

Returns: `Promise<parsedurl>`

A promise that resolves with `ParsedURL` object.

### `Linking.resolveScheme(options)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type                                    |
| --------- | --------------------------------------- |
| `options` | `{ isSilent: boolean, scheme: string }` |

Returns: `string`

### `Linking.sendIntent(action, extras)`

Supported platforms: Android.

| Parameter          | Type                                    |
| ------------------ | --------------------------------------- |
| `action`           | `string`                                |
| `extras`(optional) | [SendIntentExtras[]](#sendintentextras) |

Launch an Android intent with extras.

> Use [`expo-intent-launcher`](/versions/latest/sdk/intent-launcher) instead. `sendIntent` is only included in `Linking` for API compatibility with React Native's Linking API.

Returns: `Promise<void>`

## Event Subscriptions

### `Linking.addEventListener(type, handler)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type                                                         | Description                                                                                                   |
| --------- | ------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------- |
| `type`    | `'url'`                                                      | The only valid type is `'url'`.                                                                               |
| `handler` | [URLListener](/versions/latest/sdk/linking#urllistenerevent) | An [`URLListener`](#urllistener) function that takes an `event` object of the type [`EventType`](#eventtype). |

Add a handler to `Linking` changes by listening to the `url` event type and providing the handler. It is recommended to use the [`useURL()`](#useurl) hook instead.

Returns: `EmitterSubscription`

An EmitterSubscription that has the remove method from EventSubscription

> **See:** [React Native documentation on Linking](https://reactnative.dev/docs/linking#addeventlistener).

## Types

### `CreateURLOptions`

Supported platforms: Android, iOS, tvOS, Web.

| Property                  | Type                        | Description                                                                          |
| ------------------------- | --------------------------- | ------------------------------------------------------------------------------------ |
| isTripleSlashed(optional) | `boolean`                   | Should the URI be triple slashed `scheme:///path` or double slashed `scheme://path`. |
| queryParams(optional)     | [QueryParams](#queryparams) | An object of parameters that will be converted into a query string.                  |
| scheme(optional)          | `string`                    | URI protocol `<scheme>://` that must be built into your native app.                  |

### `EventType`

Supported platforms: Android, iOS, tvOS, Web.

| Property              | Type                                                                          | Description |
| --------------------- | ----------------------------------------------------------------------------- | ----------- |
| nativeEvent(optional) | [MessageEvent](https://developer.mozilla.org/en-US/docs/Web/API/MessageEvent) | -           |
| url                   | `string`                                                                      | -           |

### `NativeURLListener(nativeEvent)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter     | Type                                                                          |
| ------------- | ----------------------------------------------------------------------------- |
| `nativeEvent` | [MessageEvent](https://developer.mozilla.org/en-US/docs/Web/API/MessageEvent) |

Returns:

`void`

### `ParsedURL`

Supported platforms: Android, iOS, tvOS, Web.

| Property    | Type                        | Description |
| ----------- | --------------------------- | ----------- | ------------------------------------------------------------------------------------------ |
| hostname    | `string                     | null`       | -                                                                                          |
| path        | `string                     | null`       | The path into the app specified by the URL.                                                |
| queryParams | [QueryParams](#queryparams) | null        | The set of query parameters specified by the query string of the url used to open the app. |
| scheme      | `string                     | null`       | -                                                                                          |

### `QueryParams`

Supported platforms: Android, iOS, tvOS, Web.

Type: `Record<string, undefined | string | string[]>`

### `SendIntentExtras`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type     | Description |
| -------- | -------- | ----------- | -------- | --- |
| key      | `string` | -           |
| value    | `string  | number      | boolean` | -   |

### `URLListener(event)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type        |
| --------- | ----------- |
| `event`   | `EventType` |

Returns:

`void`

---

---

title: LivePhoto
description: A library that allows displaying Live Photos on iOS.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-live-photo'
packageName: 'expo-live-photo'
platforms: ['ios', 'expo-go']

---

# Expo LivePhoto

A library that allows displaying Live Photos on iOS.
iOS, Included in Expo Go

## Installation

```sh
npx expo install expo-live-photo
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

Here's a simple example of `expo-live-photo` usage combined with `expo-image-picker`.

```tsx
import {
  LivePhotoAsset,
  LivePhotoView,
  LivePhotoViewType,
} from "expo-live-photo";
import { View, StyleSheet, Text, Button } from "react-native";
import * as ImagePicker from "expo-image-picker";
import { useRef, useState } from "react";

export default function LivePhotoScreen() {
  const viewRef = useRef<LivePhotoViewType>(null);
  const [livePhoto, setLivePhoto] = useState<LivePhotoAsset | null>(null);

  const pickImage = async () => {
    const result = await ImagePicker.launchImageLibraryAsync({
      mediaTypes: ["livePhotos"],
    });

    if (!result.canceled && result.assets[0].pairedVideoAsset?.uri) {
      setLivePhoto({
        photoUri: result.assets[0].uri,
        pairedVideoUri: result.assets[0].pairedVideoAsset.uri,
      });
    } else {
      console.error("Failed to pick a live photo");
    }
  };

  if (!LivePhotoView.isAvailable()) {
    return (
      <View style={styles.container}>
        <Text>expo-live-photo is not available on this platform ðŸ˜•</Text>
      </View>
    );
  }

  return (
    <View style={styles.container}>
      <LivePhotoView
        ref={viewRef}
        source={livePhoto}
        style={[styles.livePhotoView, { display: livePhoto ? "flex" : "none" }]}
        onLoadComplete={() => {
          console.log("Live photo loaded successfully!");
        }}
        onLoadError={error => {
          console.error("Failed to load the live photo: ", error.message);
        }}
      />
      <View
        style={livePhoto ? styles.pickImageCollapsed : styles.pickImageExpanded}
      >
        <Button
          title={livePhoto ? "Change Image" : "Pick an image"}
          onPress={pickImage}
        />
      </View>
      <Button
        title="Start Playback Hint"
        onPress={() => viewRef.current?.startPlayback("hint")}
      />
      <Button
        title="Start Playback"
        onPress={() => viewRef.current?.startPlayback("full")}
      />
      <Button
        title="Stop Playback"
        onPress={() => viewRef.current?.stopPlayback()}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    paddingVertical: 20,
    paddingHorizontal: 40,
  },
  livePhotoView: {
    alignSelf: "stretch",
    height: 300,
  },
  pickImageExpanded: {
    alignSelf: "stretch",
    height: 300,
    justifyContent: "center",
  },
  pickImageCollapsed: {
    marginVertical: 10,
  },
  button: {
    marginVertical: 10,
  },
});
```

## API

```js
import { LivePhotoView } from "expo-live-photo";
```

## Component

### `LivePhotoView`

Supported platforms: iOS.

Type: React.Element<[LivePhotoViewProps](#livephotoviewprops) & { ref: Ref<[LivePhotoViewType](#livephotoviewtype)\> }\>

LivePhotoViewProps

### `contentFit`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [ContentFit](#contentfit)â€ƒâ€¢â€ƒDefault: `'contain'`

Determines how the image should be scaled to fit the container.

- `'contain'` - Scales the image so that its larger dimension fits the target size.
- `'cover'` - Scales the image so that it completely fills the target size.

### `isMuted`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Determines whether the live photo should also play audio.

### `onLoadComplete`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

Called when the live photo is loaded and ready to play.

### `onLoadError`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: (error: [LivePhotoLoadError](#livephotoloaderror)) => void

Called when an error occurred while loading.

### `onLoadStart`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

Called when the live photo starts loading.

### `onPlaybackStart`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

Called when the playback starts.

### `onPlaybackStop`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

Called when the playback stops.

### `onPreviewPhotoLoad`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

Called when the live photo preview photo is loaded.

### `source`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

The live photo asset to display.

Acceptable values are: `null` | [LivePhotoAsset](#livephotoasset)

### `useDefaultGestureRecognizer`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Determines whether the default iOS gesture recognizer should be used. When `true` the playback will start if the user presses and holds on the `LivePhotoView`.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

## Component Methods

### `isAvailable()`

Supported platforms: iOS.

Determines whether the current device is capable of displaying live photos.

Returns: `boolean`

## Types

### `ContentFit`

Supported platforms: iOS.

Literal Type: `string`

Determines how the image should be scaled to fit the container.

- `'contain'` - Scales the image so that its larger dimension fits the target size.
- `'cover'` - Scales the image so that it completely fills the target size.

Acceptable values are: `'contain'` | `'cover'`

### `LivePhotoAsset`

Supported platforms: iOS.

A live photo asset.

> **Note:** Due to native limitations, the photo and video parts of the live photo must come from a valid live photo file and be unaltered. When taken, the photo is paired with the video via metadata. If the pairing is broken, joining them into a live photo is impossible.

| Property       | Type     | Description                                  |
| -------------- | -------- | -------------------------------------------- |
| pairedVideoUri | `string` | The URI of the video part of the live photo. |
| photoUri       | `string` | The URI of the photo part of the live photo. |

### `LivePhotoLoadError`

Supported platforms: iOS.

| Property | Type     | Description                  |
| -------- | -------- | ---------------------------- |
| message  | `string` | Reason for the load failure. |

### `LivePhotoViewType`

Supported platforms: iOS.

| Property      | Type                                                     | Description                                                                                                                                                                                     |
| ------------- | -------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| startPlayback | (playbackStyle: [PlaybackStyle](#playbackstyle)) => void | Start the playback of the video part of the live photo. playbackStyle: [PlaybackStyle](#playbackstyle). Determines which playback style to use. If not provided, the full video will be played. |
| stopPlayback  | `() => void`                                             | Stop the playback of the video part of the live photo.                                                                                                                                          |

### `PlaybackStyle`

Supported platforms: iOS.

Literal Type: `string`

Determines what style to use when playing the live photo.

- `'hint'` - A short part of the video will be played to indicate that a live photo is being displayed.
- `'full'` - The full video part will be played.

Acceptable values are: `'hint'` | `'full'`

---

---

title: LocalAuthentication
description: A library that provides functionality for implementing the Fingerprint API (Android) or FaceID and TouchID (iOS) to authenticate the user with a face or fingerprint scan.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-local-authentication'
packageName: 'expo-local-authentication'
iconUrl: '/static/images/packages/expo-local-authentication.png'
platforms: ['android', 'ios', 'expo-go']

---

# Expo LocalAuthentication

A library that provides functionality for implementing the Fingerprint API (Android) or FaceID and TouchID (iOS) to authenticate the user with a face or fingerprint scan.
Android, iOS, Included in Expo Go

`expo-local-authentication` allows you to use the Biometric Prompt (Android) or FaceID and TouchID (iOS) to authenticate the user with a fingerprint or face scan.

## Known limitation

### iOSâ€‚

The FaceID authentication for iOS is not supported in Expo Go. You will need to create a [development build](/develop/development-builds/introduction) to test FaceID.

## Installation

```sh
npx expo install expo-local-authentication
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-local-authentication` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-local-authentication",
        {
          "faceIDPermission": "Allow $(PRODUCT_NAME) to use Face ID."
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name               | Default                                  | Description                                                                                                               |
| ------------------ | ---------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- |
| `faceIDPermission` | `"Allow $(PRODUCT_NAME) to use Face ID"` | Only for: iOS. A string to set the [`NSFaceIDUsageDescription`](#permission-nsfaceidusagedescription) permission message. |

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) or you're using a native **ios** project manually, then you need to add `NSFaceIDUsageDescription` key to your **ios/[app]/Info.plist**:

```xml
<key>NSFaceIDUsageDescription</key>
<string>Allow $(PRODUCT_NAME) to use FaceID</string>
```

## API

```js
import * as LocalAuthentication from "expo-local-authentication";
```

## Methods

### `LocalAuthentication.authenticateAsync(options)`

Supported platforms: Android, iOS.

| Parameter           | Type                                                      |
| ------------------- | --------------------------------------------------------- |
| `options`(optional) | [LocalAuthenticationOptions](#localauthenticationoptions) |

Attempts to authenticate via Fingerprint/TouchID (or FaceID if available on the device).

> **Note:** Apple requires apps which use FaceID to provide a description of why they use this API. If you try to use FaceID on an iPhone with FaceID without providing `infoPlist.NSFaceIDUsageDescription` in `app.json`, the module will authenticate using device passcode. For more information about usage descriptions on iOS, see [permissions guide](/guides/permissions#ios).

Returns: `Promise<localauthenticationresult>`

Returns a promise which fulfils with [`LocalAuthenticationResult`](#localauthenticationresult).

### `LocalAuthentication.cancelAuthenticate()`

Supported platforms: Android.

Cancels authentication flow.

Returns: `Promise<void>`

### `LocalAuthentication.getEnrolledLevelAsync()`

Supported platforms: Android, iOS.

Determine what kind of authentication is enrolled on the device.

Returns: `Promise<securitylevel>`

Returns a promise which fulfils with [`SecurityLevel`](#securitylevel).

> **Note:** On Android devices prior to M, `SECRET` can be returned if only the SIM lock has been enrolled, which is not the method that [`authenticateAsync`](#localauthenticationauthenticateasyncoptions) prompts.

### `LocalAuthentication.hasHardwareAsync()`

Supported platforms: Android, iOS.

Determine whether a face or fingerprint scanner is available on the device.

Returns: `Promise<boolean>`

Returns a promise which fulfils with a `boolean` value indicating whether a face or fingerprint scanner is available on this device.

### `LocalAuthentication.isEnrolledAsync()`

Supported platforms: Android, iOS.

Determine whether the device has saved fingerprints or facial data to use for authentication.

Returns: `Promise<boolean>`

Returns a promise which fulfils to `boolean` value indicating whether the device has saved fingerprints or facial data for authentication.

### `LocalAuthentication.supportedAuthenticationTypesAsync()`

Supported platforms: Android, iOS.

Determine what kinds of authentications are available on the device.

Returns: `Promise<authenticationtype[]>`

Returns a promise which fulfils to an array containing [`AuthenticationType`s](#authenticationtype).

Devices can support multiple authentication methods - i.e. `[1,2]` means the device supports both fingerprint and facial recognition. If none are supported, this method returns an empty array.

## Types

### `BiometricsSecurityLevel`

Supported platforms: Android.

Literal Type: `string`

Security level of the biometric authentication to allow.

Acceptable values are: `'weak'` | `'strong'`

### `LocalAuthenticationError`

Supported platforms: Android, iOS.

Literal Type: `string`

One of the error values returned by the [`LocalAuthenticationResult`](#localauthenticationresult) object.

Acceptable values are: `'not_enrolled'` | `'user_cancel'` | `'app_cancel'` | `'not_available'` | `'lockout'` | `'no_space'` | `'timeout'` | `'unable_to_process'` | `'unknown'` | `'system_cancel'` | `'user_fallback'` | `'invalid_context'` | `'passcode_not_set'` | `'authentication_failed'`

### `LocalAuthenticationOptions`

Supported platforms: Android, iOS.

| Property                          | Type                                                | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| --------------------------------- | --------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| biometricsSecurityLevel(optional) | [BiometricsSecurityLevel](#biometricssecuritylevel) | Supported platforms: Android. Sets the security class of biometric authentication to allow. `strong` allows only Android Class 3 biometrics. For example, a fingerprint or a 3D face scan. `weak` allows both Android Class 3 and Class 2 biometrics. Class 2 biometrics are less secure than Class 3. For example, a camera-based face unlock. Default: `'weak'`                                                                                                                                                                                                                                                                                           |
| cancelLabel(optional)             | `string`                                            | Allows customizing the default `Cancel` label shown.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| disableDeviceFallback(optional)   | `boolean`                                           | After several failed attempts, the system falls back to the device passcode. This setting allows you to disable this option and instead handle the fallback yourself. This can be preferable in certain custom authentication workflows. This behaviour maps to using the iOS [`LAPolicyDeviceOwnerAuthenticationWithBiometrics`](https://developer.apple.com/documentation/localauthentication/lapolicy/deviceownerauthenticationwithbiometrics) policy rather than the [`LAPolicyDeviceOwnerAuthentication`](https://developer.apple.com/documentation/localauthentication/lapolicy/deviceownerauthentication?language=objc) policy. Defaults to `false`. |
| fallbackLabel(optional)           | `string`                                            | Supported platforms: iOS. Allows to customize the default `Use Passcode` label shown after several failed authentication attempts. Setting this option to an empty string disables this button from showing in the prompt.                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| promptDescription(optional)       | `string`                                            | Supported platforms: Android. A description displayed in the middle of the authentication prompt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| promptMessage(optional)           | `string`                                            | A message that is shown alongside the TouchID or FaceID prompt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| promptSubtitle(optional)          | `string`                                            | Supported platforms: Android. A subtitle displayed below the prompt message in the authentication prompt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| requireConfirmation(optional)     | `boolean`                                           | Supported platforms: Android. Sets a hint to the system for whether to require user confirmation after authentication. This may be ignored by the system if the user has disabled implicit authentication in Settings or if it does not apply to a particular biometric modality. Defaults to `true`.                                                                                                                                                                                                                                                                                                                                                       |

### `LocalAuthenticationResult`

Supported platforms: Android, iOS.

Type: `object` shaped as below:

| Property | Type   | Description |
| -------- | ------ | ----------- |
| success  | `true` | -           |

Or `object` shaped as below:

| Property          | Type                                                  | Description |
| ----------------- | ----------------------------------------------------- | ----------- |
| error             | [LocalAuthenticationError](#localauthenticationerror) | -           |
| success           | `false`                                               | -           |
| warning(optional) | `string`                                              | -           |

## Enums

### `AuthenticationType`

Supported platforms: Android, iOS.

#### `FINGERPRINT`

`AuthenticationType.FINGERPRINT = 1`

Indicates fingerprint support.

#### `FACIAL_RECOGNITION`

`AuthenticationType.FACIAL_RECOGNITION = 2`

Indicates facial recognition support.

#### `IRIS`

Supported platforms: Android.

`AuthenticationType.IRIS = 3`

Indicates iris recognition support.

### `SecurityLevel`

Supported platforms: Android, iOS.

#### `NONE`

`SecurityLevel.NONE = 0`

Indicates no enrolled authentication.

#### `SECRET`

`SecurityLevel.SECRET = 1`

Indicates non-biometric authentication (e.g. PIN, Pattern).

#### `BIOMETRIC_WEAK`

`SecurityLevel.BIOMETRIC_WEAK = 2`

Indicates weak biometric authentication. For example, a 2D image-based face unlock.

> There are currently no weak biometric authentication options on iOS.

#### `BIOMETRIC_STRONG`

`SecurityLevel.BIOMETRIC_STRONG = 3`

Indicates strong biometric authentication. For example, a fingerprint scan or 3D face unlock.

## Permissions

### Android

The following permissions are added automatically through this library's **AndroidManifest.xml**:

| Android Permission | Description                                                 |
| ------------------ | ----------------------------------------------------------- |
| `USE_BIOMETRIC`    | Allows an app to use device supported biometric modalities. |
| `USE_FINGERPRINT`  |                                                             |

### iOS

The following usage description keys are used by this library:

| Info.plist Key             | Description                                                                                       |
| -------------------------- | ------------------------------------------------------------------------------------------------- |
| `NSFaceIDUsageDescription` | A message that tells the user why the app is requesting the ability to authenticate with Face ID. |

---

---

title: Localization
description: A library that provides an interface for native user localization information.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-localization'
packageName: 'expo-localization'
iconUrl: '/static/images/packages/expo-localization.png'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo Localization

A library that provides an interface for native user localization information.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-localization` allows you to Localize your app, customizing the experience for specific regions, languages, or cultures. It also provides access to the locale data on the native device. Using a localization library such as [`lingui-js`](https://lingui.dev/introduction), [`react-i18next`](https://react.i18next.com/), [`react-intl`](https://formatjs.io/docs/getting-started/installation/) or [`i18n-js`](https://github.com/fnando/i18n-js) with `expo-localization` will enable you to create a very accessible experience for users.

## Installation

```sh
npx expo install expo-localization
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-localization` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": ["expo-localization"]
  }
}
```

## Usage

Find more information about using `expo-localization` and adding support for right-to-left languages in the [Localization](/guides/localization) guide.

## API

```jsx
import { getLocales, getCalendars } from "expo-localization";
```

### Behavior

You can use synchronous `getLocales()` and `getCalendars()` methods to get the locale settings of the user device. On iOS, the results will remain the same while the app is running.

On Android, the user can change locale preferences in Settings without restarting apps. To keep the localization current, you can rerun the `getLocales()` and `getCalendars()` methods every time the app returns to the foreground. Use `AppState` to detect this.

## Hooks

### `useCalendars()`

Supported platforms: Android, iOS, tvOS, Web.

A hook providing a list of user's preferred calendars, returned as an array of objects of type `Calendar`. Guaranteed to contain at least 1 element. For now always returns a single element, but it's likely to return a user preference list on some platforms in the future. If the OS settings change, the hook will rerender with a new list of calendars.

Returns: `Calendar[]`

Example

```js
[
  {
    calendar: "gregory",
    timeZone: "Europe/Warsaw",
    uses24hourClock: true,
    firstWeekday: 1,
  },
];
```

### `useLocales()`

Supported platforms: Android, iOS, tvOS, Web.

A hook providing a list of user's locales, returned as an array of objects of type `Locale`. Guaranteed to contain at least 1 element. These are returned in the order the user defines in their device settings. On the web currency and measurements systems are not provided, instead returned as null. If needed, you can infer them from the current region using a lookup table. If the OS settings change, the hook will rerender with a new list of locales.

Returns: `Locale[]`

Example

```js
[
  {
    languageTag: "pl-PL",
    languageCode: "pl",
    textDirection: "ltr",
    digitGroupingSeparator: " ",
    decimalSeparator: ",",
    measurementSystem: "metric",
    currencyCode: "PLN",
    currencySymbol: "zÅ‚",
    regionCode: "PL",
    temperatureUnit: "celsius",
  },
];
```

## Methods

### `Localization.getCalendars()`

Supported platforms: Android, iOS, tvOS, Web.

List of user's preferred calendars, returned as an array of objects of type `Calendar`. Guaranteed to contain at least 1 element. For now always returns a single element, but it's likely to return a user preference list on some platforms in the future.

Returns: `Calendar[]`

Example

```js
[
  {
    calendar: "gregory",
    timeZone: "Europe/Warsaw",
    uses24hourClock: true,
    firstWeekday: 1,
  },
];
```

### `Localization.getLocales()`

Supported platforms: Android, iOS, tvOS, Web.

List of user's locales, returned as an array of objects of type `Locale`. Guaranteed to contain at least 1 element. These are returned in the order the user defines in their device settings. On the web currency and measurements systems are not provided, instead returned as null. If needed, you can infer them from the current region using a lookup table.

Returns: `Locale[]`

Example

```js
[
  {
    languageTag: "pl-PL",
    languageCode: "pl",
    textDirection: "ltr",
    digitGroupingSeparator: " ",
    decimalSeparator: ",",
    measurementSystem: "metric",
    currencyCode: "PLN",
    currencySymbol: "zÅ‚",
    regionCode: "PL",
    temperatureUnit: "celsius",
  },
];
```

## Types

### `Calendar`

Supported platforms: Android, iOS, tvOS, Web.

| Property        | Type                                      | Description |
| --------------- | ----------------------------------------- | ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| calendar        | [CalendarIdentifier](#calendaridentifier) | null        | The calendar identifier, one of [Unicode calendar types](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/calendar). On Android is limited to one of device's [available calendar types](<https://developer.android.com/reference/java/util/Calendar#getAvailableCalendarTypes()>). On iOS uses [calendar identifiers](https://developer.apple.com/documentation/foundation/calendar/identifier), but maps them to the corresponding Unicode types, will also never contain `'dangi'` or `'islamic-rgsa'` due to it not being implemented on iOS. |
| firstWeekday    | [Weekday](#weekday)                       | null        | The first day of the week. For most calendars Sunday is numbered `1`, with Saturday being number `7`. Can be null on some browsers that don't support the [weekInfo](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/weekInfo) property in [Intl](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl) API. . Example. `1`, `7`.                                                                                                                                                                               |
| timeZone        | `string                                   | null`       | Time zone for the calendar. Can be `null` on Web. . Example. `'America/Los_Angeles'`, `'Europe/Warsaw'`, `'GMT+1'`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| uses24hourClock | `boolean                                  | null`       | True when current device settings use 24-hour time format. Can be null on some browsers that don't support the [hourCycle](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle) property in [Intl](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl) API.                                                                                                                                                                                                                                             |

### `Locale`

Supported platforms: Android, iOS, tvOS, Web.

| Property               | Type       | Description                                                                                                                                     |
| ---------------------- | ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| currencyCode           | `string    | null`                                                                                                                                           | Currency code for the locale. On iOS, it's the currency code from the `Region` setting under Language & Region, not for the current locale. On Android, it's the currency specifc to the locale in the list, as there are no separate settings for selecting a region. Is `null` on Web, use a table lookup based on region instead. . Example. `'USD'`, `'EUR'`, `'PLN'`. |
| currencySymbol         | `string    | null`                                                                                                                                           | Currency symbol for the currency specified by `currencyCode`. . Example. `'$'`, `'â‚¬'`, `'zÅ‚'`.                                                                                                                                                                                                                                                                             |
| decimalSeparator       | `string    | null`                                                                                                                                           | Decimal separator used for formatting numbers with fractional parts. . Example. `'.'`, `','`.                                                                                                                                                                                                                                                                              |
| digitGroupingSeparator | `string    | null`                                                                                                                                           | Digit grouping separator used for formatting large numbers. . Example. `'.'`, `','`.                                                                                                                                                                                                                                                                                       |
| languageCode           | `string    | null`                                                                                                                                           | An [IETF BCP 47 language tag](https://en.wikipedia.org/wiki/IETF_language_tag) without the region code. . Example. `'en'`, `'es'`, `'pl'`.                                                                                                                                                                                                                                 |
| languageCurrencyCode   | `string    | null`                                                                                                                                           | Currency code for the locale. On iOS, it's the currency code for the current locale in the list, not the device region. On Android, it's equal to `currencyCode`. Is `null` on Web. Prefer using `currencyCode` for any internalization purposes. . Example. `'USD'`, `'EUR'`, `'PLN'`.                                                                                    |
| languageCurrencySymbol | `string    | null`                                                                                                                                           | Currency symbol for the currency specified by `languageCurrencyCode`. Prefer using `currencySymbol` for any internalization purposes. . Example. `'$'`, `'â‚¬'`, `'zÅ‚'`.                                                                                                                                                                                                     |
| languageRegionCode     | `string    | null`                                                                                                                                           | The region code for the preferred language. When the language is not region-specific, it returns the same value as `regionCode`. When the language is region-specific, it returns the region code for the language (`en-CA` -> `CA`). Prefer using `regionCode` for any internalization purposes. . Example. `'US'`.                                                       |
| languageScriptCode     | `string    | null`                                                                                                                                           | An [ISO 15924](https://en.wikipedia.org/wiki/ISO_15924) 4-letter script code. On Android and Web, it may be `null` if none is defined. . Example. `'Latn'`, `'Hans'`, `'Hebr'`.                                                                                                                                                                                            |
| languageTag            | `string`   | An [IETF BCP 47 language tag](https://en.wikipedia.org/wiki/IETF_language_tag) with a region code. . Example. `'en-US'`, `'es-419'`, `'pl-PL'`. |
| measurementSystem      | `'metric'  | 'us'                                                                                                                                            | 'uk'                                                                                                                                                                                                                                                                                                                                                                       | null`                                                                                                                                                                                                                                                                                                                                                     | The measurement system used in the locale. Is `null` on Web, as user chosen measurement system is not exposed on the web and using locale to determine measurement systems is unreliable. Ask for user preferences if possible. |
| regionCode             | `string    | null`                                                                                                                                           | The region code for your device that comes from the Region setting under Language & Region on iOS, Region settings on Android and is parsed from locale on Web (can be `null` on Web). . Example. `'US'`.                                                                                                                                                                  |
| temperatureUnit        | `'celsius' | 'fahrenheit'                                                                                                                                    | null`                                                                                                                                                                                                                                                                                                                                                                      | The temperature unit used in the locale. Returns `null` if the region code is unknown.                                                                                                                                                                                                                                                                    |
| textDirection          | `'ltr'     | 'rtl'                                                                                                                                           | null`                                                                                                                                                                                                                                                                                                                                                                      | Text direction for the locale. One of: `'ltr'`, `'rtl'`, but can also be `null` on some browsers without support for the [textInfo](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/textInfo) property in [Intl](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl) API. |

## Enums

### `CalendarIdentifier`

Supported platforms: Android, iOS, tvOS, Web.

The calendar identifier, one of [Unicode calendar types](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/calendar). Gregorian calendar is aliased and can be referred to as both `CalendarIdentifier.GREGORIAN` and `CalendarIdentifier.GREGORY`.

#### `BUDDHIST`

`CalendarIdentifier.BUDDHIST = "buddhist"`

Thai Buddhist calendar

#### `CHINESE`

`CalendarIdentifier.CHINESE = "chinese"`

Traditional Chinese calendar

#### `COPTIC`

`CalendarIdentifier.COPTIC = "coptic"`

Coptic calendar

#### `DANGI`

`CalendarIdentifier.DANGI = "dangi"`

Traditional Korean calendar

#### `ETHIOAA`

`CalendarIdentifier.ETHIOAA = "ethioaa"`

Ethiopic calendar, Amete Alem (epoch approx. 5493 B.C.E)

#### `ETHIOPIC`

`CalendarIdentifier.ETHIOPIC = "ethiopic"`

Ethiopic calendar, Amete Mihret (epoch approx, 8 C.E.)

#### `GREGORIAN`

`CalendarIdentifier.GREGORIAN = "gregory"`

Gregorian calendar (alias)

#### `GREGORY`

`CalendarIdentifier.GREGORY = "gregory"`

Gregorian calendar

#### `HEBREW`

`CalendarIdentifier.HEBREW = "hebrew"`

Traditional Hebrew calendar

#### `INDIAN`

`CalendarIdentifier.INDIAN = "indian"`

Indian calendar

#### `ISLAMIC`

`CalendarIdentifier.ISLAMIC = "islamic"`

Islamic calendar

#### `ISLAMIC_CIVIL`

`CalendarIdentifier.ISLAMIC_CIVIL = "islamic-civil"`

Islamic calendar, tabular (intercalary years [2,5,7,10,13,16,18,21,24,26,29] - civil epoch)

#### `ISLAMIC_RGSA`

`CalendarIdentifier.ISLAMIC_RGSA = "islamic-rgsa"`

Islamic calendar, Saudi Arabia sighting

#### `ISLAMIC_TBLA`

`CalendarIdentifier.ISLAMIC_TBLA = "islamic-tbla"`

Islamic calendar, tabular (intercalary years [2,5,7,10,13,16,18,21,24,26,29] - astronomical epoch)

#### `ISLAMIC_UMALQURA`

`CalendarIdentifier.ISLAMIC_UMALQURA = "islamic-umalqura"`

Islamic calendar, Umm al-Qura

#### `ISO8601`

`CalendarIdentifier.ISO8601 = "iso8601"`

ISO calendar (Gregorian calendar using the ISO 8601 calendar week rules)

#### `JAPANESE`

`CalendarIdentifier.JAPANESE = "japanese"`

Japanese imperial calendar

#### `PERSIAN`

`CalendarIdentifier.PERSIAN = "persian"`

Persian calendar

#### `ROC`

`CalendarIdentifier.ROC = "roc"`

Civil (algorithmic) Arabic calendar

### `Weekday`

Supported platforms: Android, iOS, tvOS, Web.

An enum mapping days of the week in Gregorian calendar to their index as returned by the `firstWeekday` property.

#### `SUNDAY`

`Weekday.SUNDAY = 1`

#### `MONDAY`

`Weekday.MONDAY = 2`

#### `TUESDAY`

`Weekday.TUESDAY = 3`

#### `WEDNESDAY`

`Weekday.WEDNESDAY = 4`

#### `THURSDAY`

`Weekday.THURSDAY = 5`

#### `FRIDAY`

`Weekday.FRIDAY = 6`

#### `SATURDAY`

`Weekday.SATURDAY = 7`

---

---

title: Location
description: A library that provides access to reading geolocation information, polling current location or subscribing location update events from the device.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-location'
packageName: 'expo-location'
iconUrl: '/static/images/packages/expo-location.png'
platforms: ['android', 'ios', 'web', 'expo-go']

---

# Expo Location

A library that provides access to reading geolocation information, polling current location or subscribing location update events from the device.
Android, iOS, Web, Included in Expo Go

`expo-location` allows reading geolocation information from the device. Your app can poll for the current location or subscribe to location update events.

## Installation

```sh
npx expo install expo-location
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-location` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-location",
        {
          "locationAlwaysAndWhenInUsePermission": "Allow $(PRODUCT_NAME) to use your location."
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                                   | Default                                        | Description                                                                                                                                                                                                                                                                         |
| -------------------------------------- | ---------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `locationAlwaysAndWhenInUsePermission` | `"Allow $(PRODUCT_NAME) to use your location"` | Only for: iOS. A string to set the [`NSLocationAlwaysAndWhenInUseUsageDescription`](#permission-nslocationalwaysandwheninuseusagedescription) permission message.                                                                                                                   |
| `locationAlwaysPermission`             | `"Allow $(PRODUCT_NAME) to use your location"` | , Deprecatedâ€‚â€¢â€‚Only for: iOS. A string to set the [`NSLocationAlwaysUsageDescription`](#permission-nslocationalwaysusagedescription) permission message.                                                                                                                            |
| `locationWhenInUsePermission`          | `"Allow $(PRODUCT_NAME) to use your location"` | Only for: iOS. A string to set the [`NSLocationWhenInUseUsageDescription`](#permission-nslocationwheninuseusagedescription) permission message.                                                                                                                                     |
| `isIosBackgroundLocationEnabled`       | `false`                                        | Only for: iOS. A boolean to enable `location` in the `UIBackgroundModes` in **Info.plist**.                                                                                                                                                                                         |
| `isAndroidBackgroundLocationEnabled`   | `false`                                        | Only for: Android. A boolean to enable the [`ACCESS_BACKGROUND_LOCATION`](#permission-access_background_location) permission.                                                                                                                                                       |
| `isAndroidForegroundServiceEnabled`    | -                                              | Only for: Android. A boolean to enable the [`FOREGROUND_SERVICE`](#permission-foreground_service) permission and [`FOREGROUND_SERVICE_LOCATION`](#permission-foreground_service_location). Defaults to `true` if `isAndroidBackgroundLocationEnabled` is `true`, otherwise `false`. |

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) or you're using native **ios** project manually, then you need to add the `NSLocationAlwaysAndWhenInUseUsageDescription`, `NSLocationAlwaysUsageDescription` and `NSLocationWhenInUseUsageDescription` keys to your project's **ios/[app]/Info.plist**:

```xml
<key>NSLocationAlwaysAndWhenInUseUsageDescription</key>
<string>Allow $(PRODUCT_NAME) to use your location</string>
<key>NSLocationAlwaysUsageDescription</key>
<string>Allow $(PRODUCT_NAME) to use your location</string>
<key>NSLocationWhenInUseUsageDescription</key>
<string>Allow $(PRODUCT_NAME) to use your location</string>
```

### Background location

Background location allows your app to receive location updates while it is running in the background and includes both location updates and region monitoring through geofencing. This feature is subject to platform API limitations and system constraints:

- Background location will stop if the user terminates the app.
- Background location resumes if the user restarts the app.
- Android A terminated app will not automatically restart when a location or geofencing event occurs due to platform limitations.
- iOS The system will restart the terminated app when a new geofence event occurs.

> On Android, the result of removing an app from the recent apps list varies by device vendor. For example, some implementations treat removing an app from the recent apps list as killing it. Read more about these differences here: [https://dontkillmyapp.com](https://dontkillmyapp.com).

### Background location configurationâ€‚

To be able to run background location on iOS, you need to add the `location` value to the `UIBackgroundModes` array in your app's **Info.plist** file.

**If you're using [CNG](/workflow/continuous-native-generation)**, the required `UIBackgroundModes` configuration will be applied automatically by prebuild.

Configure UIBackgroundModes manually on iOS

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) or you're using a native iOS project, then you'll need to add the following to your **Expo.plist** file:

```xml
<key>UIBackgroundModes</key>
  <array>
    <string>location</string>
  </array>
```

### Background location methods

To use Background Location methods, the following requirements apply:

- Location permissions must be granted.
- Background location task must be defined in the top-level scope, using [`TaskManager.defineTask`](/versions/latest/sdk/task-manager#taskmanagerdefinetasktaskname-taskexecutor).
- iOS `"location"` background mode must be specified in **Info.plist** file. See [Background location configuration](/versions/latest/sdk/location#background-location-configuration).
- iOS You must use a [development build](/develop/development-builds/introduction) to use background location since it is not supported in the Expo Go app.

### Geofencing methods

To use Geofencing methods, the following requirements apply:

- Location permissions must be granted.
- The Geofencing task must be defined in the top-level scope, using [`TaskManager.defineTask`](/versions/latest/sdk/task-manager#taskmanagerdefinetasktaskname-taskexecutor).

When using Geofencing, the following platform differences apply:

- Android You are allowed [up to 100](https://developer.android.com/develop/sensors-and-location/location/geofencing) active geofences per app.
- iOS Expo Location will report the initial state of the registered geofence(s) at app startup.
- iOS There is a [limit of 20](https://developer.apple.com/documentation/corelocation/monitoring_the_user_s_proximity_to_geographic_regions) `regions` that can be simultaneously monitored.

### Background permissions

To use location tracking or Geofencing in the background, you must request the appropriate permissions:

- On Android, you must request both foreground and background permissions.
- On iOS, it must be granted with the `Always` option using [`requestBackgroundPermissionsAsync`](/versions/latest/sdk/location#locationrequestbackgroundpermissionsasync).

Expo and iOS permissions

iOS permissions are divided into the two categories `When In Use` and `Always` and maps to Expo's foreground and background location permissions requested via:

- [`requestForegroundPermissionsAsync`](/versions/latest/sdk/location#locationrequestforegroundpermissionsasync) maps to `When In Use`
- [`requestBackgroundPermissionsAsync`](/versions/latest/sdk/location#locationrequestbackgroundpermissionsasync) maps to `Always`

> **Note:** When requesting `When In Use` authorization, the user can grant **temporary access** by selecting `Allow Once` in the system permission dialog. This authorization will be valid **only for the current app session** and is automatically revoked when the app is closed.

**Detecting "Allow Once" versus "Allow While Using the App"**

Unfortunately, **iOS does not provide a way to detect whether the user selected `Allow Once` or `Allow While Using the App`**. Both responses result in `When In Use` authorization.

If the user selected `Allow Once` and you subsequently call [`requestBackgroundPermissionsAsync`](/versions/latest/sdk/location#locationrequestbackgroundpermissionsasync) in the same session, the system **will not show another prompt**. Instead, the request will **silently fail**, and the returned background permission status will be **denied**.

**Handling "Allow Once" scenarios**

If you suspect the user selected `Allow Once` and needs to request background permissions, they must **manually enable background location** in the Settings app. You can use `Linking` to open the Settings app within your app:

```js
import { Linking } from "react-native";

function openSettings() {
  Linking.openURL("app-settings:");
}
```

**Incremental permission requests**

It is possible to request foreground location access first and then ask for background location access later. This can improve the user experience by requesting permissions only when necessary.

**Requesting Background Permissions directly**

If you call [`requestBackgroundPermissionsAsync`](/versions/latest/sdk/location#locationrequestbackgroundpermissionsasync) without first requesting foreground permissions, iOS treats it as a request for both `When In Use` and `Always` authorization. The system will then prompt the user for `When In Use` access, and the `Always` authorization prompt will be displayed when the system determines that `Always` authorization is required.

Remember that the user has the option of granting your app `When In Use` authorization instead. You must always be prepared to run with `When In Use` permission.

## Deferred locations

When using background locations, you can configure the location manager to defer updates. This helps save battery by reducing update frequency. You can set updates to trigger only after the device has moved a certain distance or after a specified time interval.

Deferred updates are configured through [`LocationTaskOptions`](/versions/latest/sdk/location#locationtaskoptions) using the [`deferredUpdatesDistance`](/versions/latest/sdk/location#locationtaskoptions), [`deferredUpdatesInterval`](/versions/latest/sdk/location#locationtaskoptions) and [`deferredTimeout`](/versions/latest/sdk/location#locationtaskoptions) properties.

> Deferred locations apply only when the app is in the background.

## Usage

If you're using the Android Emulator or iOS Simulator, ensure that [Location is enabled](/versions/latest/sdk/location#enable-emulator-location).

```tsx
import { Platform, Text, View, StyleSheet } from "react-native";
import { useState, useEffect } from "react";

import * as Location from "expo-location";

export default function App() {
  const [location, setLocation] = useState<Location.LocationObject | null>(
    null,
  );
  const [errorMsg, setErrorMsg] = useState<string | null>(null);

  useEffect(() => {
    async function getCurrentLocation() {
      let { status } = await Location.requestForegroundPermissionsAsync();
      if (status !== "granted") {
        setErrorMsg("Permission to access location was denied");
        return;
      }

      let location = await Location.getCurrentPositionAsync({});
      setLocation(location);
    }

    getCurrentLocation();
  }, []);

  let text = "Waiting...";
  if (errorMsg) {
    text = errorMsg;
  } else if (location) {
    text = JSON.stringify(location);
  }

  return (
    <View style={styles.container}>
      <Text style={styles.paragraph}>{text}</Text>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    justifyContent: "center",
    padding: 20,
  },
  paragraph: {
    fontSize: 18,
    textAlign: "center",
  },
});
```

## Enable emulator location

### Android Emulator

Open Android Studio, and launch the Android Emulator. Inside it, go to **Settings** > **Location** and enable **Use location**.

If you don't receive the locations in the emulator, you may have to turn off the **Improve Location Accuracy** setting. This will turn off Wi-Fi location and only use GPS. Then you can manipulate the location with GPS data through the emulator.

For Android 12 and higher, go to **Settings** > **Location** > **Location Services** > **Google Location Accuracy**, and turn off **Improve Location Accuracy**. For Android 11 and lower, go to **Settings** > **Location** > **Advanced** > **Google Location Accuracy**, and turn off **Google Location Accuracy**.

### iOS Simulator

With Simulator open, go to **Features** > **Location** and choose any option besides **None**.

## API

```js
import * as Location from "expo-location";
```

## Hooks

### `useBackgroundPermissions(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                            |
| ------------------- | ------------------------------- |
| `options`(optional) | `PermissionHookOptions<object>` |

Check or request permissions for the background location. This uses both `requestBackgroundPermissionsAsync` and `getBackgroundPermissionsAsync` to interact with the permissions.

Returns: `[null | PermissionResponse, RequestPermissionMethod<permissionresponse>, GetPermissionMethod]</permissionresponse>`

Example

```ts
const [status, requestPermission] = Location.useBackgroundPermissions();
```

### `useForegroundPermissions(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                            |
| ------------------- | ------------------------------- |
| `options`(optional) | `PermissionHookOptions<object>` |

Check or request permissions for the foreground location. This uses both `requestForegroundPermissionsAsync` and `getForegroundPermissionsAsync` to interact with the permissions.

Returns: `[null | LocationPermissionResponse, RequestPermissionMethod<locationpermissionresponse>, GetPermissionMethod]</locationpermissionresponse>`

Example

```ts
const [status, requestPermission] = Location.useForegroundPermissions();
```

## Methods

### `Location.enableNetworkProviderAsync()`

Supported platforms: Android.

Asks the user to turn on high accuracy location mode which enables network provider that uses Google Play services to improve location accuracy and location-based services.

Returns: `Promise<void>`

A promise resolving as soon as the user accepts the dialog. Rejects if denied.

### `Location.geocodeAsync(address)`

Supported platforms: Android, iOS.

| Parameter | Type     | Description                                                 |
| --------- | -------- | ----------------------------------------------------------- |
| `address` | `string` | A string representing address, eg. `"Baker Street London"`. |

Geocode an address string to latitude-longitude location.

On Android, you must request location permissions with [`requestForegroundPermissionsAsync`](#locationrequestforegroundpermissionsasync) before geocoding can be used.

> **Note**: Geocoding is resource consuming and has to be used reasonably. Creating too many requests at a time can result in an error, so they have to be managed properly. It's also discouraged to use geocoding while the app is in the background and its results won't be shown to the user immediately.

Returns: `Promise<locationgeocodedlocation[]>`

A promise which fulfills with an array (in most cases its size is 1) of [`LocationGeocodedLocation`](#locationgeocodedlocation) objects.

### `Location.getBackgroundPermissionsAsync()`

Supported platforms: Android, iOS, Web.

Checks user's permissions for accessing location while the app is in the background.

Returns: `Promise<permissionresponse>`

A promise that fulfills with an object of type [`PermissionResponse`](#permissionresponse).

### `Location.getCurrentPositionAsync(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                |
| ------------------- | ----------------------------------- |
| `options`(optional) | [LocationOptions](#locationoptions) |

Requests for one-time delivery of the user's current location. Depending on given `accuracy` option it may take some time to resolve, especially when you're inside a building.

> **Note:** Calling it causes the location manager to obtain a location fix which may take several seconds. Consider using [`getLastKnownPositionAsync`](#locationgetlastknownpositionasyncoptions) if you expect to get a quick response and high accuracy is not required.

Returns: `Promise<locationobject>`

A promise which fulfills with an object of type [`LocationObject`](#locationobject).

### `Location.getForegroundPermissionsAsync()`

Supported platforms: Android, iOS, Web.

Checks user's permissions for accessing location while the app is in the foreground.

Returns: `Promise<locationpermissionresponse>`

A promise that fulfills with an object of type [`LocationPermissionResponse`](#locationpermissionresponse).

### `Location.getHeadingAsync()`

Supported platforms: Android, iOS, Web.

Gets the current heading information from the device. To simplify, it calls `watchHeadingAsync` and waits for a couple of updates, and then returns the one that is accurate enough.

Returns: `Promise<locationheadingobject>`

A promise which fulfills with an object of type [`LocationHeadingObject`](#locationheadingobject).

### `Location.getLastKnownPositionAsync(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                                  |
| ------------------- | ----------------------------------------------------- |
| `options`(optional) | [LocationLastKnownOptions](#locationlastknownoptions) |

Gets the last known position of the device or `null` if it's not available or doesn't match given requirements such as maximum age or required accuracy. It's considered to be faster than `getCurrentPositionAsync` as it doesn't request for the current location, but keep in mind the returned location may not be up-to-date.

Returns: `Promise<locationobject>`

A promise which fulfills with an object of type [`LocationObject`](#locationobject) or `null` if it's not available or doesn't match given requirements such as maximum age or required accuracy.

### `Location.getProviderStatusAsync()`

Supported platforms: Android, iOS, Web.

Check status of location providers.

Returns: `Promise<locationproviderstatus>`

A promise which fulfills with an object of type [`LocationProviderStatus`](#locationproviderstatus).

### `Location.hasServicesEnabledAsync()`

Supported platforms: Android, iOS, Web.

Checks whether location services are enabled by the user.

Returns: `Promise<boolean>`

A promise which fulfills to `true` if location services are enabled on the device, or `false` if not.

### `Location.hasStartedGeofencingAsync(taskName)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type     | Description                           |
| ---------- | -------- | ------------------------------------- |
| `taskName` | `string` | Name of the geofencing task to check. |

Returns: `Promise<boolean>`

A promise which fulfills with boolean value indicating whether the geofencing task is started or not.

### `Location.hasStartedLocationUpdatesAsync(taskName)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type     | Description                         |
| ---------- | -------- | ----------------------------------- |
| `taskName` | `string` | Name of the location task to check. |

Returns: `Promise<boolean>`

A promise which fulfills with boolean value indicating whether the location task is started or not.

### `Location.installWebGeolocationPolyfill()`

Supported platforms: Android, iOS, Web.

Polyfills `navigator.geolocation` for interop with the core React Native and Web API approach to geolocation.

Returns: `void`

### `Location.isBackgroundLocationAvailableAsync()`

Supported platforms: Android, iOS, Web.

Returns: `Promise<boolean>`

### `Location.requestBackgroundPermissionsAsync()`

Supported platforms: Android, iOS, Web.

Asks the user to grant permissions for location while the app is in the background. On **Android 11 or higher**: this method will open the system settings page - before that happens you should explain to the user why your application needs background location permission. For example, you can use `Modal` component from `react-native` to do that.

> **Note**: Foreground permissions should be granted before asking for the background permissions (your app can't obtain background permission without foreground permission).

Returns: `Promise<permissionresponse>`

A promise that fulfills with an object of type [`PermissionResponse`](#permissionresponse).

### `Location.requestForegroundPermissionsAsync()`

Supported platforms: Android, iOS, Web.

Asks the user to grant permissions for location while the app is in the foreground.

Returns: `Promise<locationpermissionresponse>`

A promise that fulfills with an object of type [`LocationPermissionResponse`](#locationpermissionresponse).

### `Location.reverseGeocodeAsync(location)`

Supported platforms: Android, iOS.

| Parameter  | Type                                                                                                                                                    | Description   |
| ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------- | ---------------------------------- |
| `location` | [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<[LocationGeocodedLocation](#locationgeocodedlocation), 'latitude' | 'longitude'\> | An object representing a location. |

Reverse geocode a location to postal address.

On Android, you must request location permissions with [`requestForegroundPermissionsAsync`](#locationrequestforegroundpermissionsasync) before geocoding can be used.

> **Note**: Geocoding is resource consuming and has to be used reasonably. Creating too many requests at a time can result in an error, so they have to be managed properly. It's also discouraged to use geocoding while the app is in the background and its results won't be shown to the user immediately.

Returns: `Promise<locationgeocodedaddress[]>`

A promise which fulfills with an array (in most cases its size is 1) of [`LocationGeocodedAddress`](#locationgeocodedaddress) objects.

### `Location.startGeofencingAsync(taskName, regions)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                | Description                                                                                  |
| ------------------- | ----------------------------------- | -------------------------------------------------------------------------------------------- |
| `taskName`          | `string`                            | Name of the task that will be called when the device enters or exits from specified regions. |
| `regions`(optional) | [LocationRegion[]](#locationregion) | Array of region objects to be geofenced. Default: `[]`                                       |

Starts geofencing for given regions. When the new event comes, the task with specified name will be called with the region that the device enter to or exit from. If you want to add or remove regions from already running geofencing task, you can just call `startGeofencingAsync` again with the new array of regions.

#### Task parameters

Geofencing task will be receiving following data:

- `eventType` - Indicates the reason for calling the task, which can be triggered by entering or exiting the region. See [`GeofencingEventType`](#geofencingeventtype).
- `region` - Object containing details about updated region. See [`LocationRegion`](#locationregion) for more details.

Returns: `Promise<void>`

A promise resolving as soon as the task is registered.

Example

```ts
import { GeofencingEventType } from "expo-location";
import * as TaskManager from "expo-task-manager";

TaskManager.defineTask(
  YOUR_TASK_NAME,
  ({ data: { eventType, region }, error }) => {
    if (error) {
      // check `error.message` for more details.
      return;
    }
    if (eventType === GeofencingEventType.Enter) {
      console.log("You've entered region:", region);
    } else if (eventType === GeofencingEventType.Exit) {
      console.log("You've left region:", region);
    }
  },
);
```

### `Location.startLocationUpdatesAsync(taskName, options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                        | Description                                          |
| ------------------- | ------------------------------------------- | ---------------------------------------------------- |
| `taskName`          | `string`                                    | Name of the task receiving location updates.         |
| `options`(optional) | [LocationTaskOptions](#locationtaskoptions) | An object of options passed to the location manager. |

Registers for receiving location updates that can also come when the app is in the background.

#### Task parameters

Background location task will be receiving following data:

- `locations` - An array of the new locations.

Returns: `Promise<void>`

A promise resolving once the task with location updates is registered.

Example

```ts
import * as TaskManager from "expo-task-manager";

TaskManager.defineTask(YOUR_TASK_NAME, ({ data: { locations }, error }) => {
  if (error) {
    // check `error.message` for more details.
    return;
  }
  console.log("Received new locations", locations);
});
```

### `Location.stopGeofencingAsync(taskName)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type     | Description                     |
| ---------- | -------- | ------------------------------- |
| `taskName` | `string` | Name of the task to unregister. |

Stops geofencing for specified task. It unregisters the background task so the app will not be receiving any updates, especially in the background.

Returns: `Promise<void>`

A promise resolving as soon as the task is unregistered.

### `Location.stopLocationUpdatesAsync(taskName)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type     | Description                                   |
| ---------- | -------- | --------------------------------------------- |
| `taskName` | `string` | Name of the background location task to stop. |

Stops location updates for specified task.

Returns: `Promise<void>`

A promise resolving as soon as the task is unregistered.

### `Location.watchHeadingAsync(callback, errorHandler)`

Supported platforms: Android, iOS.

| Parameter                | Type                                                                                     | Description                                                                                                                                          |
| ------------------------ | ---------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
| `callback`               | [LocationHeadingCallback](/versions/latest/sdk/location#locationheadingcallbacklocation) | This function is called on each compass update. It receives an object of type [LocationHeadingObject](#locationheadingobject) as the first argument. |
| `errorHandler`(optional) | [LocationErrorCallback](/versions/latest/sdk/location#locationerrorcallbackreason)       | This function is called when an error occurs. It receives a string with the error message as the first argument.                                     |

Subscribe to compass updates from the device.

Returns: `Promise<locationsubscription>`

A promise which fulfills with a [`LocationSubscription`](#locationsubscription) object.

### `Location.watchPositionAsync(options, callback, errorHandler)`

Supported platforms: Android, iOS, Web.

| Parameter                | Type                                                                               | Description                                                                                                                               |
| ------------------------ | ---------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| `options`                | [LocationOptions](#locationoptions)                                                | -                                                                                                                                         |
| `callback`               | [LocationCallback](/versions/latest/sdk/location#locationcallbacklocation)         | This function is called on each location update. It receives an object of type [`LocationObject`](#locationobject) as the first argument. |
| `errorHandler`(optional) | [LocationErrorCallback](/versions/latest/sdk/location#locationerrorcallbackreason) | This function is called when an error occurs. It receives a string with the error message as the first argument.                          |

Subscribe to location updates from the device. Updates will only occur while the application is in the foreground. To get location updates while in background you'll need to use [`startLocationUpdatesAsync`](#locationstartlocationupdatesasynctaskname-options).

Returns: `Promise<locationsubscription>`

A promise which fulfills with a [`LocationSubscription`](#locationsubscription) object.

## Types

### `LocationCallback(location)`

Supported platforms: Android, iOS, Web.

Represents `watchPositionAsync` callback.

| Parameter  | Type                              |
| ---------- | --------------------------------- |
| `location` | [LocationObject](#locationobject) |

Returns:

`any`

### `LocationErrorCallback(reason)`

Supported platforms: Android, iOS, Web.

Error callback for location methods.

| Parameter | Type     |
| --------- | -------- |
| `reason`  | `string` |

Returns:

`void`

### `LocationGeocodedAddress`

Supported platforms: Android, iOS, Web.

Type representing a result of `reverseGeocodeAsync`.

| Property         | Type    | Description |
| ---------------- | ------- | ----------- | --------------------------------------------------------------------------------------------------------------------- |
| city             | `string | null`       | City name of the address.                                                                                             |
| country          | `string | null`       | Localized country name of the address.                                                                                |
| district         | `string | null`       | Additional city-level information like district name.                                                                 |
| formattedAddress | `string | null`       | Supported platforms: Android. Composed string of the address components, for example, "111 8th Avenue, New York, NY". |
| isoCountryCode   | `string | null`       | Localized (ISO) country code of the address, if available.                                                            |
| name             | `string | null`       | The name of the placemark, for example, "Tower Bridge".                                                               |
| postalCode       | `string | null`       | Postal code of the address.                                                                                           |
| region           | `string | null`       | The state or province associated with the address.                                                                    |
| street           | `string | null`       | Street name of the address.                                                                                           |
| streetNumber     | `string | null`       | Street number of the address.                                                                                         |
| subregion        | `string | null`       | Additional information about administrative area.                                                                     |
| timezone         | `string | null`       | Supported platforms: iOS. The timezone identifier associated with the address.                                        |

### `LocationGeocodedLocation`

Supported platforms: Android, iOS, Web.

Type representing a result of `geocodeAsync`.

| Property           | Type     | Description                                                     |
| ------------------ | -------- | --------------------------------------------------------------- |
| accuracy(optional) | `number` | The radius of uncertainty for the location, measured in meters. |
| altitude(optional) | `number` | The altitude in meters above the WGS 84 reference ellipsoid.    |
| latitude           | `number` | The latitude in degrees.                                        |
| longitude          | `number` | The longitude in degrees.                                       |

### `LocationHeadingCallback(location)`

Supported platforms: Android, iOS, Web.

Represents `watchHeadingAsync` callback.

| Parameter  | Type                                            |
| ---------- | ----------------------------------------------- |
| `location` | [LocationHeadingObject](#locationheadingobject) |

Returns:

`any`

### `LocationHeadingObject`

Supported platforms: Android, iOS, Web.

Type of the object containing heading details and provided by `watchHeadingAsync` callback.

| Property | Type     | Description                      |
| -------- | -------- | -------------------------------- |
| accuracy | `number` | Level of calibration of compass: |

- `3`: high accuracy
- `2`: medium accuracy
- `1`: low accuracy
- `0`: none

. Reference for iOS:

- `3`: < 20 degrees uncertainty
- `2`: < 35 degrees
- `1`: < 50 degrees
- `0`: > 50 degrees

|
| magHeading | `number` | Measure of magnetic north in degrees. |
| trueHeading | `number` | Measure of true north in degrees (needs location permissions, will return `-1` if not given). |

### `LocationLastKnownOptions`

Supported platforms: Android, iOS, Web.

Type representing options object that can be passed to `getLastKnownPositionAsync`.

| Property                   | Type     | Description                                                                                                                                                             |
| -------------------------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| maxAge(optional)           | `number` | A number of milliseconds after which the last known location starts to be invalid and thus `null` is returned.                                                          |
| requiredAccuracy(optional) | `number` | The maximum radius of uncertainty for the location, measured in meters. If the last known location's accuracy radius is bigger (less accurate) then `null` is returned. |

### `LocationObject`

Supported platforms: Android, iOS, Web.

Type representing the location object.

| Property         | Type                                          | Description                                                                            |
| ---------------- | --------------------------------------------- | -------------------------------------------------------------------------------------- |
| coords           | [LocationObjectCoords](#locationobjectcoords) | The coordinates of the position.                                                       |
| mocked(optional) | `boolean`                                     | Supported platforms: Android. Whether the location coordinates is mocked or not.       |
| timestamp        | `number`                                      | The time at which this position information was obtained, in milliseconds since epoch. |

### `LocationObjectCoords`

Supported platforms: Android, iOS, Web.

Type representing the location GPS related data.

| Property         | Type     | Description               |
| ---------------- | -------- | ------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| accuracy         | `number  | null`                     | The radius of uncertainty for the location, measured in meters. Can be `null` on Web if it's not available.                                                                                                                                                      |
| altitude         | `number  | null`                     | The altitude in meters above the WGS 84 reference ellipsoid. Can be `null` on Web if it's not available.                                                                                                                                                         |
| altitudeAccuracy | `number  | null`                     | The accuracy of the altitude value, in meters. Can be `null` on Web if it's not available.                                                                                                                                                                       |
| heading          | `number  | null`                     | Horizontal direction of travel of this device, measured in degrees starting at due north and continuing clockwise around the compass. Thus, north is 0 degrees, east is 90 degrees, south is 180 degrees, and so on. Can be `null` on Web if it's not available. |
| latitude         | `number` | The latitude in degrees.  |
| longitude        | `number` | The longitude in degrees. |
| speed            | `number  | null`                     | The instantaneous speed of the device in meters per second. Can be `null` on Web if it's not available.                                                                                                                                                          |

### `LocationOptions`

Supported platforms: Android, iOS, Web.

Type representing options argument in `getCurrentPositionAsync`.

| Property                            | Type                  | Description                                                                                                                                                                                                                         |
| ----------------------------------- | --------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| accuracy(optional)                  | [Accuracy](#accuracy) | Location manager accuracy. Pass one of `Accuracy` enum values. For low-accuracies the implementation can avoid geolocation providers that consume a significant amount of power (such as GPS). Default: `LocationAccuracy.Balanced` |
| distanceInterval(optional)          | `number`              | Receive updates only when the location has changed by at least this distance in meters. Default value may depend on `accuracy` option.                                                                                              |
| mayShowUserSettingsDialog(optional) | `boolean`             | Supported platforms: Android. Specifies whether to ask the user to turn on improved accuracy location mode which uses Wi-Fi, cell networks and GPS sensor. Default: `true`                                                          |
| timeInterval(optional)              | `number`              | Supported platforms: Android. Minimum time to wait between each update in milliseconds. Default value may depend on `accuracy` option.                                                                                              |

### `LocationPermissionResponse`

Supported platforms: Android, iOS, Web.

`LocationPermissionResponse` extends [`PermissionResponse`](#permissionresponse) type exported by `expo-modules-core` and contains additional platform-specific fields.

Type: `PermissionResponse` extended by:

| Property          | Type                                                                  | Description |
| ----------------- | --------------------------------------------------------------------- | ----------- |
| android(optional) | [PermissionDetailsLocationAndroid](#permissiondetailslocationandroid) | -           |
| ios(optional)     | [PermissionDetailsLocationIOS](#permissiondetailslocationios)         | -           |

### `LocationProviderStatus`

Supported platforms: Android, iOS, Web.

Represents the object containing details about location provider.

| Property                   | Type      | Description                                                                                                                                                                      |
| -------------------------- | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| backgroundModeEnabled      | `boolean` | -                                                                                                                                                                                |
| gpsAvailable(optional)     | `boolean` | Supported platforms: Android. Whether the GPS provider is available. If `true` the location data will come from GPS, especially for requests with high accuracy.                 |
| locationServicesEnabled    | `boolean` | Whether location services are enabled. See [Location.hasServicesEnabledAsync](#locationhasservicesenabledasync) for a more convenient solution to get this value.                |
| networkAvailable(optional) | `boolean` | Supported platforms: Android. Whether the network provider is available. If `true` the location data will come from cellular network, especially for requests with low accuracy. |
| passiveAvailable(optional) | `boolean` | Supported platforms: Android. Whether the passive provider is available. If `true` the location data will be determined passively.                                               |

### `LocationRegion`

Supported platforms: Android, iOS, Web.

Type representing geofencing region object.

| Property                | Type                                            | Description                                                                                                                       |
| ----------------------- | ----------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| identifier(optional)    | `string`                                        | The identifier of the region object. Defaults to auto-generated UUID hash.                                                        |
| latitude                | `number`                                        | The latitude in degrees of region's center point.                                                                                 |
| longitude               | `number`                                        | The longitude in degrees of region's center point.                                                                                |
| notifyOnEnter(optional) | `boolean`                                       | Boolean value whether to call the task if the device enters the region. Default: `true`                                           |
| notifyOnExit(optional)  | `boolean`                                       | Boolean value whether to call the task if the device exits the region. Default: `true`                                            |
| radius                  | `number`                                        | The radius measured in meters that defines the region's outer boundary.                                                           |
| state(optional)         | [GeofencingRegionState](#geofencingregionstate) | One of [GeofencingRegionState](#geofencingregionstate) region state. Determines whether the device is inside or outside a region. |

### `LocationSubscription`

Supported platforms: Android, iOS, Web.

Represents subscription object returned by methods watching for new locations or headings.

| Property | Type         | Description                                                                                                                   |
| -------- | ------------ | ----------------------------------------------------------------------------------------------------------------------------- |
| remove   | `() => void` | Call this function with no arguments to remove this subscription. The callback will no longer be called for location updates. |

### `LocationTaskOptions`

Supported platforms: Android, iOS, Web.

Type representing background location task options.

Type: [LocationOptions](#locationoptions) extended by:

| Property                                   | Type                                                      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ------------------------------------------ | --------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| activityType(optional)                     | [ActivityType](#activitytype)                             | Supported platforms: iOS. The type of user activity associated with the location updates. Default: `ActivityType.Other`See: See Apple docs for more details.                                                                                                                                                                                                                                                                                                                            |
| deferredUpdatesDistance(optional)          | `number`                                                  | The distance in meters that must occur between last reported location and the current location before deferred locations are reported. Default: `0`                                                                                                                                                                                                                                                                                                                                     |
| deferredUpdatesInterval(optional)          | `number`                                                  | Minimum time interval in milliseconds that must pass since last reported location before all later locations are reported in a batched update. Default: `0`                                                                                                                                                                                                                                                                                                                             |
| deferredUpdatesTimeout(optional)           | `number`                                                  | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| foregroundService(optional)                | [LocationTaskServiceOptions](#locationtaskserviceoptions) | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| pausesUpdatesAutomatically(optional)       | `boolean`                                                 | Supported platforms: iOS. A boolean value indicating whether the location manager can pause location updates to improve battery life without sacrificing location data. When this option is set to `true`, the location manager pauses updates (and powers down the appropriate hardware) at times when the location data is unlikely to change. You can help the determination of when to pause location updates by assigning a value to the `activityType` property. Default: `false` |
| showsBackgroundLocationIndicator(optional) | `boolean`                                                 | Supported platforms: iOS. A boolean indicating whether the status bar changes its appearance when location services are used in the background. Default: `false`                                                                                                                                                                                                                                                                                                                        |

### `LocationTaskServiceOptions`

Supported platforms: Android, iOS, Web.

| Property                       | Type      | Description                                                                                  |
| ------------------------------ | --------- | -------------------------------------------------------------------------------------------- |
| killServiceOnDestroy(optional) | `boolean` | Boolean value whether to destroy the foreground service if the app is killed.                |
| notificationBody               | `string`  | Subtitle of the foreground service notification.                                             |
| notificationColor(optional)    | `string`  | Color of the foreground service notification. Accepts `#RRGGBB` and `#AARRGGBB` hex formats. |
| notificationTitle              | `string`  | Title of the foreground service notification.                                                |

### `PermissionDetailsLocationAndroid`

Supported platforms: Android, iOS, Web.

| Property | Type    | Description |
| -------- | ------- | ----------- | ------- | ---------------------------------------- |
| accuracy | `'fine' | 'coarse'    | 'none'` | Indicates the type of location provider. |

### `PermissionDetailsLocationIOS`

Supported platforms: Android, iOS, Web.

| Property | Type         | Description |
| -------- | ------------ | ----------- | ------- | ------------------------------------------------------------------------------ |
| scope    | `'whenInUse' | 'always'    | 'none'` | The scope of granted permission. Indicates when it's possible to use location. |

### `PermissionExpiration`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionHookOptions`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Acceptable values are: `PermissionHookBehavior` | `Options`

### `PermissionResponse`

Supported platforms: Android, iOS, Web.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

## Enums

### `Accuracy`

Supported platforms: Android, iOS, Web.

Enum with available location accuracies.

#### `Lowest`

`Accuracy.Lowest = 1`

Accurate to the nearest three kilometers.

#### `Low`

`Accuracy.Low = 2`

Accurate to the nearest kilometer.

#### `Balanced`

`Accuracy.Balanced = 3`

Accurate to within one hundred meters.

#### `High`

`Accuracy.High = 4`

Accurate to within ten meters of the desired target.

#### `Highest`

`Accuracy.Highest = 5`

The best level of accuracy available.

#### `BestForNavigation`

`Accuracy.BestForNavigation = 6`

The highest possible accuracy that uses additional sensor data to facilitate navigation apps.

### `ActivityType`

Supported platforms: Android, iOS, Web.

Enum with available activity types of background location tracking.

#### `Other`

`ActivityType.Other = 1`

Default activity type. Use it if there is no other type that matches the activity you track.

#### `AutomotiveNavigation`

`ActivityType.AutomotiveNavigation = 2`

Location updates are being used specifically during vehicular navigation to track location changes to the automobile.

#### `Fitness`

`ActivityType.Fitness = 3`

Use this activity type if you track fitness activities such as walking, running, cycling, and so on.

#### `OtherNavigation`

`ActivityType.OtherNavigation = 4`

Activity type for movements for other types of vehicular navigation that are not automobile related.

#### `Airborne`

Supported platforms: iOS.

`ActivityType.Airborne = 5`

Intended for airborne activities. Fall backs to `ActivityType.Other` if unsupported.

### `GeofencingEventType`

Supported platforms: Android, iOS, Web.

A type of the event that geofencing task can receive.

#### `Enter`

`GeofencingEventType.Enter = 1`

Emitted when the device entered observed region.

#### `Exit`

`GeofencingEventType.Exit = 2`

Occurs as soon as the device left observed region

### `GeofencingRegionState`

Supported platforms: Android, iOS, Web.

State of the geofencing region that you receive through the geofencing task.

#### `Unknown`

`GeofencingRegionState.Unknown = 0`

Indicates that the device position related to the region is unknown.

#### `Inside`

`GeofencingRegionState.Inside = 1`

Indicates that the device is inside the region.

#### `Outside`

`GeofencingRegionState.Outside = 2`

Inverse of inside state.

### `PermissionStatus`

Supported platforms: Android, iOS, Web.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

## Permissions

### Android

> Foreground and background services are not available in Expo Go for Android. Instead, we recommend using a [development build](/develop/development-builds/introduction) to avoid limitations.

When you install the `expo-location` module, it automatically adds the following permissions:

- `ACCESS_COARSE_LOCATION`: for approximate device location
- `ACCESS_FINE_LOCATION`: for precise device location

The following permissions are optional:

- `FOREGROUND_SERVICE` and `FOREGROUND_SERVICE_LOCATION`: to be able to access location while the app is open but backgrounded. `FOREGROUND_SERVICE_LOCATION` is only required as of Android 14. When you enable this in a new build, you will need to [submit your app for review and request access to use the foreground service permission](https://support.google.com/googleplay/android-developer/answer/13392821?hl=en).
- `ACCESS_BACKGROUND_LOCATION`: to be able to access location while the app is backgrounded or closed. When you enable this in a new build, you will need to [submit your app for review and request access to use the background location permission](https://support.google.com/googleplay/android-developer/answer/9799150?hl=en).

| Android Permission            | Description                                                                           |
| ----------------------------- | ------------------------------------------------------------------------------------- |
| `ACCESS_COARSE_LOCATION`      | Allows an app to access approximate location.                                         |
| `ACCESS_FINE_LOCATION`        | Allows an app to access precise location.                                             |
| `FOREGROUND_SERVICE`          | Allows a regular application to use Service.startForeground.                          |
| `FOREGROUND_SERVICE_LOCATION` | Allows a regular application to use Service.startForeground with the type "location". |
| `ACCESS_BACKGROUND_LOCATION`  | Allows an app to access location in the background.                                   |

#### Excluding a permission

> **Note**: Excluding a **required permission** from a module in your app can break the functionality corresponding to that permission. Always make sure to include all permissions a module is dependent on.

When your Expo project doesn't benefit from having particular permission included, you can omit it. For example, if your application doesn't need access to the precise location, you can exclude the `ACCESS_FINE_LOCATION` permission.

Another example can be stated using [available location accuracies](/versions/latest/sdk/location#accuracy). Android defines the approximate location accuracy estimation within about 3 square kilometers, and the precise location accuracy estimation within about 50 meters. For example, if the location accuracy value is [Low](/versions/latest/sdk/location#low), you can exclude `ACCESS_FINE_LOCATION` permission. To learn more about levels of location accuracies, see [Android documentation](https://developer.android.com/training/location/permissions#accuracy).

To learn more on how to exclude permission, see [Excluding Android permissions](/guides/permissions#excluding-android-permissions).

### iOS

The following usage description keys are used by this library:

| Info.plist Key                                 | Description                                                                                                                                                                                                               |
| ---------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `NSLocationAlwaysAndWhenInUseUsageDescription` | A message that tells the user why the app is requesting access to the userâ€™s location information at all times.                                                                                                           |
| `NSLocationAlwaysUsageDescription`             | A message that tells the user why the app is requesting access to the user's location at all times. DeprecatedFor apps deployed to targets in iOS 11 and later, use NSLocationAlwaysAndWhenInUseUsageDescription instead. |
| `NSLocationWhenInUseUsageDescription`          | A message that tells the user why the app is requesting access to the userâ€™s location information while the app is running in the foreground.                                                                             |

`NSLocationAlwaysUsageDescription` is deprecated in favor of `NSLocationAlwaysAndWhenInUseUsageDescription` from iOS 11.

---

---

title: Magnetometer
description: A library that provides access to the device's magnetometer sensor.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-sensors'
packageName: 'expo-sensors'
iconUrl: '/static/images/packages/expo-sensors.png'
platforms: ['android', 'ios', 'expo-go']

---

# Expo Magnetometer

A library that provides access to the device's magnetometer sensor.
Android, iOS, Included in Expo Go

`Magnetometer` from `expo-sensors` provides access to the device magnetometer sensor(s) to respond to and measure the changes in the magnetic field measured in microtesla (`Î¼T`).

You can access the calibrated values with `Magnetometer` and uncalibrated raw values with `MagnetometerUncalibrated`.

## Installation

```sh
npx expo install expo-sensors
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { StyleSheet, Text, TouchableOpacity, View } from "react-native";
import { Magnetometer } from "expo-sensors";
import { useState, useEffect } from "react";

export default function Compass() {
  const [{ x, y, z }, setData] = useState({
    x: 0,
    y: 0,
    z: 0,
  });
  const [subscription, setSubscription] = useState(null);

  const _slow = () => Magnetometer.setUpdateInterval(1000);
  const _fast = () => Magnetometer.setUpdateInterval(16);

  const _subscribe = () => {
    setSubscription(
      Magnetometer.addListener(result => {
        setData(result);
      }),
    );
  };

  const _unsubscribe = () => {
    subscription && subscription.remove();
    setSubscription(null);
  };

  useEffect(() => {
    _subscribe();
    return () => _unsubscribe();
  }, []);

  return (
    <View style={styles.container}>
      <Text style={styles.text}>Magnetometer:</Text>
      <Text style={styles.text}>x: {x}</Text>
      <Text style={styles.text}>y: {y}</Text>
      <Text style={styles.text}>z: {z}</Text>
      <View style={styles.buttonContainer}>
        <TouchableOpacity
          onPress={subscription ? _unsubscribe : _subscribe}
          style={styles.button}
        >
          <Text>{subscription ? "On" : "Off"}</Text>
        </TouchableOpacity>
        <TouchableOpacity
          onPress={_slow}
          style={[styles.button, styles.middleButton]}
        >
          <Text>Slow</Text>
        </TouchableOpacity>
        <TouchableOpacity
          onPress={_fast}
          style={styles.button}
        >
          <Text>Fast</Text>
        </TouchableOpacity>
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    paddingHorizontal: 10,
  },
  text: {
    textAlign: "center",
  },
  buttonContainer: {
    flexDirection: "row",
    alignItems: "stretch",
    marginTop: 15,
  },
  button: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
    backgroundColor: "#eee",
    padding: 10,
  },
  middleButton: {
    borderLeftWidth: 1,
    borderRightWidth: 1,
    borderColor: "#ccc",
  },
});
```

## API

```js
import { Magnetometer, MagnetometerUncalibrated } from "expo-sensors";
```

## Classes

### `Magnetometer`

Supported platforms: Android, iOS.

Type: Class extends [DeviceSensor](/versions/latest/sdk/sensors)<[MagnetometerMeasurement](#magnetometermeasurement)\>

Magnetometer Methods

### `addListener(listener)`

Supported platforms: Android, iOS.

| Parameter  | Type                                                           | Description                                                                                                                                                          |
| ---------- | -------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `listener` | Listener<[MagnetometerMeasurement](#magnetometermeasurement)\> | A callback that is invoked when a magnetometer update is available. When invoked, the listener is provided with a single argument that is `MagnetometerMeasurement`. |

Subscribe for updates to the magnetometer.

Returns: `EventSubscription`

A subscription that you can call `remove()` on when you would like to unsubscribe the listener.

### `getListenerCount()`

Supported platforms: Android, iOS.

Returns the registered listeners count.

Returns: `number`

### `getPermissionsAsync()`

Supported platforms: Android, iOS.

Checks user's permissions for accessing sensor.

Returns: `Promise<permissionresponse>`

### `hasListeners()`

Supported platforms: Android, iOS.

Returns boolean which signifies if sensor has any listeners registered.

Returns: `boolean`

### `isAvailableAsync()`

Supported platforms: Android, iOS.

> You should always check the sensor availability before attempting to use it.

Check the availability of the device magnetometer. Requires at least Android 2.3 (API Level 9) and iOS 8.

Returns: `Promise<boolean>`

A promise that resolves to a `boolean` denoting the availability of the sensor.

### `removeAllListeners()`

Supported platforms: Android, iOS.

Removes all registered listeners.

Returns: `void`

### `removeSubscription(subscription)`

Supported platforms: Android, iOS.

| Parameter      | Type                | Description               |
| -------------- | ------------------- | ------------------------- |
| `subscription` | `EventSubscription` | A subscription to remove. |

Removes the given subscription.

Returns: `void`

### `requestPermissionsAsync()`

Supported platforms: Android, iOS.

Asks the user to grant permissions for accessing sensor.

Returns: `Promise<permissionresponse>`

### `setUpdateInterval(intervalMs)`

Supported platforms: Android, iOS.

| Parameter    | Type     | Description                                                                                                                                             |
| ------------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `intervalMs` | `number` | Desired interval in milliseconds between sensor updates. Starting from Android 12 (API level 31), the system has a 200ms limit for each sensor updates. |

Set the sensor update interval.

Returns: `void`

## Interfaces

### `Subscription`

Supported platforms: Android, iOS.

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Supported platforms: Android, iOS.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

## Types

### `MagnetometerMeasurement`

Supported platforms: Android, iOS.

Each of these keys represents the strength of magnetic field along that particular axis measured in microteslas (`Î¼T`).

| Property  | Type     | Description                                                       |
| --------- | -------- | ----------------------------------------------------------------- |
| timestamp | `number` | Timestamp of the measurement in seconds.                          |
| x         | `number` | Value representing strength of magnetic field recorded in X axis. |
| y         | `number` | Value representing strength of magnetic field recorded in Y axis. |
| z         | `number` | Value representing strength of magnetic field recorded in Z axis. |

### `PermissionExpiration`

Supported platforms: Android, iOS.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionResponse`

Supported platforms: Android, iOS.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

## Enums

### `PermissionStatus`

Supported platforms: Android, iOS.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

---

---

title: MailComposer
description: A library that provides functionality to compose and send emails with the system's specific UI.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-mail-composer'
packageName: 'expo-mail-composer'
iconUrl: '/static/images/packages/expo-mail-composer.png'
platforms: ['android', 'ios*', 'web', 'expo-go']

---

# Expo MailComposer

A library that provides functionality to compose and send emails with the system's specific UI.
Android, iOS (device only), Web, Included in Expo Go

`expo-mail-composer` allows you to compose and send emails quickly and easily using the OS UI. This module can't be used on iOS Simulators since you can't sign into a mail account on them.

## Installation

```sh
npx expo install expo-mail-composer
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## API

```js
import * as MailComposer from "expo-mail-composer";
```

## Methods

### `MailComposer.composeAsync(options)`

Supported platforms: Android, iOS, Web.

| Parameter | Type                                        |
| --------- | ------------------------------------------- |
| `options` | [MailComposerOptions](#mailcomposeroptions) |

Opens a mail modal for iOS and a mail app intent for Android and fills the fields with provided data. On iOS you will need to be signed into the Mail app.

Returns: `Promise<mailcomposerresult>`

A promise fulfilled with an object containing a `status` field that specifies whether an email was sent, saved, or cancelled. Android does not provide this info, so the status is always set as if the email were sent.

### `MailComposer.getClients()`

Supported platforms: Android, iOS, Web.

Retrieves a list of available email clients installed on the device. This can be used to present options to the user for sending emails through their preferred email client, or to open an email client so the user can access their mailbox â€” for example, to open a confirmation email sent by your app.

Returns: `MailClient[]`

An array of available mail clients.

### `MailComposer.isAvailableAsync()`

Supported platforms: Android, iOS, Web.

Determine if the `MailComposer` API can be used in this app.

Returns: `Promise<boolean>`

A promise resolves to `true` if the API can be used, and `false` otherwise.

- Returns `true` when the device has a default email setup for sending mail.
- Can return `false` on iOS if an MDM profile is setup to block outgoing mail. If this is the case, you may want to use the Linking API instead.
- Always returns `true` in the browser.

## Types

### `MailClient`

Supported platforms: Android, iOS, Web.

Represents a mail client available on the device.

| Property              | Type     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| --------------------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| label                 | `string` | The display name of the mail client.                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| packageName(optional) | `string` | Supported platforms: Android. The package name of the mail client application. You can use this package name with the [`getApplicationIconAsync`](/versions/latest/sdk/intent-launcher#intentlaunchergetapplicationiconasyncpackagename) or [`openApplication`](/versions/latest/sdk/intent-launcher#intentlauncheropenapplicationpackagename) functions from [`expo-intent-launcher`](/versions/latest/sdk/intent-launcher) to retrieve the appâ€™s icon or open the mail client directly. |
| url(optional)         | `string` | Supported platforms: iOS. The URL scheme of the mail client. You can use this URL with the [`openURL`](/versions/latest/sdk/linking#linkingopenurlurl) function from [`expo-linking`](/versions/latest/sdk/linking) to open the mail client.                                                                                                                                                                                                                                              |

### `MailComposerOptions`

Supported platforms: Android, iOS, Web.

A map defining the data to fill the mail.

| Property                | Type       | Description                                                                                              |
| ----------------------- | ---------- | -------------------------------------------------------------------------------------------------------- |
| attachments(optional)   | `string[]` | An array of app's internal file URIs to attach.                                                          |
| bccRecipients(optional) | `string[]` | An array of e-mail addresses of the BCC recipients.                                                      |
| body(optional)          | `string`   | Body of the e-mail.                                                                                      |
| ccRecipients(optional)  | `string[]` | An array of e-mail addresses of the CC recipients.                                                       |
| isHtml(optional)        | `boolean`  | Whether the body contains HTML tags so it could be formatted properly. Not working perfectly on Android. |
| recipients(optional)    | `string[]` | An array of e-mail addresses of the recipients.                                                          |
| subject(optional)       | `string`   | Subject of the e-mail.                                                                                   |

### `MailComposerResult`

Supported platforms: Android, iOS, Web.

| Property | Type                                      | Description |
| -------- | ----------------------------------------- | ----------- |
| status   | [MailComposerStatus](#mailcomposerstatus) | -           |

## Enums

### `MailComposerStatus`

Supported platforms: Android, iOS, Web.

#### `CANCELLED`

`MailComposerStatus.CANCELLED = "cancelled"`

#### `SAVED`

`MailComposerStatus.SAVED = "saved"`

#### `SENT`

`MailComposerStatus.SENT = "sent"`

#### `UNDETERMINED`

`MailComposerStatus.UNDETERMINED = "undetermined"`

---

---

title: Manifests
description: A library that provides types for Expo Manifests.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-manifests'
packageName: 'expo-manifests'
platforms: ['android', 'ios', 'tvos', 'expo-go']

---

# Expo Manifests

A library that provides types for Expo Manifests.
Android, iOS, tvOS, Included in Expo Go

## Installation

```sh
npx expo install expo-manifests
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## API

```js
import * as Manifests from "expo-manifests";
```

## Types

> **Deprecated:** Renamed to `EmbeddedManifest`, will be removed in a few versions.

### `BareManifest`

Supported platforms: Android, iOS, tvOS.

Type: [EmbeddedManifest](/versions/latest/sdk/manifests#embeddedmanifest)

### `ClientScopingConfig`

Supported platforms: Android, iOS, tvOS.

| Property           | Type     | Description                                                                                                                                                 |
| ------------------ | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| scopeKey(optional) | `string` | An opaque unique string for scoping client-side data to this project. This value will not change when a project is transferred between accounts or renamed. |

### `EASConfig`

Supported platforms: Android, iOS, tvOS.

| Property            | Type     | Description                                                                                                                            |
| ------------------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| projectId(optional) | `string` | The ID for this project if it's using EAS. UUID. This value will not change when a project is transferred between accounts or renamed. |

### `EmbeddedManifest`

Supported platforms: Android, iOS, tvOS.

An embedded manifest.

Generated during build in **createManifest.js** build step script.

| Property   | Type     | Description |
| ---------- | -------- | ----------- |
| assets     | `any[]`  | -           |
| commitTime | `number` | -           |
| id         | `string` | -           |

### `ExpoClientConfig`

Supported platforms: Android, iOS, tvOS.

Type: [ExpoConfig](https://github.com/expo/expo/blob/main/packages/%40expo/config-types/src/ExpoConfig.ts) extended by:

| Property          | Type     | Description                                        |
| ----------------- | -------- | -------------------------------------------------- |
| hostUri(optional) | `string` | Only present during development using `@expo/cli`. |

### `ExpoGoConfig`

Supported platforms: Android, iOS, tvOS.

| Property                 | Type                                                                    | Description |
| ------------------------ | ----------------------------------------------------------------------- | ----------- |
| debuggerHost(optional)   | `string`                                                                | -           |
| developer(optional)      | `Record<string, any> & { tool: string }`                                | -           |
| mainModuleName(optional) | `string`                                                                | -           |
| packagerOpts(optional)   | [ExpoGoPackagerOpts](/versions/latest/sdk/manifests#expogopackageropts) | -           |

### `ExpoGoPackagerOpts`

Supported platforms: Android, iOS, tvOS.

Type: `Record<string, any>` extended by:

| Property                | Type      | Description |
| ----------------------- | --------- | ----------- |
| dev(optional)           | `boolean` | -           |
| hostType(optional)      | `string`  | -           |
| lanType(optional)       | `string`  | -           |
| minify(optional)        | `boolean` | -           |
| strict(optional)        | `boolean` | -           |
| urlRandomness(optional) | `string`  | -           |
| urlType(optional)       | `string`  | -           |

### `ExpoUpdatesManifest`

Supported platforms: Android, iOS, tvOS.

A `expo-updates` manifest.

| Property        | Type                                                          | Description |
| --------------- | ------------------------------------------------------------- | ----------- |
| assets          | [ManifestAsset[]](#manifestasset)                             | -           |
| createdAt       | `string`                                                      | -           |
| extra(optional) | [ManifestExtra](/versions/latest/sdk/manifests#manifestextra) | -           |
| id              | `string`                                                      | -           |
| launchAsset     | [ManifestAsset](/versions/latest/sdk/manifests#manifestasset) | -           |
| metadata        | `object`                                                      | -           |
| runtimeVersion  | `string`                                                      | -           |

### `ManifestAsset`

Supported platforms: Android, iOS, tvOS.

| Property | Type     | Description |
| -------- | -------- | ----------- |
| url      | `string` | -           |

### `ManifestExtra`

Supported platforms: Android, iOS, tvOS.

Type: [ClientScopingConfig](/versions/latest/sdk/manifests#clientscopingconfig) extended by:

| Property             | Type                                                                | Description |
| -------------------- | ------------------------------------------------------------------- | ----------- |
| eas(optional)        | [EASConfig](/versions/latest/sdk/manifests#easconfig)               | -           |
| expoClient(optional) | [ExpoClientConfig](/versions/latest/sdk/manifests#expoclientconfig) | -           |
| expoGo(optional)     | [ExpoGoConfig](/versions/latest/sdk/manifests#expogoconfig)         | -           |

> **Deprecated:** renamed to `ExpoUpdatesManifest`, will be removed in a few versions.

### `NewManifest`

Supported platforms: Android, iOS, tvOS.

Type: [ExpoUpdatesManifest](/versions/latest/sdk/manifests#expoupdatesmanifest)

---

---

title: react-native-maps
description: A library that provides a Map component that uses Google Maps on Android and Apple Maps or Google Maps on iOS.
sourceCodeUrl: 'https://github.com/react-native-maps/react-native-maps'
packageName: react-native-maps
platforms: ['android', 'ios', 'expo-go']
inExpoGo: true

---

# react-native-maps

A library that provides a Map component that uses Google Maps on Android and Apple Maps or Google Maps on iOS.
Android, iOS, Included in Expo Go

`react-native-maps` provides a Map component that uses Google Maps on Android and Apple Maps or Google Maps on iOS.

No additional setup is required when testing your project using Expo Go. However, **to deploy the app binary on app stores** additional steps are required for Google Maps. For more information, see the [instructions below](/versions/latest/sdk/map-view#deploy-app-with-google-maps).

## Installation

```sh
npx expo install react-native-maps
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://github.com/react-native-maps/react-native-maps/blob/master/docs/installation.md) provided in the library's README or documentation.

## Usage

See full documentation at [`react-native-maps/react-native-maps`](https://github.com/react-native-maps/react-native-maps).

```jsx
import { StyleSheet, View } from "react-native";
import MapView from "react-native-maps";
import React from "react";

export default function App() {
  return (
    <View style={styles.container}>
      <MapView style={styles.map} />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
  },
  map: {
    width: "100%",
    height: "100%",
  },
});
```

## Deploy app with Google Maps

### Android

> If you have already registered a project for another Google service on Android, such as Google Sign In, you enable the **Maps SDK for Android** on your project and jump to step 4.

#### Register a Google Cloud API project and enable the Maps SDK for Android

- Open your browser to the [Google API Manager](https://console.developers.google.com/apis) and create a project.
- Once it's created, go to the project and enable the **Maps SDK for Android**.

#### Copy your app's SHA-1 certificate fingerprint

- **If you are deploying your app to the Google Play Store**, you'll need to [upload your app binary to Google Play console](/submit/android) at least once. This is required for Google to generate your app signing credentials.
- Go to the **[Google Play Console](https://play.google.com/console) > (your app) > Release > Setup > App integrity > App Signing**.
- Copy the value of **SHA-1 certificate fingerprint**.

#### Create an API key

- Go to [Google Cloud Credential manager](https://console.cloud.google.com/apis/credentials) and click **Create Credentials**, then **API Key**.
- In the modal, click **Edit API key**.
- Under **Key restrictions** > **Application restrictions**, choose **Android apps**.
- Under **Restrict usage to your Android apps**, click **Add an item**.
- Add your `android.package` from **app.json** (for example: `com.company.myapp`) to the package name field.
- Then, add the **SHA-1 certificate fingerprint's** value from step 2.
- Click **Done** and then click **Save**.

#### Add the API key to your project

- Copy your **API Key** into your your to either a **.env** file and then add it to your **app.json** under the `android.config.googleMaps.apiKey` field like or copy it:

```json
"android": {
      "config": {
        "googleMaps": {
          "apiKey": "process.env.GOOGLE_MAPS_API_KEY",
        },
      },
    }
```

- In your code, import `{ PROVIDER_GOOGLE }` from `react-native-maps` and add the property `provider={PROVIDER_GOOGLE}` to your `<MapView>`. This property works on both Android and iOS.
- Rebuild the app binary (or re-submit to the Google Play Store in case your app is already uploaded). An easy way to test if the configuration was successful is to do an [emulator build](/develop/development-builds/create-a-build#build-the-native-app-ios-simulator).

### iOS

> If you have already registered a project for another Google service on iOS, such as Google Sign In, you enable the **Maps SDK for iOS** on your project and jump to step 3.

#### Register a Google Cloud API project and enable the Maps SDK for iOS

- Open your browser to the [Google API Manager](https://console.developers.google.com/apis) and create a project.
- Then, go to the project, click **Enable APIs and Services** and enable the **Maps SDK for iOS**.

#### Create an API key

- Go to [Google Cloud Credential manager](https://console.cloud.google.com/apis/credentials) and click **Create Credentials**, then **API Key**.
- In the modal, click **Edit API key**.
- Under **Key restrictions** > **Application restrictions**, choose **iOS apps**.
- Under **Accept requests from an iOS application with one of these bundle identifiers**, click the **Add an item** button.
- Add your `ios.bundleIdentifier` from **app.json** (for example: `com.company.myapp`) to the bundle ID field.
- Click **Done** and then click **Save**.

#### Add the API key to your project

- Copy your **API Key** into your your to either a **.env** file and then add it to your **app.json** under the `ios.config.googleMapsApiKey` field like or copy it:

```json
"ios": {
      "config": {
        "googleMapsApiKey":  "process.env.GOOGLE_MAPS_API_KEY",
        },
      }
```

- In your code, import `{ PROVIDER_GOOGLE }` from `react-native-maps` and add the property `provider={PROVIDER_GOOGLE}` to your `<MapView>`. This property works on both Android and iOS.
- Rebuild the app binary. An easy way to test if the configuration was successful is to do a [simulator build](/develop/development-builds/create-a-build#build-the-native-app-ios-simulator).

---

---

title: Maps
description: A library that provides access to Google Maps on Android and Apple Maps on iOS.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-maps'
packageName: 'expo-maps'
platforms: ['ios', 'android']
iconUrl: '/static/images/packages/expo-maps.png'
isAlpha: true

---

# Expo Maps

A library that provides access to Google Maps on Android and Apple Maps on iOS.
Android, iOS

> **This library is currently in alpha and will frequently experience breaking changes.** It is not available in the Expo Go app â€“ use [development builds](/develop/development-builds/introduction) to try it out.

## Installation

```sh
npx expo install expo-maps
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

[Watch: Expo Maps Deep Dive](https://www.youtube.com/watch?v=jDCuaIQ9vd0)

## Configuration

Expo Maps provides access to the platform native map APIs on Android and iOS.

- **Apple Maps (available on iOS only)**. No additional configuration is required to use it after installing this package.
- **Google Maps (available on Android only)**. While Google provides a Google Maps SDK for iOS, Expo Maps supports it exclusively on Android. If you want to use Google Maps on iOS, you can look into using an [alternative library](https://reactnative.directory/) or [writing your own](/modules/overview).

### Google Cloud API setup

**Before you can use Google Maps on Android**, you need to register a Google Cloud API project, enable the Maps SDK for Android, and add the associated configuration to your Expo project.

Set up Google Maps on Android

> If you have already registered a project for another Google service on Android, such as Google Sign In, you enable the **Maps SDK for Android** on your project and jump to step 4.

**Register a Google Cloud API project and enable the Maps SDK for Android**

- Open your browser to the [Google API Manager](https://console.developers.google.com/apis) and create a project.
- Once it's created, go to the project and enable the **Maps SDK for Android**.

**Copy your app's SHA-1 certificate fingerprint**

- **If you are deploying your app to the Google Play Store**, you'll need to [upload your app binary to Google Play console](/submit/android) at least once. This is required for Google to generate your app signing credentials.
- Go to the **[Google Play Console](https://play.google.com/console) > (your app) > Test and release > App integrity > Play app signing > Settings > App signing key certificate**.
- Copy the value of **SHA-1 certificate fingerprint**.

**Create an API key**

- Go to [Google Cloud Credential manager](https://console.cloud.google.com/apis/credentials) and click **Create Credentials**, then **API Key**.
- In the modal, click **Edit API key**.
- Under **Key restrictions** > **Application restrictions**, choose **Android apps**.
- Under **Restrict usage to your Android apps**, click **Add an item**.
- Add your `android.package` from **app.json** (for example: `com.company.myapp`) to the package name field.
- Then, add the **SHA-1 certificate fingerprint's** value from step 2.
- Click **Done** and then click **Save**.

**Add the API key to your project**

- Copy your **API Key** into your **app.json** under the `android.config.googleMaps.apiKey` field.
- Create a new development build, and you can now use the Google Maps API on Android with `expo-maps`.

## Permissions

To display the user's location on the map, you need to declare and request location permission beforehand. You can configure this using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-maps",
        {
          "requestLocationPermission": true,
          "locationPermission": "Allow $(PRODUCT_NAME) to use your location"
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                        | Default                                        | Description                                                                                                                                     |
| --------------------------- | ---------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| `requestLocationPermission` | `false`                                        | A boolean to add permissions to **AndroidManifest.xml** and **Info.plist**.                                                                     |
| `locationPermission`        | `"Allow $(PRODUCT_NAME) to use your location"` | Only for: iOS. A string to set the [`NSLocationWhenInUseUsageDescription`](#permission-nslocationwheninuseusagedescription) permission message. |

## Usage

```tsx
import { AppleMaps, GoogleMaps } from "expo-maps";
import { Platform, Text } from "react-native";

export default function App() {
  if (Platform.OS === "ios") {
    return <AppleMaps.View style={{ flex: 1 }} />;
  } else if (Platform.OS === "android") {
    return <GoogleMaps.View style={{ flex: 1 }} />;
  } else {
    return <Text>Maps are only available on Android and iOS</Text>;
  }
}
```

## API

```js
import { AppleMaps, GoogleMaps } from "expo-maps";

// ApplesMaps.View and GoogleMaps.View are the React components
```

## Components

### `AppleMapsView`

Supported platforms: iOS.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[AppleMapsViewProps](#applemapsviewprops), 'ref'\>\>

AppleMapsViewProps

### `annotations`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [AppleMapsAnnotation[]](#applemapsannotation)

The array of annotations to display on the map.

### `cameraPosition`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [CameraPosition](/versions/v54.0.0/sdk/maps#cameraposition-2)

The initial camera position of the map.

### `circles`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [AppleMapsCircle[]](#applemapscircle)

The array of circles to display on the map.

### `markers`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [AppleMapsMarker[]](#applemapsmarker)

The array of markers to display on the map.

### `onCameraMove`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: (event: { bearing: number, coordinates: [Coordinates](#coordinates), tilt: number, zoom: number }) => void

Lambda invoked when the map was moved by the user.

### `onCircleClick`

Supported platforms: iOS 18.0+.

Optionalâ€ƒâ€¢â€ƒType: (event: [AppleMapsCircle](#applemapscircle)) => void

Lambda invoked when the circle is clicked

### `onMapClick`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: (event: { coordinates: [Coordinates](#coordinates) }) => void

Lambda invoked when the user clicks on the map. It won't be invoked if the user clicks on POI or a marker.

### `onMarkerClick`

Supported platforms: iOS 18.0+.

Optionalâ€ƒâ€¢â€ƒType: (event: [AppleMapsMarker](#applemapsmarker)) => void

Lambda invoked when the marker is clicked

### `onPolygonClick`

Supported platforms: iOS 18.0+.

Optionalâ€ƒâ€¢â€ƒType: (event: [AppleMapsPolygon](#applemapspolygon)) => void

Lambda invoked when the polygon is clicked

### `onPolylineClick`

Supported platforms: iOS 18.0+.

Optionalâ€ƒâ€¢â€ƒType: (event: [AppleMapsPolyline](#applemapspolyline)) => void

Lambda invoked when the polyline is clicked

### `polygons`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [AppleMapsPolygon[]](#applemapspolygon)

The array of polygons to display on the map.

### `polylines`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [AppleMapsPolyline[]](#applemapspolyline)

The array of polylines to display on the map.

### `properties`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [AppleMapsProperties](#applemapsproperties)

The properties for the map.

### `ref`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: Ref<[AppleMapsViewType](#applemapsviewtype)\>

### `style`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: StyleProp<[ViewStyle](https://reactnative.dev/docs/view-style-props)\>

### `uiSettings`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [AppleMapsUISettings](#applemapsuisettings)

The `MapUiSettings` to be used for UI-specific settings on the map.

### `GoogleMapsView`

Supported platforms: Android.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[GoogleMapsViewProps](#googlemapsviewprops), 'ref'\>\>

GoogleMapsViewProps

### `cameraPosition`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [CameraPosition](/versions/v54.0.0/sdk/maps#cameraposition-2)

The initial camera position of the map.

### `circles`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [GoogleMapsCircle[]](#googlemapscircle)

The array of circles to display on the map.

### `colorScheme`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [GoogleMapsColorScheme](#googlemapscolorscheme)

Defines the color scheme for the map.

### `contentPadding`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [GoogleMapsContentPadding](#googlemapscontentpadding)

The padding values used to signal that portions of the map around the edges may be obscured. The map will move the Google logo, etc. to avoid overlapping the padding.

### `mapOptions`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [GoogleMapsMapOptions](#googlemapsmapoptions)

Defines configuration GoogleMapOptions for a GoogleMap

### `markers`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [GoogleMapsMarker[]](#googlemapsmarker)

The array of markers to display on the map.

### `onCameraMove`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: (event: { bearing: number, coordinates: [Coordinates](#coordinates), tilt: number, zoom: number }) => void

Lambda invoked when the map was moved by the user.

### `onCircleClick`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: (event: [GoogleMapsCircle](#googlemapscircle)) => void

Lambda invoked when the circle is clicked.

### `onMapClick`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: (event: { coordinates: [Coordinates](#coordinates) }) => void

Lambda invoked when the user clicks on the map. It won't be invoked if the user clicks on POI or a marker.

### `onMapLoaded`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

Lambda invoked when the map is loaded.

### `onMapLongClick`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: (event: { coordinates: [Coordinates](#coordinates) }) => void

Lambda invoked when the user long presses on the map.

### `onMarkerClick`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: (event: [GoogleMapsMarker](#googlemapsmarker)) => void

Lambda invoked when the marker is clicked

### `onPOIClick`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: (event: { coordinates: [Coordinates](#coordinates), name: string }) => void

Lambda invoked when a POI is clicked.

### `onPolygonClick`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: (event: [GoogleMapsPolygon](#googlemapspolygon)) => void

Lambda invoked when the polygon is clicked.

### `onPolylineClick`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: (event: [GoogleMapsPolyline](#googlemapspolyline)) => void

Lambda invoked when the polyline is clicked.

### `polygons`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [GoogleMapsPolygon[]](#googlemapspolygon)

The array of polygons to display on the map.

### `polylines`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [GoogleMapsPolyline[]](#googlemapspolyline)

The array of polylines to display on the map.

### `properties`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [GoogleMapsProperties](#googlemapsproperties)

The properties for the map.

### `ref`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: Ref<[GoogleMapsViewType](#googlemapsviewtype)\>

### `style`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: StyleProp<[ViewStyle](https://reactnative.dev/docs/view-style-props)\>

### `uiSettings`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [GoogleMapsUISettings](#googlemapsuisettings)

The `MapUiSettings` to be used for UI-specific settings on the map.

### `userLocation`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [GoogleMapsUserLocation](#googlemapsuserlocation)

User location, overrides default behavior.

### `GoogleStreetView`

Supported platforms: Android.

Type: React.Element<[GoogleStreetViewProps](#googlestreetviewprops)\>

GoogleStreetViewProps

### `isPanningGesturesEnabled`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

### `isStreetNamesEnabled`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

### `isUserNavigationEnabled`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

### `isZoomGesturesEnabled`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

### `position`

Supported platforms: Android.

Type: [StreetViewCameraPosition](#streetviewcameraposition)

### `style`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: StyleProp<[ViewStyle](https://reactnative.dev/docs/view-style-props)\>

## Hooks

### `useLocationPermissions(options)`

Supported platforms: Android, iOS.

| Parameter           | Type                            |
| ------------------- | ------------------------------- |
| `options`(optional) | `PermissionHookOptions<object>` |

Check or request permissions to access the location. This uses both `requestPermissionsAsync` and `getPermissionsAsync` to interact with the permissions.

Returns: `[null | PermissionResponse, RequestPermissionMethod<permissionresponse>, GetPermissionMethod]</permissionresponse>`

Example

```ts
const [status, requestPermission] = useLocationPermissions();
```

## Methods

### `Maps.getPermissionsAsync()`

Supported platforms: Android, iOS.

Checks user's permissions for accessing location.

Returns: `Promise<permissionresponse>`

A promise that fulfills with an object of type [`PermissionResponse`](#permissionresponse).

### `Maps.requestPermissionsAsync()`

Supported platforms: Android, iOS.

Asks the user to grant permissions for location.

Returns: `Promise<permissionresponse>`

A promise that fulfills with an object of type [`PermissionResponse`](#permissionresponse).

## Types

### `AppleMapsAnnotation`

Supported platforms: iOS.

Type: [AppleMapsMarker](#applemapsmarker) extended by:

| Property                  | Type                                      | Description                                   |
| ------------------------- | ----------------------------------------- | --------------------------------------------- |
| backgroundColor(optional) | `string`                                  | The background color of the annotation.       |
| icon(optional)            | [SharedRefType](#sharedreftype)<'image'\> | The custom icon to display in the annotation. |
| text(optional)            | `string`                                  | The text to display in the annotation.        |
| textColor(optional)       | `string`                                  | The text color of the annotation.             |

### `AppleMapsCircle`

Supported platforms: iOS.

| Property            | Type                                                       | Description                                                                                                         |
| ------------------- | ---------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- | ----------------------------- |
| center              | [Coordinates](#coordinates)                                | The coordinates of the circle.                                                                                      |
| color(optional)     | [ProcessedColorValue](https://reactnative.dev/docs/colors) | string                                                                                                              | The color of the circle.      |
| id(optional)        | `string`                                                   | The unique identifier for the circle. This can be used to identify the clicked circle in the `onCircleClick` event. |
| lineColor(optional) | [ProcessedColorValue](https://reactnative.dev/docs/colors) | string                                                                                                              | The color of the circle line. |
| lineWidth(optional) | `number`                                                   | The width of the circle line.                                                                                       |
| radius              | `number`                                                   | The radius of the circle (in meters).                                                                               |
| width(optional)     | `number`                                                   | The width of the circle.                                                                                            |

### `AppleMapsMarker`

Supported platforms: iOS.

| Property              | Type                        | Description                                                                                                         |
| --------------------- | --------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| coordinates(optional) | [Coordinates](#coordinates) | The coordinates of the marker.                                                                                      |
| id(optional)          | `string`                    | The unique identifier for the marker. This can be used to identify the clicked marker in the `onMarkerClick` event. |
| systemImage(optional) | `string`                    | The SF Symbol to display for the marker.                                                                            |
| tintColor(optional)   | `string`                    | The tint color of the marker.                                                                                       |
| title(optional)       | `string`                    | The title of the marker, displayed in the callout when the marker is clicked.                                       |

### `AppleMapsPointOfInterestCategories`

Supported platforms: iOS.

| Property            | Type                                                                  | Description                                                                  |
| ------------------- | --------------------------------------------------------------------- | ---------------------------------------------------------------------------- |
| excluding(optional) | [AppleMapPointOfInterestCategory[]](#applemappointofinterestcategory) | The POI categories to exclude. To show all POIs, set this to an empty array. |
| including(optional) | [AppleMapPointOfInterestCategory[]](#applemappointofinterestcategory) | The POI categories to include. To hide all POIs, set this to an empty array. |

### `AppleMapsPolygon`

Supported platforms: iOS.

| Property            | Type                                                       | Description                                                                                                            |
| ------------------- | ---------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------- | ------------------------- |
| color(optional)     | [ProcessedColorValue](https://reactnative.dev/docs/colors) | string                                                                                                                 | The color of the polygon. |
| coordinates         | [Coordinates[]](#coordinates)                              | The coordinates of the circle.                                                                                         |
| id(optional)        | `string`                                                   | The unique identifier for the polygon. This can be used to identify the clicked polygon in the `onPolygonClick` event. |
| lineColor(optional) | [ProcessedColorValue](https://reactnative.dev/docs/colors) | string                                                                                                                 | The color of the polygon. |
| lineWidth(optional) | `number`                                                   | The width of the polygon.                                                                                              |

### `AppleMapsPolyline`

Supported platforms: iOS.

| Property               | Type                                                       | Description                                                                                                               |
| ---------------------- | ---------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- | -------------------------- |
| color(optional)        | [ProcessedColorValue](https://reactnative.dev/docs/colors) | string                                                                                                                    | The color of the polyline. |
| contourStyle(optional) | [AppleMapsContourStyle](#applemapscontourstyle)            | The style of the polyline.                                                                                                |
| coordinates            | [Coordinates[]](#coordinates)                              | The coordinates of the polyline.                                                                                          |
| id(optional)           | `string`                                                   | The unique identifier for the polyline. This can be used to identify the clicked polyline in the `onPolylineClick` event. |
| width(optional)        | `number`                                                   | The width of the polyline.                                                                                                |

### `AppleMapsProperties`

Supported platforms: iOS.

| Property                       | Type                                                                      | Description                                                                                                                                                                                                                                                        |
| ------------------------------ | ------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| elevation(optional)            | [AppleMapsMapStyleElevation](#applemapsmapstyleelevation)                 | Values you use to determine whether a map renders elevation.                                                                                                                                                                                                       |
| emphasis(optional)             | [AppleMapsMapStyleEmphasis](#applemapsmapstyleemphasis)                   | Values that control how the framework emphasizes map features.                                                                                                                                                                                                     |
| isMyLocationEnabled(optional)  | `boolean`                                                                 | Whether the user location is shown on the map. Default: `false`                                                                                                                                                                                                    |
| isTrafficEnabled(optional)     | `boolean`                                                                 | Whether the traffic layer is enabled on the map.                                                                                                                                                                                                                   |
| mapType(optional)              | [AppleMapsMapType](#applemapsmaptype)                                     | Defines which map type should be used.                                                                                                                                                                                                                             |
| pointsOfInterest(optional)     | [AppleMapsPointOfInterestCategories](#applemapspointofinterestcategories) | A structure you use to define points of interest to include or exclude on a map.                                                                                                                                                                                   |
| polylineTapThreshold(optional) | `number`                                                                  | The maximum distance in meters from a tap of a polyline for it to be considered a hit. If the distance is greater than the threshold, the polyline is not considered a hit. If a hit occurs, the `onPolylineClick` event will be triggered. Defaults to 20 meters. |
| selectionEnabled(optional)     | `boolean`                                                                 | If true, the user can select a location on the map to get more information.                                                                                                                                                                                        |

### `AppleMapsUISettings`

Supported platforms: iOS.

| Property                          | Type      | Description                                                                                                 |
| --------------------------------- | --------- | ----------------------------------------------------------------------------------------------------------- |
| compassEnabled(optional)          | `boolean` | Whether the compass is enabled on the map. If enabled, the compass is only visible when the map is rotated. |
| myLocationButtonEnabled(optional) | `boolean` | Whether the my location button is visible.                                                                  |
| scaleBarEnabled(optional)         | `boolean` | Whether the scale bar is displayed when zooming.                                                            |
| togglePitchEnabled(optional)      | `boolean` | Whether the user is allowed to change the pitch type.                                                       |

### `AppleMapsViewType`

Supported platforms: iOS.

| Property            | Type                                                                                                                                                     | Description                                                                                                                                                     |
| ------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| openLookAroundAsync | (coordinates: [Coordinates](#coordinates)) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<void\> | Opens the look around view at specified coordinates. coordinates: [Coordinates](#coordinates). The coordinates of the location to open the look around view at. |
| setCameraPosition   | (config: [CameraPosition](/versions/v54.0.0/sdk/maps#cameraposition-2)) => void                                                                          | Update camera position. Animation duration is not supported on iOS. config: [CameraPosition](/versions/v54.0.0/sdk/maps#cameraposition-2). New camera postion.  |

### `CameraPosition`

Supported platforms: Android, iOS.

| Property              | Type                        | Description                                                                                  |
| --------------------- | --------------------------- | -------------------------------------------------------------------------------------------- |
| coordinates(optional) | [Coordinates](#coordinates) | The middle point of the camera.                                                              |
| zoom(optional)        | `number`                    | The zoom level of the camera. For some view sizes, lower zoom levels might not be available. |

### `Coordinates`

Supported platforms: Android, iOS.

| Property            | Type     | Description                      |
| ------------------- | -------- | -------------------------------- |
| latitude(optional)  | `number` | The latitude of the coordinate.  |
| longitude(optional) | `number` | The longitude of the coordinate. |

### `GoogleMapsAnchor`

Supported platforms: Android.

| Property | Type     | Description                                                                      |
| -------- | -------- | -------------------------------------------------------------------------------- |
| x        | `number` | The normalized horizontal anchor point from 0.0 (left edge) to 1.0 (right edge). |
| y        | `number` | The normalized vertical anchor point from 0.0 (top edge) to 1.0 (bottom edge).   |

### `GoogleMapsCircle`

Supported platforms: Android.

| Property            | Type                                                       | Description                                                                                                         |
| ------------------- | ---------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- | ----------------------------- |
| center              | [Coordinates](#coordinates)                                | The coordinates of the circle.                                                                                      |
| color(optional)     | [ProcessedColorValue](https://reactnative.dev/docs/colors) | string                                                                                                              | The color of the circle.      |
| id(optional)        | `string`                                                   | The unique identifier for the circle. This can be used to identify the clicked circle in the `onCircleClick` event. |
| lineColor(optional) | [ProcessedColorValue](https://reactnative.dev/docs/colors) | string                                                                                                              | The color of the circle line. |
| lineWidth(optional) | `number`                                                   | The width of the circle line.                                                                                       |
| radius              | `number`                                                   | The radius of the circle.                                                                                           |

### `GoogleMapsContentPadding`

Supported platforms: Android.

| Property         | Type     | Description                                                                                                               |
| ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------- |
| bottom(optional) | `number` | The padding on the bottom side of the map.                                                                                |
| end(optional)    | `number` | In LTR contexts, `end` will be applied along the right edge. In RTL contexts, `end` will correspond to the left edge.     |
| start(optional)  | `number` | In LTR contexts, `start` will be applied along the left edge. In RTL contexts, `start` will correspond to the right edge. |
| top(optional)    | `number` | The padding on the top side of the map.                                                                                   |

### `GoogleMapsMapOptions`

Supported platforms: Android.

| Property        | Type     | Description                                                                                                                                                                                                                                  |
| --------------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| mapId(optional) | `string` | A map ID is a unique identifier that represents Google Map styling and configuration settings that are stored in Google Cloud.See: For more information, see https://developers.google.com/maps/documentation/android-sdk/map-ids/mapid-over |

### `GoogleMapsMapStyleOptions`

Supported platforms: Android.

| Property | Type     | Description                                                                                                        |
| -------- | -------- | ------------------------------------------------------------------------------------------------------------------ |
| json     | `string` | The JSON string of the map style options.See: For creating map style options, see https://mapstyle.withgoogle.com/ |

### `GoogleMapsMarker`

Supported platforms: Android.

| Property              | Type                                      | Description                                                                                                         |
| --------------------- | ----------------------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| anchor(optional)      | [GoogleMapsAnchor](#googlemapsanchor)     | The anchor used to position the anchor relative to its coordinates. Default: `bottom-center of the icon`            |
| coordinates(optional) | [Coordinates](#coordinates)               | The coordinates of the marker.                                                                                      |
| draggable(optional)   | `boolean`                                 | Whether the marker is draggable.                                                                                    |
| icon(optional)        | [SharedRefType](#sharedreftype)<'image'\> | The custom icon to display for the marker.                                                                          |
| id(optional)          | `string`                                  | The unique identifier for the marker. This can be used to identify the clicked marker in the `onMarkerClick` event. |
| showCallout(optional) | `boolean`                                 | Whether the callout should be shown when the marker is clicked.                                                     |
| snippet(optional)     | `string`                                  | The snippet of the marker, displayed in the callout when the marker is clicked.                                     |
| title(optional)       | `string`                                  | The title of the marker, displayed in the callout when the marker is clicked.                                       |
| zIndex(optional)      | `number`                                  | The z-index to use for the marker. Default: `0`                                                                     |

### `GoogleMapsPolygon`

Supported platforms: Android.

| Property            | Type                                                       | Description                                                                                                            |
| ------------------- | ---------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------- | ------------------------- |
| color(optional)     | [ProcessedColorValue](https://reactnative.dev/docs/colors) | string                                                                                                                 | The color of the polygon. |
| coordinates         | [Coordinates[]](#coordinates)                              | The coordinates of the circle.                                                                                         |
| id(optional)        | `string`                                                   | The unique identifier for the polygon. This can be used to identify the clicked polygon in the `onPolygonClick` event. |
| lineColor(optional) | [ProcessedColorValue](https://reactnative.dev/docs/colors) | string                                                                                                                 | The color of the polygon. |
| lineWidth(optional) | `number`                                                   | The width of the polygon.                                                                                              |

### `GoogleMapsPolyline`

Supported platforms: Android.

| Property           | Type                                                       | Description                                                                                                               |
| ------------------ | ---------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- | -------------------------- |
| color(optional)    | [ProcessedColorValue](https://reactnative.dev/docs/colors) | string                                                                                                                    | The color of the polyline. |
| coordinates        | [Coordinates[]](#coordinates)                              | The coordinates of the polyline.                                                                                          |
| geodesic(optional) | `boolean`                                                  | Whether the polyline is geodesic.                                                                                         |
| id(optional)       | `string`                                                   | The unique identifier for the polyline. This can be used to identify the clicked polyline in the `onPolylineClick` event. |
| width(optional)    | `number`                                                   | The width of the polyline.                                                                                                |

### `GoogleMapsProperties`

Supported platforms: Android.

| Property                      | Type                                                    | Description                                                                                                                                                                       |
| ----------------------------- | ------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| isBuildingEnabled(optional)   | `boolean`                                               | Whether the building layer is enabled on the map.                                                                                                                                 |
| isIndoorEnabled(optional)     | `boolean`                                               | Whether the indoor layer is enabled on the map.                                                                                                                                   |
| isMyLocationEnabled(optional) | `boolean`                                               | Whether finding the user's location is enabled on the map.                                                                                                                        |
| isTrafficEnabled(optional)    | `boolean`                                               | Whether the traffic layer is enabled on the map.                                                                                                                                  |
| mapStyleOptions(optional)     | [GoogleMapsMapStyleOptions](#googlemapsmapstyleoptions) | With style options you can customize the presentation of the standard Google map styles, changing the visual display of features like roads, parks, and other points of interest. |
| mapType(optional)             | [GoogleMapsMapType](#googlemapsmaptype)                 | Defines which map type should be used.                                                                                                                                            |
| maxZoomPreference(optional)   | `number`                                                | The maximum zoom level for the map.                                                                                                                                               |
| minZoomPreference(optional)   | `number`                                                | The minimum zoom level for the map.                                                                                                                                               |
| selectionEnabled(optional)    | `boolean`                                               | If true, the user can select a location on the map to get more information.                                                                                                       |

### `GoogleMapsUISettings`

Supported platforms: Android.

| Property                                          | Type      | Description                                                                                                 |
| ------------------------------------------------- | --------- | ----------------------------------------------------------------------------------------------------------- |
| compassEnabled(optional)                          | `boolean` | Whether the compass is enabled on the map. If enabled, the compass is only visible when the map is rotated. |
| indoorLevelPickerEnabled(optional)                | `boolean` | Whether the indoor level picker is enabled .                                                                |
| mapToolbarEnabled(optional)                       | `boolean` | Whether the map toolbar is visible.                                                                         |
| myLocationButtonEnabled(optional)                 | `boolean` | Whether the my location button is visible.                                                                  |
| rotationGesturesEnabled(optional)                 | `boolean` | Whether rotate gestures are enabled.                                                                        |
| scaleBarEnabled(optional)                         | `boolean` | Whether the scale bar is displayed when zooming.                                                            |
| scrollGesturesEnabled(optional)                   | `boolean` | Whether the scroll gestures are enabled.                                                                    |
| scrollGesturesEnabledDuringRotateOrZoom(optional) | `boolean` | Whether the scroll gestures are enabled during rotation or zoom.                                            |
| tiltGesturesEnabled(optional)                     | `boolean` | Whether the tilt gestures are enabled.                                                                      |
| togglePitchEnabled(optional)                      | `boolean` | Whether the user is allowed to change the pitch type.                                                       |
| zoomControlsEnabled(optional)                     | `boolean` | Whether the zoom controls are visible.                                                                      |
| zoomGesturesEnabled(optional)                     | `boolean` | Whether the zoom gestures are enabled.                                                                      |

### `GoogleMapsUserLocation`

Supported platforms: Android.

| Property           | Type                        | Description                                   |
| ------------------ | --------------------------- | --------------------------------------------- |
| coordinates        | [Coordinates](#coordinates) | User location coordinates.                    |
| followUserLocation | `boolean`                   | Should the camera follow the users' location. |

### `GoogleMapsViewType`

Supported platforms: Android.

| Property          | Type                                                                  | Description                                                                                                      |
| ----------------- | --------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------- |
| setCameraPosition | (config: [SetCameraPositionConfig](#setcamerapositionconfig)) => void | Update camera position. config: [SetCameraPositionConfig](#setcamerapositionconfig). New camera position config. |

### `SetCameraPositionConfig`

Supported platforms: Android.

Type: [CameraPosition](/versions/v54.0.0/sdk/maps#cameraposition-2) extended by:

| Property           | Type     | Description                                    |
| ------------------ | -------- | ---------------------------------------------- |
| duration(optional) | `number` | The duration of the animation in milliseconds. |

### `StreetViewCameraPosition`

Supported platforms: Android.

| Property          | Type                        | Description |
| ----------------- | --------------------------- | ----------- |
| bearing(optional) | `number`                    | -           |
| coordinates       | [Coordinates](#coordinates) | -           |
| tilt(optional)    | `number`                    | -           |
| zoom(optional)    | `number`                    | -           |

## Enums

### `AppleMapPointOfInterestCategory`

Supported platforms: iOS.

> **See:** [https://developer.apple.com/documentation/mapkit/AppleMapPointOfInterestCategory](https://developer.apple.com/documentation/mapkit/AppleMapPointOfInterestCategory)

#### `AIRPORT`

`AppleMapPointOfInterestCategory.AIRPORT = "AIRPORT"`

#### `AMUSEMENT_PARK`

`AppleMapPointOfInterestCategory.AMUSEMENT_PARK = "AMUSEMENT_PARK"`

#### `ANIMAL_SERVICE`

`AppleMapPointOfInterestCategory.ANIMAL_SERVICE = "ANIMAL_SERVICE"`

#### `AQUARIUM`

`AppleMapPointOfInterestCategory.AQUARIUM = "AQUARIUM"`

#### `ATM`

`AppleMapPointOfInterestCategory.ATM = "ATM"`

#### `AUTOMOTIVE_REPAIR`

`AppleMapPointOfInterestCategory.AUTOMOTIVE_REPAIR = "AUTOMOTIVE_REPAIR"`

#### `BAKERY`

`AppleMapPointOfInterestCategory.BAKERY = "BAKERY"`

#### `BANK`

`AppleMapPointOfInterestCategory.BANK = "BANK"`

#### `BASEBALL`

`AppleMapPointOfInterestCategory.BASEBALL = "BASEBALL"`

#### `BASKETBALL`

`AppleMapPointOfInterestCategory.BASKETBALL = "BASKETBALL"`

#### `BEACH`

`AppleMapPointOfInterestCategory.BEACH = "BEACH"`

#### `BEAUTY`

`AppleMapPointOfInterestCategory.BEAUTY = "BEAUTY"`

#### `BOWLING`

`AppleMapPointOfInterestCategory.BOWLING = "BOWLING"`

#### `BREWERY`

`AppleMapPointOfInterestCategory.BREWERY = "BREWERY"`

#### `CAFE`

`AppleMapPointOfInterestCategory.CAFE = "CAFE"`

#### `CAMPGROUND`

`AppleMapPointOfInterestCategory.CAMPGROUND = "CAMPGROUND"`

#### `CAR_RENTAL`

`AppleMapPointOfInterestCategory.CAR_RENTAL = "CAR_RENTAL"`

#### `CASTLE`

`AppleMapPointOfInterestCategory.CASTLE = "CASTLE"`

#### `CONVENTION_CENTER`

`AppleMapPointOfInterestCategory.CONVENTION_CENTER = "CONVENTION_CENTER"`

#### `DISTILLERY`

`AppleMapPointOfInterestCategory.DISTILLERY = "DISTILLERY"`

#### `EV_CHARGER`

`AppleMapPointOfInterestCategory.EV_CHARGER = "EV_CHARGER"`

#### `FAIRGROUND`

`AppleMapPointOfInterestCategory.FAIRGROUND = "FAIRGROUND"`

#### `FIRE_STATION`

`AppleMapPointOfInterestCategory.FIRE_STATION = "FIRE_STATION"`

#### `FISHING`

`AppleMapPointOfInterestCategory.FISHING = "FISHING"`

#### `FITNESS_CENTER`

`AppleMapPointOfInterestCategory.FITNESS_CENTER = "FITNESS_CENTER"`

#### `FOOD_MARKET`

`AppleMapPointOfInterestCategory.FOOD_MARKET = "FOOD_MARKET"`

#### `FORTRESS`

`AppleMapPointOfInterestCategory.FORTRESS = "FORTRESS"`

#### `GAS_STATION`

`AppleMapPointOfInterestCategory.GAS_STATION = "GAS_STATION"`

#### `GO_KART`

`AppleMapPointOfInterestCategory.GO_KART = "GO_KART"`

#### `GOLF`

`AppleMapPointOfInterestCategory.GOLF = "GOLF"`

#### `HIKING`

`AppleMapPointOfInterestCategory.HIKING = "HIKING"`

#### `HOSPITAL`

`AppleMapPointOfInterestCategory.HOSPITAL = "HOSPITAL"`

#### `HOTEL`

`AppleMapPointOfInterestCategory.HOTEL = "HOTEL"`

#### `KAYAKING`

`AppleMapPointOfInterestCategory.KAYAKING = "KAYAKING"`

#### `LANDMARK`

`AppleMapPointOfInterestCategory.LANDMARK = "LANDMARK"`

#### `LAUNDRY`

`AppleMapPointOfInterestCategory.LAUNDRY = "LAUNDRY"`

#### `LIBRARY`

`AppleMapPointOfInterestCategory.LIBRARY = "LIBRARY"`

#### `MAILBOX`

`AppleMapPointOfInterestCategory.MAILBOX = "MAILBOX"`

#### `MARINA`

`AppleMapPointOfInterestCategory.MARINA = "MARINA"`

#### `MINI_GOLF`

`AppleMapPointOfInterestCategory.MINI_GOLF = "MINI_GOLF"`

#### `MOVIE_THEATER`

`AppleMapPointOfInterestCategory.MOVIE_THEATER = "MOVIE_THEATER"`

#### `MUSEUM`

`AppleMapPointOfInterestCategory.MUSEUM = "MUSEUM"`

#### `MUSIC_VENUE`

`AppleMapPointOfInterestCategory.MUSIC_VENUE = "MUSIC_VENUE"`

#### `NATIONAL_MONUMENT`

`AppleMapPointOfInterestCategory.NATIONAL_MONUMENT = "NATIONAL_MONUMENT"`

#### `NATIONAL_PARK`

`AppleMapPointOfInterestCategory.NATIONAL_PARK = "NATIONAL_PARK"`

#### `NIGHTLIFE`

`AppleMapPointOfInterestCategory.NIGHTLIFE = "NIGHTLIFE"`

#### `PARK`

`AppleMapPointOfInterestCategory.PARK = "PARK"`

#### `PARKING`

`AppleMapPointOfInterestCategory.PARKING = "PARKING"`

#### `PHARMACY`

`AppleMapPointOfInterestCategory.PHARMACY = "PHARMACY"`

#### `PLANETARIUM`

`AppleMapPointOfInterestCategory.PLANETARIUM = "PLANETARIUM"`

#### `POLICE`

`AppleMapPointOfInterestCategory.POLICE = "POLICE"`

#### `POST_OFFICE`

`AppleMapPointOfInterestCategory.POST_OFFICE = "POST_OFFICE"`

#### `PUBLIC_TRANSPORT`

`AppleMapPointOfInterestCategory.PUBLIC_TRANSPORT = "PUBLIC_TRANSPORT"`

#### `RESTAURANT`

`AppleMapPointOfInterestCategory.RESTAURANT = "RESTAURANT"`

#### `RESTROOM`

`AppleMapPointOfInterestCategory.RESTROOM = "RESTROOM"`

#### `ROCK_CLIMBING`

`AppleMapPointOfInterestCategory.ROCK_CLIMBING = "ROCK_CLIMBING"`

#### `RV_PARK`

`AppleMapPointOfInterestCategory.RV_PARK = "RV_PARK"`

#### `SCHOOL`

`AppleMapPointOfInterestCategory.SCHOOL = "SCHOOL"`

#### `SKATE_PARK`

`AppleMapPointOfInterestCategory.SKATE_PARK = "SKATE_PARK"`

#### `SKATING`

`AppleMapPointOfInterestCategory.SKATING = "SKATING"`

#### `SKIING`

`AppleMapPointOfInterestCategory.SKIING = "SKIING"`

#### `SOCCER`

`AppleMapPointOfInterestCategory.SOCCER = "SOCCER"`

#### `SPA`

`AppleMapPointOfInterestCategory.SPA = "SPA"`

#### `STADIUM`

`AppleMapPointOfInterestCategory.STADIUM = "STADIUM"`

#### `STORE`

`AppleMapPointOfInterestCategory.STORE = "STORE"`

#### `SURFING`

`AppleMapPointOfInterestCategory.SURFING = "SURFING"`

#### `SWIMMING`

`AppleMapPointOfInterestCategory.SWIMMING = "SWIMMING"`

#### `TENNIS`

`AppleMapPointOfInterestCategory.TENNIS = "TENNIS"`

#### `THEATER`

`AppleMapPointOfInterestCategory.THEATER = "THEATER"`

#### `UNIVERSITY`

`AppleMapPointOfInterestCategory.UNIVERSITY = "UNIVERSITY"`

#### `VOLLEYBALL`

`AppleMapPointOfInterestCategory.VOLLEYBALL = "VOLLEYBALL"`

#### `WINERY`

`AppleMapPointOfInterestCategory.WINERY = "WINERY"`

#### `ZOO`

`AppleMapPointOfInterestCategory.ZOO = "ZOO"`

### `AppleMapsContourStyle`

Supported platforms: iOS.

The style of the polyline.

#### `GEODESIC`

`AppleMapsContourStyle.GEODESIC = "GEODESIC"`

A geodesic line.

#### `STRAIGHT`

`AppleMapsContourStyle.STRAIGHT = "STRAIGHT"`

A straight line.

### `AppleMapsMapStyleElevation`

Supported platforms: iOS.

#### `AUTOMATIC`

`AppleMapsMapStyleElevation.AUTOMATIC = "AUTOMATIC"`

The default elevation style, that renders a flat, 2D map.

#### `FLAT`

`AppleMapsMapStyleElevation.FLAT = "FLAT"`

A flat elevation style.

#### `REALISTIC`

`AppleMapsMapStyleElevation.REALISTIC = "REALISTIC"`

A value that renders a realistic, 3D map.

### `AppleMapsMapStyleEmphasis`

Supported platforms: iOS.

#### `AUTOMATIC`

`AppleMapsMapStyleEmphasis.AUTOMATIC = "AUTOMATIC"`

The default level of emphasis.

#### `MUTED`

`AppleMapsMapStyleEmphasis.MUTED = "MUTED"`

A muted emphasis style, that deemphasizes the mapâ€™s imagery.

### `AppleMapsMapType`

Supported platforms: iOS.

The type of map to display.

#### `HYBRID`

`AppleMapsMapType.HYBRID = "HYBRID"`

A satellite image of the area with road and road name layers on top.

#### `IMAGERY`

`AppleMapsMapType.IMAGERY = "IMAGERY"`

A satellite image of the area.

#### `STANDARD`

`AppleMapsMapType.STANDARD = "STANDARD"`

A street map that shows the position of all roads and some road names.

### `GoogleMapsColorScheme`

Supported platforms: Android.

#### `DARK`

`GoogleMapsColorScheme.DARK = "DARK"`

#### `FOLLOW_SYSTEM`

`GoogleMapsColorScheme.FOLLOW_SYSTEM = "FOLLOW_SYSTEM"`

#### `LIGHT`

`GoogleMapsColorScheme.LIGHT = "LIGHT"`

### `GoogleMapsMapType`

Supported platforms: Android.

The type of map to display.

#### `HYBRID`

`GoogleMapsMapType.HYBRID = "HYBRID"`

Satellite imagery with roads and points of interest overlayed.

#### `NORMAL`

`GoogleMapsMapType.NORMAL = "NORMAL"`

Standard road map.

#### `SATELLITE`

`GoogleMapsMapType.SATELLITE = "SATELLITE"`

Satellite imagery.

#### `TERRAIN`

`GoogleMapsMapType.TERRAIN = "TERRAIN"`

Topographic data.

## Permissions

### Android

To show the user's location on the map, the `expo-maps` library requires the following permissions:

- `ACCESS_COARSE_LOCATION`: for approximate device location
- `ACCESS_FINE_LOCATION`: for precise device location

| Android Permission            | Description                                                                           |
| ----------------------------- | ------------------------------------------------------------------------------------- |
| `ACCESS_COARSE_LOCATION`      | Allows an app to access approximate location.                                         |
| `ACCESS_FINE_LOCATION`        | Allows an app to access precise location.                                             |
| `FOREGROUND_SERVICE`          | Allows a regular application to use Service.startForeground.                          |
| `FOREGROUND_SERVICE_LOCATION` | Allows a regular application to use Service.startForeground with the type "location". |
| `ACCESS_BACKGROUND_LOCATION`  | Allows an app to access location in the background.                                   |

### iOS

The following usage description keys are used by this library:

| Info.plist Key                        | Description                                                                                                                                   |
| ------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| `NSLocationWhenInUseUsageDescription` | A message that tells the user why the app is requesting access to the userâ€™s location information while the app is running in the foreground. |

---

---

title: '@react-native-masked-view/masked-view'
description: A library that provides a masked view.
sourceCodeUrl: 'https://github.com/react-native-masked-view/masked-view'
packageName: '@react-native-masked-view/masked-view'
platforms: ['android', 'ios', 'tvos', 'expo-go']
inExpoGo: true

---

# @react-native-masked-view/masked-view

A library that provides a masked view.
Android, iOS, tvOS, Included in Expo Go

`@react-native-masked-view/masked-view` provides a masked view that only displays the pixels that overlap with the view rendered in its mask element.

> You can only have one of either `@react-native-community/masked-view` (deprecated) or `@react-native-masked-view/masked-view` installed in your project at any given time. React Navigation v6 and later requires `@react-native-masked-view/masked-view`, so you should use that package instead if you are using the latest version of React Navigation.

> Android support for this library is experimental and you may encounter inconsistencies in behavior across platforms. Report issues you encounter to [`react-native-masked-view` GitHub repository](https://github.com/react-native-masked-view/masked-view).

## Installation

```sh
npx expo install @react-native-masked-view/masked-view
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://github.com/react-native-masked-view/masked-view#getting-started) provided in the library's README or documentation.

## Learn more

[Visit official documentation](https://github.com/react-native-masked-view/masked-view) â€” Get full information on API and its usage.

---

---

title: MediaLibrary
description: A library that provides access to the device's media library.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-media-library'
packageName: 'expo-media-library'
iconUrl: '/static/images/packages/expo-media-library.png'
platforms: ['android', 'ios', 'tvos', 'expo-go']

---

# Expo MediaLibrary

A library that provides access to the device's media library.
Android, iOS, tvOS, Included in Expo Go

`expo-media-library` provides access to the user's media library, allowing them to access their existing images and videos from your app, as well as save new ones. You can also subscribe to any updates made to the user's media library.

> Android allows full access to the media library (which is the purpose of this package) only for applications needing broad access to photos. See [Details on Google Play's Photo and Video Permissions policy](https://support.google.com/googleplay/android-developer/answer/14115180).

## Installation

```sh
npx expo install expo-media-library
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-media-library` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-media-library",
        {
          "photosPermission": "Allow $(PRODUCT_NAME) to access your photos.",
          "savePhotosPermission": "Allow $(PRODUCT_NAME) to save photos.",
          "isAccessMediaLocationEnabled": true,
          "granularPermissions": ["audio", "photo"]
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                                 | Default                                          | Description                                                                                                                                                                                                                                                                    |
| ------------------------------------ | ------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `photosPermission`                   | `"Allow $(PRODUCT_NAME) to access your photos."` | Only for: iOS. Sets the iOS `NSPhotoLibraryUsageDescription` permission message in **Info.plist**.                                                                                                                                                                             |
| `savePhotosPermission`               | `"Allow $(PRODUCT_NAME) to save photos."`        | Only for: iOS. Sets the iOS `NSPhotoLibraryAddUsageDescription` permission message in **Info.plist**.                                                                                                                                                                          |
| `preventAutomaticLimitedAccessAlert` | `false`                                          | Only for: iOS. Prevents the automatic limited access alert from being shown when the user has limited access to the photo library. Useful for apps that want to access only the limited photo library without having iOS forcibly show the alert.                              |
| `isAccessMediaLocationEnabled`       | `false`                                          | Only for: Android. Sets whether or not to request the `ACCESS_MEDIA_LOCATION` permission on Android.                                                                                                                                                                           |
| `granularPermissions`                | `["photo", "video", "audio"]`                    | Only for: Android. Sets which [`GranularPermission`](#granularpermission) values to include, determining which media permissions (`READ_MEDIA_IMAGES`, `READ_MEDIA_VIDEO`, `READ_MEDIA_AUDIO`) will be added to the Android manifest. Matches the behavior of the runtime API. |

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) or you're using native **android** and **ios** projects manually, then you need to add following permissions and configuration to your native projects:

**Android**

- To access asset location (latitude and longitude EXIF tags), add `ACCESS_MEDIA_LOCATION` permission to your project's **android/app/src/main/AndroidManifest.xml**:

  ```xml
  <uses-permission android:name="android.permission.ACCESS_MEDIA_LOCATION" />
  ```

- [Scoped storage](https://developer.android.com/training/data-storage#scoped-storage) is available from Android 10. To make `expo-media-library` work with scoped storage, you need to add the following configuration to your **android/app/src/main/AndroidManifest.xml**:

  ```xml
  <manifest ... >
    <application android:requestLegacyExternalStorage="true" ...>
  </manifest>
  ```

**iOS**

- Add `NSPhotoLibraryUsageDescription`, and `NSPhotoLibraryAddUsageDescription` keys to your project's **ios/[app]/Info.plist**:

  ```xml
  <key>NSPhotoLibraryUsageDescription</key>
  <string>Give $(PRODUCT_NAME) permission to access your photos</string>
  <key>NSPhotoLibraryAddUsageDescription</key>
  <string>Give $(PRODUCT_NAME) permission to save photos</string>
  ```

## Usage

```jsx
import { useState, useEffect } from 'react';
import { Button, Text, ScrollView, StyleSheet, Image, View, Platform } from 'react-native';
import * as MediaLibrary from 'expo-media-library';

export default function App() {
  const [albums, setAlbums] = useState(null);
  const [permissionResponse, requestPermission] = MediaLibrary.usePermissions();

  async function getAlbums() {
    if (permissionResponse.status !== 'granted') {
      await requestPermission();
    }
    const fetchedAlbums = await MediaLibrary.getAlbumsAsync({
      includeSmartAlbums: true,
    });
    setAlbums(fetchedAlbums);
  }

  return (
    <View style={styles.container}>
      <Button onPress={getAlbums} title="Get albums" />
      <ScrollView>
        {albums && albums.map((album) => <AlbumEntry album={album} />)}
      </ScrollView>
    </View>
  );
}

function AlbumEntry({ album }) {
  const [assets, setAssets] = useState([]);

  useEffect(() => {
    async function getAlbumAssets() {
      const albumAssets = await MediaLibrary.getAssetsAsync({ album });
      setAssets(albumAssets.assets);
    }
    getAlbumAssets();
  }, [album]);

  return (
    <View key={album.id} style={styles.albumContainer}>
      <Text>
        {album.title} - {album.assetCount ?? 'no'} assets
      </Text>
      <View style={styles.albumAssetsContainer}>
        {assets && assets.map((asset) => (
          <Image source={{ uri: asset.uri }} width={50} height={50} />
        ))}
      </View>
    </View>
  );
}

const styles = StyleSheet.create({ ... });
```

## Known limitations

### Empty albums

Due to system limitations on Android, it is impossible to create empty albums. It is necessary to either pass an existing asset to add to the album or a URI of a local resource, which will be used to create a new asset inside the album.

### Moving assets between albums

Android 11 introduced permission changes that make the operation of moving assets between albums require confirmation from the user every time. Therefore, when creating a new asset, instead of creating the asset and then moving it to the album, it is recommended to pass the `album` parameter to the [`createAssetAsync`](/versions/latest/sdk/media-library#medialibrarycreateassetasynclocaluri-album) method, which will automatically add the asset to the album without the need for user confirmation.

### Wrong orientation of images

On Android, when using `getAssetsAsync` without `resolveWithFullInfo: true`, image orientation may be incorrect because EXIF data (which includes orientation) is only read when that option is enabled.

## API

```js
import * as MediaLibrary from "expo-media-library";
```

## Component

### `getAlbumsAsync`

Supported platforms: Android, iOS, tvOS.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[AlbumsOptions](#albumsoptions)\>

Queries for user-created albums in media gallery.

## Constants

### `MediaLibrary.MediaType`

Supported platforms: Android, iOS, tvOS.

Type: [MediaTypeObject](#mediatypeobject)

Possible media types.

### `MediaLibrary.SortBy`

Supported platforms: Android, iOS, tvOS.

Type: [SortByObject](#sortbyobject)

Supported keys that can be used to sort `getAssetsAsync` results.

## Hooks

### `usePermissions(options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                                                                                             |
| ------------------- | ---------------------------------------------------------------------------------------------------------------- |
| `options`(optional) | PermissionHookOptions<{ granularPermissions: [GranularPermission[]](#granularpermission), writeOnly: boolean }\> |

Check or request permissions to access the media library. This uses both `requestPermissionsAsync` and `getPermissionsAsync` to interact with the permissions.

Returns: `[null | PermissionResponse, RequestPermissionMethod<permissionresponse>, GetPermissionMethod]</permissionresponse>`

Example

```ts
const [permissionResponse, requestPermission] = MediaLibrary.usePermissions();
```

## Methods

### `MediaLibrary.addAssetsToAlbumAsync(assets, album, copy)`

Supported platforms: Android, iOS, tvOS.

| Parameter        | Type                  | Description                                                                                                         |
| ---------------- | --------------------- | ------------------------------------------------------------------------------------------------------------------- | ----------------------------------------- |
| `assets`         | [AssetRef](#assetref) | [AssetRef[]](#assetref)                                                                                             | An array of [Asset](#asset) or their IDs. |
| `album`          | [AlbumRef](#albumref) | An [Album](#album) or its ID.                                                                                       |
| `copy`(optional) | `boolean`             | **Android only.** Whether to copy assets to the new album instead of move them. Defaults to `true`. Default: `true` |

Adds array of assets to the album.

On Android, by default it copies assets from the current album to provided one, however it's also possible to move them by passing `false` as `copyAssets` argument. In case they're copied you should keep in mind that `getAssetsAsync` will return duplicated assets.

Returns: `Promise<boolean>`

Returns promise which fulfils with `true` if the assets were successfully added to the album.

### `MediaLibrary.albumNeedsMigrationAsync(album)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type                  | Description                   |
| --------- | --------------------- | ----------------------------- |
| `album`   | [AlbumRef](#albumref) | An [Album](#album) or its ID. |

Checks if the album should be migrated to a different location. In other words, it checks if the application has the write permission to the album folder. If not, it returns `true`, otherwise `false`.

> Note: For **Android below R**, **web** or **iOS**, this function always returns `false`.

Returns: `Promise<boolean>`

Returns a promise which fulfils with `true` if the album should be migrated.

### `MediaLibrary.createAlbumAsync(albumName, asset, copyAsset, initialAssetLocalUri)`

Supported platforms: Android, iOS, tvOS.

| Parameter                        | Type                  | Description                                                                                                                                                                                                                                                      |
| -------------------------------- | --------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `albumName`                      | `string`              | Name of the album to create.                                                                                                                                                                                                                                     |
| `asset`(optional)                | [AssetRef](#assetref) | An [Asset](#asset) or its ID. On Android you either need to provide an asset or a localUri.                                                                                                                                                                      |
| `copyAsset`(optional)            | `boolean`             | **Android Only.** Whether to copy asset to the new album instead of move it. This parameter is ignored if `asset` was not provided. Defaults to `true`. Default: `true`                                                                                          |
| `initialAssetLocalUri`(optional) | `string`              | A URI to the local media file, which will be used to create the initial asset inside the album. It must contain an extension. On Android it must be a local path, so it must start with `file:///`. If the `asset` was provided, this parameter will be ignored. |

Creates an album with given name and initial asset. The asset parameter is required on Android, since it's not possible to create empty album on this platform. On Android, by default it copies given asset from the current album to the new one, however it's also possible to move it by passing `false` as `copyAsset` argument. In case it's copied you should keep in mind that `getAssetsAsync` will return duplicated asset.

> On Android, it's not possible to create an empty album. You must provide an existing asset to copy or move into the album or an uri of a local file, which will be used to create an initial asset for the album.

Returns: `Promise<album>`

Newly created [`Album`](#album).

### `MediaLibrary.createAssetAsync(localUri, album)`

Supported platforms: Android, iOS, tvOS.

| Parameter         | Type                  | Description                                                                                                                                                                              |
| ----------------- | --------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `localUri`        | `string`              | A URI to the image or video file. It must contain an extension. On Android it must be a local path, so it must start with `file:///`                                                     |
| `album`(optional) | [AlbumRef](#albumref) | An [Album](#album) or its ID. If provided, the asset will be added to this album upon creation, otherwise it will be added to the default album for the media type. The album has exist. |

Creates an asset from existing file. The most common use case is to save a picture taken by [Camera](/versions/latest/sdk/camera). This method requires `CAMERA_ROLL` permission.

Returns: `Promise<asset>`

A promise which fulfils with an object representing an [`Asset`](#asset).

Example

```js
const { uri } = await Camera.takePictureAsync();
const asset = await MediaLibrary.createAssetAsync(uri);
```

### `MediaLibrary.deleteAlbumsAsync(albums, assetRemove)`

Supported platforms: Android, iOS, tvOS.

| Parameter               | Type                  | Description                                                                                                  |
| ----------------------- | --------------------- | ------------------------------------------------------------------------------------------------------------ | -------------------------------------------- |
| `albums`                | [AlbumRef](#albumref) | [AlbumRef[]](#albumref)                                                                                      | An array of [`Album`](#asset)s or their IDs. |
| `assetRemove`(optional) | `boolean`             | **iOS Only.** Whether to also delete assets belonging to given albums. Defaults to `false`. Default: `false` |

Deletes given albums from the library. On Android by default it deletes assets belonging to given albums from the library. On iOS it doesn't delete these assets, however it's possible to do by passing `true` as `deleteAssets`.

Returns: `Promise<boolean>`

Returns a promise which fulfils with `true` if the albums were successfully deleted from the library.

### `MediaLibrary.deleteAssetsAsync(assets)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type                  | Description             |
| --------- | --------------------- | ----------------------- | ----------------------------------------- |
| `assets`  | [AssetRef](#assetref) | [AssetRef[]](#assetref) | An array of [Asset](#asset) or their IDs. |

Deletes assets from the library. On iOS it deletes assets from all albums they belong to, while on Android it keeps all copies of them (album is strictly connected to the asset). Also, there is additional dialog on iOS that requires user to confirm this action.

Returns: `Promise<boolean>`

Returns promise which fulfils with `true` if the assets were successfully deleted.

### `MediaLibrary.getAlbumAsync(title)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type     | Description                    |
| --------- | -------- | ------------------------------ |
| `title`   | `string` | Name of the album to look for. |

Queries for an album with a specific name.

Returns: `Promise<album>`

An object representing an [`Album`](#album), if album with given name exists, otherwise returns `null`.

### `MediaLibrary.getAssetInfoAsync(asset, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                                                    | Description                   |
| ------------------- | ----------------------------------------------------------------------- | ----------------------------- |
| `asset`             | [AssetRef](#assetref)                                                   | An [Asset](#asset) or its ID. |
| `options`(optional) | [MediaLibraryAssetInfoQueryOptions](#medialibraryassetinfoqueryoptions) | -                             |

Provides more information about an asset, including GPS location, local URI and EXIF metadata.

Returns: `Promise<assetinfo>`

An [AssetInfo](#assetinfo) object, which is an `Asset` extended by an additional fields.

### `MediaLibrary.getAssetsAsync(assetsOptions)`

Supported platforms: Android, iOS, tvOS.

| Parameter                 | Type                            |
| ------------------------- | ------------------------------- |
| `assetsOptions`(optional) | [AssetsOptions](#assetsoptions) |

Fetches a page of assets matching the provided criteria.

Returns: `Promise<pagedinfo</pagedinfo`

A promise that fulfils with to [`PagedInfo`](#pagedinfo) object with array of [`Asset`](#asset)s.

### `MediaLibrary.getMomentsAsync()`

Supported platforms: iOS.

Fetches a list of moments, which is a group of assets taken around the same place and time.

Returns: `Promise<any>`

An array of [albums](#album) whose type is `moment`.

### `MediaLibrary.getPermissionsAsync(writeOnly, granularPermissions)`

Supported platforms: Android, iOS, tvOS.

| Parameter                       | Type                                        | Description                                                                                                                                                                                      |
| ------------------------------- | ------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `writeOnly`(optional)           | `boolean`                                   | Default: `false`                                                                                                                                                                                 |
| `granularPermissions`(optional) | [GranularPermission[]](#granularpermission) | A list of [`GranularPermission`](#granularpermission) values. This parameter has an effect only on Android 13 and newer. By default, `expo-media-library` will ask for all possible permissions. |

Checks user's permissions for accessing media library.

Returns: `Promise<permissionresponse>`

A promise that fulfils with [`PermissionResponse`](#permissionresponse) object.

### `MediaLibrary.isAvailableAsync()`

Supported platforms: Android, iOS, tvOS.

Returns whether the Media Library API is enabled on the current device.

Returns: `Promise<boolean>`

A promise which fulfils with a `boolean`, indicating whether the Media Library API is available on the current device.

### `MediaLibrary.migrateAlbumIfNeededAsync(album)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type                  | Description                   |
| --------- | --------------------- | ----------------------------- |
| `album`   | [AlbumRef](#albumref) | An [Album](#album) or its ID. |

Moves album content to the special media directories on **Android R** or **above** if needed. Those new locations are in line with the Android `scoped storage` - so your application won't lose write permission to those directories in the future.

This method does nothing if:

- app is running on **iOS**, **web** or **Android below R**
- app has **write permission** to the album folder

The migration is possible when the album contains only compatible files types. For instance, movies and pictures are compatible with each other, but music and pictures are not. If automatic migration isn't possible, the function rejects. In that case, you can use methods from the `expo-file-system` to migrate all your files manually.

#### Why do you need to migrate files?

**Android R** introduced a lot of changes in the storage system. Now applications can't save anything to the root directory. The only available locations are from the `MediaStore` API. Unfortunately, the media library stored albums in folders for which, because of those changes, the application doesn't have permissions anymore. However, it doesn't mean you need to migrate all your albums. If your application doesn't add assets to albums, you don't have to migrate. Everything will work as it used to. You can read more about scoped storage in [the Android documentation](https://developer.android.com/about/versions/11/privacy/storage).

Returns: `Promise<void>`

A promise which fulfils to `void`.

### `MediaLibrary.presentPermissionsPickerAsync(mediaTypes)`

Supported platforms: Android 14+, iOS.

| Parameter              | Type                                  | Description                                                                                                                              |
| ---------------------- | ------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| `mediaTypes`(optional) | [MediaTypeFilter[]](#mediatypefilter) | Limits the type(s) of media that the user will be granting access to. By default, a list that shows both photos and videos is presented. |

Allows the user to update the assets that your app has access to. The system modal is only displayed if the user originally allowed only `limited` access to their media library, otherwise this method is a no-op.

Returns: `Promise<void>`

A promise that either rejects if the method is unavailable, or resolves to `void`.

> **Note:** This method doesn't inform you if the user changes which assets your app has access to. That information is only exposed by iOS, and to obtain it, you need to subscribe for updates to the user's media library using [`addListener()`](#medialibraryaddlistenerlistener). If `hasIncrementalChanges` is `false`, the user changed their permissions.

### `MediaLibrary.removeAssetsFromAlbumAsync(assets, album)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type                  | Description                   |
| --------- | --------------------- | ----------------------------- | ----------------------------------------- |
| `assets`  | [AssetRef](#assetref) | [AssetRef[]](#assetref)       | An array of [Asset](#asset) or their IDs. |
| `album`   | [AlbumRef](#albumref) | An [Album](#album) or its ID. |

Removes given assets from album.

On Android, album will be automatically deleted if there are no more assets inside.

Returns: `Promise<boolean>`

Returns promise which fulfils with `true` if the assets were successfully removed from the album.

### `MediaLibrary.removeSubscription(subscription)`

Supported platforms: Android, iOS, tvOS.

| Parameter      | Type                |
| -------------- | ------------------- |
| `subscription` | `EventSubscription` |

Returns: `void`

### `MediaLibrary.requestPermissionsAsync(writeOnly, granularPermissions)`

Supported platforms: Android, iOS, tvOS.

| Parameter                       | Type                                        | Description                                                                                                                                                                                                                                                                                                                                          |
| ------------------------------- | ------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `writeOnly`(optional)           | `boolean`                                   | Default: `false`                                                                                                                                                                                                                                                                                                                                     |
| `granularPermissions`(optional) | [GranularPermission[]](#granularpermission) | A list of [`GranularPermission`](#granularpermission) values. This parameter has an effect only on Android 13 and newer. By default, `expo-media-library` will ask for all possible permissions. When using granular permissions with a custom config plugin configuration, make sure that all the requested permissions are included in the plugin. |

Asks the user to grant permissions for accessing media in user's media library.

Returns: `Promise<permissionresponse>`

A promise that fulfils with [`PermissionResponse`](#permissionresponse) object.

### `MediaLibrary.saveToLibraryAsync(localUri)`

Supported platforms: Android, iOS, tvOS.

| Parameter  | Type     | Description                                                                                                                           |
| ---------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| `localUri` | `string` | A URI to the image or video file. It must contain an extension. On Android it must be a local path, so it must start with `file:///`. |

Saves the file at given `localUri` to the user's media library. Unlike [`createAssetAsync()`](#medialibrarycreateassetasynclocaluri), This method doesn't return created asset. On **iOS 11+**, it's possible to use this method without asking for `CAMERA_ROLL` permission, however then yours `Info.plist` should have `NSPhotoLibraryAddUsageDescription` key.

Returns: `Promise<void>`

## Event Subscriptions

### `MediaLibrary.addListener(listener)`

Supported platforms: Android, iOS, tvOS.

| Parameter  | Type                                                                             | Description                                                                                                                                                                                                                                                                                                                                                                                                        |
| ---------- | -------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `listener` | (event: [MediaLibraryAssetsChangeEvent](#medialibraryassetschangeevent)) => void | A callback that is fired when any assets have been inserted or deleted from the library. On Android it's invoked with an empty object. On iOS, it's invoked with [`MediaLibraryAssetsChangeEvent`](#medialibraryassetschangeevent) object. Additionally, only on iOS, the listener is also invoked when the user changes access to individual assets in the media library using `presentPermissionsPickerAsync()`. |

Subscribes for updates in user's media library.

Returns: `EventSubscription`

An [`Subscription`](#subscription) object that you can call `remove()` on when you would like to unsubscribe the listener.

### `MediaLibrary.removeAllListeners()`

Supported platforms: Android, iOS, tvOS.

Removes all listeners.

Returns: `void`

## Interfaces

### `Subscription`

Supported platforms: Android, iOS, tvOS.

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Supported platforms: Android, iOS, tvOS.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

## Types

### `Album`

Supported platforms: Android, iOS, tvOS.

| Property                      | Type                    | Description                                                                                                                       |
| ----------------------------- | ----------------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| approximateLocation(optional) | [Location](#location)   | Supported platforms: iOS. Apply only to albums whose type is `'moment'`. Approximated location of all assets in the moment.       |
| assetCount                    | `number`                | Estimated number of assets in the album.                                                                                          |
| endTime                       | `number`                | Supported platforms: iOS. Apply only to albums whose type is `'moment'`. Latest creation timestamp of all assets in the moment.   |
| id                            | `string`                | Album ID.                                                                                                                         |
| locationNames(optional)       | `string[]`              | Supported platforms: iOS. Apply only to albums whose type is `'moment'`. Names of locations grouped in the moment.                |
| startTime                     | `number`                | Supported platforms: iOS. Apply only to albums whose type is `'moment'`. Earliest creation timestamp of all assets in the moment. |
| title                         | `string`                | Album title.                                                                                                                      |
| type(optional)                | [AlbumType](#albumtype) | Supported platforms: iOS. The type of the assets album.                                                                           |

### `AlbumRef`

Supported platforms: Android, iOS, tvOS.

Literal Type: `union`

Acceptable values are: [Album](#album) | `string`

### `AlbumsOptions`

Supported platforms: Android, iOS, tvOS.

| Property                     | Type      | Description |
| ---------------------------- | --------- | ----------- |
| includeSmartAlbums(optional) | `boolean` | -           |

### `AlbumType`

Supported platforms: Android, iOS, tvOS.

Literal Type: `string`

Acceptable values are: `'album'` | `'moment'` | `'smartAlbum'`

### `Asset`

Supported platforms: Android, iOS, tvOS.

| Property                | Type                              | Description                                                        |
| ----------------------- | --------------------------------- | ------------------------------------------------------------------ |
| albumId(optional)       | `string`                          | Supported platforms: Android. Album ID that the asset belongs to.  |
| creationTime            | `number`                          | File creation timestamp.                                           |
| duration                | `number`                          | Duration of the video or audio asset in seconds.                   |
| filename                | `string`                          | Filename of the asset.                                             |
| height                  | `number`                          | Height of the image or video.                                      |
| id                      | `string`                          | Internal ID that represents an asset.                              |
| mediaSubtypes(optional) | [MediaSubtype[]](#mediasubtype)   | Supported platforms: iOS. An array of media subtypes.              |
| mediaType               | [MediaTypeValue](#mediatypevalue) | Media type.                                                        |
| modificationTime        | `number`                          | Last modification timestamp.                                       |
| uri                     | `string`                          | URI that points to the asset. `ph://*` (iOS), `file://*` (Android) |
| width                   | `number`                          | Width of the image or video.                                       |

### `AssetInfo`

Supported platforms: Android, iOS, tvOS.

Type: [Asset](/versions/latest/sdk/asset#asset) extended by:

| Property                   | Type                                      | Description                                                                                                                                                                                                                                                                          |
| -------------------------- | ----------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| exif(optional)             | `object`                                  | EXIF metadata associated with the image.                                                                                                                                                                                                                                             |
| isFavorite(optional)       | `boolean`                                 | Supported platforms: iOS. Whether the asset is marked as favorite.                                                                                                                                                                                                                   |
| isNetworkAsset(optional)   | `boolean`                                 | Supported platforms: iOS. This field is available only if flag `shouldDownloadFromNetwork` is set to `false`. Whether the asset is stored on the network (iCloud on iOS).                                                                                                            |
| localUri(optional)         | `string`                                  | Local URI for the asset.                                                                                                                                                                                                                                                             |
| location(optional)         | [Location](#location)                     | GPS location if available.                                                                                                                                                                                                                                                           |
| orientation(optional)      | `number`                                  | Supported platforms: iOS. Display orientation of the image. Orientation is available only for assets whose `mediaType` is `MediaType.photo`. Value will range from 1 to 8, see [EXIF orientation specification](http://sylvana.net/jpegcrop/exif_orientation.html) for more details. |
| pairedVideoAsset(optional) | [Asset](/versions/latest/sdk/asset#asset) | null                                                                                                                                                                                                                                                                                 | Supported platforms: iOS. Contains information about the video paired with the image file. This field is available if the `mediaType` is `"photo"`, and the `mediaSubtypes` includes `"livePhoto"`. |

### `AssetRef`

Supported platforms: Android, iOS, tvOS.

Literal Type: `union`

Acceptable values are: [Asset](/versions/latest/sdk/asset#asset) | `string`

### `AssetsOptions`

Supported platforms: Android, iOS, tvOS.

| Property                      | Type                                                                                          | Description                                                                                                                                                                                                |
| ----------------------------- | --------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| after(optional)               | [AssetRef](#assetref)                                                                         | Asset ID of the last item returned on the previous page. To get the ID of the next page, pass [`endCursor`](#pagedinfo) as its value.                                                                      |
| album(optional)               | [AlbumRef](#albumref)                                                                         | [Album](#album) or its ID to get assets from specific album.                                                                                                                                               |
| createdAfter(optional)        | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | number                                                                                                                                                                                                     | `Date` object or Unix timestamp in milliseconds limiting returned assets only to those that were created after this date.                                                                                                                                                                                                                                                                                                                                                                                              |
| createdBefore(optional)       | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | number                                                                                                                                                                                                     | Similarly as `createdAfter`, but limits assets only to those that were created before specified date.                                                                                                                                                                                                                                                                                                                                                                                                                  |
| first(optional)               | `number`                                                                                      | The maximum number of items on a single page. Default: `20`                                                                                                                                                |
| mediaSubtypes(optional)       | [MediaSubtype[]](#mediasubtype)                                                               | [MediaSubtype](#mediasubtype)                                                                                                                                                                              | Supported platforms: iOS. An array of [MediaSubtype](#mediasubtype)s or a single `MediaSubtype`.                                                                                                                                                                                                                                                                                                                                                                                                                       |
| mediaType(optional)           | [MediaTypeValue[]](#mediatypevalue)                                                           | [MediaTypeValue](#mediatypevalue)                                                                                                                                                                          | An array of [MediaTypeValue](#mediatypevalue)s or a single `MediaTypeValue`. Default: `MediaType.photo`                                                                                                                                                                                                                                                                                                                                                                                                                |
| resolveWithFullInfo(optional) | `boolean`                                                                                     | Supported platforms: Android. Whether to resolve full info for the assets during the query. This is useful to get the full EXIF data for images. It can fix the orientation of the image. Default: `false` |
| sortBy(optional)              | [SortByValue[]](#sortbyvalue)                                                                 | [SortByValue](#sortbyvalue)                                                                                                                                                                                | An array of [`SortByValue`](#sortbyvalue)s or a single `SortByValue` value. By default, all keys are sorted in descending order, however you can also pass a pair `[key, ascending]` where the second item is a `boolean` value that means whether to use ascending order. Note that if the `SortBy.default` key is used, then `ascending` argument will not matter. Earlier items have higher priority when sorting out the results. If empty, this method uses the default sorting that is provided by the platform. |

### `EXPermissionResponse`

Supported platforms: Android, iOS, tvOS.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

### `GranularPermission`

Supported platforms: Android 13+.

Literal Type: `string`

Determines the type of media that the app will ask the OS to get access to.

Acceptable values are: `'audio'` | `'photo'` | `'video'`

### `Location`

Supported platforms: Android, iOS, tvOS.

| Property  | Type     | Description |
| --------- | -------- | ----------- |
| latitude  | `number` | -           |
| longitude | `number` | -           |

### `MediaLibraryAssetInfoQueryOptions`

Supported platforms: Android, iOS, tvOS.

| Property                            | Type      | Description                                                                                                      |
| ----------------------------------- | --------- | ---------------------------------------------------------------------------------------------------------------- |
| shouldDownloadFromNetwork(optional) | `boolean` | Whether allow the asset to be downloaded from network. Only available in iOS with iCloud assets. Default: `true` |

### `MediaLibraryAssetsChangeEvent`

Supported platforms: Android, iOS, tvOS.

| Property                 | Type                                        | Description                                                                                                                                                                                                                                                                                                                                                                      |
| ------------------------ | ------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| deletedAssets(optional)  | [Asset[]](/versions/latest/sdk/asset#asset) | Available only if `hasIncrementalChanges` is `true`. Array of [`Asset`](#asset)s that have been deleted from the library.                                                                                                                                                                                                                                                        |
| hasIncrementalChanges    | `boolean`                                   | Whether the media library's changes could be described as "incremental changes". `true` indicates the changes are described by the `insertedAssets`, `deletedAssets` and `updatedAssets` values. `false` indicates that the scope of changes is too large and you should perform a full assets reload (eg. a user has changed access to individual assets in the media library). |
| insertedAssets(optional) | [Asset[]](/versions/latest/sdk/asset#asset) | Available only if `hasIncrementalChanges` is `true`. Array of [`Asset`](#asset)s that have been inserted to the library.                                                                                                                                                                                                                                                         |
| updatedAssets(optional)  | [Asset[]](/versions/latest/sdk/asset#asset) | Available only if `hasIncrementalChanges` is `true`. Array of [`Asset`](#asset)s that have been updated or completed downloading from network storage (iCloud on iOS).                                                                                                                                                                                                           |

### `MediaSubtype`

Supported platforms: iOS.

Literal Type: `string`

Constants identifying specific variations of asset media, such as panorama or screenshot photos, and time-lapse or high-frame-rate video. Maps to [`PHAssetMediaSubtype`](https://developer.apple.com/documentation/photokit/phassetmediasubtype#1603888).

Acceptable values are: `'depthEffect'` | `'hdr'` | `'highFrameRate'` | `'livePhoto'` | `'panorama'` | `'screenshot'` | `'stream'` | `'timelapse'` | `'spatialMedia'` | `'videoCinematic'`

### `MediaTypeFilter`

Supported platforms: Android 14+.

Literal Type: `string`

Represents the possible types of media that the app will ask the OS to get access to when calling [`presentPermissionsPickerAsync()`](#medialibrarypresentpermissionspickerasyncmediatypes).

Acceptable values are: `'photo'` | `'video'`

### `MediaTypeObject`

Supported platforms: Android, iOS, tvOS.

| Property | Type        | Description |
| -------- | ----------- | ----------- |
| audio    | `'audio'`   | -           |
| photo    | `'photo'`   | -           |
| unknown  | `'unknown'` | -           |
| video    | `'video'`   | -           |

### `MediaTypeValue`

Supported platforms: Android, iOS, tvOS.

Literal Type: `string`

Acceptable values are: `'audio'` | `'photo'` | `'video'` | `'unknown'` | `'pairedVideo'`

### `PagedInfo`

Supported platforms: Android, iOS, tvOS.

| Property    | Type      | Description                                                                                        |
| ----------- | --------- | -------------------------------------------------------------------------------------------------- |
| assets      | `T[]`     | A page of [`Asset`](#asset)s fetched by the query.                                                 |
| endCursor   | `string`  | ID of the last fetched asset. It should be passed as `after` option in order to get the next page. |
| hasNextPage | `boolean` | Whether there are more assets to fetch.                                                            |
| totalCount  | `number`  | Estimated total number of assets that match the query.                                             |

### `PermissionExpiration`

Supported platforms: Android, iOS, tvOS.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionHookOptions`

Supported platforms: Android, iOS, tvOS.

Literal Type: `union`

Acceptable values are: `PermissionHookBehavior` | `Options`

### `PermissionResponse`

Supported platforms: Android, iOS, tvOS.

Type: [EXPermissionResponse](#expermissionresponse) extended by:

| Property                   | Type   | Description |
| -------------------------- | ------ | ----------- | ------- | ----------------------------------------------------------------------------------------------------- |
| accessPrivileges(optional) | `'all' | 'limited'   | 'none'` | Indicates if your app has access to the whole or only part of the photo library. Possible values are: |

- `'all'` if the user granted your app access to the whole photo library
- `'limited'` if the user granted your app access only to selected photos (only available on Android API 14+ and iOS 14.0+)
- `'none'` if user denied or hasn't yet granted the permission

|

### `SortByKey`

Supported platforms: Android, iOS, tvOS.

Literal Type: `string`

Acceptable values are: `'default'` | `'mediaType'` | `'width'` | `'height'` | `'creationTime'` | `'modificationTime'` | `'duration'`

### `SortByObject`

Supported platforms: Android, iOS, tvOS.

| Property         | Type                 | Description |
| ---------------- | -------------------- | ----------- |
| creationTime     | `'creationTime'`     | -           |
| default          | `'default'`          | -           |
| duration         | `'duration'`         | -           |
| height           | `'height'`           | -           |
| mediaType        | `'mediaType'`        | -           |
| modificationTime | `'modificationTime'` | -           |
| width            | `'width'`            | -           |

### `SortByValue`

Supported platforms: Android, iOS, tvOS.

Literal Type: `union`

Acceptable values are: \[[SortByKey](#sortbykey), boolean\] | [SortByKey](#sortbykey)

## Enums

### `PermissionStatus`

Supported platforms: Android, iOS, tvOS.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

## Permissions

### Android

The following permissions are added automatically through this library's **AndroidManifest.xml**:

| Android Permission                | Description                                                                                                                               |
| --------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| `READ_EXTERNAL_STORAGE`           | Allows an application to read from external storage.                                                                                      |
| `WRITE_EXTERNAL_STORAGE`          | Allows an application to write to external storage.                                                                                       |
| `READ_MEDIA_IMAGES`               | Allows an application to read image files from external storage.                                                                          |
| `READ_MEDIA_VIDEO`                | Allows an application to read video files from external storage.                                                                          |
| `READ_MEDIA_AUDIO`                | Allows an application to read audio files from external storage.                                                                          |
| `READ_MEDIA_VISUAL_USER_SELECTED` | Allows an application to read image or video files from external storage that a user has selected via the permission prompt photo picker. |

### iOS

The following usage description keys are used by this library:

| Info.plist Key                      | Description                                                                                          |
| ----------------------------------- | ---------------------------------------------------------------------------------------------------- |
| `NSPhotoLibraryUsageDescription`    | A message that tells the user why the app is requesting access to the userâ€™s photo library.          |
| `NSPhotoLibraryAddUsageDescription` | A message that tells the user why the app is requesting add-only access to the userâ€™s photo library. |

---

---

title: MeshGradient
description: A module that exposes MeshGradient view from SwiftUI to React Native.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-mesh-gradient'
packageName: 'expo-mesh-gradient'
iconUrl: '/static/images/packages/expo-mesh-gradient.png'
platforms: ['ios', 'tvos', 'expo-go']

---

# Expo MeshGradient

A module that exposes MeshGradient view from SwiftUI to React Native.
iOS, tvOS, Included in Expo Go

## Installation

```sh
npx expo install expo-mesh-gradient
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## API

```tsx
import { MeshGradientView } from "expo-mesh-gradient";

function App() {
  return (
    <MeshGradientView
      style={{ flex: 1 }}
      columns={3}
      rows={3}
      colors={[
        "red",
        "purple",
        "indigo",
        "orange",
        "white",
        "blue",
        "yellow",
        "green",
        "cyan",
      ]}
      points={[
        [0.0, 0.0],
        [0.5, 0.0],
        [1.0, 0.0],
        [0.0, 0.5],
        [0.5, 0.5],
        [1.0, 0.5],
        [0.0, 1.0],
        [0.5, 1.0],
        [1.0, 1.0],
      ]}
    />
  );
}
```

## Component

### `MeshGradientView`

Supported platforms: iOS, tvOS.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[MeshGradientViewProps](#meshgradientviewprops)\>

MeshGradientViewProps

### `colors`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue[]](https://reactnative.dev/docs/colors)â€ƒâ€¢â€ƒDefault: `[]`

An array of colors. Must contain `columns * rows` elements.

### `columns`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: `number`â€ƒâ€¢â€ƒDefault: `0`

Width of the mesh, i.e. the number of vertices per row.

### `ignoresSafeArea`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Whether to ignore safe areas when positioning the view.

### `mask`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Masks the gradient using the alpha channel of the given children views.

> **Note**: When this option is enabled, all user interactions (gestures) on children views are ignored.

### `points`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: `number[][]`â€ƒâ€¢â€ƒDefault: `[]`

An array of two-dimensional points on the mesh. Must contain `columns * rows` elements.

### `resolution`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: `{ x: number, y: number }`

Specifies how many points to sample on the path between points.

### `rows`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: `number`â€ƒâ€¢â€ƒDefault: `0`

Height of the mesh, i.e. the number of vertices per column.

### `smoothsColors`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Whether cubic (smooth) interpolation should be used for the colors in the mesh rather than only for the shape of the mesh.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

---

---

title: NavigationBar
description: A library that provides access to various interactions with the native navigation bar on Android.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-navigation-bar'
packageName: 'expo-navigation-bar'
platforms: ['android', 'expo-go']

---

# Expo NavigationBar

A library that provides access to various interactions with the native navigation bar on Android.
Android, Included in Expo Go

`expo-navigation-bar` enables you to modify and observe the native navigation bar on Android devices. Due to some Android platform restrictions, parts of this API overlap with the `expo-status-bar` API.

Properties are named after style properties; visibility, position, backgroundColor, borderColor, and so on.

The APIs in this package have no impact when "Gesture Navigation" is enabled on the Android device. There is currently no native Android API to detect if "Gesture Navigation" is enabled or not.

## Installation

```sh
npx expo install expo-navigation-bar
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-navigation-bar` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-navigation-bar",
        {
          "backgroundColor": "#0f172a",
          "barStyle": "light",
          "borderColor": "#1f2937",
          "visibility": "visible",
          "behavior": "inset-swipe",
          "position": "relative"
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name              | Default     | Description                                                                                                                                                                                |
| ----------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `backgroundColor` | `undefined` | Sets the navigation bar background color. Accepts color string supported by React Native. For example, `"#0f172a"`.                                                                        |
| `barStyle`        | `undefined` | Controls whether Android renders light or dark navigation bar buttons. Accepts `light` and `dark` as values.                                                                               |
| `borderColor`     | `undefined` | Sets the divider color above the navigation bar.                                                                                                                                           |
| `visibility`      | `undefined` | Determines whether the navigation bar starts visible or hidden. Accepts `visible` to show the bar immediately and `hidden` to hide it until the user reveals it with a system gesture.     |
| `behavior`        | `undefined` | Controls how hidden system bars behave when revealed. Accepts `overlay-swipe`, `inset-swipe`, or `inset-touch` as values.                                                                  |
| `position`        | `undefined` | Sets whether your layout is inset for the navigation bar. Accepts `relative` to keep the navigation bar outside the content and `absolute` to draw the content edge-to-edge under the bar. |
| `legacyVisible`   | `undefined` | Legacy equivalent of `androidNavigationBar.visible`. Accepts `leanback`, `immersive`, or `sticky-immersive` as values.                                                                     |

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) or you're using a native **android** project manually, then you need to add the following configuration to your native project:

- To apply `backgroundColor` to the navigation bar, add `navigationBarColor` to **android/app/src/main/res/values/colors.xml**:

  ```xml
  <resources>
    <!-- ... -->
    <color name="navigationBarColor">#0f172a</color>
  </resources>
  ```

  Then, apply `android:navigationBarColor` to **android/app/src/main/res/values/styles.xml**:

  ```xml
  <style name="AppTheme" parent="Theme.AppCompat.DayNight.NoActionBar">
    <!-- ... -->
    <item name="android:navigationBarColor">@color/navigationBarColor</item>
  </style>
  ```

- To apply `borderColor`, `visibility`, `position`, and `behavior` to the navigation bar, add `expo_navigation_bar_border_color`, `expo_navigation_bar_visibility`, `expo_navigation_bar_position`, and `expo_navigation_bar_behavior` to **android/app/src/main/res/values/strings.xml**:

  ```xml
  <resources>
    <!-- ... -->
    <!-- For `expo_navigation_bar_border_color`, convert the color string to a 32-bit integer. -->
    <string name="expo_navigation_bar_border_color"
    translatable="false">-14735049</string>
    <string name="expo_navigation_bar_visibility" translatable="false">visible</string>
    <string name="expo_navigation_bar_position" translatable="false">relative</string>
    <string name="expo_navigation_bar_behavior" translatable="false">inset-swipe</string>
  </resources>
  ```

- To apply `legacyVisible` to the navigation bar, add `expo_navigation_bar_legacy_visible` to **android/app/src/main/res/values/strings.xml**:

  ```xml
  <resources>
    <!-- ... -->
    <string name="expo_navigation_bar_legacy_visible" translatable="false">immersive</string>
  </resources>
  ```

## API

```js
import * as NavigationBar from "expo-navigation-bar";
```

## Hooks

### `useVisibility()`

Supported platforms: Android.

React hook that statefully updates with the visibility of the system navigation bar.

Returns: `NavigationBarVisibility | null`

Visibility of the navigation bar, `null` during async initialization.

Example

```ts
function App() {
  const visibility = NavigationBar.useVisibility();
  // React Component...
}
```

## Methods

### `NavigationBar.getBackgroundColorAsync()`

Supported platforms: Android.

Gets the navigation bar's background color.

> This method is supported only when edge-to-edge is disabled.

Returns: `Promise<string>`

Current navigation bar color in hex format. Returns `#00000000` (transparent) on unsupported platforms (iOS, web).

Example

```ts
const color = await NavigationBar.getBackgroundColorAsync();
```

### `NavigationBar.getBehaviorAsync()`

Supported platforms: Android.

Gets the behavior of the status and navigation bars when the user swipes or touches the screen.

> This method is supported only when edge-to-edge is disabled.

Returns: `Promise<navigationbarbehavior>`

Navigation bar interaction behavior. Returns `inset-touch` on unsupported platforms (iOS, web).

Example

```ts
await NavigationBar.getBehaviorAsync();
```

### `NavigationBar.getBorderColorAsync()`

Supported platforms: Android.

Gets the navigation bar's top border color, also known as the "divider color".

> This method is supported only when edge-to-edge is disabled.

Returns: `Promise<string>`

Navigation bar top border color in hex format. Returns `#00000000` (transparent) on unsupported platforms (iOS, web).

Example

```ts
const color = await NavigationBar.getBorderColorAsync();
```

### `NavigationBar.getButtonStyleAsync()`

Supported platforms: Android.

Gets the navigation bar's button color styles.

> This method is supported only when edge-to-edge is disabled.

Returns: `Promise<navigationbarbuttonstyle>`

Navigation bar foreground element color settings. Returns `light` on unsupported platforms (iOS, web).

Example

```ts
const style = await NavigationBar.getButtonStyleAsync();
```

### `NavigationBar.getVisibilityAsync()`

Supported platforms: Android.

Get the navigation bar's visibility.

Returns: `Promise<navigationbarvisibility>`

Navigation bar's current visibility status. Returns `hidden` on unsupported platforms (iOS, web).

Example

```ts
const visibility = await NavigationBar.getVisibilityAsync("hidden");
```

### `NavigationBar.setBackgroundColorAsync(color)`

Supported platforms: Android.

| Parameter | Type     | Description                                                                |
| --------- | -------- | -------------------------------------------------------------------------- |
| `color`   | `string` | Any valid [CSS 3 (SVG) color](http://www.w3.org/TR/css3-color/#svg-color). |

Changes the navigation bar's background color.

> This method is supported only when edge-to-edge is disabled.

Returns: `Promise<void>`

Example

```ts
NavigationBar.setBackgroundColorAsync("white");
```

### `NavigationBar.setBehaviorAsync(behavior)`

Supported platforms: Android.

| Parameter  | Type                                            | Description                                              |
| ---------- | ----------------------------------------------- | -------------------------------------------------------- |
| `behavior` | [NavigationBarBehavior](#navigationbarbehavior) | Dictates the interaction behavior of the navigation bar. |

Sets the behavior of the status bar and navigation bar when they are hidden and the user wants to reveal them.

For example, if the navigation bar is hidden (`setVisibilityAsync(false)`) and the behavior is `'overlay-swipe'`, the user can swipe from the bottom of the screen to temporarily reveal the navigation bar.

- `'overlay-swipe'`: Temporarily reveals the System UI after a swipe gesture (bottom or top) without insetting your App's content.
- `'inset-swipe'`: Reveals the System UI after a swipe gesture (bottom or top) and insets your App's content (Safe Area). The System UI is visible until you explicitly hide it again.
- `'inset-touch'`: Reveals the System UI after a touch anywhere on the screen and insets your App's content (Safe Area). The System UI is visible until you explicitly hide it again.

> This method is supported only when edge-to-edge is disabled.

Returns: `Promise<void>`

Example

```ts
await NavigationBar.setBehaviorAsync("overlay-swipe");
```

### `NavigationBar.setBorderColorAsync(color)`

Supported platforms: Android.

| Parameter | Type     | Description                                                                |
| --------- | -------- | -------------------------------------------------------------------------- |
| `color`   | `string` | Any valid [CSS 3 (SVG) color](http://www.w3.org/TR/css3-color/#svg-color). |

Changes the navigation bar's border color.

> This method is supported only when edge-to-edge is disabled.

Returns: `Promise<void>`

Example

```ts
NavigationBar.setBorderColorAsync("red");
```

### `NavigationBar.setButtonStyleAsync(style)`

Supported platforms: Android.

| Parameter | Type                                                  | Description                                         |
| --------- | ----------------------------------------------------- | --------------------------------------------------- |
| `style`   | [NavigationBarButtonStyle](#navigationbarbuttonstyle) | Dictates the color of the foreground element color. |

Changes the navigation bar's button colors between white (`light`) and a dark gray color (`dark`).

Returns: `Promise<void>`

Example

```ts
NavigationBar.setButtonStyleAsync("light");
```

### `NavigationBar.setPositionAsync(position)`

Supported platforms: Android.

| Parameter  | Type                                            | Description                     |
| ---------- | ----------------------------------------------- | ------------------------------- |
| `position` | [NavigationBarPosition](#navigationbarposition) | Based on CSS position property. |

Sets positioning method used for the navigation bar (and status bar). Setting position `absolute` will float the navigation bar above the content, whereas position `relative` will shrink the screen to inline the navigation bar.

When drawing behind the status and navigation bars, ensure the safe area insets are adjusted accordingly.

> This method is supported only when edge-to-edge is disabled.

Returns: `Promise<void>`

Example

```ts
// enables edge-to-edge mode
await NavigationBar.setPositionAsync("absolute");
// transparent backgrounds to see through
await NavigationBar.setBackgroundColorAsync("#ffffff00");
```

### `NavigationBar.setStyle(style)`

Supported platforms: Android.

| Parameter | Type                                      |
| --------- | ----------------------------------------- |
| `style`   | [NavigationBarStyle](#navigationbarstyle) |

Sets the style of the navigation bar.

> This will have an effect when the following conditions are met:
>
> - Edge-to-edge is enabled
> - The `enforceNavigationBarContrast` option of the `react-native-edge-to-edge` plugin is set to `false`.
> - The device is using the three-button navigation bar.

> Due to a bug in the Android 15 emulator this function may have no effect. Try a physical device or an emulator with a different version of Android.

Returns: `void`

### `NavigationBar.setVisibilityAsync(visibility)`

Supported platforms: Android.

| Parameter    | Type                                                | Description                       |
| ------------ | --------------------------------------------------- | --------------------------------- |
| `visibility` | [NavigationBarVisibility](#navigationbarvisibility) | Based on CSS visibility property. |

Set the navigation bar's visibility.

Returns: `Promise<void>`

Example

```ts
NavigationBar.setVisibilityAsync("hidden");
```

### `NavigationBar.unstable_getPositionAsync()`

Supported platforms: Android.

Whether the navigation and status bars float above the app (absolute) or sit inline with it (relative). This value can be incorrect if `androidNavigationBar.visible` is used instead of the config plugin `position` property.

This method is unstable because the position can be set via another native module and get out of sync. Alternatively, you can get the position by measuring the insets returned by `react-native-safe-area-context`.

> This method is supported only when edge-to-edge is disabled.

Returns: `Promise<navigationbarposition>`

Navigation bar positional rendering mode. Returns `relative` on unsupported platforms (iOS, web).

Example

```ts
await NavigationBar.unstable_getPositionAsync();
```

## Event Subscriptions

### `NavigationBar.addVisibilityListener(listener)`

Supported platforms: Android.

| Parameter  | Type                                                                           |
| ---------- | ------------------------------------------------------------------------------ |
| `listener` | (event: [NavigationBarVisibilityEvent](#navigationbarvisibilityevent)) => void |

Observe changes to the system navigation bar. Due to platform constraints, this callback will also be triggered when the status bar visibility changes.

Returns: `EventSubscription`

Example

```ts
NavigationBar.addVisibilityListener(({ visibility }) => {
  // ...
});
```

## Types

### `NavigationBarBehavior`

Supported platforms: Android.

Literal Type: `string`

Interaction behavior for the system navigation bar.

Acceptable values are: `'overlay-swipe'` | `'inset-swipe'` | `'inset-touch'`

### `NavigationBarButtonStyle`

Supported platforms: Android.

Literal Type: `string`

Appearance of the foreground elements in the navigation bar, i.e. the color of the menu, back, home button icons.

- `dark` makes buttons **darker** to adjust for a mostly light nav bar.
- `light` makes buttons **lighter** to adjust for a mostly dark nav bar.

Acceptable values are: `'light'` | `'dark'`

### `NavigationBarPosition`

Supported platforms: Android.

Literal Type: `string`

Navigation bar positional mode.

Acceptable values are: `'relative'` | `'absolute'`

### `NavigationBarStyle`

Supported platforms: Android.

Literal Type: `string`

Navigation bar style.

- `auto` will automatically adjust based on the current theme.
- `light` a light navigation bar with dark content.
- `dark` a dark navigation bar with light content.
- `inverted` the bar colors are inverted in relation to the current theme.

Acceptable values are: `'auto'` | `'inverted'` | `'light'` | `'dark'`

### `NavigationBarVisibility`

Supported platforms: Android.

Literal Type: `string`

Visibility of the navigation bar.

Acceptable values are: `'visible'` | `'hidden'`

### `NavigationBarVisibilityEvent`

Supported platforms: Android.

Current system UI visibility state. Due to platform constraints, this will return when the status bar visibility changes as well as the navigation bar.

| Property      | Type                                                | Description                                                                                                              |
| ------------- | --------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------ |
| rawVisibility | `number`                                            | Native Android system UI visibility state, returned from the native Android `setOnSystemUiVisibilityChangeListener` API. |
| visibility    | [NavigationBarVisibility](#navigationbarvisibility) | Current navigation bar visibility.                                                                                       |

---

---

title: '@react-native-community/netinfo'
description: A cross-platform API that provides access to network information.
sourceCodeUrl: 'https://github.com/react-native-community/react-native-netinfo'
packageName: '@react-native-community/netinfo'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']
inExpoGo: true

---

# @react-native-community/netinfo

A cross-platform API that provides access to network information.
Android, iOS, tvOS, Web, Included in Expo Go

`@react-native-community/netinfo` allows you to get information about connection type and connection quality.

## Installation

```sh
npx expo install @react-native-community/netinfo
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://github.com/react-native-community/react-native-netinfo#getting-started) provided in the library's README or documentation.

## API

To import this library, use:

```js
import NetInfo from "@react-native-community/netinfo";
```

If you want to grab information about the network connection just once, you can use:

```js
NetInfo.fetch().then(state => {
  console.log("Connection type", state.type);
  console.log("Is connected?", state.isConnected);
});
```

Or, if you'd rather subscribe to updates about the network state (which then allows you to run code/perform actions anytime the network state changes) use:

```js
const unsubscribe = NetInfo.addEventListener(state => {
  console.log("Connection type", state.type);
  console.log("Is connected?", state.isConnected);
});

// To unsubscribe to these update, just use:
unsubscribe();
```

## Accessing the SSID

To access the `ssid` property (available under `state.details.ssid`), there are a few additional configuration steps:

- Request location permissions with [`Location.requestForegroundPermissionsAsync()`](/versions/latest/sdk/location#locationrequestforegroundpermissionsasync) or [`Location.requestBackgroundPermissionsAsync()`](/versions/latest/sdk/location#locationrequestbackgroundpermissionsasync).

### iOS only

- Add the `com.apple.developer.networking.wifi-info` entitlement to your **app.json** under `ios.entitlements`:

  ```json
  "ios": {
      "entitlements": {
        "com.apple.developer.networking.wifi-info": true
      }
    }
  ```

- Check the **Access Wi-Fi Information** box in your app's App Identifier, [which can be found here](https://developer.apple.com/account/resources/identifiers/list).
- Rebuild your app with [`eas build --platform ios`](/build/setup#4-run-a-build) or [`npx expo run:ios`](/more/expo-cli#compiling).

## Learn more

[Visit official documentation](https://github.com/react-native-netinfo/react-native-netinfo) â€” Get full information on API and its usage.

---

---

title: Network
description: A library that provides access to the device's network such as its IP address, MAC address, and airplane mode status.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-network'
packageName: 'expo-network'
iconUrl: '/static/images/packages/expo-network.png'
platforms: ['android', 'ios', 'web', 'tvos', 'expo-go']

---

# Expo Network

A library that provides access to the device's network such as its IP address, MAC address, and airplane mode status.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-network` provides useful information about the device's network such as its IP address, MAC address, and airplane mode status.

## Installation

```sh
npx expo install expo-network
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration

On Android, this module requires permissions to access the network and Wi-Fi state. The permissions `ACCESS_NETWORK_STATE` and `ACCESS_WIFI_STATE` are added automatically.

## API

```js
import * as Network from "expo-network";
```

## Hooks

### `useNetworkState()`

Supported platforms: Android, iOS, tvOS, Web.

Returns the current network state of the device. This method initiates a listener for network state changes and cleans up before unmounting.

Returns: `NetworkState`

The current network state of the device, including connectivity and type.

Example

```ts
const networkState = useNetworkState();
console.log(`Current network type: ${networkState.type}`);
```

## Methods

### `Network.getIpAddressAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Gets the device's current IPv4 address. Returns `0.0.0.0` if the IP address could not be retrieved.

On web, this method uses the third-party [`ipify service`](https://www.ipify.org/) to get the public IP address of the current device.

Returns: `Promise<string>`

A `Promise` that fulfils with a `string` of the current IP address of the device's main network interface. Can only be IPv4 address.

Example

```ts
await Network.getIpAddressAsync();
// "92.168.32.44"
```

### `Network.getNetworkStateAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Gets the device's current network connection state.

On web, `navigator.connection.type` is not available on browsers. So if there is an active network connection, the field `type` returns `NetworkStateType.UNKNOWN`. Otherwise, it returns `NetworkStateType.NONE`.

Returns: `Promise<networkstate>`

A `Promise` that fulfils with a `NetworkState` object.

Example

```ts
await Network.getNetworkStateAsync();
// {
//   type: NetworkStateType.CELLULAR,
//   isConnected: true,
//   isInternetReachable: true,
// }
```

### `Network.isAirplaneModeEnabledAsync()`

Supported platforms: Android.

Tells if the device is in airplane mode.

Returns: `Promise<boolean>`

Returns a `Promise` that fulfils with a `boolean` value for whether the device is in airplane mode or not.

Example

```ts
await Network.isAirplaneModeEnabledAsync();
// false
```

## Event Subscriptions

### `Network.addNetworkStateListener(listener)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter  | Type                                           | Description                                                                                                                                                           |
| ---------- | ---------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `listener` | (event: [NetworkState](#networkstate)) => void | Callback to execute when the network state changes. The callback is provided with a single argument that is an object containing information about the network state. |

Adds a listener that will fire whenever the network state changes.

Returns: `EventSubscription`

A subscription object with a remove function to unregister the listener.

Example

```ts
const subscription = addNetworkStateListener(
  ({ type, isConnected, isInternetReachable }) => {
    console.log(
      `Network type: ${type}, Connected: ${isConnected}, Internet Reachable: ${isInternetReachable}`,
    );
  },
);
```

## Types

### `NetworkState`

Supported platforms: Android, iOS, tvOS, Web.

| Property                      | Type                                  | Description                                                                                                                                                                                                                                                                 |
| ----------------------------- | ------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| isConnected(optional)         | `boolean`                             | If there is an active network connection. Note that this does not mean that internet is reachable. This field is `false` if the type is either `Network.NetworkStateType.NONE` or `Network.NetworkStateType.UNKNOWN`, `true` otherwise.                                     |
| isInternetReachable(optional) | `boolean`                             | If the internet is reachable with the currently active network connection. On Android, this depends on `NetInfo.isConnected()` (API level < 29) or `ConnectivityManager.getActiveNetwork()` (API level >= 29). On iOS, this value will always be the same as `isConnected`. |
| type(optional)                | [NetworkStateType](#networkstatetype) | A [`NetworkStateType`](#networkstatetype) enum value that represents the current network connection type.                                                                                                                                                                   |

### `NetworkStateEvent`

Supported platforms: Android, iOS, tvOS, Web.

Type: [NetworkState](#networkstate)

Represents an event that provides the updated network state when there is a change in the network status. This is passed as the argument to listeners registered with [`addNetworkStateListener()`](#networkaddnetworkstatelistenerlistener).

## Enums

### `NetworkStateType`

Supported platforms: Android, iOS, tvOS, Web.

An enum of the different types of devices supported by Expo.

#### `BLUETOOTH`

Supported platforms: Android.

`NetworkStateType.BLUETOOTH = "BLUETOOTH"`

Active network connection over Bluetooth.

#### `CELLULAR`

Supported platforms: Android, iOS.

`NetworkStateType.CELLULAR = "CELLULAR"`

Active network connection over mobile data or [`DUN-specific`](https://developer.android.com/reference/android/net/ConnectivityManager#TYPE_MOBILE_DUN) mobile connection when setting an upstream connection for tethering.

#### `ETHERNET`

Supported platforms: Android, iOS.

`NetworkStateType.ETHERNET = "ETHERNET"`

Active network connection over Ethernet.

#### `NONE`

`NetworkStateType.NONE = "NONE"`

No active network connection detected.

#### `OTHER`

Supported platforms: Android.

`NetworkStateType.OTHER = "OTHER"`

Active network connection over other network connection types.

#### `UNKNOWN`

`NetworkStateType.UNKNOWN = "UNKNOWN"`

The connection type could not be determined.

#### `VPN`

Supported platforms: Android.

`NetworkStateType.VPN = "VPN"`

Active network connection over VPN.

#### `WIFI`

Supported platforms: Android, iOS.

`NetworkStateType.WIFI = "WIFI"`

Active network connection over Wi-Fi.

#### `WIMAX`

Supported platforms: Android.

`NetworkStateType.WIMAX = "WIMAX"`

Active network connection over WiMAX.

## Error codes

| Code                                    | Description                                                                                                                                                                                |
| --------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| ERR_NETWORK_IP_ADDRESS                  | On Android, there may be an unknown Wi-Fi host when trying to access `WifiManager` in `getIpAddressAsync`. On iOS, no network interfaces could be retrieved.                               |
| ERR_NETWORK_UNDEFINED_INTERFACE         | An undefined `interfaceName` was passed as an argument in `getMacAddressAsync`.                                                                                                            |
| ERR_NETWORK_SOCKET_EXCEPTION            | An error was encountered in creating or accessing the socket in `getMacAddressAsync`.                                                                                                      |
| ERR_NETWORK_INVALID_PERMISSION_INTERNET | There are invalid permissions for [`android.permission.ACCESS_WIFI_STATE`](https://developer.android.com/reference/android/Manifest.permission#ACCESS_WIFI_STATE) in `getMacAddressAsync`. |
| ERR_NETWORK_NO_ACCESS_NETWORKINFO       | Unable to access network information                                                                                                                                                       |

---

---

title: Notifications
description: A library that provides an API to fetch push notification tokens and to present, schedule, receive and respond to notifications.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-notifications'
packageName: 'expo-notifications'
iconUrl: '/static/images/packages/expo-notifications.png'
platforms: ['android*', 'ios*']

---

# Expo Notifications

A library that provides an API to fetch push notification tokens and to present, schedule, receive and respond to notifications.
Android (device only), iOS (device only)

`expo-notifications` provides an API to fetch push notification tokens and to present, schedule, receive and respond to notifications.

[Notification guides](/push-notifications/overview) â€” Do not miss our guides on how to set up, send, and handle push notifications.

> Push notifications (remote notifications) functionality provided by `expo-notifications` is unavailable in Expo Go on Android from SDK 53. A [development build](/develop/development-builds/introduction) is required to use push notifications. Local notifications (in-app notifications) remain available in Expo Go.

## Features

- Schedule a one-off notification for a specific date or some time from now
- Schedule a notification repeating in some time interval (or a calendar date match on iOS)
- Get and set the application badge icon number
- Obtain a native device push token, so you can send push notifications with FCM (for Android) and APNs (for iOS)
- Obtain an Expo push token, so you can send push notifications with [Expo Push Service](/push-notifications/sending-notifications)
- Listen to incoming notifications in the foreground and background
- Listen to interactions with notifications
- Handle notifications when the app is in the foreground
- Imperatively dismiss notifications from Notification Center/tray
- Create, update, and delete [Android notification channels](https://developer.android.com/develop/ui/views/notifications/channels)
- Set custom icon and color for notifications on Android

## Installation

```sh
npx expo install expo-notifications
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

Then proceed to [configuration](/versions/latest/sdk/notifications#configuration) to set up the [config plugin](/versions/latest/sdk/notifications#app-config) and obtain the [credentials](/versions/latest/sdk/notifications#credentials) for push notifications.

### Known issues

When launching the app from a push notification in **Android development builds**, the splash screen may fail to display correctly about 70% of the time. The icon and fade animation may not appear as expected.

- Icon may be missing
- Fade animation may not run
- Only the background color may flash briefly

This issue only affects debug builds and does not occur in release builds. To workaround it, test notification launches in release mode (`npx expo run:android --variant release`) for accurate behavior.

## Usage

Check out the example Snack below to see Notifications in action, make sure to use a physical device to test it. Push notifications don't work on emulators/simulators.

```tsx
import { Text, View, Button, Platform } from "react-native";
import * as Notifications from "expo-notifications";
import { useState, useEffect, useRef } from "react";
import Constants from "expo-constants";
import * as Device from "expo-device";

Notifications.setNotificationHandler({
  handleNotification: async () => ({
    shouldPlaySound: false,
    shouldSetBadge: false,
    shouldShowBanner: true,
    shouldShowList: true,
  }),
});

export default function App() {
  const [expoPushToken, setExpoPushToken] = useState("");
  const [channels, setChannels] = useState<Notifications.NotificationChannel[]>(
    [],
  );
  const [notification, setNotification] = useState<
    Notifications.Notification | undefined
  >(undefined);

  useEffect(() => {
    registerForPushNotificationsAsync().then(
      token => token && setExpoPushToken(token),
    );

    if (Platform.OS === "android") {
      Notifications.getNotificationChannelsAsync().then(value =>
        setChannels(value ?? []),
      );
    }
    const notificationListener = Notifications.addNotificationReceivedListener(
      notification => {
        setNotification(notification);
      },
    );

    const responseListener =
      Notifications.addNotificationResponseReceivedListener(response => {
        console.log(response);
      });

    return () => {
      notificationListener.remove();
      responseListener.remove();
    };
  }, []);

  return (
    <View
      style={{
        flex: 1,
        alignItems: "center",
        justifyContent: "space-around",
      }}
    >
      <Text>Your expo push token: {expoPushToken}</Text>
      <Text>{`Channels: ${JSON.stringify(
        channels.map(c => c.id),
        null,
        2,
      )}`}</Text>
      <View style={{ alignItems: "center", justifyContent: "center" }}>
        <Text>
          Title: {notification && notification.request.content.title}{" "}
        </Text>
        <Text>Body: {notification && notification.request.content.body}</Text>
        <Text>
          Data:{" "}
          {notification && JSON.stringify(notification.request.content.data)}
        </Text>
      </View>
      <Button
        title="Press to schedule a notification"
        onPress={async () => {
          await schedulePushNotification();
        }}
      />
    </View>
  );
}

async function schedulePushNotification() {
  await Notifications.scheduleNotificationAsync({
    content: {
      title: "You've got mail! ðŸ“¬",
      body: "Here is the notification body",
      data: { data: "goes here", test: { test1: "more data" } },
    },
    trigger: {
      type: Notifications.SchedulableTriggerInputTypes.TIME_INTERVAL,
      seconds: 2,
    },
  });
}

async function registerForPushNotificationsAsync() {
  let token;

  if (Platform.OS === "android") {
    await Notifications.setNotificationChannelAsync("myNotificationChannel", {
      name: "A channel is needed for the permissions prompt to appear",
      importance: Notifications.AndroidImportance.MAX,
      vibrationPattern: [0, 250, 250, 250],
      lightColor: "#FF231F7C",
    });
  }

  if (Device.isDevice) {
    const { status: existingStatus } =
      await Notifications.getPermissionsAsync();
    let finalStatus = existingStatus;
    if (existingStatus !== "granted") {
      const { status } = await Notifications.requestPermissionsAsync();
      finalStatus = status;
    }
    if (finalStatus !== "granted") {
      alert("Failed to get push token for push notification!");
      return;
    }
    // Learn more about projectId:
    // https://docs.expo.dev/push-notifications/push-notifications-setup/#configure-projectid
    // EAS projectId is used here.
    try {
      const projectId =
        Constants?.expoConfig?.extra?.eas?.projectId ??
        Constants?.easConfig?.projectId;
      if (!projectId) {
        throw new Error("Project ID not found");
      }
      token = (
        await Notifications.getExpoPushTokenAsync({
          projectId,
        })
      ).data;
      console.log(token);
    } catch (e) {
      token = `${e}`;
    }
  } else {
    alert("Must use physical device for Push Notifications");
  }

  return token;
}
```

### Present a local (in-app) notification to the user

```ts
import * as Notifications from "expo-notifications";

// First, set the handler that will cause the notification
// to show the alert
Notifications.setNotificationHandler({
  handleNotification: async () => ({
    shouldPlaySound: false,
    shouldSetBadge: false,
    shouldShowBanner: true,
    shouldShowList: true,
  }),
});

// Second, call scheduleNotificationAsync()
Notifications.scheduleNotificationAsync({
  content: {
    title: "Look at that notification",
    body: "I'm so proud of myself!",
  },
  trigger: null,
});
```

### Handle push notifications with navigation

If you'd like to deep link to a specific screen in your app when you receive a push notification, you can configure either of Expo's navigation systems to do that.

You can use Expo Router's [built-in deep linking](/router/basics/core-concepts#2-all-pages-have-a-url) to handle incoming URLs from push notifications. Simply configure the root layout to listen for incoming and initial notification events.

```tsx
import * as Notifications from "expo-notifications";
import { router } from "expo-router";
import { useEffect } from "react";

function useNotificationObserver() {
  useEffect(() => {
    function redirect(notification: Notifications.Notification) {
      const url = notification.request.content.data?.url;
      if (typeof url === "string") {
        router.push(url);
      }
    }

    const response = Notifications.getLastNotificationResponse();
    if (response?.notification) {
      redirect(response.notification);
    }

    const subscription = Notifications.addNotificationResponseReceivedListener(
      response => {
        redirect(response.notification);
      },
    );

    return () => {
      subscription.remove();
    };
  }, []);
}

export default function Layout() {
  useNotificationObserver();

  return <Slot />;
}
```

## Configuration

### Credentials

Follow the [setup guide](/push-notifications/push-notifications-setup#get-credentials-for-development-builds).

### App config

To configure `expo-notifications`, use the built-in [config plugin](/config-plugins/introduction) in the app config (**app.json** or **app.config.js**) for [EAS Build](/build/introduction) or with `npx expo run:[android|ios]`. The plugin allows you to configure the following properties that cannot be set at runtime and require building a new app binary to take effect:

### Configurable properties

| Name                                  | Default   | Description                                                                                                                                                                                                                                                                                                 |
| ------------------------------------- | --------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `icon`                                | -         | Only for: Android. Local path to an image to use as the icon for push notifications. 96x96 all-white png with transparency.                                                                                                                                                                                 |
| `color`                               | `#ffffff` | Only for: Android. Tint color for the push notification image when it appears in the notification tray.                                                                                                                                                                                                     |
| `defaultChannel`                      | -         | Only for: Android. Default channel for FCMv1 notifications.                                                                                                                                                                                                                                                 |
| `sounds`                              | -         | Array of local paths to sound files (.wav recommended) that can be used as custom notification sounds. Sound will not be played when focus mode does not permit it or silent mode is on.                                                                                                                    |
| `enableBackgroundRemoteNotifications` | `false`   | Only for: iOS. Whether to enable background remote notifications, as described in [Apple documentation](https://developer.apple.com/documentation/usernotifications/pushing-background-updates-to-your-app). This updates the `UIBackgroundModes` key in the `Info.plist` to include `remote-notification`. |

Here is an example of using the config plugin in the app config file:

```json
{
  "expo": {
    "plugins": [
      [
        "expo-notifications",
        {
          "icon": "./local/assets/notification_icon.png",
          "color": "#ffffff",
          "defaultChannel": "default",
          "sounds": [
            "./local/assets/notification_sound.wav",
            "./local/assets/notification_sound_other.wav"
          ],
          "enableBackgroundRemoteNotifications": false
        }
      ]
    ]
  }
}
```

> The iOS APNs entitlement is _always_ set to 'development'. Xcode automatically changes this to 'production' in the archive generated by a release build. [Learn more](https://stackoverflow.com/a/42293632/4047926).

Are you using this library in an existing React Native app?

Learn how to configure the native projects in the [installation instructions in the `expo-notifications` repository](https://github.com/expo/expo/tree/main/packages/expo-notifications#installation-in-bare-react-native-projects).

## Permissions

### Android

- On Android, this module requires permission to subscribe to the device boot. It's used to set up scheduled notifications when the device (re)starts. The `RECEIVE_BOOT_COMPLETED` permission is added automatically through the library's **AndroidManifest.xml**.
- Starting from Android 12 (API level 31), to schedule a notification that triggers at an exact time, you need to add `<uses-permission android:name="android.permission.SCHEDULE_EXACT_ALARM"/>` to **AndroidManifest.xml**. Read more about the [exact alarm permission](https://developer.android.com/about/versions/12/behavior-changes-12#exact-alarm-permission).
- On Android 13, app users must opt-in to receive notifications via a permissions prompt automatically triggered by the operating system. This prompt will not appear until at least one notification channel is created. The `setNotificationChannelAsync` must be called before `getDevicePushTokenAsync` or `getExpoPushTokenAsync` to obtain a push token. You can read more about the new notification permission behavior for Android 13 in the [official documentation](https://developer.android.com/develop/ui/views/notifications/notification-permission#new-apps).

| Android Permission       | Description                                                                                                            |
| ------------------------ | ---------------------------------------------------------------------------------------------------------------------- |
| `RECEIVE_BOOT_COMPLETED` | Allows an application to receive the Intent.ACTION_BOOT_COMPLETED that is broadcast after the system finishes booting. |
| `SCHEDULE_EXACT_ALARM`   | Allows applications to use exact alarm APIs.                                                                           |

### iOS

No usage description is required, see [notification-related permissions](/versions/latest/sdk/notifications#fetch-information-about-notifications-related-permissions).

### Interpret the iOS permissions response

On iOS, permissions for sending notifications are a little more granular than they are on Android. This is why you should rely on the `NotificationPermissionsStatus`'s `ios.status` field, instead of the root `status` field.

This value will be one of the following, accessible under `Notifications.IosAuthorizationStatus`:

- `NOT_DETERMINED`: The user hasn't yet made a choice about whether the app is allowed to schedule notifications
- `DENIED`: The app isn't authorized to schedule or receive notifications
- `AUTHORIZED`: The app is authorized to schedule or receive notifications
- `PROVISIONAL`: The app is provisionally authorized to post noninterruptive user notifications
- `EPHEMERAL`: The app is authorized to schedule or receive notifications for a limited amount of time

## Notification events listeners

Notification events include incoming notifications, interactions your users perform with notifications (this can be tapping on a notification, or interacting with it via [notification categories](/versions/latest/sdk/notifications#manage-notification-categories-interactive-notifications)), and rare occasions when your notifications may be dropped.

Several listeners are exposed and documented in the [Push notification behaviors](/push-notifications/what-you-need-to-know#push-notification-behaviors) section.

## Headless (Background) notifications

See the [definition](/push-notifications/what-you-need-to-know#headless-background-notifications) of Headless Background Notifications in the [What you need to know](/push-notifications/what-you-need-to-know) guide.

To handle notifications while the app is in the background or not running, you need to do the following:

- Add `expo-task-manager` package to your project.
- [Configure background notifications](/versions/latest/sdk/notifications#background-notification-configuration).
- In your application code, set up a [background task](/versions/latest/sdk/notifications#registertaskasynctaskname) to run when the notification is received.

Then send a push notification which:

- Contains only the `data` key (no `title`, `body`)
- Has `_contentAvailable: true` set for iOS â€” see the [Expo push notification service payload format](/push-notifications/sending-notifications#message-request-format)

### Background notification configurationâ€‚

To be able to use background push notifications on iOS, the `remote-notification` value needs to be present in the `UIBackgroundModes` array in your app's **Info.plist** file.

**If you're using [CNG](/workflow/continuous-native-generation)**, set the [`enableBackgroundRemoteNotifications` property](/versions/latest/sdk/notifications#configurable-properties) of the config plugin to true, and the correct configuration will be applied automatically by prebuild.

Configure UIBackgroundModes manually on iOS

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) or you're using a native iOS project, then you'll need to add the following to your **Expo.plist** file:

```xml
<key>UIBackgroundModes</key>
<array>
  <string>remote-notification</string>
</array>
```

## Additional information

### Set custom notification sounds

To add custom push notification sounds to your app, add the `expo-notifications` plugin to your **app.json** file and then under the `sounds` key, provide an array of local paths to sound files that can be used as custom notification sounds. These local paths are local to your project.

```json
{
  "expo": {
    "plugins": [
      [
        "expo-notifications",
        {
          "sounds": ["local/path/to/mySoundFile.wav"]
        }
      ]
    ]
  }
}
```

After building your app, the array of files will be available for use in both [`NotificationContentInput`](/versions/latest/sdk/notifications#notificationcontentinput) and [`NotificationChannelInput`](/versions/latest/sdk/notifications#notificationchannelinput). You only need to provide the base filename. Here's an example using the config above:

```ts
await Notifications.setNotificationChannelAsync("new_emails", {
  name: "E-mail notifications",
  importance: Notifications.AndroidImportance.HIGH,
  sound: "mySoundFile.wav", // Provide ONLY the base filename
});

await Notifications.scheduleNotificationAsync({
  content: {
    title: "You've got mail! ðŸ“¬",
    sound: "mySoundFile.wav", // Provide ONLY the base filename
  },
  trigger: {
    type: Notifications.SchedulableTriggerInputTypes.TIME_INTERVAL,
    seconds: 2,
    channelId: "new_emails",
  },
});
```

You can also manually add notification files to your Android and iOS projects if you prefer:

Manually adding notification sounds on Android

On Androids 8.0+, playing a custom sound for a notification requires more than setting the `sound` property on the `NotificationContentInput`. You will also need to configure the `NotificationChannel` with the appropriate `sound`, and use it when sending/scheduling the notification.

For the example below to work, you would place your **email_sound.wav** file in **android/app/src/main/res/raw/**.

```ts
// Prepare the notification channel
await Notifications.setNotificationChannelAsync("new_emails", {
  name: "E-mail notifications",
  importance: Notifications.AndroidImportance.HIGH,
  sound: "email_sound.wav", // <- for Android 8.0+, see channelId property below
});

// Eg. schedule the notification
await Notifications.scheduleNotificationAsync({
  content: {
    title: "You've got mail! ðŸ“¬",
    body: "Open the notification to read them all",
    sound: "email_sound.wav", // <- for Android below 8.0
  },
  trigger: {
    type: Notifications.SchedulableTriggerInputTypes.TIME_INTERVAL,
    seconds: 2,
    channelId: "new_emails", // <- for Android 8.0+, see definition above
  },
});
```

Manually adding notification sounds on iOS

On iOS, all that's needed is to place your sound file in your Xcode project (see the screenshot below), and then specify the sound file in your `NotificationContentInput`, like this:

```ts
await Notifications.scheduleNotificationAsync({
  content: {
    title: "You've got mail! ðŸ“¬",
    body: "Open the notification to read them all",
    sound: "notification.wav",
  },
  trigger: {
    // ...
  },
});
```

### Push notification payload specification

See [Message request format](/push-notifications/sending-notifications#message-request-format).

### Manage notification categories for interactive notifications

Notification categories allow you to create interactive push notifications, so that a user can respond directly to the incoming notification either via buttons or a text response. A category defines the set of actions a user can take, and then those actions are applied to a notification by specifying the `categoryIdentifier` in the [`NotificationContent`](/versions/latest/sdk/notifications#notificationcontent).

On iOS, notification categories also allow you to customize your notifications further. With each category, not only can you set interactive actions a user can take, but you can also configure things like the placeholder text to display when the user disables notification previews for your app.

## Platform-specific guides

### Handling notification channelsâ€‚

Starting in Android 8.0 (API level 26), all notifications must be assigned to a channel. For each channel, you can set the visual and auditory behavior that is applied to all notifications in that channel. Then, users can change these settings and decide which notification channels from your app should be intrusive or visible at all, as [Android developer docs](https://developer.android.com/training/notify-user/channels) states.

If you do not specify a notification channel, `expo-notifications` will create a fallback channel for you, named **Miscellaneous**. We encourage you to always ensure appropriate channels with informative names are set up for the application and to always send notifications to these channels.

> Calling these methods is a no-op for platforms that do not support this feature (Android below version 8.0 (26) and iOS).

### Custom notification icon and colorsâ€‚

You can configure the [`notification.icon`](/versions/latest/config/app#notification) and [`notification.color`](/versions/latest/config/app#notification) keys in the project's **app.json** if you are using [Expo Prebuild](/workflow/prebuild) or by using the [`expo-notifications` config plugin directly](/versions/latest/sdk/notifications#configurable-properties). These are build-time settings, so you'll need to recompile your native Android app with `eas build -p android` or `npx expo run:android` to see the changes.

For your notification icon, make sure you follow [Google's design guidelines](https://material.io/design/iconography/product-icons.html#design-principles) (the icon must be all white with a transparent background) or else it may not be displayed as intended.

You can also set a custom notification color **per-notification** directly in your [`NotificationContentInput`](/versions/latest/sdk/notifications#notificationcontentinput) under the `color` attribute.

## API

```js
import * as Notifications from "expo-notifications";
```

## Fetch tokens for push notifications

### `addPushTokenListener(listener)`

Supported platforms: Android, iOS.

| Parameter  | Type                                                                           | Description                                                                                          |
| ---------- | ------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------- |
| `listener` | [PushTokenListener](/versions/latest/sdk/notifications#pushtokenlistenertoken) | A function accepting a push token as an argument, it will be called whenever the push token changes. |

In rare situations, a push token may be changed by the push notification service while the app is running. When a token is rolled, the old one becomes invalid and sending notifications to it will fail. A push token listener will let you handle this situation gracefully by registering the new token with your backend right away.

Returns: `EventSubscription`

An [`EventSubscription`](#eventsubscription) object represents the subscription of the provided listener.

Example

```jsx
import React from 'react';
import * as Notifications from 'expo-notifications';

import { registerDevicePushTokenAsync } from '../api';

export default function App() {
  React.useEffect(() => {
    const subscription = Notifications.addPushTokenListener(registerDevicePushTokenAsync);
    return () => subscription.remove();
  }, []);

  return (
    // Your app content
  );
}
```

### `getDevicePushTokenAsync()`

Supported platforms: Android, iOS.

Returns a native FCM, APNs token or a [`PushSubscription` data](https://developer.mozilla.org/en-US/docs/Web/API/PushSubscription) that can be used with another push notification service.

Returns: `Promise<devicepushtoken>`

### `getExpoPushTokenAsync(options)`

Supported platforms: Android, iOS.

| Parameter           | Type                                          | Description                                                                   |
| ------------------- | --------------------------------------------- | ----------------------------------------------------------------------------- |
| `options`(optional) | [ExpoPushTokenOptions](#expopushtokenoptions) | Object allowing you to pass in push notification configuration. Default: `{}` |

Returns an Expo token that can be used to send a push notification to the device using Expo's push notifications service.

This method makes requests to the Expo's servers. It can get rejected in cases where the request itself fails (for example, due to the device being offline, experiencing a network timeout, or other HTTPS request failures). To provide offline support to your users, you should `try/catch` this method and implement retry logic to attempt to get the push token later, once the device is back online.

> For Expo's backend to be able to send notifications to your app, you will need to provide it with push notification keys. For more information, see [credentials](/push-notifications/push-notifications-setup#get-credentials-for-development-builds) in the push notifications setup.

Returns: `Promise<expopushtoken>`

Returns a `Promise` that resolves to an object representing acquired push token.

Example

```ts
import * as Notifications from "expo-notifications";

export async function registerForPushNotificationsAsync(userId: string) {
  const expoPushToken = await Notifications.getExpoPushTokenAsync({
    projectId: "your-project-id",
  });

  await fetch("https://example.com/", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify({
      userId,
      expoPushToken,
    }),
  });
}
```

## Listen to notification events

### `addNotificationReceivedListener(listener)`

Supported platforms: Android, iOS.

| Parameter  | Type                                           | Description                                                                           |
| ---------- | ---------------------------------------------- | ------------------------------------------------------------------------------------- |
| `listener` | (event: [Notification](#notification)) => void | A function accepting a notification ([`Notification`](#notification)) as an argument. |

Listeners registered by this method will be called whenever a notification is received while the app is running.

Returns: `EventSubscription`

An [`EventSubscription`](#eventsubscription) object represents the subscription of the provided listener.

Example

```jsx
import React from 'react';
import * as Notifications from 'expo-notifications';

export default function App() {
  React.useEffect(() => {
    const subscription = Notifications.addNotificationReceivedListener(notification => {
      console.log(notification);
    });
    return () => subscription.remove();
  }, []);

  return (
    // Your app content
  );
}
```

### `addNotificationResponseReceivedListener(listener)`

Supported platforms: Android, iOS.

| Parameter  | Type                                                           | Description                                                                                                  |
| ---------- | -------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------ |
| `listener` | (event: [NotificationResponse](#notificationresponse)) => void | A function accepting notification response ([`NotificationResponse`](#notificationresponse)) as an argument. |

Listeners registered by this method will be called whenever a user interacts with a notification (for example, taps on it).

Returns: `EventSubscription`

An [`EventSubscription`](#eventsubscription) object represents the subscription of the provided listener.

Example

```jsx
import React from 'react';
import { Linking } from 'react-native';
import * as Notifications from 'expo-notifications';

export default function Container() {
  React.useEffect(() => {
    const subscription = Notifications.addNotificationResponseReceivedListener(response => {
      const url = response.notification.request.content.data.url;
      Linking.openURL(url);
    });
    return () => subscription.remove();
  }, []);

  return (
    // Your app content
  );
}
```

### `addNotificationsDroppedListener(listener)`

Supported platforms: Android, iOS.

| Parameter  | Type         | Description          |
| ---------- | ------------ | -------------------- |
| `listener` | `() => void` | A callback function. |

Listeners registered by this method will be called whenever some notifications have been dropped by the server. Applicable only to Firebase Cloud Messaging which we use as a notifications service on Android. It corresponds to `onDeletedMessages()` callback. More information can be found in [Firebase docs](https://firebase.google.com/docs/cloud-messaging/android/receive#override-ondeletedmessages).

Returns: `EventSubscription`

An [`EventSubscription`](#eventsubscription) object represents the subscription of the provided listener.

### `useLastNotificationResponse()`

Supported platforms: Android, iOS.

A React hook which returns the notification response that was received most recently (a notification response designates an interaction with a notification, such as tapping on it).

To clear the last notification response, use [`clearLastNotificationResponseAsync()`](#notificationsclearlastnotificationresponseasync).

> If you don't want to use a hook, you can use `Notifications.getLastNotificationResponseAsync()` instead.

Returns: `MaybeNotificationResponse`

The hook may return one of these three types/values:

- `undefined` - until we're sure of what to return,
- `null` - if no notification response has been received yet,
- a [`NotificationResponse`](#notificationresponse) object - if a notification response was received.

Example

Responding to a notification tap by opening a URL that could be put into the notification's `data` (opening the URL is your responsibility and is not a part of the `expo-notifications` API):

```jsx
import * as Notifications from 'expo-notifications';
import { Linking } from 'react-native';

export default function App() {
  const lastNotificationResponse = Notifications.useLastNotificationResponse();
  React.useEffect(() => {
    if (
      lastNotificationResponse &&
      lastNotificationResponse.notification.request.content.data.url &&
      lastNotificationResponse.actionIdentifier === Notifications.DEFAULT_ACTION_IDENTIFIER
    ) {
      Linking.openURL(lastNotificationResponse.notification.request.content.data.url);
    }
  }, [lastNotificationResponse]);
  return (
    // Your app content
  );
}
```

## Present incoming notifications when the app is running

### `setNotificationHandler(handler)`

Supported platforms: Android, iOS.

| Parameter | Type | Description                                 |
| --------- | ---- | ------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| `handler` | null | [NotificationHandler](#notificationhandler) | A single parameter which should be either `null` (if you want to clear the handler) or a [`NotificationHandler`](#notificationhandler) object. |

When a notification is received while the app is running, using this function you can set a callback that will decide whether the notification should be shown to the user or not.

When a notification is received, `handleNotification` is called with the incoming notification as an argument. The function should respond with a behavior object within 3 seconds, otherwise, the notification will be discarded. If the notification is handled successfully, `handleSuccess` is called with the identifier of the notification, otherwise (or on timeout) `handleError` will be called.

The default behavior when the handler is not set or does not respond in time is not to show the notification.

Returns: `void`

Example

```jsx
import * as Notifications from "expo-notifications";

Notifications.setNotificationHandler({
  handleNotification: async () => ({
    shouldShowBanner: true,
    shouldShowList: true,
    shouldPlaySound: false,
    shouldSetBadge: false,
  }),
});
```

## Run JavaScript in response to incoming notifications

### `registerTaskAsync(taskName)`

Supported platforms: Android, iOS.

| Parameter  | Type     | Description                                                                    |
| ---------- | -------- | ------------------------------------------------------------------------------ |
| `taskName` | `string` | The string you passed to `TaskManager.defineTask` as the `taskName` parameter. |

Call `registerTaskAsync` to set a callback (task) that runs when a notification is received while the app is in foreground, background, or terminated. Only on Android, the task also runs in response to a notification action press when the app is backgrounded or terminated. When the app is terminated, only a [Headless Background Notification](/push-notifications/what-you-need-to-know#headless-background-notifications) triggers the task execution. However, the OS may decide not to deliver the notification to your app in some cases (e.g. when the device is in Doze mode on Android, or when you send too many notifications - Apple recommends to not ["send more than two or three per hour"](https://developer.apple.com/documentation/usernotifications/pushing-background-updates-to-your-app#overview)).

Under the hood, this function is run using `expo-task-manager`. You **must** define the task first, with [`TaskManager.defineTask`](/versions/latest/sdk/task-manager#taskmanagerdefinetasktaskname-taskexecutor) and register it with `registerTaskAsync`.

Make sure you define and register the task in the module scope of a JS module which is required early by your app (e.g. in the `index.js` file). `expo-task-manager` loads your app's JS bundle in the background and executes the task, as well as any side effects which may happen as a consequence of requiring any JS modules.

The callback function you define with `TaskManager.defineTask` receives an object with the following fields:

- `data`: The remote payload delivered by either FCM (Android) or APNs (iOS). See [`NotificationTaskPayload`](#notificationtaskpayload) for details.
- `error`: The error (if any) that occurred during execution of the task.
- `executionInfo`: JSON object of additional info related to the task, including the `taskName`.

Returns: `Promise<null>`

Example

```ts
import * as Notifications from "expo-notifications";
import * as TaskManager from "expo-task-manager";

const BACKGROUND_NOTIFICATION_TASK = "BACKGROUND-NOTIFICATION-TASK";

TaskManager.defineTask<Notifications.NotificationTaskPayload>(
  BACKGROUND_NOTIFICATION_TASK,
  ({ data, error, executionInfo }) => {
    console.log("Received a notification task payload!");
    const isNotificationResponse = "actionIdentifier" in data;
    if (isNotificationResponse) {
      // Do something with the notification response from user
    } else {
      // Do something with the data from notification that was received
    }
  },
);

Notifications.registerTaskAsync(BACKGROUND_NOTIFICATION_TASK);
```

### `unregisterTaskAsync(taskName)`

Supported platforms: Android, iOS.

| Parameter  | Type     | Description                                                               |
| ---------- | -------- | ------------------------------------------------------------------------- |
| `taskName` | `string` | The string you passed to `registerTaskAsync` as the `taskName` parameter. |

Used to unregister tasks registered with `registerTaskAsync` method.

Returns: `Promise<null>`

## Fetch information about notifications-related permissions

### `getPermissionsAsync()`

Supported platforms: Android, iOS.

Calling this function checks current permissions settings related to notifications. It lets you verify whether the app is currently allowed to display alerts, play sounds, etc. There is no user-facing effect of calling this.

Returns: `Promise<notificationpermissionsstatus>`

It returns a `Promise` resolving to an object represents permission settings ([`NotificationPermissionsStatus`](#notificationpermissionsstatus)). On iOS, make sure you [properly interpret the permissions response](#interpret-the-ios-permissions-response).

Example

```ts
import * as Notifications from "expo-notifications";

export async function allowsNotificationsAsync() {
  const settings = await Notifications.getPermissionsAsync();
  return (
    settings.granted ||
    settings.ios?.status === Notifications.IosAuthorizationStatus.PROVISIONAL
  );
}
```

### `requestPermissionsAsync(permissions)`

Supported platforms: Android, iOS.

| Parameter               | Type                                                              | Description                                                 |
| ----------------------- | ----------------------------------------------------------------- | ----------------------------------------------------------- |
| `permissions`(optional) | [NotificationPermissionsRequest](#notificationpermissionsrequest) | An object representing configuration for the request scope. |

Prompts the user for notification permissions according to request. **Request defaults to asking the user to allow displaying alerts, setting badge count and playing sounds**.

Returns: `Promise<notificationpermissionsstatus>`

It returns a Promise resolving to an object represents permission settings ([`NotificationPermissionsStatus`](#notificationpermissionsstatus)). On iOS, make sure you [properly interpret the permissions response](#interpret-the-ios-permissions-response).

Example

```ts
import * as Notifications from "expo-notifications";

export function requestPermissionsAsync() {
  return Notifications.requestPermissionsAsync({
    ios: {
      allowAlert: true,
      allowBadge: true,
      allowSound: true,
    },
  });
}
```

## Manage application badge icon

### `getBadgeCountAsync()`

Supported platforms: Android, iOS.

Fetches the number currently set as the badge of the app icon on device's home screen. A `0` value means that the badge is not displayed.

> **Note:** Not all Android launchers support application badges. If the launcher does not support icon badges, the method will always resolve to `0`.

Returns: `Promise<number>`

Returns a Promise resolving to a number that represents the current badge of the app icon.

### `setBadgeCountAsync(badgeCount, options)`

Supported platforms: Android, iOS.

| Parameter           | Type                   | Description                                                                      |
| ------------------- | ---------------------- | -------------------------------------------------------------------------------- |
| `badgeCount`        | `number`               | The count which should appear on the badge. A value of `0` will clear the badge. |
| `options`(optional) | `SetBadgeCountOptions` | An object of options configuring behavior applied.                               |

Sets the badge of the app's icon to the specified number. Setting it to `0` clears the badge. On iOS, this method requires that you have requested the user's permission for `allowBadge` via [`requestPermissionsAsync`](#requestpermissionsasyncpermissions), otherwise it will automatically return `false`.

> **Note:** Not all Android launchers support application badges. If the launcher does not support icon badges, the method will resolve to `false`.

Returns: `Promise<boolean>`

It returns a Promise resolving to a boolean representing whether the setting of the badge succeeded.

## Schedule notifications

### `cancelAllScheduledNotificationsAsync()`

Supported platforms: Android, iOS.

Cancels all scheduled notifications.

Returns: `Promise<void>`

A Promise that resolves once all the scheduled notifications are successfully canceled, or if there are no scheduled notifications.

### `cancelScheduledNotificationAsync(identifier)`

Supported platforms: Android, iOS.

| Parameter    | Type     | Description                                                                                                                  |
| ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------- |
| `identifier` | `string` | The notification identifier with which `scheduleNotificationAsync` method resolved when the notification has been scheduled. |

Cancels a single scheduled notification. The scheduled notification of given ID will not trigger.

Returns: `Promise<void>`

A Promise resolves once the scheduled notification is successfully canceled or if there is no scheduled notification for a given identifier.

Example

```ts
import * as Notifications from "expo-notifications";

async function scheduleAndCancel() {
  const identifier = await Notifications.scheduleNotificationAsync({
    content: {
      title: "Hey!",
    },
    trigger: { seconds: 60, repeats: true },
  });
  await Notifications.cancelScheduledNotificationAsync(identifier);
}
```

### `getAllScheduledNotificationsAsync()`

Supported platforms: Android, iOS.

Fetches information about all scheduled notifications.

Returns: `Promise<notificationrequest[]>`

Returns a Promise resolving to an array of objects conforming to the [`Notification`](#notification) interface.

### `getNextTriggerDateAsync(trigger)`

Supported platforms: Android, iOS.

| Parameter | Type                                                                        | Description                                                                                                                                                                 |
| --------- | --------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `trigger` | [SchedulableNotificationTriggerInput](#schedulablenotificationtriggerinput) | The schedulable notification trigger you would like to check next trigger date for (of type [`SchedulableNotificationTriggerInput`](#schedulablenotificationtriggerinput)). |

Allows you to check what will be the next trigger date for given notification trigger input.

Returns: `Promise<number>`

If the return value is `null`, the notification won't be triggered. Otherwise, the return value is the Unix timestamp in milliseconds at which the notification will be triggered.

Example

```ts
import * as Notifications from "expo-notifications";

async function logNextTriggerDate() {
  try {
    const nextTriggerDate = await Notifications.getNextTriggerDateAsync({
      hour: 9,
      minute: 0,
    });
    console.log(
      nextTriggerDate === null
        ? "No next trigger date"
        : new Date(nextTriggerDate),
    );
  } catch (e) {
    console.warn(`Couldn't have calculated next trigger date: ${e}`);
  }
}
```

### `scheduleNotificationAsync(request)`

Supported platforms: Android, iOS.

| Parameter | Type                                                  | Description                                            |
| --------- | ----------------------------------------------------- | ------------------------------------------------------ |
| `request` | [NotificationRequestInput](#notificationrequestinput) | An object describing the notification to be triggered. |

Schedules a notification to be triggered in the future.

> **Note:** This does not mean that the notification will be presented when it is triggered. For the notification to be presented you have to set a notification handler with [`setNotificationHandler`](#setnotificationhandlerhandler) that will return an appropriate notification behavior. For more information see the example below.

Returns: `Promise<string>`

Returns a Promise resolving to a string which is a notification identifier you can later use to cancel the notification or to identify an incoming notification.

Example

#### Schedule the notification that will trigger once, in one minute from now

```ts
import * as Notifications from "expo-notifications";

Notifications.scheduleNotificationAsync({
  content: {
    title: "Time's up!",
    body: "Change sides!",
  },
  trigger: {
    type: Notifications.SchedulableTriggerInputTypes.TIME_INTERVAL,
    seconds: 60,
  },
});
```

#### Schedule the notification that will trigger repeatedly, every 20 minutes

```ts
import * as Notifications from "expo-notifications";

Notifications.scheduleNotificationAsync({
  content: {
    title: "Remember to drink water!",
  },
  trigger: {
    type: Notifications.SchedulableTriggerInputTypes.TIME_INTERVAL,
    seconds: 60 * 20,
    repeats: true,
  },
});
```

#### Schedule the notification that will trigger once, at the beginning of next hour

```ts
import * as Notifications from "expo-notifications";

const date = new Date(Date.now() + 60 * 60 * 1000);
date.setMinutes(0);
date.setSeconds(0);

Notifications.scheduleNotificationAsync({
  content: {
    title: "Happy new hour!",
  },
  trigger: {
    type: Notifications.SchedulableTriggerInputTypes.DATE,
    date,
  },
});
```

## Dismiss notifications

### `dismissAllNotificationsAsync()`

Supported platforms: Android, iOS.

Removes all application's notifications displayed in the notification tray (Notification Center).

Returns: `Promise<void>`

A Promise which resolves once the request to dismiss the notifications is successfully dispatched to the notifications manager.

### `dismissNotificationAsync(notificationIdentifier)`

Supported platforms: Android, iOS.

| Parameter                | Type     | Description                                                                                                                                       |
| ------------------------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| `notificationIdentifier` | `string` | The notification identifier, obtained either via `setNotificationHandler` method or in the listener added with `addNotificationReceivedListener`. |

Removes notification displayed in the notification tray (Notification Center).

Returns: `Promise<void>`

A Promise which resolves once the request to dismiss the notification is successfully dispatched to the notifications manager.

### `getPresentedNotificationsAsync()`

Supported platforms: Android, iOS.

Fetches information about all notifications present in the notification tray (Notification Center).

> This method is not supported on Android below 6.0 (API level 23) â€“ on these devices it will resolve to an empty array.

Returns: `Promise<notification[]>`

A Promise which resolves with a list of notifications ([`Notification`](#notification)) currently present in the notification tray (Notification Center).

## Manage notification channels (Android-specific)

### `deleteNotificationChannelAsync(channelId)`

Supported platforms: Android.

| Parameter   | Type     | Description             |
| ----------- | -------- | ----------------------- |
| `channelId` | `string` | The channel identifier. |

Removes the notification channel.

Returns: `Promise<void>`

A Promise which resolving once the channel is removed (or if there was no channel for given identifier).

### `deleteNotificationChannelGroupAsync(groupId)`

Supported platforms: Android.

| Parameter | Type     | Description                   |
| --------- | -------- | ----------------------------- |
| `groupId` | `string` | The channel group identifier. |

Removes the notification channel group and all notification channels that belong to it.

Returns: `Promise<void>`

A Promise which resolves once the channel group is removed (or if there was no channel group for given identifier).

### `getNotificationChannelAsync(channelId)`

Supported platforms: Android.

| Parameter   | Type     | Description               |
| ----------- | -------- | ------------------------- |
| `channelId` | `string` | The channel's identifier. |

Fetches information about a single notification channel.

Returns: `Promise<notificationchannel>`

A Promise which resolves to the channel object (of type [`NotificationChannel`](#notificationchannel)) or to `null` if there was no channel found for this identifier. On platforms that do not support notification channels, it will always resolve to `null`.

### `getNotificationChannelGroupAsync(groupId)`

Supported platforms: Android.

| Parameter | Type     | Description                     |
| --------- | -------- | ------------------------------- |
| `groupId` | `string` | The channel group's identifier. |

Fetches information about a single notification channel group.

Returns: `Promise<notificationchannelgroup>`

A Promise which resolves to the channel group object (of type [`NotificationChannelGroup`](#notificationchannelgroup)) or to `null` if there was no channel group found for this identifier. On platforms that do not support notification channels, it will always resolve to `null`.

### `getNotificationChannelGroupsAsync()`

Supported platforms: Android.

Fetches information about all known notification channel groups.

Returns: `Promise<notificationchannelgroup[]>`

A Promise which resoles to an array of channel groups. On platforms that do not support notification channel groups, it will always resolve to an empty array.

### `getNotificationChannelsAsync()`

Supported platforms: Android.

Fetches information about all known notification channels.

Returns: `Promise<notificationchannel[]>`

A Promise which resolves to an array of channels. On platforms that do not support notification channels, it will always resolve to an empty array.

### `setNotificationChannelAsync(channelId, channel)`

Supported platforms: Android.

| Parameter   | Type                                                  | Description                                      |
| ----------- | ----------------------------------------------------- | ------------------------------------------------ |
| `channelId` | `string`                                              | The channel identifier.                          |
| `channel`   | [NotificationChannelInput](#notificationchannelinput) | Object representing the channel's configuration. |

Assigns the channel configuration to a channel of a specified name (creating it if need be). This method lets you assign given notification channel to a notification channel group.

> **Note:** After a channel has been created, you can modify only its name and description. This limitation is imposed by the Android OS.

> **Note:** For some settings to be applied on all Android versions, it may be necessary to duplicate the configuration across both a single notification and its respective notification channel.

For example, for a notification to play a custom sound on Android versions **below** 8.0, the custom notification sound has to be set on the notification (through the [`NotificationContentInput`](#notificationcontentinput)), and for the custom sound to play on Android versions **above** 8.0, the relevant notification channel must have the custom sound configured (through the [`NotificationChannelInput`](#notificationchannelinput)). For more information, see [Set custom notification sounds on Android](#set-custom-notification-sounds).

Returns: `Promise<notificationchannel>`

A Promise which resolving to the object (of type [`NotificationChannel`](#notificationchannel)) describing the modified channel or to `null` if the platform does not support notification channels.

### `setNotificationChannelGroupAsync(groupId, group)`

Supported platforms: Android.

| Parameter | Type                                                            | Description                                          |
| --------- | --------------------------------------------------------------- | ---------------------------------------------------- |
| `groupId` | `string`                                                        | The channel group's identifier.                      |
| `group`   | [NotificationChannelGroupInput](#notificationchannelgroupinput) | Object representing the channel group configuration. |

Assigns the channel group configuration to a channel group of a specified name (creating it if need be).

Returns: `Promise<notificationchannelgroup>`

A `Promise` resolving to the object (of type [`NotificationChannelGroup`](#notificationchannelgroup)) describing the modified channel group or to `null` if the platform does not support notification channels.

## Manage notification categories (interactive notifications)

### `deleteNotificationCategoryAsync(identifier)`

Supported platforms: Android, iOS.

| Parameter    | Type     | Description                                                                                 |
| ------------ | -------- | ------------------------------------------------------------------------------------------- |
| `identifier` | `string` | Identifier initially provided to `setNotificationCategoryAsync` when creating the category. |

Deletes the category associated with the provided identifier.

Returns: `Promise<boolean>`

A Promise which resolves to `true` if the category was successfully deleted, or `false` if it was not. An example of when this method would return `false` is if you try to delete a category that doesn't exist.

### `getNotificationCategoriesAsync()`

Supported platforms: Android, iOS.

Fetches information about all known notification categories.

Returns: `Promise<notificationcategory[]>`

A Promise which resolves to an array of `NotificationCategory`s. On platforms that do not support notification channels, it will always resolve to an empty array.

### `setNotificationCategoryAsync(identifier, actions, options)`

Supported platforms: Android, iOS.

| Parameter           | Type                                                        | Description                                                                                                                                                                                                                                                                                                                     |
| ------------------- | ----------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `identifier`        | `string`                                                    | A string to associate as the ID of this category. You will pass this string in as the `categoryIdentifier` in your [`NotificationContent`](#notificationcontent) to associate a notification with this category. Don't use the characters : or - in your category identifier. If you do, categories might not work as expected. |
| `actions`           | [NotificationAction[]](#notificationaction)                 | An array of [`NotificationAction`](#notificationaction), which describe the actions associated with this category.                                                                                                                                                                                                              |
| `options`(optional) | [NotificationCategoryOptions](#notificationcategoryoptions) | An optional object of additional configuration options for your category.                                                                                                                                                                                                                                                       |

Sets the new notification category.

Returns: `Promise<notificationcategory>`

A Promise which resolves to the category you just have created.

## Constants

### `Notifications.DEFAULT_ACTION_IDENTIFIER`

Supported platforms: Android, iOS.

Type: `'expo.modules.notifications.actions.DEFAULT'`

## Methods

### `Notifications.clearLastNotificationResponse()`

Supported platforms: Android, iOS.

Clears the notification response that was received most recently. May be used when an app selects a route based on the notification response, and it is undesirable to continue selecting the route after the response has already been handled.

If a component is using the [`useLastNotificationResponse`](#uselastnotificationresponse) hook, this call will also clear the value returned by the hook.

Returns: `void`

### `Notifications.clearLastNotificationResponseAsync()`

Supported platforms: Android, iOS.

Clears the notification response that was received most recently. May be used when an app selects a route based on the notification response, and it is undesirable to continue selecting the route after the response has already been handled.

If a component is using the [`useLastNotificationResponse`](#uselastnotificationresponse) hook, this call will also clear the value returned by the hook.

Returns: `Promise<void>`

A promise that resolves if the native call was successful.

### `Notifications.getLastNotificationResponse()`

Supported platforms: Android, iOS.

Gets the notification response that was received most recently (a notification response designates an interaction with a notification, such as tapping on it).

- `null` - if no notification response has been received yet
- a [`NotificationResponse`](#notificationresponse) object - if a notification response was received

Returns: `NotificationResponse | null`

### `Notifications.getLastNotificationResponseAsync()`

Supported platforms: Android, iOS.

Gets the notification response received most recently (a notification response designates an interaction with a notification, such as tapping on it).

- `null` - if no notification response has been received yet
- a [`NotificationResponse`](#notificationresponse) object - if a notification response was received

Returns: `Promise<notificationresponse>`

### `Notifications.unregisterForNotificationsAsync()`

Supported platforms: Android, iOS.

Returns: `Promise<void>`

## Interfaces

### `AudioAttributes`

Supported platforms: Android, iOS.

| Property    | Type                                                                                | Description |
| ----------- | ----------------------------------------------------------------------------------- | ----------- |
| contentType | [AndroidAudioContentType](#androidaudiocontenttype)                                 | -           |
| flags       | `{ enforceAudibility: boolean, requestHardwareAudioVideoSynchronization: boolean }` | -           |
| usage       | [AndroidAudioUsage](#androidaudiousage)                                             | -           |

### `BeaconRegion`

Supported platforms: iOS.

Extends: [Region](#region)

A region used to detect the presence of iBeacon devices. Based on Core Location [`CLBeaconRegion`](https://developer.apple.com/documentation/corelocation/clbeaconregion) class.

| Property                           | Type           | Description                                                                                                      |
| ---------------------------------- | -------------- | ---------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------- | -------------------------------------------------------------- |
| beaconIdentityConstraint(optional) | `{ major: null | number, minor: null                                                                                              | number, uuid: string }`                                                             | The beacon identity constraint that defines the beacon region. |
| major                              | `null          | number`                                                                                                          | The major value from the beacon identity constraint that defines the beacon region. |
| minor                              | `null          | number`                                                                                                          | The minor value from the beacon identity constraint that defines the beacon region. |
| notifyEntryStateOnDisplay          | `boolean`      | A Boolean value that indicates whether Core Location sends beacon notifications when the deviceâ€™s display is on. |
| type                               | `'beacon'`     | -                                                                                                                |
| uuid(optional)                     | `string`       | The UUID value from the beacon identity constraint that defines the beacon region.                               |

### `CalendarNotificationTrigger`

Supported platforms: iOS.

A trigger related to a [`UNCalendarNotificationTrigger`](https://developer.apple.com/documentation/usernotifications/uncalendarnotificationtrigger?language=objc).

| Property       | Type                                                                                                                                                                                                                                                                                                                  | Description |
| -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| dateComponents | `{ calendar: string, day: number, era: number, hour: number, isLeapMonth: boolean, minute: number, month: number, nanosecond: number, quarter: number, second: number, timeZone: string, weekday: number, weekdayOrdinal: number, weekOfMonth: number, weekOfYear: number, year: number, yearForWeekOfYear: number }` | -           |
| repeats        | `boolean`                                                                                                                                                                                                                                                                                                             | -           |
| type           | `'calendar'`                                                                                                                                                                                                                                                                                                          | -           |

### `CircularRegion`

Supported platforms: iOS.

Extends: [Region](#region)

A circular geographic region, specified as a center point and radius. Based on Core Location [`CLCircularRegion`](https://developer.apple.com/documentation/corelocation/clcircularregion) class.

| Property | Type                                      | Description                                                                        |
| -------- | ----------------------------------------- | ---------------------------------------------------------------------------------- |
| center   | `{ latitude: number, longitude: number }` | The center point of the geographic area.                                           |
| radius   | `number`                                  | The radius (measured in meters) that defines the geographic areaâ€™s outer boundary. |
| type     | `'circular'`                              | -                                                                                  |

### `DailyNotificationTrigger`

Supported platforms: Android.

A trigger related to a daily notification.

> The same functionality will be achieved on iOS with a `CalendarNotificationTrigger`.

| Property | Type      | Description |
| -------- | --------- | ----------- |
| hour     | `number`  | -           |
| minute   | `number`  | -           |
| type     | `'daily'` | -           |

### `EventSubscription`

Supported platforms: Android, iOS.

A subscription object that allows to conveniently remove an event listener from the emitter.

EventSubscription Methods

### `remove()`

Supported platforms: Android, iOS.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

### `ExpoPushToken`

Supported platforms: Android, iOS.

Object which contains the Expo push token in the `data` field. Use the value from `data` to send notifications via Expo Notifications service.

| Property | Type     | Description              |
| -------- | -------- | ------------------------ |
| data     | `string` | The acquired push token. |
| type     | `'expo'` | Always set to `"expo"`.  |

### `ExpoPushTokenOptions`

Supported platforms: Android, iOS.

| Property                  | Type                                | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ------------------------- | ----------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| applicationId(optional)   | `string`                            | The ID of the application to which the token should be attributed. Defaults to [`Application.applicationId`](/versions/latest/sdk/application#applicationapplicationid) exposed by `expo-application`.                                                                                                                                                                                                                                                                                                                                                                                                   |
| baseUrl(optional)         | `string`                            | Endpoint URL override.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| development(optional)     | `boolean`                           | Supported platforms: iOS. On iOS, there are two push notification services: "sandbox" and "production". This defines whether the push token is supposed to be used with the sandbox platform notification service. Defaults to [`Application.getIosPushNotificationServiceEnvironmentAsync()`](/versions/latest/sdk/application#applicationgetiospushnotificationserviceenvironmentasync) exposed by `expo-application` or `false`. Most probably you won't need to customize that. You may want to customize that if you don't want to install `expo-application` and still use the sandbox APNs.       |
| deviceId(optional)        | `string`                            | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| devicePushToken(optional) | [DevicePushToken](#devicepushtoken) | The device push token with which to register at the backend. Defaults to a token fetched with [`getDevicePushTokenAsync()`](#getdevicepushtokenasync).                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| projectId(optional)       | `string`                            | The ID of the project to which the token should be attributed. Defaults to [`Constants.expoConfig.extra.eas.projectId`](/versions/latest/sdk/constants#easconfig) exposed by `expo-constants`. When using EAS Build, this value is automatically set. However, it is **recommended** to set it manually. Once you have EAS Build configured, you can find the value in **app.json** under `extra.eas.projectId`. You can copy and paste it into your code. If you are not using EAS Build, it will fallback to [`Constants.expoConfig?.extra?.eas?.projectId`](/versions/latest/sdk/constants#manifest). |
| type(optional)            | `string`                            | Request body override.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| url(optional)             | `string`                            | Request URL override.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

### `FirebaseRemoteMessage`

Supported platforms: Android, iOS.

A Firebase `RemoteMessage` that caused the notification to be delivered to the app.

| Property         | Type                     | Description                                                             |
| ---------------- | ------------------------ | ----------------------------------------------------------------------- | --- |
| collapseKey      | `null                    | string`                                                                 | -   |
| data             | `Record<string, string>` | -                                                                       |
| from             | `null                    | string`                                                                 | -   |
| messageId        | `null                    | string`                                                                 | -   |
| messageType      | `null                    | string`                                                                 | -   |
| notification     | null                     | [FirebaseRemoteMessageNotification](#firebaseremotemessagenotification) | -   |
| originalPriority | `number`                 | -                                                                       |
| priority         | `number`                 | -                                                                       |
| sentTime         | `number`                 | -                                                                       |
| to               | `null                    | string`                                                                 | -   |
| ttl              | `number`                 | -                                                                       |

### `FirebaseRemoteMessageNotification`

Supported platforms: Android, iOS.

| Property                   | Type      | Description |
| -------------------------- | --------- | ----------- | --- |
| body                       | `null     | string`     | -   |
| bodyLocalizationArgs       | `null     | string[]`   | -   |
| bodyLocalizationKey        | `null     | string`     | -   |
| channelId                  | `null     | string`     | -   |
| clickAction                | `null     | string`     | -   |
| color                      | `null     | string`     | -   |
| eventTime                  | `null     | number`     | -   |
| icon                       | `null     | string`     | -   |
| imageUrl                   | `null     | string`     | -   |
| lightSettings              | `null     | number[]`   | -   |
| link                       | `null     | string`     | -   |
| localOnly                  | `boolean` | -           |
| notificationCount          | `null     | number`     | -   |
| notificationPriority       | `null     | number`     | -   |
| sound                      | `null     | string`     | -   |
| sticky                     | `boolean` | -           |
| tag                        | `null     | string`     | -   |
| ticker                     | `null     | string`     | -   |
| title                      | `null     | string`     | -   |
| titleLocalizationArgs      | `null     | string[]`   | -   |
| titleLocalizationKey       | `null     | string`     | -   |
| usesDefaultLightSettings   | `boolean` | -           |
| usesDefaultSound           | `boolean` | -           |
| usesDefaultVibrateSettings | `boolean` | -           |
| vibrateTimings             | `null     | number[]`   | -   |
| visibility                 | `null     | number`     | -   |

### `IosNotificationPermissionsRequest`

Supported platforms: Android, iOS.

Available configuration for permission request on iOS platform. See Apple documentation for [`UNAuthorizationOptions`](https://developer.apple.com/documentation/usernotifications/unauthorizationoptions) to learn more.

| Property                                 | Type      | Description                                                                                 |
| ---------------------------------------- | --------- | ------------------------------------------------------------------------------------------- |
| allowAlert(optional)                     | `boolean` | The ability to display alerts.                                                              |
| allowBadge(optional)                     | `boolean` | The ability to update the appâ€™s badge.                                                      |
| allowCriticalAlerts(optional)            | `boolean` | The ability to play sounds for critical alerts.                                             |
| allowDisplayInCarPlay(optional)          | `boolean` | The ability to display notifications in a CarPlay environment.                              |
| allowProvisional(optional)               | `boolean` | The ability to post noninterrupting notifications provisionally to the Notification Center. |
| allowSound(optional)                     | `boolean` | The ability to play sounds.                                                                 |
| provideAppNotificationSettings(optional) | `boolean` | An option indicating the system should display a button for in-app notification settings.   |

### `LocationNotificationTrigger`

Supported platforms: iOS.

A trigger related to a [`UNLocationNotificationTrigger`](https://developer.apple.com/documentation/usernotifications/unlocationnotificationtrigger?language=objc).

| Property | Type                              | Description                   |
| -------- | --------------------------------- | ----------------------------- | --- |
| region   | [CircularRegion](#circularregion) | [BeaconRegion](#beaconregion) | -   |
| repeats  | `boolean`                         | -                             |
| type     | `'location'`                      | -                             |

### `MonthlyNotificationTrigger`

Supported platforms: Android.

A trigger related to a monthly notification.

> The same functionality will be achieved on iOS with a `CalendarNotificationTrigger`.

| Property | Type        | Description |
| -------- | ----------- | ----------- |
| day      | `number`    | -           |
| hour     | `number`    | -           |
| minute   | `number`    | -           |
| type     | `'monthly'` | -           |

### `NativeDevicePushToken`

Supported platforms: Android, iOS.

| Property | Type     | Description |
| -------- | -------- | ----------- | --- |
| data     | `string` | -           |
| type     | `'ios'   | 'android'`  | -   |

### `Notification`

Supported platforms: Android, iOS.

An object which represents a single notification that has been triggered by some request ([`NotificationRequest`](#notificationrequest)) at some point in time.

| Property | Type                                        | Description |
| -------- | ------------------------------------------- | ----------- |
| date     | `number`                                    | -           |
| request  | [NotificationRequest](#notificationrequest) | -           |

### `NotificationAction`

Supported platforms: Android, iOS.

| Property            | Type                                                                                           | Description                                                                                                                                                                                                                                                                                    |
| ------------------- | ---------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| buttonTitle         | `string`                                                                                       | The title of the button triggering this action.                                                                                                                                                                                                                                                |
| identifier          | `string`                                                                                       | A unique string that identifies this action. If a user takes this action (for example, selects this button in the system's Notification UI), your app will receive this `actionIdentifier` via the [`NotificationResponseReceivedListener`](#addnotificationresponsereceivedlistenerlistener). |
| options(optional)   | `{ isAuthenticationRequired: boolean, isDestructive: boolean, opensAppToForeground: boolean }` | Object representing the additional configuration options.                                                                                                                                                                                                                                      |
| textInput(optional) | `{ placeholder: string, submitButtonTitle: string }`                                           | Object which, if provided, will result in a button that prompts the user for a text response.                                                                                                                                                                                                  |

### `NotificationBehavior`

Supported platforms: Android, iOS.

An object which represents behavior that should be applied to the incoming notification. On Android, this influences whether the notification is shown, a sound is played, and priority. On iOS, this maps directly to [`UNNotificationPresentationOptions`](https://developer.apple.com/documentation/usernotifications/unnotificationpresentationoptions).

> On Android, setting `shouldPlaySound: false` will result in the drop-down notification alert **not** showing, no matter what the priority is. This setting will also override any channel-specific sounds you may have configured.

| Property                  | Type                                                        | Description                                                             |
| ------------------------- | ----------------------------------------------------------- | ----------------------------------------------------------------------- |
| priority(optional)        | [AndroidNotificationPriority](#androidnotificationpriority) | -                                                                       |
| shouldPlaySound           | `boolean`                                                   | -                                                                       |
| shouldSetBadge            | `boolean`                                                   | Supported platforms: iOS.                                               |
| shouldShowAlert(optional) | `boolean`                                                   | Deprecated: instead, specify shouldShowBanner and / or shouldShowList . |
| shouldShowBanner          | `boolean`                                                   | -                                                                       |
| shouldShowList            | `boolean`                                                   | -                                                                       |

### `NotificationCategory`

Supported platforms: Android, iOS.

| Property          | Type                                                        | Description |
| ----------------- | ----------------------------------------------------------- | ----------- |
| actions           | [NotificationAction[]](#notificationaction)                 | -           |
| identifier        | `string`                                                    | -           |
| options(optional) | [NotificationCategoryOptions](#notificationcategoryoptions) | -           |

### `NotificationChannel`

Supported platforms: Android.

An object which represents a notification channel.

| Property             | Type                                                            | Description |
| -------------------- | --------------------------------------------------------------- | ----------- | --------- | --- |
| audioAttributes      | [AudioAttributes](#audioattributes)                             | -           |
| bypassDnd            | `boolean`                                                       | -           |
| description          | `null                                                           | string`     | -         |
| enableLights         | `boolean`                                                       | -           |
| enableVibrate        | `boolean`                                                       | -           |
| groupId(optional)    | `null                                                           | string`     | -         |
| id                   | `string`                                                        | -           |
| importance           | [AndroidImportance](#androidimportance)                         | -           |
| lightColor           | `string`                                                        | -           |
| lockscreenVisibility | [AndroidNotificationVisibility](#androidnotificationvisibility) | -           |
| name                 | `null                                                           | string`     | -         |
| showBadge            | `boolean`                                                       | -           |
| sound                | `null                                                           | 'default'   | 'custom'` | -   |
| vibrationPattern     | `null                                                           | number[]`   | -         |

### `NotificationChannelGroup`

Supported platforms: Android.

An object which represents a notification channel group.

| Property              | Type                                          | Description |
| --------------------- | --------------------------------------------- | ----------- | --- |
| channels              | [NotificationChannel[]](#notificationchannel) | -           |
| description(optional) | `null                                         | string`     | -   |
| id                    | `string`                                      | -           |
| isBlocked(optional)   | `boolean`                                     | -           |
| name                  | `null                                         | string`     | -   |

### `NotificationChannelGroupInput`

Supported platforms: Android.

An object which represents a notification channel group to be set.

| Property              | Type  | Description |
| --------------------- | ----- | ----------- | --- |
| description(optional) | `null | string`     | -   |
| name                  | `null | string`     | -   |

### `NotificationChannelGroupManager`

Supported platforms: Android, iOS.

Extends: `ProxyNativeModule`

| Property                                      | Type                                                                                                                                                                                                  | Description                                             |
| --------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------- | --- |
| deleteNotificationChannelGroupAsync(optional) | (groupId: string) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<void\>                                                                       | -                                                       |
| getNotificationChannelGroupAsync(optional)    | (groupId: string) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<null                                                                         | [NotificationChannelGroup](#notificationchannelgroup)\> | -   |
| getNotificationChannelGroupsAsync(optional)   | () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<[NotificationChannelGroup[]](#notificationchannelgroup)\>                                   | -                                                       |
| setNotificationChannelGroupAsync(optional)    | (groupId: string, group: [NotificationChannelGroupInput](#notificationchannelgroupinput)) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<null | [NotificationChannelGroup](#notificationchannelgroup)\> | -   |

### `NotificationChannelManager`

Supported platforms: Android, iOS.

Extends: `ProxyNativeModule`

| Property                                 | Type                                                                                                                                                                                                         | Description                                     |
| ---------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------- | --- |
| deleteNotificationChannelAsync(optional) | (channelId: string) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<void\>                                                                            | -                                               |
| getNotificationChannelAsync(optional)    | (channelId: string) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<null                                                                              | [NotificationChannel](#notificationchannel)\>   | -   |
| getNotificationChannelsAsync(optional)   | () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<null                                                                                               | [NotificationChannel[]](#notificationchannel)\> | -   |
| setNotificationChannelAsync(optional)    | (channelId: string, channelConfiguration: [NotificationChannelInput](#notificationchannelinput)) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<null | [NotificationChannel](#notificationchannel)\>   | -   |

### `NotificationHandler`

Supported platforms: Android, iOS.

| Property                | Type                                                                                                                                                                                                 | Description                                                                                                                                                                  |
| ----------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| handleError(optional)   | (notificationId: string, error: [NotificationHandlingError](#notificationhandlingerror)) => void                                                                                                     | A function called whenever calling `handleNotification()` for an incoming notification fails.                                                                                |
| handleNotification      | (notification: [Notification](#notification)) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<[NotificationBehavior](#notificationbehavior)\> | A function accepting an incoming notification returning a `Promise` resolving to a behavior ([`NotificationBehavior`](#notificationbehavior)) applicable to the notification |
| handleSuccess(optional) | `(notificationId: string) => void`                                                                                                                                                                   | A function called whenever an incoming notification is handled successfully.                                                                                                 |

### `NotificationPermissionsRequest`

Supported platforms: Android, iOS.

An interface representing the permissions request scope configuration. Each option corresponds to a different native platform authorization option.

| Property          | Type                                                                    | Description                                                                                                                                   |
| ----------------- | ----------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| android(optional) | `object`                                                                | On Android, all available permissions are granted by default, and if a user declines any permission, an app cannot prompt the user to change. |
| ios(optional)     | [IosNotificationPermissionsRequest](#iosnotificationpermissionsrequest) | Available configuration for permission request on iOS platform.                                                                               |

### `NotificationPermissionsStatus`

Supported platforms: Android, iOS.

Extends: `PermissionResponse`

An object obtained by permissions get and request functions.

| Property          | Type                                                             | Description                        |
| ----------------- | ---------------------------------------------------------------- | ---------------------------------- | -------------------------- | ----------------------------------- | ------------------------------------- | ------------------------------------------------ | ---------------------------------------- | ----------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------- | --- |
| android(optional) | `{ importance: number, interruptionFilter: number }`             | -                                  |
| ios(optional)     | { alertStyle: [IosAlertStyle](#iosalertstyle), allowsAlert: null | boolean, allowsAnnouncements: null | boolean, allowsBadge: null | boolean, allowsCriticalAlerts: null | boolean, allowsDisplayInCarPlay: null | boolean, allowsDisplayInNotificationCenter: null | boolean, allowsDisplayOnLockScreen: null | boolean, allowsPreviews: [IosAllowsPreviews](#iosallowspreviews), allowsSound: null | boolean, providesAppNotificationSettings: boolean, status: [IosAuthorizationStatus](#iosauthorizationstatus) } | -   |

### `NotificationRequest`

Supported platforms: Android, iOS.

An object represents a request to present a notification. It has content â€” how it's being represented, and a trigger â€” what triggers the notification. Many notifications ([`Notification`](#notification)) may be triggered with the same request (for example, a repeating notification).

| Property   | Type                                        | Description |
| ---------- | ------------------------------------------- | ----------- |
| content    | [NotificationContent](#notificationcontent) | -           |
| identifier | `string`                                    | -           |
| trigger    | [NotificationTrigger](#notificationtrigger) | -           |

### `NotificationRequestInput`

Supported platforms: Android, iOS.

An object which represents a notification request you can pass into `scheduleNotificationAsync`.

| Property             | Type                                                  | Description |
| -------------------- | ----------------------------------------------------- | ----------- |
| content              | [NotificationContentInput](#notificationcontentinput) | -           |
| identifier(optional) | `string`                                              | -           |
| trigger              | [NotificationTriggerInput](#notificationtriggerinput) | -           |

### `NotificationResponse`

Supported platforms: Android, iOS.

An object which represents user's interaction with the notification.

> **Note:** If the user taps on a notification, `actionIdentifier` will be equal to [`Notifications.DEFAULT_ACTION_IDENTIFIER`](#notificationsdefault_action_identifier).

| Property           | Type                          | Description |
| ------------------ | ----------------------------- | ----------- |
| actionIdentifier   | `string`                      | -           |
| notification       | [Notification](#notification) | -           |
| userText(optional) | `string`                      | -           |

### `Region`

Supported platforms: iOS.

The region used to determine when the system sends the notification.

| Property      | Type      | Description                                                               |
| ------------- | --------- | ------------------------------------------------------------------------- |
| identifier    | `string`  | The identifier for the region object.                                     |
| notifyOnEntry | `boolean` | Indicates whether notifications are generated upon entry into the region. |
| notifyOnExit  | `boolean` | Indicates whether notifications are generated upon exit from the region.  |
| type          | `string`  | -                                                                         |

### `TimeIntervalNotificationTrigger`

Supported platforms: Android, iOS.

A trigger related to an elapsed time interval. May be repeating (see `repeats` field).

| Property | Type             | Description |
| -------- | ---------------- | ----------- |
| repeats  | `boolean`        | -           |
| seconds  | `number`         | -           |
| type     | `'timeInterval'` | -           |

### `UnknownNotificationTrigger`

Supported platforms: Android, iOS.

Represents a notification trigger that is unknown to `expo-notifications` and that it didn't know how to serialize for JS.

| Property | Type        | Description |
| -------- | ----------- | ----------- |
| type     | `'unknown'` | -           |

### `WeeklyNotificationTrigger`

Supported platforms: Android.

A trigger related to a weekly notification.

> The same functionality will be achieved on iOS with a `CalendarNotificationTrigger`.

| Property | Type       | Description |
| -------- | ---------- | ----------- |
| hour     | `number`   | -           |
| minute   | `number`   | -           |
| type     | `'weekly'` | -           |
| weekday  | `number`   | -           |

### `YearlyNotificationTrigger`

Supported platforms: Android.

A trigger related to a yearly notification.

> The same functionality will be achieved on iOS with a `CalendarNotificationTrigger`.

| Property | Type       | Description |
| -------- | ---------- | ----------- |
| day      | `number`   | -           |
| hour     | `number`   | -           |
| minute   | `number`   | -           |
| month    | `number`   | -           |
| type     | `'yearly'` | -           |

## Types

### `AudioAttributesInput`

Supported platforms: Android, iOS.

Type: [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[AudioAttributes](#audioattributes)\>

### `CalendarTriggerInput`

Supported platforms: iOS.

This trigger input will cause the notification to be delivered once or many times (controlled by the value of `repeats`) when the date components match the specified values. Corresponds to native [`UNCalendarNotificationTrigger`](https://developer.apple.com/documentation/usernotifications/uncalendarnotificationtrigger?language=objc).

| Property                 | Type                                    | Description |
| ------------------------ | --------------------------------------- | ----------- |
| channelId(optional)      | `string`                                | -           |
| day(optional)            | `number`                                | -           |
| hour(optional)           | `number`                                | -           |
| minute(optional)         | `number`                                | -           |
| month(optional)          | `number`                                | -           |
| repeats(optional)        | `boolean`                               | -           |
| second(optional)         | `number`                                | -           |
| seconds(optional)        | `number`                                | -           |
| timezone(optional)       | `string`                                | -           |
| type                     | `SchedulableTriggerInputTypes.CALENDAR` | -           |
| weekday(optional)        | `number`                                | -           |
| weekdayOrdinal(optional) | `number`                                | -           |
| weekOfMonth(optional)    | `number`                                | -           |
| weekOfYear(optional)     | `number`                                | -           |
| year(optional)           | `number`                                | -           |

### `ChannelAwareTriggerInput`

Supported platforms: Android, iOS.

A trigger that will cause the notification to be delivered immediately.

| Property  | Type     | Description |
| --------- | -------- | ----------- |
| channelId | `string` | -           |

### `DailyTriggerInput`

Supported platforms: Android, iOS.

This trigger input will cause the notification to be delivered once per day when the `hour` and `minute` date components match the specified values.

| Property            | Type                                 | Description |
| ------------------- | ------------------------------------ | ----------- |
| channelId(optional) | `string`                             | -           |
| hour                | `number`                             | -           |
| minute              | `number`                             | -           |
| type                | `SchedulableTriggerInputTypes.DAILY` | -           |

### `DateTriggerInput`

Supported platforms: Android, iOS.

This trigger input will cause the notification to be delivered once on the specified value of the `date` property. The value of `repeats` will be ignored for this trigger type.

| Property            | Type                                                                                          | Description |
| ------------------- | --------------------------------------------------------------------------------------------- | ----------- | --- |
| channelId(optional) | `string`                                                                                      | -           |
| date                | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | number      | -   |
| type                | `SchedulableTriggerInputTypes.DATE`                                                           | -           |

### `DevicePushToken`

Supported platforms: Android, iOS.

Literal Type: `union`

In simple terms, an object of `type: Platform.OS` and `data: any`. The `data` type depends on the environment - on a native device it will be a string, which you can then use to send notifications via Firebase Cloud Messaging (Android) or APNs (iOS).

Acceptable values are: [ExplicitlySupportedDevicePushToken](#explicitlysupporteddevicepushtoken) | [ImplicitlySupportedDevicePushToken](#implicitlysupporteddevicepushtoken)

### `ExplicitlySupportedDevicePushToken`

Supported platforms: Android, iOS.

Type: [NativeDevicePushToken](#nativedevicepushtoken)

### `ImplicitlySupportedDevicePushToken`

Supported platforms: Android, iOS.

| Property | Type                                                                                                                                                                | Description                                       |
| -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------- |
| data     | `any`                                                                                                                                                               | The push token as a string for a native platform. |
| type     | [Exclude](https://www.typescriptlang.org/docs/handbook/utility-types.html#excludeuniontype-excludedmembers)<Platform.OS, ExplicitlySupportedDevicePushToken[type]\> | Either `android` or `ios`.                        |

### `MaybeNotificationResponse`

Supported platforms: Android, iOS.

Literal Type: `union`

Acceptable values are: [NotificationResponse](#notificationresponse) | `null` | `undefined`

### `MonthlyTriggerInput`

Supported platforms: Android, iOS.

This trigger input will cause the notification to be delivered once per month when the `day`, `hour`, and `minute` date components match the specified values.

> **Note:** All properties are specified in JavaScript `Date` object's ranges (i.e. January is represented as 0).

| Property            | Type                                   | Description |
| ------------------- | -------------------------------------- | ----------- |
| channelId(optional) | `string`                               | -           |
| day                 | `number`                               | -           |
| hour                | `number`                               | -           |
| minute              | `number`                               | -           |
| type                | `SchedulableTriggerInputTypes.MONTHLY` | -           |

### `NativeNotificationPermissionsRequest`

Supported platforms: Android, iOS.

Literal Type: `union`

Acceptable values are: [IosNotificationPermissionsRequest](#iosnotificationpermissionsrequest) | `object`

### `NotificationCategoryOptions`

Supported platforms: iOS.

| Property                        | Type       | Description                                                                                                                                                                                                                                                                                                             |
| ------------------------------- | ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| allowAnnouncement(optional)     | `boolean`  | Deprecated: the option is ignored by iOS. This option will be removed in a future release. Indicates whether to allow notifications to be automatically read by Siri when the user is using AirPods. . Default: `false`                                                                                                 |
| allowInCarPlay(optional)        | `boolean`  | Indicates whether to allow CarPlay to display notifications of this type. **Apps must be approved for CarPlay to make use of this feature.**. Default: `false`                                                                                                                                                          |
| categorySummaryFormat(optional) | `string`   | A format string for the summary description used when the system groups the categoryâ€™s notifications.                                                                                                                                                                                                                   |
| customDismissAction(optional)   | `boolean`  | Indicates whether to send actions for handling when the notification is dismissed (the user must explicitly dismiss the notification interface - ignoring a notification or flicking away a notification banner does not trigger this action). Default: `false`                                                         |
| intentIdentifiers(optional)     | `string[]` | Array of [Intent Class Identifiers](https://developer.apple.com/documentation/sirikit/intent_class_identifiers). When a notification is delivered, the presence of an intent identifier lets the system know that the notification is potentially related to the handling of a request made through Siri. Default: `[]` |
| previewPlaceholder(optional)    | `string`   | Customizable placeholder for the notification preview text. This is shown if the user has disabled notification previews for the app. Defaults to the localized iOS system default placeholder (`Notification`).                                                                                                        |
| showSubtitle(optional)          | `boolean`  | Indicates whether to show the notification's subtitle, even if the user has disabled notification previews for the app. Default: `false`                                                                                                                                                                                |
| showTitle(optional)             | `boolean`  | Indicates whether to show the notification's title, even if the user has disabled notification previews for the app. Default: `false`                                                                                                                                                                                   |

### `NotificationChannelInput`

Supported platforms: Android.

Type: RequiredBy<[Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[NotificationChannel](#notificationchannel), 'id' | 'audioAttributes' | 'sound'\> & { audioAttributes: [AudioAttributesInput](#audioattributesinput), sound: string | null }, 'name' | 'importance'\>

An object which represents a notification channel to be set.

### `NotificationContent`

Supported platforms: Android, iOS.

An object represents notification's content.

Type: [NotificationContentIos](#notificationcontentios) | [NotificationContentAndroid](#notificationcontentandroid) extended by:

| Property           | Type        | Description                                          |
| ------------------ | ----------- | ---------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- | ----- | --- |
| body               | `string     | null`                                                | Notification body - the main content of the notification.                                                                                          |
| categoryIdentifier | `string     | null`                                                | The identifier of the notificationâ€™s category.                                                                                                     |
| data               | `undefined` | Data associated with the notification, not displayed |
| sound              | `'default'  | 'defaultCritical'                                    | 'custom'                                                                                                                                           | null` | -   |
| subtitle           | `string     | null`                                                | On Android: `subText` - the display depends on the device. On iOS: `subtitle` - the bold text displayed between title and the rest of the content. |
| title              | `string     | null`                                                | Notification title - the bold text displayed above the rest of the content.                                                                        |

### `NotificationContentAndroid`

Supported platforms: Android, iOS.

See [Android developer documentation](https://developer.android.com/reference/android/app/Notification#fields) for more information on specific fields.

| Property                   | Type                                                        | Description                                                                                                                                                                                                                                                                                                                                                                                                                |
| -------------------------- | ----------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| badge(optional)            | `number`                                                    | Application badge number associated with the notification.                                                                                                                                                                                                                                                                                                                                                                 |
| color(optional)            | `string`                                                    | Accent color (in `#AARRGGBB` or `#RRGGBB` format) to be applied by the standard Style templates when presenting this notification.                                                                                                                                                                                                                                                                                         |
| priority(optional)         | [AndroidNotificationPriority](#androidnotificationpriority) | Relative priority for this notification. Priority is an indication of how much of the user's valuable attention should be consumed by this notification. Low-priority notifications may be hidden from the user in certain situations, while the user might be interrupted for a higher-priority notification. The system will make a determination about how to interpret this priority when presenting the notification. |
| vibrationPattern(optional) | `number[]`                                                  | The pattern with which to vibrate.                                                                                                                                                                                                                                                                                                                                                                                         |

### `NotificationContentAttachmentIos`

Supported platforms: iOS.

| Property                    | Type                                                      | Description |
| --------------------------- | --------------------------------------------------------- | ----------- | --- |
| hideThumbnail(optional)     | `boolean`                                                 | -           |
| identifier                  | `string                                                   | null`       | -   |
| thumbnailClipArea(optional) | `{ height: number, width: number, x: number, y: number }` | -           |
| thumbnailTime(optional)     | `number`                                                  | -           |
| type                        | `string                                                   | null`       | -   |
| typeHint(optional)          | `string`                                                  | -           |
| url                         | `string                                                   | null`       | -   |

### `NotificationContentInput`

Supported platforms: Android, iOS.

An object which represents notification content that you pass in as a part of `NotificationRequestInput`.

| Property                     | Type                                                                    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ---------------------------- | ----------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------- | ----------- | ------------------------------------------------------------------------------------------------------ |
| attachments(optional)        | [NotificationContentAttachmentIos[]](#notificationcontentattachmentios) | Supported platforms: iOS. The visual and audio attachments to display alongside the notificationâ€™s main content.                                                                                                                                                                                                                                                                                                                                                                                |
| autoDismiss(optional)        | `boolean`                                                               | Supported platforms: Android. If set to `false`, the notification will not be automatically dismissed when clicked. The setting will be used when the value is not provided or is invalid is set to `true`, and the notification will be dismissed automatically anyway. Corresponds directly to Android's `setAutoCancel` behavior. See [Android developer documentation](<https://developer.android.com/reference/android/app/Notification.Builder#setAutoCancel(boolean)>) for more details. |
| badge(optional)              | `number`                                                                | Application badge number associated with the notification.                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| body(optional)               | `string                                                                 | null`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The main content of the notification. |
| categoryIdentifier(optional) | `string`                                                                | Supported platforms: iOS. The identifier of the notificationâ€™s category.                                                                                                                                                                                                                                                                                                                                                                                                                        |
| color(optional)              | `string`                                                                | Supported platforms: Android. Accent color (in `#AARRGGBB` or `#RRGGBB` format) to be applied by the standard Style templates when presenting this notification.                                                                                                                                                                                                                                                                                                                                |
| data(optional)               | `Record<string, unknown>`                                               | Data associated with the notification, not displayed.                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| interruptionLevel(optional)  | `'passive'                                                              | 'active'                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 'timeSensitive'                       | 'critical'` | Supported platforms: iOS. The notificationâ€™s importance and required delivery timing. Possible values: |

- 'passive' - the system adds the notification to the notification list without lighting up the screen or playing a sound
- 'active' - the system presents the notification immediately, lights up the screen, and can play a sound
- 'timeSensitive' - The system presents the notification immediately, lights up the screen, can play a sound, and breaks through system notification controls
- 'critical - the system presents the notification immediately, lights up the screen, and bypasses the mute switch to play a sound

|
| launchImageName(optional) | `string` | The name of the image or storyboard to use when your app launches because of the notification. |
| priority(optional) | `string` | Supported platforms: Android. Relative priority for this notification. Priority is an indication of how much of the user's valuable attention should be consumed by this notification. Low-priority notifications may be hidden from the user in certain situations, while the user might be interrupted for a higher-priority notification. The system will make a determination about how to interpret this priority when presenting the notification. |
| sound(optional) | `boolean | string` | - |
| sticky(optional) | `boolean` | Supported platforms: Android. If set to `true`, the notification cannot be dismissed by swipe. This setting defaults to `false` if not provided or is invalid. Corresponds directly do Android's `isOngoing` behavior. In Firebase terms this property of a notification is called `sticky`. See [Android developer documentation](<https://developer.android.com/reference/android/app/Notification.Builder#setOngoing(boolean)>) and [Firebase documentation](https://firebase.google.com/docs/reference/fcm/rest/v1/projects.messages#AndroidNotification.FIELDS.sticky) for more details. |
| subtitle(optional) | `string | null` | On Android: `subText` - the display depends on the device. On iOS: `subtitle` - the bold text displayed between title and the rest of the content. |
| title(optional) | `string | null` | Notification title - the bold text displayed above the rest of the content. |
| vibrate(optional) | `number[]` | Supported platforms: Android. The pattern with which to vibrate. |

### `NotificationContentIos`

Supported platforms: Android, iOS.

See [Apple documentation](https://developer.apple.com/documentation/usernotifications/unnotificationcontent?language=objc) for more information on specific fields.

| Property                    | Type                                                                    | Description                                                                            |
| --------------------------- | ----------------------------------------------------------------------- | -------------------------------------------------------------------------------------- | ----------------------------------------- | ----------- | ------------------------------------------------------------------------------------------------------ |
| attachments                 | [NotificationContentAttachmentIos[]](#notificationcontentattachmentios) | The visual and audio attachments to display alongside the notificationâ€™s main content. |
| badge                       | `number                                                                 | null`                                                                                  | The number that your appâ€™s icon displays. |
| interruptionLevel(optional) | `'passive'                                                              | 'active'                                                                               | 'timeSensitive'                           | 'critical'` | Supported platforms: iOS. The notificationâ€™s importance and required delivery timing. Possible values: |

- 'passive' - the system adds the notification to the notification list without lighting up the screen or playing a sound
- 'active' - the system presents the notification immediately, lights up the screen, and can play a sound
- 'timeSensitive' - The system presents the notification immediately, lights up the screen, can play a sound, and breaks through system notification controls
- 'critical - the system presents the notification immediately, lights up the screen, and bypasses the mute switch to play a sound

|
| launchImageName | `string | null` | The name of the image or storyboard to use when your app launches because of the notification. |
| summaryArgument(optional) | `string | null` | The text the system adds to the notification summary to provide additional context. |
| summaryArgumentCount(optional) | `number` | The number the system adds to the notification summary when the notification represents multiple items. |
| targetContentIdentifier(optional) | `string` | The value your app uses to determine which scene to display to handle the notification. |
| threadIdentifier | `string | null` | The identifier that groups related notifications. |

### `NotificationHandlingError`

Supported platforms: Android, iOS.

Literal Type: `union`

Acceptable values are: `NotificationTimeoutError` | [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

### `NotificationTaskPayload`

Supported platforms: Android, iOS.

Payload for the background notification handler task. [Read more](#run-javascript-in-response-to-incoming-notifications).

Type: [NotificationResponse](#notificationresponse) or `object` shaped as below:

| Property      | Type                      | Description                                                                                                                                                                                                        |
| ------------- | ------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------- |
| aps(optional) | `Record<string, unknown>` | Supported platforms: iOS. Detailed, raw object describing the remote notification. [See more](https://developer.apple.com/documentation/usernotifications/generating-a-remote-notification#Payload-key-reference). |
| data          | `{ dataString: string }`  | `dataString` carries the data payload of the notification as JSON string.                                                                                                                                          |
| notification  | `Record<string, unknown>  | null`                                                                                                                                                                                                              | Object describing the remote notification. `null` for headless background notifications. |

### `NotificationTrigger`

Supported platforms: Android, iOS.

Literal Type: `union`

A union type containing different triggers which may cause the notification to be delivered to the application.

Acceptable values are: [PushNotificationTrigger](#pushnotificationtrigger) | [LocationNotificationTrigger](#locationnotificationtrigger) | [NotificationTriggerInput](#notificationtriggerinput) | [UnknownNotificationTrigger](#unknownnotificationtrigger)

### `NotificationTriggerInput`

Supported platforms: Android, iOS.

Literal Type: `union`

A type which represents possible triggers with which you can schedule notifications. A `null` trigger means that the notification should be scheduled for delivery immediately.

Acceptable values are: `null` | [ChannelAwareTriggerInput](#channelawaretriggerinput) | [SchedulableNotificationTriggerInput](#schedulablenotificationtriggerinput)

### `PermissionExpiration`

Supported platforms: Android, iOS.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionResponse`

Supported platforms: Android, iOS.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

### `PushNotificationTrigger`

Supported platforms: Android, iOS.

| Property                | Type                                            | Description                   |
| ----------------------- | ----------------------------------------------- | ----------------------------- |
| payload(optional)       | `Record<string, unknown>`                       | Supported platforms: iOS.     |
| remoteMessage(optional) | [FirebaseRemoteMessage](#firebaseremotemessage) | Supported platforms: Android. |
| type                    | `'push'`                                        | -                             |

### `PushTokenListener(token)`

Supported platforms: Android, iOS.

A function accepting a device push token ([`DevicePushToken`](#devicepushtoken)) as an argument.

> **Note:** You should not call `getDevicePushTokenAsync` inside this function, as it triggers the listener and may lead to an infinite loop.

| Parameter | Type                                |
| --------- | ----------------------------------- |
| `token`   | [DevicePushToken](#devicepushtoken) |

Returns:

`void`

### `RequiredBy`

Supported platforms: Android, iOS.

Literal Type: `union`

Acceptable values are: [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<T, K\>\> | [Required](https://www.typescriptlang.org/docs/handbook/utility-types.html#requiredtype)<[Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<T, K\>\>

### `SchedulableNotificationTriggerInput`

Supported platforms: Android, iOS.

Literal Type: `union`

Input for time-based, schedulable triggers. For these triggers you can check the next trigger date with [`getNextTriggerDateAsync`](#getnexttriggerdateasynctrigger). If you pass in a `number` (Unix timestamp) or `Date`, it will be processed as a trigger input of type [`SchedulableTriggerInputTypes.DATE`](#date). Otherwise, the input must be an object, with a `type` value set to one of the allowed values in [`SchedulableTriggerInputTypes`](#schedulabletriggerinputtypes). If the input is an object, date components passed in will be validated, and an error is thrown if they are outside their allowed range (for example, the `minute` and `second` components must be between 0 and 59 inclusive).

Acceptable values are: [CalendarTriggerInput](#calendartriggerinput) | [TimeIntervalTriggerInput](#timeintervaltriggerinput) | [DailyTriggerInput](#dailytriggerinput) | [WeeklyTriggerInput](#weeklytriggerinput) | [MonthlyTriggerInput](#monthlytriggerinput) | [YearlyTriggerInput](#yearlytriggerinput) | [DateTriggerInput](#datetriggerinput)

> **Deprecated:** use the [`EventSubscription`](#eventsubscription) type instead

### `Subscription`

Supported platforms: Android, iOS.

Type: `EventSubscription`

### `TimeIntervalTriggerInput`

Supported platforms: Android, iOS.

This trigger input will cause the notification to be delivered once or many times (depends on the `repeats` field) after `seconds` time elapse.

> **On iOS**, when `repeats` is `true`, the time interval must be 60 seconds or greater. Otherwise, the notification won't be triggered.

| Property            | Type                                         | Description |
| ------------------- | -------------------------------------------- | ----------- |
| channelId(optional) | `string`                                     | -           |
| repeats(optional)   | `boolean`                                    | -           |
| seconds             | `number`                                     | -           |
| type                | `SchedulableTriggerInputTypes.TIME_INTERVAL` | -           |

### `WeeklyTriggerInput`

Supported platforms: Android, iOS.

This trigger input will cause the notification to be delivered once every week when the `weekday`, `hour`, and `minute` date components match the specified values.

> **Note:** Weekdays are specified with a number from `1` through `7`, with `1` indicating Sunday.

| Property            | Type                                  | Description |
| ------------------- | ------------------------------------- | ----------- |
| channelId(optional) | `string`                              | -           |
| hour                | `number`                              | -           |
| minute              | `number`                              | -           |
| type                | `SchedulableTriggerInputTypes.WEEKLY` | -           |
| weekday             | `number`                              | -           |

### `YearlyTriggerInput`

Supported platforms: Android, iOS.

This trigger input will cause the notification to be delivered once every year when the `day`, `month`, `hour`, and `minute` date components match the specified values.

> **Note:** All properties are specified in JavaScript `Date` object's ranges (i.e. January is represented as 0).

| Property            | Type                                  | Description |
| ------------------- | ------------------------------------- | ----------- |
| channelId(optional) | `string`                              | -           |
| day                 | `number`                              | -           |
| hour                | `number`                              | -           |
| minute              | `number`                              | -           |
| month               | `number`                              | -           |
| type                | `SchedulableTriggerInputTypes.YEARLY` | -           |

## Enums

### `AndroidAudioContentType`

Supported platforms: Android, iOS.

#### `UNKNOWN`

`AndroidAudioContentType.UNKNOWN = 0`

#### `SPEECH`

`AndroidAudioContentType.SPEECH = 1`

#### `MUSIC`

`AndroidAudioContentType.MUSIC = 2`

#### `MOVIE`

`AndroidAudioContentType.MOVIE = 3`

#### `SONIFICATION`

`AndroidAudioContentType.SONIFICATION = 4`

### `AndroidAudioUsage`

Supported platforms: Android, iOS.

#### `UNKNOWN`

`AndroidAudioUsage.UNKNOWN = 0`

#### `MEDIA`

`AndroidAudioUsage.MEDIA = 1`

#### `VOICE_COMMUNICATION`

`AndroidAudioUsage.VOICE_COMMUNICATION = 2`

#### `VOICE_COMMUNICATION_SIGNALLING`

`AndroidAudioUsage.VOICE_COMMUNICATION_SIGNALLING = 3`

#### `ALARM`

`AndroidAudioUsage.ALARM = 4`

#### `NOTIFICATION`

`AndroidAudioUsage.NOTIFICATION = 5`

#### `NOTIFICATION_RINGTONE`

`AndroidAudioUsage.NOTIFICATION_RINGTONE = 6`

#### `NOTIFICATION_COMMUNICATION_REQUEST`

`AndroidAudioUsage.NOTIFICATION_COMMUNICATION_REQUEST = 7`

#### `NOTIFICATION_COMMUNICATION_INSTANT`

`AndroidAudioUsage.NOTIFICATION_COMMUNICATION_INSTANT = 8`

#### `NOTIFICATION_COMMUNICATION_DELAYED`

`AndroidAudioUsage.NOTIFICATION_COMMUNICATION_DELAYED = 9`

#### `NOTIFICATION_EVENT`

`AndroidAudioUsage.NOTIFICATION_EVENT = 10`

#### `ASSISTANCE_ACCESSIBILITY`

`AndroidAudioUsage.ASSISTANCE_ACCESSIBILITY = 11`

#### `ASSISTANCE_NAVIGATION_GUIDANCE`

`AndroidAudioUsage.ASSISTANCE_NAVIGATION_GUIDANCE = 12`

#### `ASSISTANCE_SONIFICATION`

`AndroidAudioUsage.ASSISTANCE_SONIFICATION = 13`

#### `GAME`

`AndroidAudioUsage.GAME = 14`

### `AndroidImportance`

Supported platforms: Android, iOS.

#### `UNKNOWN`

`AndroidImportance.UNKNOWN = 0`

#### `UNSPECIFIED`

`AndroidImportance.UNSPECIFIED = 1`

#### `NONE`

`AndroidImportance.NONE = 2`

#### `MIN`

`AndroidImportance.MIN = 3`

#### `LOW`

`AndroidImportance.LOW = 4`

#### `DEFAULT`

`AndroidImportance.DEFAULT = 5`

#### `HIGH`

`AndroidImportance.HIGH = 6`

#### `MAX`

`AndroidImportance.MAX = 7`

### `AndroidNotificationPriority`

Supported platforms: Android.

An enum corresponding to values appropriate for Android's [`Notification#priority`](https://developer.android.com/reference/android/app/Notification#priority) field.

#### `DEFAULT`

`AndroidNotificationPriority.DEFAULT = "default"`

#### `HIGH`

`AndroidNotificationPriority.HIGH = "high"`

#### `LOW`

`AndroidNotificationPriority.LOW = "low"`

#### `MAX`

`AndroidNotificationPriority.MAX = "max"`

#### `MIN`

`AndroidNotificationPriority.MIN = "min"`

### `AndroidNotificationVisibility`

Supported platforms: Android, iOS.

#### `UNKNOWN`

`AndroidNotificationVisibility.UNKNOWN = 0`

#### `PUBLIC`

`AndroidNotificationVisibility.PUBLIC = 1`

#### `PRIVATE`

`AndroidNotificationVisibility.PRIVATE = 2`

#### `SECRET`

`AndroidNotificationVisibility.SECRET = 3`

### `IosAlertStyle`

Supported platforms: Android, iOS.

#### `NONE`

`IosAlertStyle.NONE = 0`

#### `BANNER`

`IosAlertStyle.BANNER = 1`

#### `ALERT`

`IosAlertStyle.ALERT = 2`

### `IosAllowsPreviews`

Supported platforms: Android, iOS.

#### `NEVER`

`IosAllowsPreviews.NEVER = 0`

#### `ALWAYS`

`IosAllowsPreviews.ALWAYS = 1`

#### `WHEN_AUTHENTICATED`

`IosAllowsPreviews.WHEN_AUTHENTICATED = 2`

### `IosAuthorizationStatus`

Supported platforms: Android, iOS.

#### `NOT_DETERMINED`

`IosAuthorizationStatus.NOT_DETERMINED = 0`

#### `DENIED`

`IosAuthorizationStatus.DENIED = 1`

#### `AUTHORIZED`

`IosAuthorizationStatus.AUTHORIZED = 2`

#### `PROVISIONAL`

`IosAuthorizationStatus.PROVISIONAL = 3`

#### `EPHEMERAL`

`IosAuthorizationStatus.EPHEMERAL = 4`

### `PermissionStatus`

Supported platforms: Android, iOS.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

### `SchedulableTriggerInputTypes`

Supported platforms: Android, iOS.

Schedulable trigger inputs (that are not a plain date value or time value) must have the "type" property set to one of these values.

#### `CALENDAR`

`SchedulableTriggerInputTypes.CALENDAR = "calendar"`

#### `DAILY`

`SchedulableTriggerInputTypes.DAILY = "daily"`

#### `DATE`

`SchedulableTriggerInputTypes.DATE = "date"`

#### `MONTHLY`

`SchedulableTriggerInputTypes.MONTHLY = "monthly"`

#### `TIME_INTERVAL`

`SchedulableTriggerInputTypes.TIME_INTERVAL = "timeInterval"`

#### `WEEKLY`

`SchedulableTriggerInputTypes.WEEKLY = "weekly"`

#### `YEARLY`

`SchedulableTriggerInputTypes.YEARLY = "yearly"`

---

---

title: Pedometer
description: A library that provides access to the device's pedometer sensor.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-sensors'
packageName: 'expo-sensors'
iconUrl: '/static/images/packages/expo-sensors.png'
platforms: ['android', 'ios', 'expo-go']

---

# Expo Pedometer

A library that provides access to the device's pedometer sensor.
Android, iOS, Included in Expo Go

`Pedometer` from `expo-sensors` uses the system `hardware.Sensor` on Android and Core Motion on iOS to get the user's step count, and also allows you to subscribe to pedometer updates.

## Installation

```sh
npx expo install expo-sensors
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { StyleSheet, Text, View } from "react-native";
import { useState, useEffect } from "react";
import { Pedometer } from "expo-sensors";

export default function App() {
  const [isPedometerAvailable, setIsPedometerAvailable] = useState("checking");
  const [pastStepCount, setPastStepCount] = useState(0);
  const [currentStepCount, setCurrentStepCount] = useState(0);

  const subscribe = async () => {
    const isAvailable = await Pedometer.isAvailableAsync();
    setIsPedometerAvailable(String(isAvailable));

    if (isAvailable) {
      const end = new Date();
      const start = new Date();
      start.setDate(end.getDate() - 1);

      const pastStepCountResult = await Pedometer.getStepCountAsync(start, end);
      if (pastStepCountResult) {
        setPastStepCount(pastStepCountResult.steps);
      }

      return Pedometer.watchStepCount(result => {
        setCurrentStepCount(result.steps);
      });
    }
  };

  useEffect(() => {
    const subscription = subscribe();
    return () => subscription && subscription.remove();
  }, []);

  return (
    <View style={styles.container}>
      <Text>Pedometer.isAvailableAsync(): {isPedometerAvailable}</Text>
      <Text>Steps taken in the last 24 hours: {pastStepCount}</Text>
      <Text>Walk! And watch this go up: {currentStepCount}</Text>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    marginTop: 15,
    alignItems: "center",
    justifyContent: "center",
  },
});
```

## API

```js
import { Pedometer } from "expo-sensors";
```

## Methods

### `Pedometer.getPermissionsAsync()`

Supported platforms: Android, iOS.

Checks user's permissions for accessing pedometer.

Returns: `Promise<permissionresponse>`

### `Pedometer.getStepCountAsync(start, end)`

Supported platforms: iOS.

| Parameter | Type                                                                                          | Description                                                           |
| --------- | --------------------------------------------------------------------------------------------- | --------------------------------------------------------------------- |
| `start`   | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | A date indicating the start of the range over which to measure steps. |
| `end`     | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | A date indicating the end of the range over which to measure steps.   |

Get the step count between two dates.

Returns: `Promise<pedometerresult>`

Returns a promise that fulfills with a [`PedometerResult`](#pedometerresult).

As [Apple documentation states](https://developer.apple.com/documentation/coremotion/cmpedometer/1613946-querypedometerdatafromdate?language=objc):

> Only the past seven days worth of data is stored and available for you to retrieve. Specifying a start date that is more than seven days in the past returns only the available data.

### `Pedometer.isAvailableAsync()`

Supported platforms: Android, iOS.

Returns whether the pedometer is enabled on the device.

Returns: `Promise<boolean>`

Returns a promise that fulfills with a `boolean`, indicating whether the pedometer is available on this device.

### `Pedometer.requestPermissionsAsync()`

Supported platforms: Android, iOS.

Asks the user to grant permissions for accessing pedometer.

Returns: `Promise<permissionresponse>`

### `Pedometer.watchStepCount(callback)`

Supported platforms: Android, iOS.

| Parameter  | Type                                                | Description                                                                                                                                                      |
| ---------- | --------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `callback` | [PedometerUpdateCallback](#pedometerupdatecallback) | A callback that is invoked when new step count data is available. The callback is provided with a single argument that is [`PedometerResult`](#pedometerresult). |

Subscribe to pedometer updates.

Returns: `EventSubscription`

Returns a [`Subscription`](#subscription) that enables you to call `remove()` when you would like to unsubscribe the listener.

> Pedometer updates will not be delivered while the app is in the background. As an alternative, on Android, use another solution based on [`Health Connect API`](https://developer.android.com/health-and-fitness/guides/health-connect). On iOS, the `getStepCountAsync` method can be used to get the step count between two dates.

## Interfaces

### `Subscription`

Supported platforms: Android, iOS.

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Supported platforms: Android, iOS.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

## Types

### `PedometerResult`

Supported platforms: Android, iOS.

| Property | Type     | Description                                    |
| -------- | -------- | ---------------------------------------------- |
| steps    | `number` | Number of steps taken between the given dates. |

### `PedometerUpdateCallback(result)`

Supported platforms: Android, iOS.

Callback function providing event result as an argument.

| Parameter | Type                                |
| --------- | ----------------------------------- |
| `result`  | [PedometerResult](#pedometerresult) |

Returns:

`void`

### `PermissionExpiration`

Supported platforms: Android, iOS.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionResponse`

Supported platforms: Android, iOS.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

## Enums

### `PermissionStatus`

Supported platforms: Android, iOS.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

---

---

title: '@react-native-picker/picker'
description: A cross-platform component that provides access to the system UI for picking between several options.
sourceCodeUrl: 'https://github.com/react-native-picker/picker'
packageName: '@react-native-picker/picker'
platforms: ['android', 'ios', 'macos', 'web', 'expo-go']
inExpoGo: true

---

# @react-native-picker/picker

A cross-platform component that provides access to the system UI for picking between several options.
Android, iOS, macOS, Web, Included in Expo Go

A component that provides access to the system UI for picking between several options.

## Installation

```sh
npx expo install @react-native-picker/picker
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://github.com/react-native-picker/picker#getting-started) provided in the library's README or documentation.

## Learn more

[Visit official documentation](https://github.com/react-native-picker/picker) â€” Get full information on API and its usage.

---

---

title: Print
description: A library that provides printing functionality for Android and iOS (AirPrint).
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-print'
packageName: 'expo-print'
iconUrl: '/static/images/packages/expo-print.png'
platforms: ['android', 'ios', 'web', 'expo-go']

---

# Expo Print

A library that provides printing functionality for Android and iOS (AirPrint).
Android, iOS, Web, Included in Expo Go

`expo-print` provides an API for Android and iOS (AirPrint) printing functionality.

## Installation

```sh
npx expo install expo-print
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { View, StyleSheet, Button, Platform, Text } from "react-native";
import { shareAsync } from "expo-sharing";
import * as Print from "expo-print";
import { useState } from "react";

const html = `
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
  </head>
  <body style="text-align: center;">
    <h1 style="font-size: 50px; font-family: Helvetica Neue; font-weight: normal;">
      Hello Expo!
    </h1>
    <img
      src="https://d30j33t1r58ioz.cloudfront.net/static/guides/sdk.png"
      style="width: 90vw;" />
  </body>
</html>
`;

export default function App() {
  const [selectedPrinter, setSelectedPrinter] = useState();

  const print = async () => {
    // On iOS/android prints the given html. On web prints the HTML from the current page.
    await Print.printAsync({
      html,
      printerUrl: selectedPrinter?.url, // iOS only
    });
  };

  const printToFile = async () => {
    // On iOS/android prints the given html. On web prints the HTML from the current page.
    const { uri } = await Print.printToFileAsync({ html });
    console.log("File has been saved to:", uri);
    await shareAsync(uri, { UTI: ".pdf", mimeType: "application/pdf" });
  };

  const selectPrinter = async () => {
    const printer = await Print.selectPrinterAsync(); // iOS only
    setSelectedPrinter(printer);
  };

  return (
    <View style={styles.container}>
      <Button
        title="Print"
        onPress={print}
      />
      <View style={styles.spacer} />
      <Button
        title="Print to PDF file"
        onPress={printToFile}
      />
      {Platform.OS === "ios" && (
        <>
          <View style={styles.spacer} />
          <Button
            title="Select printer"
            onPress={selectPrinter}
          />
          <View style={styles.spacer} />
          {selectedPrinter ? (
            <Text
              style={styles.printer}
            >{`Selected printer: ${selectedPrinter.name}`}</Text>
          ) : undefined}
        </>
      )}
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    backgroundColor: "#ecf0f1",
    flexDirection: "column",
    padding: 8,
  },
  spacer: {
    height: 8,
  },
  printer: {
    textAlign: "center",
  },
});
```

## API

```js
import * as Print from "expo-print";
```

## Constants

### `Print.Orientation`

Supported platforms: Android, iOS, Web.

Type: [OrientationType](#orientationtype)

The orientation of the printed content.

## Methods

### `Print.printAsync(options)`

Supported platforms: Android, iOS, Web.

| Parameter | Type                          | Description                            |
| --------- | ----------------------------- | -------------------------------------- |
| `options` | [PrintOptions](#printoptions) | A map defining what should be printed. |

Prints a document or HTML, on web this prints the HTML from the page.

> Note: On iOS, printing from HTML source doesn't support local asset URLs (due to `WKWebView` limitations). As a workaround you can use inlined base64-encoded strings. See [this comment](https://github.com/expo/expo/issues/7940#issuecomment-657111033) for more details.

> Note: on iOS, when printing without providing a `PrintOptions.printerUrl` the `Promise` will be resolved once printing is started in the native print window and rejected if the window is closed without starting the print. On Android the `Promise` will be resolved immediately after displaying the native print window and won't be rejected if the window is closed without starting the print.

Returns: `Promise<void>`

Resolves to an empty `Promise` if printing started.

### `Print.printToFileAsync(options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                                  | Description                           |
| ------------------- | ------------------------------------- | ------------------------------------- |
| `options`(optional) | [FilePrintOptions](#fileprintoptions) | A map of print options. Default: `{}` |

Prints HTML to PDF file and saves it to [app's cache directory](/versions/latest/sdk/filesystem#filesystemcachedirectory). On Web this method opens the print dialog.

Returns: `Promise<fileprintresult>`

### `Print.selectPrinterAsync()`

Supported platforms: iOS.

Chooses a printer that can be later used in `printAsync`

Returns: `Promise<printer>`

A promise which fulfils with an object containing `name` and `url` of the selected printer.

## Interfaces

### `OrientationType`

Supported platforms: Android, iOS, Web.

The possible values of orientation for the printed content.

| Property  | Type     | Description |
| --------- | -------- | ----------- |
| landscape | `string` | -           |
| portrait  | `string` | -           |

## Types

### `FilePrintOptions`

Supported platforms: Android, iOS, Web.

| Property                     | Type                        | Description                                                                                                                                                                                                                   |
| ---------------------------- | --------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| base64(optional)             | `boolean`                   | Whether to include base64 encoded string of the file in the returned object.                                                                                                                                                  |
| height(optional)             | `number`                    | Height of the single page in pixels. Defaults to `792` which is a height of US Letter paper format with 72 PPI.                                                                                                               |
| html(optional)               | `string`                    | HTML string to print into PDF file.                                                                                                                                                                                           |
| margins(optional)            | [PageMargins](#pagemargins) | Supported platforms: iOS. Page margins for the printed document.                                                                                                                                                              |
| textZoom(optional)           | `number`                    | Supported platforms: Android. The text zoom of the page in percent. The default is 100.                                                                                                                                       |
| useMarkupFormatter(optional) | `boolean`                   | Supported platforms: iOS. Alternative to default option that uses [UIMarkupTextPrintFormatter](https://developer.apple.com/documentation/uikit/uimarkuptextprintformatter) instead of WebView, but it doesn't display images. |
| width(optional)              | `number`                    | Width of the single page in pixels. Defaults to `612` which is a width of US Letter paper format with 72 PPI.                                                                                                                 |

### `FilePrintResult`

Supported platforms: Android, iOS, Web.

| Property         | Type     | Description                                                                                                                                                                    |
| ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| base64(optional) | `string` | Base64 encoded string containing the data of the PDF file. **Available only if `base64` option is truthy**. It doesn't include data URI prefix `data:application/pdf;base64,`. |
| numberOfPages    | `number` | Number of pages that were needed to render given content.                                                                                                                      |
| uri              | `string` | A URI to the printed PDF file.                                                                                                                                                 |

### `PageMargins`

Supported platforms: Android, iOS, Web.

| Property | Type     | Description |
| -------- | -------- | ----------- |
| bottom   | `number` | -           |
| left     | `number` | -           |
| right    | `number` | -           |
| top      | `number` | -           |

### `Printer`

Supported platforms: Android, iOS, Web.

| Property | Type     | Description          |
| -------- | -------- | -------------------- |
| name     | `string` | Name of the printer. |
| url      | `string` | URL of the printer.  |

### `PrintOptions`

Supported platforms: Android, iOS, Web.

| Property                     | Type                        | Description                                                                                                                                                                                                                                          |
| ---------------------------- | --------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| height(optional)             | `number`                    | Height of the single page in pixels. Defaults to `792` which is a height of US Letter paper format with 72 PPI. **Available only with `html` option.**                                                                                               |
| html(optional)               | `string`                    | Supported platforms: Android, iOS. HTML string to print.                                                                                                                                                                                             |
| margins(optional)            | [PageMargins](#pagemargins) | Supported platforms: iOS. Page margins for the printed document.                                                                                                                                                                                     |
| markupFormatterIOS(optional) | `string`                    | Deprecated: This argument is deprecated, use useMarkupFormatter instead. Might be removed in the future releases. . Supported platforms: iOS.                                                                                                        |
| orientation(optional)        | `OrientationType[portrait]  | OrientationType[landscape]`                                                                                                                                                                                                                          | Supported platforms: iOS. The orientation of the printed content, `Print.Orientation.portrait` or `Print.Orientation.landscape`. |
| printerUrl(optional)         | `string`                    | Supported platforms: iOS. URL of the printer to use. Returned from `selectPrinterAsync`.                                                                                                                                                             |
| uri(optional)                | `string`                    | Supported platforms: Android, iOS. URI of a PDF file to print. Remote, local (ex. selected via `DocumentPicker`) or base64 data URI starting with `data:application/pdf;base64,`. This only supports PDF, not other types of document (e.g. images). |
| useMarkupFormatter(optional) | `boolean`                   | Supported platforms: iOS. Alternative to default option that uses [UIMarkupTextPrintFormatter](https://developer.apple.com/documentation/uikit/uimarkuptextprintformatter) instead of WebView, but it doesn't display images.                        |
| width(optional)              | `number`                    | Width of the single page in pixels. Defaults to `612` which is a width of US Letter paper format with 72 PPI. **Available only with `html` option.**                                                                                                 |

## Local images

On iOS, printing from HTML source doesn't support local asset URLs (due to `WKWebView` limitations). Instead, images need to be converted to base64 and inlined into the HTML.

```tsx
import { useImageManipulator } from "expo-image-manipulator";
import { printAsync } from "expo-print";
import { Asset } from "expo-asset";
import { useEffect } from "react";

const IMAGE = Asset.fromModule(require("@/assets/images/icon.png"));

export function ImageManipulatorExample() {
  const context = useImageManipulator(IMAGE.uri);

  useEffect(() => {
    async function generateAndPrint() {
      try {
        await IMAGE.downloadAsync();
        const manipulatedImage = await context.renderAsync();
        const result = await manipulatedImage.saveAsync({ base64: true });

        const html = `
          <html>
            <img
              src="data:image/png;base64,${result.base64}"
              style="width: 90vw;" />
          </html>
        `;

        await printAsync({ html });
      } catch (error) {
        console.error("Error:", error);
      }
    }

    generateAndPrint();
  }, [context]);

  return <>{/* Render UI */}</>;
}
```

## Page margins

**On iOS** you can set the page margins using the `margins` option:

```js
const { uri } = await Print.printToFileAsync({
  html: "This page is printed with margins",
  margins: {
    left: 20,
    top: 50,
    right: 20,
    bottom: 100,
  },
});
```

If `useMarkupFormatter` is set to `true`, setting margins may cause a blank page to appear at the end of your printout. To prevent this, make sure your HTML string is a well-formed document, including `<!DOCTYPE html>` at the beginning of the string.

**On Android**, if you're using `html` option in `printAsync` or `printToFileAsync`, the resulting print might contain page margins (it depends on the WebView engine). They are set by `@page` style block and you can override them in your HTML code:

```html
<style>
  @page {
    margin: 20px;
  }
</style>
```

See [`@page` documentation on MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/@page) for more details.

---

---

title: react-native-reanimated
description: A library that provides an API that greatly simplifies the process of creating smooth, powerful, and maintainable animations.
sourceCodeUrl: 'https://github.com/software-mansion/react-native-reanimated'
packageName: react-native-reanimated
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']
inExpoGo: true

---

# react-native-reanimated

A library that provides an API that greatly simplifies the process of creating smooth, powerful, and maintainable animations.
Android, iOS, tvOS, Web, Included in Expo Go

[`react-native-reanimated`](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/getting-started/) provides an API that greatly simplifies the process of creating smooth, powerful, and maintainable animations.

> **Reanimated uses React Native APIs that are incompatible with "Remote JS Debugging" for JavaScriptCore**. To use a debugger with your app with `react-native-reanimated`, you'll need to use the [Hermes JavaScript engine](/guides/using-hermes) and the [JavaScript Inspector for Hermes](/guides/using-hermes#javascript-inspector-for-hermes).

## Installation

```sh
npx expo install react-native-reanimated react-native-worklets
```

No additional configuration is required. [Reanimated Babel plugin](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#reanimated-babel-plugin) is automatically configured in [`babel-preset-expo`](https://www.npmjs.com/package/babel-preset-expo) when you install the library.

## Usage

The following example shows how to use the `react-native-reanimated` library to create a simple animation.

```jsx
import Animated, {
  useSharedValue,
  withTiming,
  useAnimatedStyle,
  Easing,
} from "react-native-reanimated";
import { View, Button, StyleSheet } from "react-native";

export default function AnimatedStyleUpdateExample() {
  const randomWidth = useSharedValue(10);

  const config = {
    duration: 500,
    easing: Easing.bezier(0.5, 0.01, 0, 1),
  };

  const style = useAnimatedStyle(() => {
    return {
      width: withTiming(randomWidth.value, config),
    };
  });

  return (
    <View style={styles.container}>
      <Animated.View style={[styles.box, style]} />
      <Button
        title="toggle"
        onPress={() => {
          randomWidth.value = Math.random() * 350;
        }}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    justifyContent: "center",
  },
  box: {
    width: 100,
    height: 80,
    backgroundColor: "black",
    margin: 30,
  },
});
```

## Learn more

[Visit official documentation](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/your-first-animation) â€” Get full information on API and its usage.

---

---

title: Router native tabs
description: An Expo Router submodule that provides native tabs layout.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-router'
packageName: 'expo-router'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']
isNew: true

---

# Expo Router native tabs

An Expo Router submodule that provides native tabs layout.
Android, iOS, tvOS, Web, Included in Expo Go

> Native tabs is an alpha feature available in SDK 54 and later, and its API is subject to change.

`expo-router/unstable-native-tabs` is a submodule of `expo-router` and exports components to build tab layouts using platform-native system tabs.

> See the [Expo Router](/versions/latest/sdk/router) reference for more information about the file-based routing library for native and web app.

## Installation

To use `expo-router/unstable-native-tabs` in your project, you need to install `expo-router` in your project. Follow the instructions from Expo Router's installation guide:

[Install Expo Router](/router/installation) â€” Learn how to install Expo Router in your project.

## Configuration in app config

If you are using the [default](/more/create-expo#--template) template to create a new project, `expo-router`'s [config plugin](/config-plugins/introduction) is already configured in your app config.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": ["expo-router"]
  }
}
```

## Usage

To learn how to use native tabs, with Expo Router, read the native tabs guide:

[Native tabs](/router/advanced/native-tabs) â€” Learn how to use native tabs in your Expo Router app.

## API

```js
import {
  NativeTabs,
  Icon,
  Label,
  Badge,
  VectorIcon,
} from "expo-router/unstable-native-tabs";
```

## Components

### `Badge`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[BadgeProps](#badgeprops)\>

BadgeProps

### `children`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`

The text to display as the badge for the tab. If not provided, the badge will not be displayed.

### `hidden`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

If true, the badge will be hidden.

### `selectedBackgroundColor`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

### `Icon`

Supported platforms: Android, iOS.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[IconProps](#iconprops)\>

Renders an icon for the tab.

IconProps

### `selectedColor`

Supported platforms: Android, iOS.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

### `Label`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[LabelProps](#labelprops)\>

LabelProps

### `children`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`

The text to display as the label for the tab.

### `hidden`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

If true, the label will be hidden.

### `selectedStyle`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [NativeTabsLabelStyle](#nativetabslabelstyle)

### `NativeTabs`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[NativeTabsProps](#nativetabsprops)\>

The component used to create native tabs layout.

Example

```tsx
// In _layout file
import { NativeTabs } from "expo-router/unstable-native-tabs";

export default function Layout() {
  return (
    <NativeTabs>
      <NativeTabs.Trigger name="home" />
      <NativeTabs.Trigger name="settings" />
    </NativeTabs>
  );
}
```

NativeTabsProps

### `backBehavior`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒLiteral type: `string`

The behavior when navigating back with the back button.

Acceptable values are: `'history'` | `'none'` | `'initialRoute'`

### `backgroundColor`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

The background color of the tab bar.

Acceptable values are: `null` | [ColorValue](https://reactnative.dev/docs/colors)

### `badgeBackgroundColor`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

The background color of every badge in the tab bar.

### `badgeTextColor`

Supported platforms: Android, Web.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

The color of the badge text.

### `blurEffect`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒLiteral type: `string`

The blur effect applied to the tab bar.

Acceptable values are: `'none'` | `'systemDefault'` | `'extraLight'` | `'light'` | `'dark'` | `'regular'` | `'prominent'` | `'systemUltraThinMaterial'` | `'systemThinMaterial'` | `'systemMaterial'` | `'systemThickMaterial'` | `'systemChromeMaterial'` | `'systemUltraThinMaterialLight'` | `'systemThinMaterialLight'` | `'systemMaterialLight'` | `'systemThickMaterialLight'` | `'systemChromeMaterialLight'` | `'systemUltraThinMaterialDark'` | `'systemThinMaterialDark'` | `'systemMaterialDark'` | `'systemThickMaterialDark'` | `'systemChromeMaterialDark'`

### `disableIndicator`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Disables the active indicator for the tab bar.

### `disableTransparentOnScrollEdge`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

When set to `true`, the tab bar will not become transparent when scrolled to the edge.

### `iconColor`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

The color of every tab icon in the tab bar.

Acceptable values are: [ColorValue](https://reactnative.dev/docs/colors) | `{ default: ColorValue | undefined, selected: ColorValue | undefined }`

### `indicatorColor`

Supported platforms: Android, Web.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

The color of the tab indicator.

### `labelStyle`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

The style of the every tab label in the tab bar.

Acceptable values are: [NativeTabsLabelStyle](#nativetabslabelstyle) | { default: [NativeTabsLabelStyle](#nativetabslabelstyle), selected: [NativeTabsLabelStyle](#nativetabslabelstyle) }

### `labelVisibilityMode`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒLiteral type: `string`

The visibility mode of the tab item label.

> **See:** [Material Components documentation](https://github.com/material-components/material-components-android/blob/master/docs/components/BottomNavigation.md#making-navigation-bar-accessible)

Acceptable values are: `'auto'` | `'selected'` | `'labeled'` | `'unlabeled'`

### `minimizeBehavior`

Supported platforms: iOS 26+.

Optionalâ€ƒâ€¢â€ƒLiteral type: `string`â€ƒâ€¢â€ƒDefault: `automatic`

Specifies the minimize behavior for the tab bar.

Available starting from iOS 26.

The following values are currently supported:

- `automatic` - resolves to the system default minimize behavior
- `never` - the tab bar does not minimize
- `onScrollDown` - the tab bar minimizes when scrolling down and expands when scrolling back up
- `onScrollUp` - the tab bar minimizes when scrolling up and expands when scrolling back down

> **See:** The supported values correspond to the official [UIKit documentation](https://developer.apple.com/documentation/uikit/uitabbarcontroller/minimizebehavior).

Acceptable values are: `'automatic'` | `'never'` | `'onScrollDown'` | `'onScrollUp'`

### `rippleColor`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

The color of the ripple effect when the tab is pressed.

### `shadowColor`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

The color of the shadow.

> **See:** [Apple documentation](https://developer.apple.com/documentation/uikit/uibarappearance/shadowcolor)

### `tintColor`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

The tint color of the tab icon.

Can be overridden by icon color and label color for each tab individually.

### `titlePositionAdjustment`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `{ horizontal: number, vertical: number }`

> **See:** [Apple documentation](https://developer.apple.com/documentation/uikit/uitabbaritem/titlepositionadjustment)

#### Inherited Props

- `PropsWithChildren`

### `NativeTabs.Trigger.TabBar`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[NativeTabsTriggerTabBarProps](#nativetabstriggertabbarprops)\>

The component used to customize the style of the tab bar, when given trigger is selected.

Prefer this to global changes of tab bar styles, directly in the page.

> **Note:** You can use the alias `NativeTabs.Trigger.TabBar` for this component.

Example

```tsx
<NativeTabs backgroundColor="black">
  <NativeTabs.Trigger name="page">
    <NativeTabs.Trigger.TabBar backgroundColor="white" />
    <Label>Page</Label>
  </NativeTabs.Trigger>
</NativeTabs>
```

NativeTabsTriggerTabBarProps

### `backgroundColor`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

The background color of the tab bar, when the tab is selected

### `badgeBackgroundColor`

Supported platforms: iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

The background color of every badge in the tab bar.

### `badgeTextColor`

Supported platforms: Web.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

The color of the badge text.

### `blurEffect`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒLiteral type: `string`

The blur effect applied to the tab bar, when the tab is selected

Acceptable values are: `'none'` | `'systemDefault'` | `'extraLight'` | `'light'` | `'dark'` | `'regular'` | `'prominent'` | `'systemUltraThinMaterial'` | `'systemThinMaterial'` | `'systemMaterial'` | `'systemThickMaterial'` | `'systemChromeMaterial'` | `'systemUltraThinMaterialLight'` | `'systemThinMaterialLight'` | `'systemMaterialLight'` | `'systemThickMaterialLight'` | `'systemChromeMaterialLight'` | `'systemUltraThinMaterialDark'` | `'systemThinMaterialDark'` | `'systemMaterialDark'` | `'systemThickMaterialDark'` | `'systemChromeMaterialDark'`

### `disableTransparentOnScrollEdge`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

When set to `true`, the tab bar will not become transparent when scrolled to the edge.

### `iconColor`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

The color of every tab icon, when the tab is selected

### `indicatorColor`

Supported platforms: Web.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

The color of the tab indicator.

### `labelStyle`

Supported platforms: iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [NativeTabsLabelStyle](#nativetabslabelstyle)

The style of the every tab label in the tab bar.

### `shadowColor`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

The color of the shadow when the tab is selected.

> **See:** [Apple documentation](https://developer.apple.com/documentation/uikit/uibarappearance/shadowcolor)

### `NativeTabs.Trigger`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[NativeTabTriggerProps](#nativetabtriggerprops)\>

The component used to customize the native tab options both in the \_layout file and from the tab screen.

When used in the \_layout file, you need to provide a `name` prop. When used in the tab screen, the `name` prop takes no effect.

Example

```tsx
// In _layout file
import { NativeTabs } from "expo-router/unstable-native-tabs";

export default function Layout() {
  return (
    <NativeTabs>
      <NativeTabs.Trigger name="home" />
      <NativeTabs.Trigger name="settings" />
    </NativeTabs>
  );
}
```

Example

```tsx
// In a tab screen
import { NativeTabs } from "expo-router/unstable-native-tabs";

export default function HomeScreen() {
  return (
    <View>
      <NativeTabs.Trigger>
        <Label>Home</Label>
      </NativeTabs.Trigger>
      <Text>This is home screen!</Text>
    </View>
  );
}
```

> **Note:** You can use the alias `NativeTabs.Trigger` for this component.

NativeTabTriggerProps

### `children`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [ReactNode](https://reactnative.dev/docs/react-node)

The children of the trigger.

Use `Icon`, `Label`, and `Badge` components to customize the tab.

### `disablePopToTop`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

If true, the tab will not pop stack to the root when selected again.

### `disableScrollToTop`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

If true, the tab will not scroll to the top when selected again.

### `hidden`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

If true, the tab will be hidden from the tab bar.

### `name`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`

The name of the route.

This is required when used inside a Layout component.

When used in a route it has no effect.

### `options`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [NativeTabOptions](#nativetaboptions)

The options for the trigger.

Use `Icon`, `Label`, and `Badge` components as children to customize the tab, rather then raw options.

### `role`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒLiteral type: `string`

System-provided tab bar item with predefined icon and title

Uses Apple's built-in tab bar items (e.g., bookmarks, contacts, downloads) with standard iOS styling and localized titles. Custom `icon` or `selectedIcon` properties will override the system icon, but the system-defined title cannot be customized.

> **See:** [https://developer.apple.com/documentation/uikit/uitabbaritem/systemitem|UITabBarItem.SystemItem](https://developer.apple.com/documentation/uikit/uitabbaritem/systemitem%7CUITabBarItem.SystemItem)

Acceptable values are: `'search'` | `'history'` | `'bookmarks'` | `'contacts'` | `'downloads'` | `'favorites'` | `'featured'` | `'more'` | `'mostRecent'` | `'mostViewed'` | `'recents'` | `'topRated'`

### `VectorIcon`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[VectorIconProps](/versions/v54.0.0/sdk/router#vectoriconprops)<NameT\>\>

Helper component which can be used to load vector icons for `NativeTabs`.

Example

```tsx
import { NativeTabs, VectorIcon } from 'expo-router';
import MaterialCommunityIcons from '@expo/vector-icons/MaterialCommunityIcons';

export default Layout(){
  return (
    <NativeTabs>
      <NativeTabs.Trigger name="index">
        <Icon src={<VectorIcon family={MaterialCommunityIcons} name="home" />} />
      </NativeTabs.Trigger>
    </NativeTabs>
  );
}
```

VectorIconProps

### `family`

Supported platforms: Android, iOS, tvOS, Web.

Type: { getImageSource: (name: NameT, size: number, color: [ColorValue](https://reactnative.dev/docs/colors)) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<null | [ImageSourcePropType](https://reactnative.dev/docs/image#imagesource)\> }

The family of the vector icon.

Example

```tsx
import MaterialCommunityIcons from "@expo/vector-icons/MaterialCommunityIcons";
```

### `name`

Supported platforms: Android, iOS, tvOS, Web.

Type: `NameT`

The name of the vector icon.

## Interfaces

### `CrossPlatformIconCombination`

Supported platforms: Android, iOS, tvOS, Web.

| Property             | Type         | Description                                                           |
| -------------------- | ------------ | --------------------------------------------------------------------- | --------------------------------------- | --------------------------- | ------------------- | ------------------------------------------------- | --------------------------- | --------------------- | ------------------------------------------------------------------------------------------------------------------- |
| androidSrc(optional) | ReactElement | [ImageSourcePropType](https://reactnative.dev/docs/image#imagesource) | { default: ReactElement<unknown, string | JSXElementConstructor<any>> | ImageSourcePropType | undefined, selected: ReactElement<unknown, string | JSXElementConstructor<any>> | ImageSourcePropType } | Supported platforms: Android. The image source to use as an icon on Android. The value can be provided in two ways: |

- As an image source
- As an object specifying the default and selected states

. Example

```tsx
<Icon
  sf="magnifyingglass"
  androidSrc={require("./search.png")}
/>
```

. Example

```tsx
<Icon
  sf={{ default: "house", selected: "house.fill" }}
  androidSrc={{
    default: require("./icon.png"),
    selected: require("./icon-selected.png"),
  }}
/>
```

|
| drawable(optional) | `undefined` | - |
| sf(optional) | [SFSymbols6_0](https://github.com/nandorojo/sf-symbols-typescript) | { default: SFSymbols6_0 | undefined, selected: [SFSymbols6_0](https://github.com/nandorojo/sf-symbols-typescript) } | Supported platforms: iOS. The name of the SF Symbol to use as an icon on iOS. The value can be provided in two ways:

- As a string with the SF Symbol name
- As an object specifying the default and selected states

. Example

```tsx
<Icon
  sf="magnifyingglass"
  androidSrc={require("./search.png")}
/>
```

. Example

```tsx
<Icon
  sf={{ default: "house", selected: "house.fill" }}
  androidSrc={{
    default: require("./home.png"),
    selected: require("./home-filled.png"),
  }}
/>
```

|
| src(optional) | `undefined` | - |

### `NamedIconCombination`

Supported platforms: Android, iOS, tvOS, Web.

| Property             | Type                                                               | Description                                                                        |
| -------------------- | ------------------------------------------------------------------ | ---------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------- |
| androidSrc(optional) | `undefined`                                                        | -                                                                                  |
| drawable(optional)   | `string`                                                           | Supported platforms: Android. The name of the drawable resource to use as an icon. |
| sf(optional)         | [SFSymbols6_0](https://github.com/nandorojo/sf-symbols-typescript) | { default: SFSymbols6_0                                                            | undefined, selected: [SFSymbols6_0](https://github.com/nandorojo/sf-symbols-typescript) } | Supported platforms: iOS. The name of the SF Symbol to use as an icon. The value can be provided in two ways: |

- As a string with the SF Symbol name
- As an object specifying the default and selected states

. Example

```tsx
<Icon sf="magnifyingglass" />
```

. Example

```tsx
<Icon sf={{ default: "house", selected: "house.fill" }} />
```

|
| src(optional) | `undefined` | - |

### `NativeTabOptions`

Supported platforms: Android, iOS, tvOS, Web.

Extends: [DefaultRouterOptions](#defaultrouteroptions)

| Property                       | Type                                              | Description                                                                                                                              |
| ------------------------------ | ------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| backgroundColor(optional)      | [ColorValue](https://reactnative.dev/docs/colors) | The color of the background when the tab is selected.                                                                                    |
| badgeBackgroundColor(optional) | [ColorValue](https://reactnative.dev/docs/colors) | The color of all the badges when the tab is selected.                                                                                    |
| badgeTextColor(optional)       | [ColorValue](https://reactnative.dev/docs/colors) | Supported platforms: Android, Web. The color of the badge text.                                                                          |
| badgeValue(optional)           | `string`                                          | Supported platforms: Android, iOS. Specifies content of tab bar item badge. On Android, the value is interpreted in the following order: |

- If the string can be parsed to integer, displays the value as a number
- Otherwise if the string is empty, displays "small dot" badge
- Otherwise, displays the value as a text

. On iOS, badge is displayed as regular string. |
| blurEffect(optional) | `'none' | 'systemDefault' | 'extraLight' | 'light' | 'dark' | 'regular' | 'prominent' | 'systemUltraThinMaterial' | 'systemThinMaterial' | 'systemMaterial' | 'systemThickMaterial' | 'systemChromeMaterial' | 'systemUltraThinMaterialLight' | 'systemThinMaterialLight' | 'systemMaterialLight' | 'systemThickMaterialLight' | 'systemChromeMaterialLight' | 'systemUltraThinMaterialDark' | 'systemThinMaterialDark' | 'systemMaterialDark' | 'systemThickMaterialDark' | 'systemChromeMaterialDark'` | Supported platforms: iOS. The blur effect to apply when the tab is selected. |
| disableTransparentOnScrollEdge(optional) | `boolean` | Supported platforms: iOS. When set to `true`, the tab bar will not become transparent when scrolled to the edge. |
| icon(optional) | [SymbolOrImageSource](#symbolorimagesource) | Supported platforms: Android, iOS. The icon to display in the tab bar. |
| iconColor(optional) | [ColorValue](https://reactnative.dev/docs/colors) | The color of the icon when the tab is selected. On iOS 26+ you can change the icon color in the scroll edge state. |
| indicatorColor(optional) | [ColorValue](https://reactnative.dev/docs/colors) | Supported platforms: Android, Web. The color of the tab indicator. |
| labelStyle(optional) | [NativeTabsLabelStyle](#nativetabslabelstyle) | The style of all the tab labels, when the tab is selected |
| role(optional) | `'search' | 'history' | 'bookmarks' | 'contacts' | 'downloads' | 'favorites' | 'featured' | 'more' | 'mostRecent' | 'mostViewed' | 'recents' | 'topRated'` | Supported platforms: iOS. System-provided tab bar item with predefined icon and title . Uses Apple's built-in tab bar items (e.g., bookmarks, contacts, downloads) with standard iOS styling and localized titles. If you override the `title`, `icon`, or `selectedIcon`, note that this is not officially supported by Apple and may lead to unexpected results.See: https://developer.apple.com/documentation/uikit/uitabbaritem/systemitem|UITabBarItem.SystemItem |
| selectedBadgeBackgroundColor(optional) | [ColorValue](https://reactnative.dev/docs/colors) | The color of the badge when the tab is selected. |
| selectedIcon(optional) | [SymbolOrImageSource](#symbolorimagesource) | Supported platforms: iOS. The icon to display when the tab is selected. |
| selectedIconColor(optional) | [ColorValue](https://reactnative.dev/docs/colors) | The color of the icon when the tab is selected. |
| selectedLabelStyle(optional) | [NativeTabsLabelStyle](#nativetabslabelstyle) | The style of the tab label when the tab is selected. |
| selectedTitlePositionAdjustment(optional) | `{ horizontal: number, vertical: number }` | Supported platforms: iOS. The position adjustment for the label when the tab is selected. |
| shadowColor(optional) | [ColorValue](https://reactnative.dev/docs/colors) | Supported platforms: iOS. The color of the shadow when the tab is selected.See: Apple documentation |
| title(optional) | `string` | Supported platforms: Android, iOS. Title of the tab screen, displayed in the tab bar item. |
| titlePositionAdjustment(optional) | `{ horizontal: number, vertical: number }` | Supported platforms: iOS. The position adjustment for all the labels when the tab is selected. |

### `NativeTabsActiveStyleType`

Supported platforms: Android, Web.

| Property                 | Type                                              | Description                        |
| ------------------------ | ------------------------------------------------- | ---------------------------------- |
| color(optional)          | [ColorValue](https://reactnative.dev/docs/colors) | Supported platforms: Android, Web. |
| fontSize(optional)       | `number`                                          | Supported platforms: Android, Web. |
| iconColor(optional)      | [ColorValue](https://reactnative.dev/docs/colors) | Supported platforms: Android.      |
| indicatorColor(optional) | [ColorValue](https://reactnative.dev/docs/colors) | Supported platforms: Android, Web. |

### `NativeTabsLabelStyle`

Supported platforms: Android, iOS, tvOS, Web.

| Property             | Type                                              | Description                       |
| -------------------- | ------------------------------------------------- | --------------------------------- | -------------------------------- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | --------------------------------- |
| color(optional)      | [ColorValue](https://reactnative.dev/docs/colors) | The color of the tab label.       |
| fontFamily(optional) | `string`                                          | The font family of the tab label. |
| fontSize(optional)   | `number`                                          | The font size of the tab label.   |
| fontStyle(optional)  | `'italic'                                         | 'normal'`                         | The font style of the tab label. |
| fontWeight(optional) | [NumericFontWeight](#numericfontweight)           | '100'                             | '200'                            | '300' | '400' | '500' | '600' | '700' | '800' | '900' | The font weight of the tab label. |

### `SourceIconCombination`

Supported platforms: Android, iOS, tvOS, Web.

| Property             | Type         | Description                                                           |
| -------------------- | ------------ | --------------------------------------------------------------------- | --------------------------------------- | --------------------------- | ------------------- | ------------------------------------------------- | --------------------------- | --------------------- | ------------------------------------------------------------------------------------------------------------- |
| androidSrc(optional) | `undefined`  | -                                                                     |
| drawable(optional)   | `undefined`  | -                                                                     |
| sf(optional)         | `undefined`  | -                                                                     |
| src(optional)        | ReactElement | [ImageSourcePropType](https://reactnative.dev/docs/image#imagesource) | { default: ReactElement<unknown, string | JSXElementConstructor<any>> | ImageSourcePropType | undefined, selected: ReactElement<unknown, string | JSXElementConstructor<any>> | ImageSourcePropType } | Supported platforms: Android, iOS. The image source to use as an icon. The value can be provided in two ways: |

- As an image source
- As an object specifying the default and selected states

. Example

```tsx
<Icon src={require("./path/to/icon.png")} />
```

. Example

```tsx
<Icon
  src={{
    default: require("./path/to/icon.png"),
    selected: require("./path/to/icon-selected.png"),
  }}
/>
```

|

## Types

### `SymbolOrImageSource`

Supported platforms: Android, iOS, tvOS, Web.

Type: `object` shaped as below:

| Property           | Type                                                           | Description                                                                        |
| ------------------ | -------------------------------------------------------------- | ---------------------------------------------------------------------------------- |
| drawable(optional) | `string`                                                       | Supported platforms: Android. The name of the drawable resource to use as an icon. |
| sf(optional)       | [SFSymbol](https://github.com/nandorojo/sf-symbols-typescript) | Supported platforms: iOS. The name of the SF Symbol to use as an icon.             |

Or `object` shaped as below:

| Property      | Type                                                                  | Description                                                                                                                                                               |
| ------------- | --------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ----------------------------------- |
| src(optional) | [ImageSourcePropType](https://reactnative.dev/docs/image#imagesource) | [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<[ImageSourcePropType](https://reactnative.dev/docs/image#imagesource) | null\> | The image source to use as an icon. |

---

---

title: Router UI
description: An Expo Router submodule that provides headless tab components to create custom tab layouts.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-router'
packageName: 'expo-router'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo Router UI

An Expo Router submodule that provides headless tab components to create custom tab layouts.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-router/ui` is a submodule of `expo-router` library and exports components and hooks to build custom tab layouts, rather than using the default [React Navigation](https://reactnavigation.org/) navigators provided by `expo-router`.

> See the [Expo Router](/versions/latest/sdk/router) reference for more information about the file-based routing library for native and web app.

## Installation

To use `expo-router/ui` in your project, you need to install `expo-router` in your project. Follow the instructions from the Expo Router's installation guide:

[Install Expo Router](/router/installation) â€” Learn how to install Expo Router in your project.

## Configuration in app config

If you are using the [default](/more/create-expo#--template) template to create a new project, `expo-router`'s [config plugin](/config-plugins/introduction) is already configured in your app config.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": ["expo-router"]
  }
}
```

## Usage

For information about using `expo-router/ui` in Custom tab layouts guide:

[Custom tab layouts](/router/advanced/custom-tabs)

## API

```js
import { Tabs, TabList, TabTrigger, TabSlot } from "expo-router/ui";
```

## Components

### `TabContext`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[ProviderProps](#providerprops)<[ExpoTabsNavigatorScreenOptions](#expotabsnavigatorscreenoptions)\>\>

### `TabList`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[TabListProps](#tablistprops)\>

Wrapper component for `TabTriggers`. `TabTriggers` within the `TabList` define the tabs.

Example

```tsx
<Tabs>
  <TabSlot />
  <TabList>
    <TabTrigger
      name="home"
      href="/"
    />
  </TabList>
</Tabs>
```

TabListProps

### `asChild`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Forward props to child component and removes the extra `<View>`. Useful for custom wrappers.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

### `Tabs`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[TabsProps](#tabsprops)\>

Root component for the headless tabs.

> **See:** [`useTabsWithChildren`](#usetabswithchildrenoptions) for a hook version of this component.

Example

```tsx
<Tabs>
  <TabSlot />
  <TabList>
    <TabTrigger
      name="home"
      href="/"
    />
  </TabList>
</Tabs>
```

TabsProps

### `asChild`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Forward props to child component and removes the extra `<View>`. Useful for custom wrappers.

### `options`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [UseTabsOptions](#usetabsoptions)

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

### `TabSlot`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[TabSlotProps](#tabslotprops)\>

Renders the current tab.

> **See:** [`useTabSlot`](#usetabslot) for a hook version of this component.

Example

```tsx
<Tabs>
  <TabSlot />
  <TabList>
    <TabTrigger
      name="home"
      href="/"
    />
  </TabList>
</Tabs>
```

TabSlotProps

### `detachInactiveScreens`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Remove inactive screens.

### `renderFn`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `defaultTabsSlotRender`

Override how the `Screen` component is rendered.

#### Inherited Props

- `ComponentProps<ScreenContainer>`

### `TabTrigger`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[TabTriggerProps](#tabtriggerprops)\>

Creates a trigger to navigate to a tab. When used as child of `TabList`, its functionality slightly changes since the `href` prop is required, and the trigger also defines what routes are present in the `Tabs`.

When used outside of `TabList`, this component no longer requires an `href`.

Example

```tsx
<Tabs>
  <TabSlot />
  <TabList>
    <TabTrigger
      name="home"
      href="/"
    />
  </TabList>
</Tabs>
```

TabTriggerProps

### `asChild`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Forward props to child component. Useful for custom wrappers.

### `href`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [Href](/versions/v54.0.0/sdk/router#href-1)

Name of tab. Required when used within a `TabList`.

### `name`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string`

Name of tab. When used within a `TabList` this sets the name of the tab. Otherwise, this references the name.

### `reset`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

Resets the route when switching to a tab.

Acceptable values are: `SwitchToOptions[reset]` | `'onLongPress'`

#### Inherited Props

- `PressablePropsWithoutFunctionChildren`

### `useTabSlot`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[TabSlotProps](#tabslotprops)\>

Returns a `ReactElement` of the current tab.

Example

```tsx
function MyTabSlot() {
  const slot = useTabSlot();

  return slot;
}
```

## Hooks

### `useTabSlot(namedParameters)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                   | Type                          |
| --------------------------- | ----------------------------- |
| `namedParameters`(optional) | [TabSlotProps](#tabslotprops) |

Returns a `ReactElement` of the current tab.

Returns: `Element`

Example

```tsx
function MyTabSlot() {
  const slot = useTabSlot();

  return slot;
}
```

### `useTabsWithChildren(options)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type                                                      |
| --------- | --------------------------------------------------------- |
| `options` | [UseTabsWithChildrenOptions](#usetabswithchildrenoptions) |

Hook version of `Tabs`. The returned NavigationContent component should be rendered. Using the hook requires using the `<TabList />` and `<TabTrigger />` components exported from Expo Router.

The `useTabsWithTriggers()` hook can be used for custom components.

> **See:** [`Tabs`](#tabs) for the component version of this hook.

Example

```tsx
export function MyTabs({ children }) {
  const { NavigationContent } = useTabsWithChildren({ children });

  return <NavigationContent />;
}
```

### `useTabsWithTriggers(options)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type                                                      |
| --------- | --------------------------------------------------------- |
| `options` | [UseTabsWithTriggersOptions](#usetabswithtriggersoptions) |

Alternative hook version of `Tabs` that uses explicit triggers instead of `children`.

Returns: `TabsContextValue`

> **See:** [`Tabs`](#tabs) for the component version of this hook.

Example

```tsx
export function MyTabs({ children }) {
  const { NavigationContent } = useTabsWithChildren({ triggers: [] });

  return <NavigationContent />;
}
```

### `useTabTrigger(options)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type                                |
| --------- | ----------------------------------- |
| `options` | [TabTriggerProps](#tabtriggerprops) |

Utility hook creating custom `TabTrigger`.

Returns: `UseTabTriggerResult`

## Types

### `ExpoTabsNavigationProp`

Supported platforms: Android, iOS, tvOS, Web.

Type: NavigationProp<ParamList, RouteName, [NavigatorID](https://reactnavigation.org/docs/custom-navigators/#type-checking-navigators), [TabNavigationState](https://reactnavigation.org/docs/custom-navigators/#type-checking-navigators)<ParamListBase\>, [ExpoTabsScreenOptions](#expotabsscreenoptions), [TabNavigationEventMap](#tabnavigationeventmap)\>

### `ExpoTabsNavigatorOptions`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `union`

Acceptable values are: [DefaultNavigatorOptions](https://reactnavigation.org/docs/custom-navigators/#type-checking-navigators)<ParamListBase, string | undefined, [TabNavigationState](https://reactnavigation.org/docs/custom-navigators/#type-checking-navigators)<ParamListBase\>, [ExpoTabsScreenOptions](#expotabsscreenoptions), [TabNavigationEventMap](#tabnavigationeventmap), [ExpoTabsNavigationProp](#expotabsnavigationprop)<ParamListBase\>\> | [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[TabRouterOptions](https://reactnavigation.org/docs/custom-navigators/#type-checking-navigators), 'initialRouteName'\> | [ExpoTabsNavigatorScreenOptions](#expotabsnavigatorscreenoptions)

### `ExpoTabsNavigatorScreenOptions`

Supported platforms: Android, iOS, tvOS, Web.

| Property                        | Type      | Description |
| ------------------------------- | --------- | ----------- |
| detachInactiveScreens(optional) | `boolean` | -           |
| freezeOnBlur(optional)          | `boolean` | -           |
| lazy(optional)                  | `boolean` | -           |
| unmountOnBlur(optional)         | `boolean` | -           |

### `ExpoTabsResetValue`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `string`

Acceptable values are: `'always'` | `'onFocus'` | `'never'`

### `ExpoTabsScreenOptions`

Supported platforms: Android, iOS, tvOS, Web.

Type: [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<BottomTabNavigationOptions, 'title' | 'lazy' | 'freezeOnBlur'\> extended by:

| Property         | Type               | Description |
| ---------------- | ------------------ | ----------- |
| action           | `NavigationAction` | -           |
| params(optional) | `object`           | -           |
| title            | `string`           | -           |

### `SwitchToOptions`

Supported platforms: Android, iOS, tvOS, Web.

Options for `switchTab` function.

| Property        | Type                                      | Description                     |
| --------------- | ----------------------------------------- | ------------------------------- |
| reset(optional) | [ExpoTabsResetValue](#expotabsresetvalue) | Navigate and reset the history. |

### `TabNavigationEventMap`

Supported platforms: Android, iOS, tvOS, Web.

| Property     | Type                                           | Description                                                |
| ------------ | ---------------------------------------------- | ---------------------------------------------------------- |
| tabLongPress | `{ data: undefined }`                          | Event which fires on long press on the tab in the tab bar. |
| tabPress     | `{ canPreventDefault: true, data: undefined }` | Event which fires on tapping on the tab in the tab bar.    |

### `TabsContextValue`

Supported platforms: Android, iOS, tvOS, Web.

Type: `ReturnType<useNavigationBuilder>`

The React Navigation custom navigator.

> **See:** [`useNavigationBuilder`](https://reactnavigation.org/docs/custom-navigators/#usenavigationbuilder) hook from React Navigation for more information.

### `TabsSlotRenderOptions`

Supported platforms: Android, iOS, tvOS, Web.

Options provided to the `UseTabSlotOptions`.

| Property              | Type      | Description                                  |
| --------------------- | --------- | -------------------------------------------- |
| detachInactiveScreens | `boolean` | Should the screen be unloaded when inactive. |
| index                 | `number`  | Index of screen.                             |
| isFocused             | `boolean` | Whether the screen is focused.               |
| loaded                | `boolean` | Whether the screen has been loaded.          |

### `TabTriggerOptions`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type                                        | Description |
| -------- | ------------------------------------------- | ----------- |
| href     | [Href](/versions/v54.0.0/sdk/router#href-1) | -           |
| name     | `string`                                    | -           |

### `Trigger`

Supported platforms: Android, iOS, tvOS, Web.

Type: extended by:

| Property     | Type       | Description |
| ------------ | ---------- | ----------- |
| isFocused    | `boolean`  | -           |
| resolvedHref | `string`   | -           |
| route        | `[number]` | -           |

### `UseTabsOptions`

Supported platforms: Android, iOS, tvOS, Web.

Options to provide to the Tab Router.

Type: [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[DefaultNavigatorOptions](https://reactnavigation.org/docs/custom-navigators/#type-checking-navigators)<ParamListBase, any, [TabNavigationState](https://reactnavigation.org/docs/custom-navigators/#type-checking-navigators)<any\>, [ExpoTabsScreenOptions](#expotabsscreenoptions), [TabNavigationEventMap](#tabnavigationeventmap), any\>, 'children'\> extended by:

| Property               | Type                             | Description |
| ---------------------- | -------------------------------- | ----------- |
| backBehavior(optional) | `TabRouterOptions[backBehavior]` | -           |

### `UseTabsWithChildrenOptions`

Supported platforms: Android, iOS, tvOS, Web.

Type: PropsWithChildren<[UseTabsOptions](#usetabsoptions)\>

### `UseTabsWithTriggersOptions`

Supported platforms: Android, iOS, tvOS, Web.

Type: [UseTabsOptions](#usetabsoptions) extended by:

| Property | Type              | Description |
| -------- | ----------------- | ----------- |
| triggers | `ScreenTrigger[]` | -           |

### `UseTabTriggerResult`

Supported platforms: Android, iOS, tvOS, Web.

| Property          | Type                                                                 | Description |
| ----------------- | -------------------------------------------------------------------- | ----------- | --- |
| getTrigger        | (name: string) => [Trigger](#trigger)                                | undefined   | -   |
| switchTab         | (name: string, options: [SwitchToOptions](#switchtooptions)) => void | -           |
| trigger(optional) | [Trigger](#trigger)                                                  | -           |
| triggerProps      | [TriggerProps](#triggerprops)                                        | -           |

---

---

title: Router
description: A file-based routing library for React Native and web applications.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-router'
packageName: 'expo-router'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo Router

A file-based routing library for React Native and web applications.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-router` is a routing library for React Native and web apps. It enables navigation management using a file-based routing system and provides native navigation components and is built on top of [React Navigation](https://reactnavigation.org/).

[Expo Router guides](/router/introduction) â€” Learn about Expo Router basics, navigation patterns, core concepts, and more.

## Installation

To use Expo Router in your project, you need to install. Follow the instructions from the Expo Router's installation guide:

[Install Expo Router](/router/installation) â€” Learn how to install Expo Router in your project.

## Configuration in app config

If you are using the [default](/more/create-expo#--template) template to create a new project, `expo-router`'s [config plugin](/config-plugins/introduction) is already configured in your app config.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": ["expo-router"]
  }
}
```

## Usage

For information core concepts, notation patterns, navigation layouts, and common navigation patterns, start with Router 101 section:

[Router 101](/router/basics/core-concepts)

## API

```js
import { Stack, Tabs, Link } from "expo-router";
```

## Components

### `ErrorBoundary`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[ErrorBoundaryProps](#errorboundaryprops)\>

Props passed to a page's `ErrorBoundary` export.

ErrorBoundaryProps

### `error`

Supported platforms: Android, iOS, tvOS, Web.

Type: [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

The error that was thrown.

### `retry`

Supported platforms: Android, iOS, tvOS, Web.

Type: () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<void\>

A function that will re-render the route component by clearing the `error` state.

### `Link`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[LinkProps](#linkprops)\>

Component that renders a link using [`href`](#href) to another route. By default, it accepts children and wraps them in a `<Text>` component.

Uses an anchor tag (`<a>`) on web and performs a client-side navigation to preserve the state of the website and navigate faster. The web-only attributes such as `target`, `rel`, and `download` are supported and passed to the anchor tag on web. See [`WebAnchorProps`](#webanchorprops) for more details.

> **Note**: Client-side navigation works with both single-page apps, and [static-rendering](/router/reference/static-rendering).

Example

```tsx
import { View } from "react-native";
import { Link } from "expo-router";

export default function Route() {
  return (
    <View>
      <Link href="/about">About</Link>
    </View>
  );
}
```

LinkProps

### `asChild`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Used to customize the `Link` component. It will forward all props to the first child of the `Link`. Note that the child component must accept `onPress` or `onClick` props. The `href` and `role` are also passed to the child.

Example

```tsx
import { Pressable, Text } from "react-native";
import { Link } from "expo-router";

export default function Route() {
  return (
    <View>
      <Link
        href="/home"
        asChild
      >
        <Pressable>
          <Text>Home</Text>
        </Pressable>
      </Link>
    </View>
  );
}
```

### `className`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`

On native, this can be used with CSS interop tools like Nativewind. On web, this sets the HTML `class` directly.

### `dangerouslySingular`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [SingularOptions](#singularoptions)

When navigating in a Stack, if the target is valid then screens in the history that matches the uniqueness constraint will be removed.

If used with `push`, the history will be filtered even if no navigation occurs.

### `dismissTo`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

While in a stack, this will dismiss screens until the provided `href` is reached. If the href is not found, it will instead replace the current screen with the provided `href`.

Example

```tsx
import { View } from "react-native";
import { Link } from "expo-router";

export default function Route() {
  return (
    <View>
      <Link
        dismissTo
        href="/feed"
      >
        Close modal
      </Link>
    </View>
  );
}
```

### `href`

Supported platforms: Android, iOS, tvOS, Web.

Literal type: `union`

The path of the route to navigate to. It can either be:

- **string**: A full path like `/profile/settings` or a relative path like `../settings`.
- **object**: An object with a `pathname` and optional `params`. The `pathname` can be a full path like `/profile/settings` or a relative path like `../settings`. The params can be an object of key-value pairs.

Example

```tsx
import { View } from "react-native";
import { Link } from "expo-router";

export default function Route() {
  return (
    <View>
      <Link href="/about">About</Link>
      <Link
        href={{
          pathname: "/user/[id]",
          params: { id: "bacon" },
        }}
      >
        View user
      </Link>
    </View>
  );
}
```

Acceptable values are: `string` | [HrefObject](#hrefobject)

### `onPress`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: (event: [MouseEvent](https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent)<[HTMLAnchorElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLAnchorElement)\> | GestureResponderEvent) => void

This function is called on press. Text intrinsically supports press handling with a default highlight state (which can be disabled with suppressHighlighting).

### `prefetch`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Prefetches the route when the component is rendered on a focused screen.

### `push`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Always pushes a new route, and never pops or replaces to existing route. You can push the current route multiple times or with new parameters.

Example

```tsx
import { View } from "react-native";
import { Link } from "expo-router";

export default function Route() {
  return (
    <View>
      <Link
        push
        href="/feed"
      >
        Login
      </Link>
    </View>
  );
}
```

### `ref`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: Ref<[Text](https://reactnative.dev/docs/text)\>

### `relativeToDirectory`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Relative URL references are either relative to the directory or the document. By default, relative paths are relative to the document.

> **See:** [Resolving relative references in Mozilla's documentation](https://developer.mozilla.org/en-US/docs/Web/API/URL_API/Resolving_relative_references).

### `replace`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Removes the current route from the history and replace it with the specified URL. This is useful for [redirects](/router/reference/redirects).

Example

```tsx
import { View } from "react-native";
import { Link } from "expo-router";

export default function Route() {
  return (
    <View>
      <Link
        replace
        href="/feed"
      >
        Login
      </Link>
    </View>
  );
}
```

### `withAnchor`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Replaces the initial screen with the current route.

#### Inherited Props

- [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[TextProps](https://reactnative.dev/docs/text#props), 'href'\>
- [WebAnchorProps](#webanchorprops)

### `Link.Menu`

Supported platforms: iOS.

Type: React.ReactNode<[LinkMenuProps](#linkmenuprops)\>

Groups context menu actions for a link.

If multiple `Link.Menu` components are used within a single `Link`, only the first will be rendered. Only `Link.MenuAction` and `LinkMenuAction` components are allowed as children.

Example

```tsx
<Link.Menu>
  <Link.MenuAction
    title="Action 1"
    onPress={() => {}}
  />
  <Link.MenuAction
    title="Action 2"
    onPress={() => {}}
  />
</Link.Menu>
```

> **Note**: You can use the alias `Link.Menu` for this component.

LinkMenuProps

### `children`

Supported platforms: iOS.

Literal type: `union`

Acceptable values are: ReactElement<[LinkMenuActionProps](#linkmenuactionprops)\> | `ReactElement[]`

### `destructive`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

If `true`, the menu item will be displayed as destructive.

> **See:** [Apple documentation](https://developer.apple.com/documentation/uikit/uimenu/options-swift.struct/destructive) for more information.

### `displayAsPalette`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

If `true`, the menu will be displayed as a palette. This means that the menu will be displayed as one row

> **See:** [Apple documentation](https://developer.apple.com/documentation/uikit/uimenu/options-swift.struct/displayaspalette) for more information.

### `displayInline`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

If `true`, the menu will be displayed inline. This means that the menu will not be collapsed

> **See:** [Apple documentation](https://developer.apple.com/documentation/uikit/uimenu/options-swift.struct/displayinline) for more information.

### `icon`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `string`

Optional SF Symbol displayed alongside the menu item.

### `title`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `string`

The title of the menu item

### `Link.MenuAction`

Supported platforms: iOS.

Type: React.Element<[LinkMenuActionProps](#linkmenuactionprops)\>

This component renders a context menu action for a link. It should only be used as a child of `Link.Menu` or `LinkMenu`.

> **Note**: You can use the alias `Link.MenuAction` for this component.

LinkMenuActionProps

### `destructive`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

If `true`, the menu item will be displayed as destructive.

> **See:** [Apple documentation](https://developer.apple.com/documentation/uikit/uimenuelement/attributes/destructive) for more information.

### `disabled`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

If `true`, the menu item will be disabled and not selectable.

> **See:** [Apple documentation](https://developer.apple.com/documentation/uikit/uimenuelement/attributes/disabled) for more information.

### `icon`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [SFSymbols6_0](https://github.com/nandorojo/sf-symbols-typescript)

Optional SF Symbol displayed alongside the menu item.

### `isOn`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

If `true`, the menu item will be displayed as selected.

### `onPress`

Supported platforms: iOS.

Type: `() => void`

### `title`

Supported platforms: iOS.

Type: `string`

The title of the menu item.

### `unstable_keepPresented`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

If `true`, the menu will be kept presented after the action is selected.

This is marked as unstable, because when action is selected it will recreate the menu, which will close all opened submenus and reset the scroll position.

> **See:** [Apple documentation](https://developer.apple.com/documentation/uikit/uimenuelement/attributes/keepsmenupresented) for more information.

### `Link.Preview`

Supported platforms: iOS.

Type: React.Element<[LinkPreviewProps](#linkpreviewprops)\>

A component used to render and customize the link preview.

If `Link.Preview` is used without any props, it will render a preview of the `href` passed to the `Link`.

If multiple `Link.Preview` components are used within a single `Link`, only the first one will be rendered.

To customize the preview, you can pass custom content as children.

Example

```tsx
<Link href="/about">
  <Link.Preview>
    <Text>Custom Preview Content</Text>
  </Link.Preview>
</Link>
```

Example

```tsx
<Link href="/about">
  <Link.Preview />
</Link>
```

> **Note**: You can use the alias `Link.Preview` for this component.

LinkPreviewProps

### `children`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [ReactNode](https://reactnative.dev/docs/react-node)

### `style`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `LinkPreviewStyle`

Custom styles for the preview container.

Note that some styles may not work, as they are limited or reset by the native view

### `Link.Trigger`

Supported platforms: iOS.

Type: `React.Iterable<undefined>`

Serves as the trigger for a link. The content inside this component will be rendered as part of the base link.

If multiple `Link.Trigger` components are used within a single `Link`, only the first will be rendered.

Example

```tsx
<Link href="/about">
  <Link.Trigger>Trigger</Link.Trigger>
</Link>
```

> **Note**: You can use the alias `Link.Trigger` for this component.

### `Redirect`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[RedirectProps](#redirectprops)\>

Redirects to the `href` as soon as the component is mounted.

Example

```tsx
import { View, Text } from "react-native";
import { Redirect } from "expo-router";

export default function Page() {
  const { user } = useAuth();

  if (!user) {
    return <Redirect href="/login" />;
  }

  return (
    <View>
      <Text>Welcome Back!</Text>
    </View>
  );
}
```

RedirectProps

### `href`

Supported platforms: Android, iOS, tvOS, Web.

Type: [Href](/versions/v54.0.0/sdk/router#href-1)

The path of the route to navigate to. It can either be:

- **string**: A full path like `/profile/settings` or a relative path like `../settings`.
- **object**: An object with a `pathname` and optional `params`. The `pathname` can be a full path like `/profile/settings` or a relative path like `../settings`. The params can be an object of key-value pairs.

Example

```tsx
import { Redirect } from "expo-router";

export default function RedirectToAbout() {
  return <Redirect href="/about" />;
}
```

### `relativeToDirectory`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Relative URL references are either relative to the directory or the document. By default, relative paths are relative to the document.

> **See:** [Resolving relative references in Mozilla's documentation](https://developer.mozilla.org/en-US/docs/Web/API/URL_API/Resolving_relative_references).

### `withAnchor`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Replaces the initial screen with the current route.

### `Slot`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<NavigatorProps<any\>, 'children'\>\>

Renders the currently selected content.

There are actually two different implementations of `<Slot/>`:

- Used inside a `_layout` as the `Navigator`
- Used inside a `Navigator` as the content

Since a custom `Navigator` will set the `NavigatorContext.contextKey` to the current `_layout`, you can use this to determine if you are inside a custom navigator or not.

## Hooks

### `useFocusEffect(effect, do_not_pass_a_second_prop)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                             | Type                              | Description                                                                           |
| ------------------------------------- | --------------------------------- | ------------------------------------------------------------------------------------- |
| `effect`                              | [EffectCallback](#effectcallback) | Memoized callback containing the effect, should optionally return a cleanup function. |
| `do_not_pass_a_second_prop`(optional) | `undefined`                       | -                                                                                     |

Hook to run an effect whenever a route is **focused**. Similar to [`React.useEffect`](https://react.dev/reference/react/useEffect).

This can be used to perform side-effects such as fetching data or subscribing to events. The passed callback should be wrapped in [`React.useCallback`](https://react.dev/reference/react/useCallback) to avoid running the effect too often.

Returns: `void`

Example

```tsx
import { useFocusEffect } from 'expo-router';
import { useCallback } from 'react';

export default function Route() {
  useFocusEffect(
    // Callback should be wrapped in `React.useCallback` to avoid running the effect too often.
    useCallback(() => {
      // Invoked whenever the route is focused.
      console.log("Hello, I'm focused!");

      // Return function is invoked whenever the route gets out of focus.
      return () => {
        console.log('This route is now unfocused.');
      };
    }, []),
   );

 return </>;
}
```

### `useGlobalSearchParams()`

Supported platforms: Android, iOS, tvOS, Web.

Returns URL parameters for globally selected route, including dynamic path segments. This function updates even when the route is not focused. Useful for analytics or other background operations that don't draw to the screen.

Route URL example: `acme://profile/baconbrix?extra=info`.

When querying search params in a stack, opt-towards using [`useLocalSearchParams`](#uselocalsearchparams) because it will only update when the route is focused.

> **Note:** For usage information, see [Local versus global search parameters](/router/reference/url-parameters#local-versus-global-url-parameters).

Returns: `RouteParams<troute> & TParams</troute>`

Example

```tsx
import { useGlobalSearchParams } from "expo-router";
import { Text } from "react-native";

export default function Route() {
  // user=baconbrix & extra=info
  const { user, extra } = useGlobalSearchParams();

  return <Text>User: {user}</Text>;
}
```

### `useIsPreview()`

Supported platforms: Android, iOS, tvOS, Web.

Hook to determine if the current route is rendered inside a preview.

Returns: `boolean`

- True if the current route is rendered inside a preview, false otherwise.

### `useLocalSearchParams()`

Supported platforms: Android, iOS, tvOS, Web.

Returns the URL parameters for the contextually focused route. Useful for stacks where you may push a new screen that changes the query parameters. For dynamic routes, both the route parameters and the search parameters are returned.

Route URL example: `acme://profile/baconbrix?extra=info`.

To observe updates even when the invoking route is not focused, use [`useGlobalSearchParams`](#useglobalsearchparams).

> **Note:** For usage information, see [Local versus global search parameters](/router/reference/url-parameters#local-versus-global-url-parameters).

Returns: `RouteParams<troute> & TParams</troute>`

Example

```tsx
import { useLocalSearchParams } from "expo-router";
import { Text } from "react-native";

export default function Route() {
  // user=baconbrix & extra=info
  const { user, extra } = useLocalSearchParams();

  return <Text>User: {user}</Text>;
}
```

### `useNavigation(parent)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter          | Type   | Description               |
| ------------------ | ------ | ------------------------- | -------------------------------------------------------------------------------------------------------------------- |
| `parent`(optional) | string | [HrefObject](#hrefobject) | Provide an absolute path such as `/(root)` to the parent route or a relative path like `. /. /` to the parent route. |

Returns the underlying React Navigation [`navigation` object](https://reactnavigation.org/docs/navigation-object) to imperatively access layout-specific functionality like `navigation.openDrawer()` in a [Drawer](/router/advanced/drawer) layout.

Returns: `T`

The navigation object for the current route.

> **See:** React Navigation documentation on [navigation dependent functions](https://reactnavigation.org/docs/navigation-object/#navigator-dependent-functions) for more information.

Example

```tsx
import { useNavigation } from "expo-router";

export default function Route() {
  // Access the current navigation object for the current route.
  const navigation = useNavigation();

  return (
    <View>
      <Text
        onPress={() => {
          // Open the drawer view.
          navigation.openDrawer();
        }}
      >
        Open Drawer
      </Text>
    </View>
  );
}
```

When using nested layouts, you can access higher-order layouts by passing a secondary argument denoting the layout route. For example, `/menu/_layout.tsx` is nested inside `/app/orders/`, you can use `useNavigation('/orders/menu/')`.

Example

```tsx
import { useNavigation } from "expo-router";

export default function MenuRoute() {
  const rootLayout = useNavigation("/");
  const ordersLayout = useNavigation("/orders");

  // Same as the default results of `useNavigation()` when invoked in this route.
  const parentLayout = useNavigation("/orders/menu");
}
```

If you attempt to access a layout that doesn't exist, an error such as `Could not find parent navigation with route "/non-existent"` is thrown.

### `useNavigationContainerRef()`

Supported platforms: Android, iOS, tvOS, Web.

Returns: `NavigationContainerRefWithCurrent<rootparamlist>`

The root `<NavigationContainer />` ref for the app. The `ref.current` may be `null` if the `<NavigationContainer />` hasn't mounted yet.

### `usePathname()`

Supported platforms: Android, iOS, tvOS, Web.

Returns the currently selected route location without search parameters. For example, `/acme?foo=bar` returns `/acme`. Segments will be normalized. For example, `/[id]?id=normal` becomes `/normal`.

Returns: `string`

Example

```tsx
import { usePathname } from "expo-router";
import { Text } from "react-native";

export default function Route() {
  // pathname = "/profile/baconbrix"
  const pathname = usePathname();

  return <Text>Pathname: {pathname}</Text>;
}
```

> **Deprecated:** Use [`useNavigationContainerRef`](#usenavigationcontainerref) instead, which returns a React `ref`.

### `useRootNavigation()`

Supported platforms: Android, iOS, tvOS, Web.

Returns: `null | NavigationContainerRef<rootparamlist>`

### `useRootNavigationState()`

Supported platforms: Android, iOS, tvOS, Web.

Returns the [navigation state](https://reactnavigation.org/docs/navigation-state/) of the navigator which contains the current screen.

Returns: `Readonly<undefined>`

Example

```tsx
import { useRootNavigationState } from "expo-router";

export default function Route() {
  const { routes } = useRootNavigationState();

  return <Text>{routes[0].name}</Text>;
}
```

### `useRouter()`

Supported platforms: Android, iOS, tvOS, Web.

Returns the [Router](#router) object for imperative navigation.

Returns: `Router`

Example

```tsx
import { useRouter } from "expo-router";
import { Text } from "react-native";

export default function Route() {
  const router = useRouter();

  return <Text onPress={() => router.push("/home")}>Go Home</Text>;
}
```

### `useSegments()`

Supported platforms: Android, iOS, tvOS, Web.

Returns a list of selected file segments for the currently selected route. Segments are not normalized, so they will be the same as the file path. For example, `/[id]?id=normal` becomes `["[id]"]`.

Returns: `RouteSegments<tsegments>`

Example

```tsx
import { useSegments } from "expo-router";
import { Text } from "react-native";

export default function Route() {
  // segments = ["profile", "[user]"]
  const segments = useSegments();

  return <Text>Hello</Text>;
}
```

`useSegments` can be typed using an abstract. Consider the following file structure:

```md
- app
  - [user]
    - index.tsx
    - followers.tsx
  - settings.tsx
```

This can be strictly typed using the following abstract with `useSegments` hook:

```tsx
const [first, second] = useSegments<
  ["settings"] | ["[user]"] | ["[user]", "followers"]
>();
```

### `useSitemap()`

Supported platforms: Android, iOS, tvOS, Web.

Returns: `SitemapType | null`

## Methods

### `Sitemap()`

Supported platforms: Android, iOS, tvOS, Web.

Returns: `Element`

### `withLayoutContext(Nav, processor, useOnlyUserDefinedScreens)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                             | Type                                                                      | Description                                                                                  |
| ------------------------------------- | ------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| `Nav`                                 | `T`                                                                       | The navigator component to wrap.                                                             |
| `processor`(optional)                 | (options: [ScreenProps[]](#screenprops)) => [ScreenProps[]](#screenprops) | A function that processes the screens before passing them to the navigator.                  |
| `useOnlyUserDefinedScreens`(optional) | `boolean`                                                                 | If true, all screens not specified as navigator's children will be ignored. Default: `false` |

Returns a navigator that automatically injects matched routes and renders nothing when there are no children. Return type with `children` prop optional.

Enables use of other built-in React Navigation navigators and other navigators built with the React Navigation custom navigator API.

Returns: `Component<propswithoutref>> & { Protected: FunctionComponent, Screen: (props: ScreenProps) => null }</propswithoutref`

Example

```tsx
import {
  createMaterialTopTabNavigator,
  MaterialTopTabNavigationOptions,
  MaterialTopTabNavigationEventMap,
} from "@react-navigation/material-top-tabs";
import { ParamListBase, TabNavigationState } from "@react-navigation/native";
import { withLayoutContext } from "expo-router";

const MaterialTopTabs = createMaterialTopTabNavigator();

const ExpoRouterMaterialTopTabs = withLayoutContext<
  MaterialTopTabNavigationOptions,
  typeof MaterialTopTabs.Navigator,
  TabNavigationState<ParamListBase>,
  MaterialTopTabNavigationEventMap
>(MaterialTopTabs.Navigator);

export default function TabLayout() {
  return <ExpoRouterMaterialTopTabs />;
}
```

## Types

### `EffectCallback()`

Supported platforms: Android, iOS, tvOS, Web.

Memoized callback containing the effect, should optionally return a cleanup function.

Returns:

`undefined | void | () => void`

### `ExternalPathString`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `union`

Acceptable values are: `{string}:{string}` | `//{string}`

### `Href<T>`

Supported platforms: Android, iOS, tvOS, Web.

The main routing type for Expo Router. It includes all available routes with strongly typed parameters. It can either be:

- **string**: A full path like `/profile/settings` or a relative path like `../settings`.
- **object**: An object with a `pathname` and optional `params`. The `pathname` can be a full path like `/profile/settings` or a relative path like `../settings`. The params can be an object of key-value pairs.

An Href can either be a string or an object.

Generic: `T`

Type: T ? T[href] : string | [HrefObject](#hrefobject)

### `HrefObject`

Supported platforms: Android, iOS, tvOS, Web.

| Property         | Type                 | Description                        |
| ---------------- | -------------------- | ---------------------------------- |
| params(optional) | `UnknownInputParams` | Optional parameters for the route. |
| pathname         | `string`             | The path of the route.             |

### `LinkPreviewStyle`

Supported platforms: Android, iOS, tvOS, Web.

Type: [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[ViewStyle](https://reactnative.dev/docs/view-style-props), 'position' | 'width' | 'height'\> extended by:

| Property         | Type     | Description                                                                                                                                                         |
| ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| height(optional) | `number` | Sets the preferred height of the preview. If not set, full height of the screen will be used. This is only **preferred** height, the actual height may be different |
| width(optional)  | `number` | Sets the preferred width of the preview. If not set, full width of the screen will be used. This is only **preferred** width, the actual width may be different     |

### `NativeIntent`

Supported platforms: Android, iOS, tvOS, Web.

Created by using a special file called `+native-intent.tsx` at the top-level of your project's **app** directory. It exports `redirectSystemPath` or `legacy_subscribe` functions, both methods designed to handle URL/path processing.

Useful for re-writing URLs to correctly target a route when unique/referred URLs are incoming from third-party providers or stale URLs from previous versions.

> **See:** For more information on how to use `NativeIntent`, see [Customizing links](/router/advanced/native-intent).

| Property                     | Type                                                                                                                                                        | Description |
| ---------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- | ---------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| legacy_subscribe(optional)   | `(listener: (url: string) => void) => undefined                                                                                                             | void        | () => void`                                                                                                                        | Useful as an alternative API when a third-party provider doesn't support Expo Router but has support for React Navigation via `Linking.subscribe()` for existing projects. Using this API is not recommended for newer projects or integrations since it is incompatible with Server Side Routing and [Static Rendering](/router/reference/static-rendering), and can become challenging to manage while offline or in a low network environment. |
| redirectSystemPath(optional) | (event: { initial: boolean, path: string }) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<string\> | string      | A special method used to process URLs in native apps. When invoked, it receives an `options` object with the following properties: |

- **path**: represents the URL or path undergoing processing.
- **initial**: a boolean indicating whether the path is the app's initial URL.

. It's return value should either be a `string` or a `Promise<string>`. Note that throwing errors within this method may result in app crashes. It's recommended to wrap your code inside a `try/catch` block and utilize `.catch()` when appropriate.See: For usage information, see Redirecting system paths. |

### `PickPartial`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `union`

The list of input keys will become optional, everything else will remain the same.

Acceptable values are: [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<T, K\> | [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys)<T, K\>\>

### `RedirectConfig`

Supported platforms: Android, iOS, tvOS, Web.

| Property              | Type       | Description |
| --------------------- | ---------- | ----------- |
| destination           | `string`   | -           |
| destinationContextKey | `string`   | -           |
| external(optional)    | `boolean`  | -           |
| methods(optional)     | `string[]` | -           |
| permanent(optional)   | `boolean`  | -           |
| source                | `string`   | -           |

### `RelativePathString`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `union`

Acceptable values are: `./{string}` | `../{string}` | `'..'`

### `ResultState`

Supported platforms: Android, iOS, tvOS, Web.

Type: PartialState<[NavigationState](https://reactnavigation.org/docs/navigation-state)\> extended by:

| Property        | Type                        | Description |
| --------------- | --------------------------- | ----------- |
| state(optional) | [ResultState](#resultstate) | -           |

### `Route`

Supported platforms: Android, iOS, tvOS, Web.

Type: [Exclude](https://www.typescriptlang.org/docs/handbook/utility-types.html#excludeuniontype-excludedmembers)<Extract[pathname], [RelativePathString](#relativepathstring) | [ExternalPathString](#externalpathstring)\>

### `Router`

Supported platforms: Android, iOS, tvOS, Web.

Returns `router` object for imperative navigation API.

Example

```tsx
import { router } from "expo-router";
import { Text } from "react-native";

export default function Route() {
  return <Text onPress={() => router.push("/home")}>Go Home</Text>;
}
```

| Property   | Type                                                                                                                                        | Description                                                                                                                                                                                                                 |
| ---------- | ------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| back       | `() => void`                                                                                                                                | Goes back in the navigation history.                                                                                                                                                                                        |
| canDismiss | `() => boolean`                                                                                                                             | Checks if it is possible to dismiss the current screen. Returns `true` if the router is within the stack with more than one screen in stack's history.                                                                      |
| canGoBack  | `() => boolean`                                                                                                                             | Navigates to a route in the navigator's history if it supports invoking the `back` function.                                                                                                                                |
| dismiss    | `(count: number) => void`                                                                                                                   | Navigates to the a stack lower than the current screen using the provided count if possible, otherwise 1. If the current screen is the only route, it will dismiss the entire stack.                                        |
| dismissAll | `() => void`                                                                                                                                | Returns to the first screen in the closest stack. This is similar to [`popToTop`](https://reactnavigation.org/docs/stack-actions/#poptotop) stack action.                                                                   |
| dismissTo  | (href: [Href](/versions/v54.0.0/sdk/router#href-1), options: [NavigationOptions](https://reactnavigation.org/docs/screen-options/)) => void | Dismisses screens until the provided href is reached. If the href is not found, it will instead replace the current screen with the provided `href`.                                                                        |
| navigate   | (href: [Href](/versions/v54.0.0/sdk/router#href-1), options: [NavigationOptions](https://reactnavigation.org/docs/screen-options/)) => void | Navigates to the provided [`href`](#href).                                                                                                                                                                                  |
| prefetch   | (name: [Href](/versions/v54.0.0/sdk/router#href-1)) => void                                                                                 | Prefetch a screen in the background before navigating to it                                                                                                                                                                 |
| push       | (href: [Href](/versions/v54.0.0/sdk/router#href-1), options: [NavigationOptions](https://reactnavigation.org/docs/screen-options/)) => void | Navigates to the provided [`href`](#href) using a push operation if possible.                                                                                                                                               |
| replace    | (href: [Href](/versions/v54.0.0/sdk/router#href-1), options: [NavigationOptions](https://reactnavigation.org/docs/screen-options/)) => void | Navigates to route without appending to the history. Can be used with [`useFocusEffect`](#usefocuseffecteffect-do_not_pass_a_second_prop) to redirect imperatively to a new screen.See: Using useRouter() hook to redirect. |
| setParams  | (params: [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<RouteInputParams<T\>\>) => void             | Updates the current route's query params.                                                                                                                                                                                   |

### `ScreenProps`

Supported platforms: Android, iOS, tvOS, Web.

| Property                      | Type                                                     | Description                                                                                                                                                                      |
| ----------------------------- | -------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --- |
| dangerouslySingular(optional) | [SingularOptions](#singularoptions)                      | -                                                                                                                                                                                |
| getId(optional)               | `({ params }: { params: Record<string, any> }) => string | undefined`                                                                                                                                                                       | -   |
| initialParams(optional)       | `Record<string, any>`                                    | -                                                                                                                                                                                |
| listeners(optional)           | ScreenListeners<TState, TEventMap\>                      | (prop: { navigation: any, route: [RouteProp](https://reactnavigation.org/docs/glossary-of-terms/#route-object)<ParamListBase, string\> }) => ScreenListeners<TState, TEventMap\> | -   |
| name(optional)                | `string`                                                 | Name is required when used inside a Layout component.                                                                                                                            |
| options(optional)             | TOptions                                                 | (prop: { navigation: any, route: [RouteProp](https://reactnavigation.org/docs/glossary-of-terms/#route-object)<ParamListBase, string\> }) => TOptions                            | -   |
| redirect(optional)            | `boolean`                                                | Redirect to the nearest sibling route. If all children are `redirect={true}`, the layout will render `null` as there are no children to render.                                  |

### `SearchOrHash`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `union`

Acceptable values are: `?{string}` | `#{string}`

### `SingularOptions`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean` or `object` shaped as below:

#### `` (name, params) => `string | undefined` ``

| Parameter                                                                                               | Type                  | Description |
| ------------------------------------------------------------------------------------------------------- | --------------------- | ----------- |
| name[(index signature)](https://www.typescriptlang.org/docs/handbook/2/objects.html#index-signatures)   | `string`              | -           |
| params[(index signature)](https://www.typescriptlang.org/docs/handbook/2/objects.html#index-signatures) | `UnknownOutputParams` | -           |

### `SitemapType`

Supported platforms: Android, iOS, tvOS, Web.

| Property    | Type                          | Description                                 |
| ----------- | ----------------------------- | ------------------------------------------- | --- |
| children    | [SitemapType[]](#sitemaptype) | -                                           |
| contextKey  | `string`                      | -                                           |
| filename    | `string`                      | -                                           |
| href        | string                        | [Href](/versions/v54.0.0/sdk/router#href-1) | -   |
| isGenerated | `boolean`                     | -                                           |
| isInitial   | `boolean`                     | -                                           |
| isInternal  | `boolean`                     | -                                           |

### `WebAnchorProps`

Supported platforms: Web.

| Property           | Type     | Description                                                                                                                                                                                                                                                                                                                                                                                                              |
| ------------------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| download(optional) | `string` | Specifies that the [`href`](#href) should be downloaded when the user clicks on the link, instead of navigating to it. It is typically used for links that point to files that the user should download, such as PDFs, images, documents, and more. The value of the `download` property, which represents the filename for the downloaded file. This property is passed to the underlying anchor (`<a>`) tag. . Example |

```jsx
<Link
  href="/image.jpg"
  download="my-image.jpg"
>
  Download image
</Link>
```

|
| rel(optional) | `string` | Specifies the relationship between the [`href`](#href) and the current route. Common values:

- **nofollow**: Indicates to search engines that they should not follow the `href`. This is often used for user-generated content or links that should not influence search engine rankings.
- **noopener**: Suggests that the `href` should not have access to the opening window's `window.opener` object, which is a security measure to prevent potentially harmful behavior in cases of links that open new tabs or windows.
- **noreferrer**: Requests that the browser does not send the `Referer` HTTP header when navigating to the `href`. This can enhance user privacy.

. The `rel` property is primarily used for informational and instructive purposes, helping browsers and web crawlers make better decisions about how to handle and interpret the links on a web page. It is important to use appropriate `rel` values to ensure that links behave as intended and adhere to best practices for web development and SEO (Search Engine Optimization). This property is passed to the underlying anchor (`<a>`) tag. . Example

```jsx
<Link
  href="https://expo.dev"
  rel="nofollow"
>
  Go to Expo
</Link>
```

|
| target(optional) | `'_self' | '_blank' | '_parent' | '_top' | string & object` | Specifies where to open the [`href`](#href).

- **\_self**: the current tab.
- **\_blank**: opens in a new tab or window.
- **\_parent**: opens in the parent browsing context. If no parent, defaults to **\_self**.
- **\_top**: opens in the highest browsing context ancestor. If no ancestors, defaults to **\_self**.

. This property is passed to the underlying anchor (`<a>`) tag. Default: `'_self'`. Example

```jsx
<Link
  href="https://expo.dev"
  target="_blank"
>
  Go to Expo in new tab
</Link>
```

|

---

---

title: react-native-safe-area-context
description: A library with a flexible API for accessing the device's safe area inset information.
sourceCodeUrl: 'https://github.com/AppAndFlow/react-native-safe-area-context'
packageName: react-native-safe-area-context
platforms: ['android', 'ios', 'web', 'tvos', 'expo-go']
inExpoGo: true

---

# react-native-safe-area-context

A library with a flexible API for accessing the device's safe area inset information.
Android, iOS, tvOS, Web, Included in Expo Go

`react-native-safe-area-context` provides a flexible API for accessing device safe area inset information. This allows you to position your content appropriately around notches, status bars, home indicators, and other such device and operating system interface elements. It also provides a `SafeAreaView` component that you can use in place of `View` to automatically inset your views to account for safe areas.

## Installation

```sh
npx expo install react-native-safe-area-context
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://appandflow.github.io/react-native-safe-area-context/) provided in the library's README or documentation.

## API

```js
import {
  SafeAreaView,
  SafeAreaProvider,
  SafeAreaInsetsContext,
  useSafeAreaInsets,
} from "react-native-safe-area-context";
```

## Components

### `SafeAreaView`

`SafeAreaView` is a regular `View` component with the safe area edges applied as padding.

If you set your own padding on the view, it will be added to the padding from the safe area.

> If you are targeting web, you must set up `SafeAreaProvider` as described in the [Context](/versions/latest/sdk/safe-area-context#context) section.

```jsx
import { SafeAreaView } from "react-native-safe-area-context";

function SomeComponent() {
  return (
    <SafeAreaView>
      <View />
    </SafeAreaView>
  );
}
```

SafeAreaView Props

### `edges`

Optionalâ€‚â€¢â€‚Type: [`Edge[]`](#edge)â€‚â€¢â€‚Default: `["top", "right", "bottom", "left"]`

Sets the edges to apply the safe area insets to.

### `emulateUnlessSupported`

Optionalâ€‚â€¢â€‚Type: `boolean`â€‚â€¢â€‚Default: `true`

On iOS 10+, emulate the safe area using the status bar height and home indicator sizes.

## Hooks

### `useSafeAreaInsets()`

Hook gives you direct access to the safe area insets. This is a more advanced use-case, and might perform worse than `SafeAreaView` when rotating the device.

Example

```jsx
import { useSafeAreaInsets } from "react-native-safe-area-context";

function HookComponent() {
  const insets = useSafeAreaInsets();

  return <View style={{ paddingTop: insets.top }} />;
}
```

Returns

[`EdgeInsets`](/versions/latest/sdk/safe-area-context#edgeinsets)

## Types

### `Edge`

String union of possible edges.

Acceptable values are: `'top'`, `'right'`, `'bottom'`, `'left'`.

### `EdgeInsets`

Represent the hook result.

EdgeInsets Properties

| Name     | Type     | Description            |
| -------- | -------- | ---------------------- |
| `bottom` | `number` | Value of bottom inset. |
| `left`   | `number` | Value of left inset.   |
| `right`  | `number` | Value of right inset.  |
| `top`    | `number` | Value of top inset.    |

## Guides

### Context

To use safe area context, you need to add `SafeAreaProvider` in your app root component.

> You may need to add it in other places too, including at the root of any modals any routes when using `react-native-screen`.

```jsx
import { SafeAreaProvider } from "react-native-safe-area-context";

function App() {
  return <SafeAreaProvider>...</SafeAreaProvider>;
}
```

Then, you can use [`useSafeAreaInsets()`](/versions/latest/sdk/safe-area-context#usesafeareainsets) hook and also consumer API to access inset data:

```jsx
import { SafeAreaInsetsContext } from "react-native-safe-area-context";

function Component() {
  return (
    <SafeAreaInsetsContext.Consumer>
      {insets => <View style={{ paddingTop: insets.top }} />}
    </SafeAreaInsetsContext.Consumer>
  );
}
```

### Optimization

If you can, use `SafeAreaView`. It's implemented natively so when rotating the device, there is no delay from the asynchronous bridge.

To speed up the initial render, you can import `initialWindowMetrics` from this package and set as the `initialMetrics` prop on the provider as described in Web SSR. You cannot do this if your provider remounts, or you are using `react-native-navigation`.

```jsx
import {
  SafeAreaProvider,
  initialWindowMetrics,
} from "react-native-safe-area-context";

function App() {
  return (
    <SafeAreaProvider initialMetrics={initialWindowMetrics}>
      ...
    </SafeAreaProvider>
  );
}
```

### Web SSR

If you are doing server side rendering on the web, you can use `initialSafeAreaInsets` to inject values based on the device the user has, or simply pass zero. Otherwise, insets measurement will break rendering your page content since it is async.

### Migrating from CSS

#### Before

In a web-only app, you would use CSS environment variables to get the size of the screen's safe area insets.

```css
div {
  padding-top: env(safe-area-inset-top);
  padding-left: env(safe-area-inset-left);
  padding-bottom: env(safe-area-inset-bottom);
  padding-right: env(safe-area-inset-right);
}
```

#### After

Universally, the hook `useSafeAreaInsets()` can provide access to this information.

```jsx
import { useSafeAreaInsets } from "react-native-safe-area-context";

function App() {
  const insets = useSafeAreaInsets();
  return (
    <View
      style={{
        paddingTop: insets.top,
        paddingLeft: insets.left,
        paddingBottom: insets.bottom,
        paddingRight: insets.right,
      }}
    />
  );
}
```

---

---

title: ScreenCapture
description: A library that allows you to protect screens in your app from being captured or recorded.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-screen-capture'
packageName: 'expo-screen-capture'
platforms: ['android', 'ios', 'expo-go']

---

# Expo ScreenCapture

A library that allows you to protect screens in your app from being captured or recorded.
Android, iOS, Included in Expo Go

`expo-screen-capture` allows you to protect screens in your app from being captured or recorded, as well as be notified if a screenshot is taken while your app is foregrounded. The two most common reasons you may want to prevent screen capture are:

- If a screen is displaying sensitive information (password, credit card data, and so on)
- You are displaying paid content that you don't want to be recorded and shared

This is especially important on Android since the [`android.media.projection`](https://developer.android.com/about/versions/android-5.0.html#ScreenCapture) API allows third-party apps to perform screen capture or screen sharing (even if the app is in the background).

On Android, the screen capture callback works without additional permissions only for Android 14+. **You don't need to request or check permissions for blocking screen capture or using the callback on Android 14+.**

If you want to use the screen capture callback on Android 13 or lower, you need to add the `READ_MEDIA_IMAGES` permission to your **AndroidManifest.xml** file. You can use the `android.permissions` key in your app config. See [Android permissions](/guides/permissions#android) for more information.

> The `READ_MEDIA_IMAGES` permission can be added only for apps needing broad access to photos. See [Details on Google Play's Photo and Video Permissions policy](https://support.google.com/googleplay/android-developer/answer/14115180).

> For testing screen capture functionality: On Android Emulator, run `adb shell input keyevent 120` in a separate terminal to trigger a screenshot. On iOS Simulator, you can trigger screenshots using **Device** > **Trigger Screenshot** from the menu bar.

## Installation

```sh
npx expo install expo-screen-capture
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

### Example: hook

```jsx
import { usePreventScreenCapture } from "expo-screen-capture";
import { Text, View } from "react-native";

export default function ScreenCaptureExample() {
  usePreventScreenCapture();

  return (
    <View style={{ flex: 1, alignItems: "center", justifyContent: "center" }}>
      <Text>
        As long as this component is mounted, this screen is unrecordable!
      </Text>
    </View>
  );
}
```

### Example: Blocking screen capture imperatively

```jsx
import { Button, StyleSheet, View } from "react-native";
import * as ScreenCapture from "expo-screen-capture";
import { useEffect } from "react";

export default function ScreenCaptureExample() {
  const activate = async () => {
    await ScreenCapture.preventScreenCaptureAsync();
  };

  const deactivate = async () => {
    await ScreenCapture.allowScreenCaptureAsync();
  };

  return (
    <View style={styles.container}>
      <Button
        title="Activate"
        onPress={activate}
      />
      <Button
        title="Deactivate"
        onPress={deactivate}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    justifyContent: "center",
  },
});
```

### Example: Callback for screen capture

```jsx
import { Button, StyleSheet, View } from "react-native";
import * as ScreenCapture from "expo-screen-capture";
import { useEffect } from "react";

export default function useScreenCaptureCallback() {
  // Only use this if you add the READ_MEDIA_IMAGES permission to your AndroidManifest.xml
  const hasPermissions = async () => {
    const { status } = await ScreenCapture.requestPermissionsAsync();
    return status === "granted";
  };

  useEffect(() => {
    let subscription;

    const addListenerAsync = async () => {
      if (await hasPermissions()) {
        subscription = ScreenCapture.addScreenshotListener(() => {
          alert("Thanks for screenshotting my beautiful app ðŸ˜Š");
        });
      } else {
        console.error(
          "Permissions needed to subscribe to screenshot events are missing!",
        );
      }
    };
    addListenerAsync();

    return () => {
      subscription?.remove();
    };
  }, []);
}
```

## API

```js
import * as ScreenCapture from "expo-screen-capture";
```

## Hooks

### `usePermissions(options)`

Supported platforms: Android, iOS.

| Parameter           | Type                            |
| ------------------- | ------------------------------- |
| `options`(optional) | `PermissionHookOptions<object>` |

Check or request permissions necessary for detecting when a screenshot is taken. This uses both [`requestPermissionsAsync`](#screencapturerequestpermissionsasync) and [`getPermissionsAsync`](#screencapturegetpermissionsasync) to interact with the permissions.

Returns: `[null | PermissionResponse, RequestPermissionMethod<permissionresponse>, GetPermissionMethod]</permissionresponse>`

Example

```js
const [status, requestPermission] = ScreenCapture.usePermissions();
```

### `usePreventScreenCapture(key)`

Supported platforms: Android, iOS.

| Parameter       | Type     | Description                                                                                                                                                                                                                                                                                             |
| --------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `key`(optional) | `string` | If provided, this will prevent multiple instances of this hook or the `preventScreenCaptureAsync` and `allowScreenCaptureAsync` methods from conflicting with each other. This argument is useful if you have multiple active components using the `allowScreenCaptureAsync` hook. Default: `'default'` |

A React hook to prevent screen capturing for as long as the owner component is mounted.

Returns: `void`

### `useScreenshotListener(listener)`

Supported platforms: Android, iOS.

| Parameter  | Type         | Description                                                                                                                                                                            |
| ---------- | ------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `listener` | `() => void` | A function that will be called whenever a screenshot is detected. This hook automatically starts listening when the component mounts, and stops listening when the component unmounts. |

A React hook that listens for screenshots taken while the component is mounted.

Returns: `void`

## Methods

### `ScreenCapture.allowScreenCaptureAsync(key)`

Supported platforms: Android, iOS.

| Parameter       | Type     | Description                                                                                                                                                                                                                                                                                           |
| --------------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `key`(optional) | `string` | This will prevent multiple instances of the `preventScreenCaptureAsync` and `allowScreenCaptureAsync` methods from conflicting with each other. If provided, the value must be the same as the key passed to `preventScreenCaptureAsync` in order to re-enable screen capturing. Default: `'default'` |

Re-allows the user to screen record or screenshot your app. If you haven't called `preventScreenCapture()` yet, this method does nothing.

Returns: `Promise<void>`

### `ScreenCapture.disableAppSwitcherProtectionAsync()`

Supported platforms: iOS.

Disables the privacy protection overlay that was previously enabled with `enableAppSwitcherProtectionAsync`.

Returns: `Promise<void>`

### `ScreenCapture.enableAppSwitcherProtectionAsync(blurIntensity)`

Supported platforms: iOS.

| Parameter                 | Type     | Description                                                                                                |
| ------------------------- | -------- | ---------------------------------------------------------------------------------------------------------- |
| `blurIntensity`(optional) | `number` | The intensity of the blur effect, from 0.0 (no blur) to 1.0 (maximum blur). Default is 0.5. Default: `0.5` |

Enables a privacy protection blur overlay that hides sensitive content when the app is not in focus. The overlay applies a customizable blur effect when the app is in the app switcher, background, or during interruptions (calls, Siri, Control Center, etc.), and automatically removes it when the app becomes active again.

This provides visual privacy protection by preventing sensitive app content from being visible in:

- App switcher previews
- Background app snapshots
- Screenshots taken during inactive states

For Android, app switcher protection is automatically provided by `preventScreenCaptureAsync()` using the FLAG_SECURE window flag, which shows a blank screen in the recent apps preview.

Returns: `Promise<void>`

### `ScreenCapture.getPermissionsAsync()`

Supported platforms: Android, iOS.

Checks user's permissions for detecting when a screenshot is taken.

> Only Android requires additional permissions to detect screenshots. On iOS devices, this method will always resolve to a `granted` permission response.

Returns: `Promise<permissionresponse>`

A promise that resolves to a [`PermissionResponse`](#permissionresponse) object.

### `ScreenCapture.isAvailableAsync()`

Supported platforms: Android, iOS.

Returns whether the Screen Capture API is available on the current device.

Returns: `Promise<boolean>`

A promise that resolves to a `boolean` indicating whether the Screen Capture API is available on the current device.

### `ScreenCapture.preventScreenCaptureAsync(key)`

Supported platforms: Android, iOS.

| Parameter       | Type     | Description                                                                                                                                                                                                                                                                                                                              |
| --------------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `key`(optional) | `string` | Optional. If provided, this will help prevent multiple instances of the `preventScreenCaptureAsync` and `allowScreenCaptureAsync` methods (and `usePreventScreenCapture` hook) from conflicting with each other. When using multiple keys, you'll have to re-allow each one in order to re-enable screen capturing. Default: `'default'` |

Prevents screenshots and screen recordings until `allowScreenCaptureAsync` is called or the app is restarted. If you are already preventing screen capture, this method does nothing (unless you pass a new and unique `key`).

> On iOS, this prevents screen recordings and screenshots, and is only available on iOS 11+ (recordings) and iOS 13+ (screenshots). On older iOS versions, this method does nothing.

Returns: `Promise<void>`

### `ScreenCapture.requestPermissionsAsync()`

Supported platforms: Android, iOS.

Asks the user to grant permissions necessary for detecting when a screenshot is taken.

> Only Android requires additional permissions to detect screenshots. On iOS devices, this method will always resolve to a `granted` permission response.

Returns: `Promise<permissionresponse>`

A promise that resolves to a [`PermissionResponse`](#permissionresponse) object.

## Event Subscriptions

### `ScreenCapture.addScreenshotListener(listener)`

Supported platforms: Android, iOS.

| Parameter  | Type         | Description                                                                                              |
| ---------- | ------------ | -------------------------------------------------------------------------------------------------------- |
| `listener` | `() => void` | The function that will be executed when the user takes a screenshot. This function accepts no arguments. |

Adds a listener that will fire whenever the user takes a screenshot while the app is foregrounded.

Permission requirements for this method depend on your deviceâ€™s Android version:

- **Before Android 13**: Requires `READ_EXTERNAL_STORAGE`.
- **Android 13**: Switches to `READ_MEDIA_IMAGES`.
- **Post-Android 13**: No additional permissions required. You can request the appropriate permissions by using [`MediaLibrary.requestPermissionsAsync()`](/versions/latest/sdk/media-library#medialibraryrequestpermissionsasync).

Returns: `EventSubscription`

A `Subscription` object that you can use to unregister the listener, either by calling `remove()` or passing it to `removeScreenshotListener`.

### `ScreenCapture.removeScreenshotListener(subscription)`

Supported platforms: Android, iOS.

| Parameter      | Type                | Description                                       |
| -------------- | ------------------- | ------------------------------------------------- |
| `subscription` | `EventSubscription` | Subscription returned by `addScreenshotListener`. |

Removes the subscription you provide, so that you are no longer listening for screenshots. You can also call `remove()` on that `Subscription` object.

Returns: `void`

Example

```ts
let mySubscription = addScreenshotListener(() => {
  console.log("You took a screenshot!");
});
...
mySubscription.remove();
// OR
removeScreenshotListener(mySubscription);
```

### `ScreenCapture.useScreenshotListener(listener)`

Supported platforms: Android, iOS.

| Parameter  | Type         | Description                                                                                                                                                                            |
| ---------- | ------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `listener` | `() => void` | A function that will be called whenever a screenshot is detected. This hook automatically starts listening when the component mounts, and stops listening when the component unmounts. |

A React hook that listens for screenshots taken while the component is mounted.

Returns: `void`

## Interfaces

### `Subscription`

Supported platforms: Android, iOS.

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Supported platforms: Android, iOS.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

## Types

### `PermissionHookOptions`

Supported platforms: Android, iOS.

Literal Type: `union`

Acceptable values are: `PermissionHookBehavior` | `Options`

### `PermissionResponse`

Supported platforms: Android, iOS.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

## Enums

### `PermissionStatus`

Supported platforms: Android, iOS.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

---

---

title: ScreenOrientation
description: A universal library for managing a device's screen orientation.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-screen-orientation'
packageName: 'expo-screen-orientation'
iconUrl: '/static/images/packages/expo-screen-orientation.png'
platforms: ['android', 'ios', 'web', 'expo-go']

---

# Expo ScreenOrientation

A universal library for managing a device's screen orientation.
Android, iOS, Web, Included in Expo Go

Screen Orientation is defined as the orientation in which graphics are painted on the device. For example, the figure below has a device in a vertical and horizontal physical orientation, but a portrait screen orientation. For physical device orientation, see the orientation section of [Device Motion](/versions/latest/sdk/devicemotion).

On both Android and iOS platforms, changes to the screen orientation will override any system settings or user preferences. On Android, it is possible to change the screen orientation while taking the user's preferred orientation into account. On iOS, user and system settings are not accessible by the application and any changes to the screen orientation will override existing settings.

> Web has [limited support](https://caniuse.com/#feat=deviceorientation).

## Installation

```sh
npx expo install expo-screen-orientation
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

### Warning

Apple added support for _split view_ mode to iPads in iOS 9. This changed how the screen orientation is handled by the system. To put the matter shortly, for iOS, your iPad is always in landscape mode unless you open two applications side by side. To be able to lock screen orientation using this module you will need to disable support for this feature. For more information about the _split view_ mode, check out [the official Apple documentation](https://support.apple.com/en-us/HT207582).

## Configuration in app config

You can configure `expo-screen-orientation` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "ios": {
      "requireFullScreen": true
    },
    "plugins": [
      [
        "expo-screen-orientation",
        {
          "initialOrientation": "DEFAULT"
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                 | Default     | Description                                                                                                                                                                             |
| -------------------- | ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `initialOrientation` | `undefined` | Only for: iOS. Sets the iOS initial screen orientation. Possible values: `DEFAULT`, `ALL`, `PORTRAIT`, `PORTRAIT_UP`, `PORTRAIT_DOWN`, `LANDSCAPE`, `LANDSCAPE_LEFT`, `LANDSCAPE_RIGHT` |

Are you using this library in an existing React Native app?

1.  Open the **ios** directory in Xcode with `xed ios`. If you don't have the directory, run `npx expo prebuild -p ios` to generate one.
2.  Tick the `Requires Full Screen` checkbox in Xcode. It should be located under **Project Target** > **General** > **Deployment Info**.

## API

```js
import * as ScreenOrientation from "expo-screen-orientation";
```

## Methods

### `ScreenOrientation.getOrientationAsync()`

Supported platforms: Android, iOS, Web.

Gets the current screen orientation.

Returns: `Promise<orientation>`

Returns a promise that fulfils with an [`Orientation`](#orientation) value that reflects the current screen orientation.

### `ScreenOrientation.getOrientationLockAsync()`

Supported platforms: Android, iOS, Web.

Gets the current screen orientation lock type.

Returns: `Promise<orientationlock>`

Returns a promise which fulfils with an [`OrientationLock`](#orientationlock) value.

### `ScreenOrientation.getPlatformOrientationLockAsync()`

Supported platforms: Android, iOS, Web.

Gets the platform specific screen orientation lock type.

Returns: `Promise<platformorientationinfo>`

Returns a promise which fulfils with a [`PlatformOrientationInfo`](#platformorientationinfo) value.

### `ScreenOrientation.lockAsync(orientationLock)`

Supported platforms: Android, iOS, Web.

| Parameter         | Type                                | Description                                                                                            |
| ----------------- | ----------------------------------- | ------------------------------------------------------------------------------------------------------ |
| `orientationLock` | [OrientationLock](#orientationlock) | The orientation lock to apply. See the [`OrientationLock`](#orientationlock) enum for possible values. |

Lock the screen orientation to a particular `OrientationLock`.

Returns: `Promise<void>`

Returns a promise with `void` value, which fulfils when the orientation is set.

Example

```ts
async function changeScreenOrientation() {
  await ScreenOrientation.lockAsync(
    ScreenOrientation.OrientationLock.LANDSCAPE_LEFT,
  );
}
```

### `ScreenOrientation.lockPlatformAsync(options)`

Supported platforms: Android, iOS, Web.

| Parameter | Type                                                | Description                                                                                                                                        |
| --------- | --------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| `options` | [PlatformOrientationInfo](#platformorientationinfo) | The platform specific lock to apply. See the [`PlatformOrientationInfo`](#platformorientationinfo) object type for the different platform formats. |

Returns: `Promise<void>`

Returns a promise with `void` value, resolving when the orientation is set and rejecting if an invalid option or value is passed.

### `ScreenOrientation.supportsOrientationLockAsync(orientationLock)`

Supported platforms: Android, iOS, Web.

| Parameter         | Type                                |
| ----------------- | ----------------------------------- |
| `orientationLock` | [OrientationLock](#orientationlock) |

Returns whether the [`OrientationLock`](#orientationlock) policy is supported on the device.

Returns: `Promise<boolean>`

Returns a promise that resolves to a `boolean` value that reflects whether or not the orientationLock is supported.

### `ScreenOrientation.unlockAsync()`

Supported platforms: Android, iOS, Web.

Sets the screen orientation back to the `OrientationLock.DEFAULT` policy.

Returns: `Promise<void>`

Returns a promise with `void` value, which fulfils when the orientation is set.

## Event Subscriptions

### `ScreenOrientation.addOrientationChangeListener(listener)`

Supported platforms: Android, iOS, Web.

| Parameter  | Type                                                                                                | Description                                                                                                                   |
| ---------- | --------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- |
| `listener` | [OrientationChangeListener](/versions/latest/sdk/screen-orientation#orientationchangelistenerevent) | Each orientation update will pass an object with the new [`OrientationChangeEvent`](#orientationchangeevent) to the listener. |

Invokes the `listener` function when the screen orientation changes from `portrait` to `landscape` or from `landscape` to `portrait`. For example, it won't be invoked when screen orientation change from `portrait up` to `portrait down`, but it will be called when there was a change from `portrait up` to `landscape left`.

Returns: `EventSubscription`

### `ScreenOrientation.removeOrientationChangeListener(subscription)`

Supported platforms: Android, iOS, Web.

| Parameter      | Type                | Description                                                                                            |
| -------------- | ------------------- | ------------------------------------------------------------------------------------------------------ |
| `subscription` | `EventSubscription` | A subscription object that manages the updates passed to a listener function on an orientation change. |

Unsubscribes the listener associated with the `Subscription` object from all orientation change updates.

Returns: `void`

### `ScreenOrientation.removeOrientationChangeListeners()`

Supported platforms: Android, iOS, Web.

Removes all listeners subscribed to orientation change updates.

Returns: `void`

## Interfaces

### `Subscription`

Supported platforms: Android, iOS, Web.

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Supported platforms: Android, iOS, Web.

Removes an event listener for which the subscription has been created. After calling this function, the listener will no longer receive any events from the emitter.

Returns: `void`

## Types

### `OrientationChangeEvent`

Supported platforms: Android, iOS, Web.

| Property        | Type                                            | Description                                        |
| --------------- | ----------------------------------------------- | -------------------------------------------------- |
| orientationInfo | [ScreenOrientationInfo](#screenorientationinfo) | The current `ScreenOrientationInfo` of the device. |
| orientationLock | [OrientationLock](#orientationlock)             | The current `OrientationLock` of the device.       |

### `OrientationChangeListener(event)`

Supported platforms: Android, iOS, Web.

| Parameter | Type                                              |
| --------- | ------------------------------------------------- |
| `event`   | [OrientationChangeEvent](#orientationchangeevent) |

Returns:

`void`

### `PlatformOrientationInfo`

Supported platforms: Android, iOS, Web.

| Property                                   | Type                                      | Description                                                                                                                                                                                                                                                                                                                                                     |
| ------------------------------------------ | ----------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| screenOrientationArrayIOS(optional)        | [Orientation[]](#orientation)             | Supported platforms: iOS. An array of orientations to allow on the iOS platform.                                                                                                                                                                                                                                                                                |
| screenOrientationConstantAndroid(optional) | `number`                                  | Supported platforms: Android. A constant to set using the Android native [API](https://developer.android.com/reference/android/R.attr#screenOrientation). For example, in order to set the lock policy to [unspecified](https://developer.android.com/reference/android/content/pm/ActivityInfo.html#SCREEN_ORIENTATION_UNSPECIFIED), `-1` should be passed in. |
| screenOrientationLockWeb(optional)         | [WebOrientationLock](#weborientationlock) | Supported platforms: Web. A web orientation lock to apply in the browser.                                                                                                                                                                                                                                                                                       |

### `ScreenOrientationInfo`

Supported platforms: Android, iOS, Web.

| Property                      | Type                          | Description                                                                                                                                                         |
| ----------------------------- | ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| horizontalSizeClass(optional) | [SizeClassIOS](#sizeclassios) | Supported platforms: iOS. The [horizontal size class](https://developer.apple.com/documentation/uikit/uitraitcollection/1623508-horizontalsizeclass) of the device. |
| orientation                   | [Orientation](#orientation)   | The current orientation of the device.                                                                                                                              |
| verticalSizeClass(optional)   | [SizeClassIOS](#sizeclassios) | Supported platforms: iOS. The [vertical size class](https://developer.apple.com/documentation/uikit/uitraitcollection/1623513-verticalsizeclass) of the device.     |

## Enums

### `Orientation`

Supported platforms: Android, iOS, Web.

#### `UNKNOWN`

`Orientation.UNKNOWN = 0`

An unknown screen orientation. For example, the device is flat, perhaps on a table.

#### `PORTRAIT_UP`

`Orientation.PORTRAIT_UP = 1`

Right-side up portrait interface orientation.

#### `PORTRAIT_DOWN`

`Orientation.PORTRAIT_DOWN = 2`

Upside down portrait interface orientation.

#### `LANDSCAPE_LEFT`

`Orientation.LANDSCAPE_LEFT = 3`

Left landscape interface orientation.

#### `LANDSCAPE_RIGHT`

`Orientation.LANDSCAPE_RIGHT = 4`

Right landscape interface orientation.

### `OrientationLock`

Supported platforms: Android, iOS, Web.

An enum whose values can be passed to the [`lockAsync`](#screenorientationlockasyncorientationlock) method.

> **Note:** `OrientationLock.ALL` and `OrientationLock.PORTRAIT` are invalid on devices which don't support `OrientationLock.PORTRAIT_DOWN`.

#### `DEFAULT`

`OrientationLock.DEFAULT = 0`

The default orientation. On iOS, this will allow all orientations except `Orientation.PORTRAIT_DOWN`. On Android, this lets the system decide the best orientation.

#### `ALL`

`OrientationLock.ALL = 1`

All four possible orientations

#### `PORTRAIT`

`OrientationLock.PORTRAIT = 2`

Any portrait orientation.

#### `PORTRAIT_UP`

`OrientationLock.PORTRAIT_UP = 3`

Right-side up portrait only.

#### `PORTRAIT_DOWN`

`OrientationLock.PORTRAIT_DOWN = 4`

Upside down portrait only.

#### `LANDSCAPE`

`OrientationLock.LANDSCAPE = 5`

Any landscape orientation.

#### `LANDSCAPE_LEFT`

`OrientationLock.LANDSCAPE_LEFT = 6`

Left landscape only.

#### `LANDSCAPE_RIGHT`

`OrientationLock.LANDSCAPE_RIGHT = 7`

Right landscape only.

#### `OTHER`

`OrientationLock.OTHER = 8`

A platform specific orientation. This is not a valid policy that can be applied in [`lockAsync`](#screenorientationlockasyncorientationlock).

#### `UNKNOWN`

`OrientationLock.UNKNOWN = 9`

An unknown screen orientation lock. This is not a valid policy that can be applied in [`lockAsync`](#screenorientationlockasyncorientationlock).

### `SizeClassIOS`

Supported platforms: Android, iOS, Web.

Each iOS device has a default set of [size classes](https://developer.apple.com/documentation/uikit/uiuserinterfacesizeclass) that you can use as a guide when designing your interface.

#### `UNKNOWN`

`SizeClassIOS.UNKNOWN = 0`

#### `COMPACT`

`SizeClassIOS.COMPACT = 1`

#### `REGULAR`

`SizeClassIOS.REGULAR = 2`

### `WebOrientation`

Supported platforms: Android, iOS, Web.

#### `LANDSCAPE_PRIMARY`

`WebOrientation.LANDSCAPE_PRIMARY = "landscape-primary"`

#### `LANDSCAPE_SECONDARY`

`WebOrientation.LANDSCAPE_SECONDARY = "landscape-secondary"`

#### `PORTRAIT_PRIMARY`

`WebOrientation.PORTRAIT_PRIMARY = "portrait-primary"`

#### `PORTRAIT_SECONDARY`

`WebOrientation.PORTRAIT_SECONDARY = "portrait-secondary"`

### `WebOrientationLock`

Supported platforms: Android, iOS, Web.

An enum representing the lock policies that can be applied on the web platform, modelled after the [W3C specification](https://w3c.github.io/screen-orientation/#dom-orientationlocktype). These values can be applied through the [`lockPlatformAsync`](#screenorientationlockplatformasyncoptions) method.

#### `ANY`

`WebOrientationLock.ANY = "any"`

#### `LANDSCAPE`

`WebOrientationLock.LANDSCAPE = "landscape"`

#### `LANDSCAPE_PRIMARY`

`WebOrientationLock.LANDSCAPE_PRIMARY = "landscape-primary"`

#### `LANDSCAPE_SECONDARY`

`WebOrientationLock.LANDSCAPE_SECONDARY = "landscape-secondary"`

#### `NATURAL`

`WebOrientationLock.NATURAL = "natural"`

#### `PORTRAIT`

`WebOrientationLock.PORTRAIT = "portrait"`

#### `PORTRAIT_PRIMARY`

`WebOrientationLock.PORTRAIT_PRIMARY = "portrait-primary"`

#### `PORTRAIT_SECONDARY`

`WebOrientationLock.PORTRAIT_SECONDARY = "portrait-secondary"`

#### `UNKNOWN`

`WebOrientationLock.UNKNOWN = "unknown"`

---

---

title: react-native-screens
description: A library that provides native primitives to represent screens for better operating system behavior and screen optimizations.
sourceCodeUrl: 'https://github.com/software-mansion/react-native-screens'
packageName: react-native-screens
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']
inExpoGo: true

---

# react-native-screens

A library that provides native primitives to represent screens for better operating system behavior and screen optimizations.
Android, iOS, tvOS, Web, Included in Expo Go

`react-native-screens` provides native primitives to represent screens instead of plain `<View>` components To better take advantage of operating system behavior and optimizations around screens. This capability is used by library authors and is unlikely to be used directly by most app developers. It also provides the native components needed for React Navigation's [`createNativeStackNavigator`](https://reactnavigation.org/docs/native-stack-navigator).

## Installation

```sh
npx expo install react-native-screens
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://github.com/software-mansion/react-native-screens#installation) provided in the library's README or documentation.

## Learn more

[Visit official documentation](https://docs.swmansion.com/react-native-screens/) â€” Get full information on API and its usage.

---

---

title: SecureStore
description: A library that provides a way to encrypt and securely store key-value pairs locally on the device.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-secure-store'
packageName: 'expo-secure-store'
iconUrl: '/static/images/packages/expo-secure-store.png'
platforms: ['android', 'ios', 'tvos', 'expo-go']

---

# Expo SecureStore

A library that provides a way to encrypt and securely store key-value pairs locally on the device.
Android, iOS, tvOS, Included in Expo Go

`expo-secure-store` provides a way to encrypt and securely store key-value pairs locally on the device. Each Expo project has a separate storage system and has no access to the storage of other Expo projects.

**Large payloads can be rejected by the underlying platform. Historically, some iOS releases refused values above roughly 2048 bytes. Expo does not enforce a limit, so make sure to handle native errors if you plan to store very large strings.**

**The `requireAuthentication` option is not supported in Expo Go when biometric authentication is available due to a missing `NSFaceIDUsageDescription` key.**

## Installation

```sh
npx expo install expo-secure-store
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-secure-store` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-secure-store",
        {
          "configureAndroidBackup": true,
          "faceIDPermission": "Allow $(PRODUCT_NAME) to access your Face ID biometric data."
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                     | Default                                                          | Description                                                                                                                                                           |
| ------------------------ | ---------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `configureAndroidBackup` | `true`                                                           | Only for: Android. A boolean indicating whether to configure automatic Android backup to work correctly with `expo-secure-store`. [Learn more](#android-auto-backup). |
| `faceIDPermission`       | `"Allow $(PRODUCT_NAME) to access your Face ID biometric data."` | Only for: iOS. A string to set the [`NSFaceIDUsageDescription`](#ios) permission message.                                                                             |

Are you using this library in an existing React Native app?

Add `NSFaceIDUsageDescription` key to **Info.plist**:

```xml
<key>NSFaceIDUsageDescription</key>
<string>Allow $(PRODUCT_NAME) to access your Face ID biometric data.</string>
```

## Platform value storage

### Android

On Android, values are stored in [`SharedPreferences`](https://developer.android.com/training/data-storage/shared-preferences), encrypted with [Android's Keystore system](https://developer.android.com/training/articles/keystore.html).

### iOS

On iOS, values are stored using the [keychain services](https://developer.apple.com/documentation/security/keychain_services) as `kSecClassGenericPassword`. **Due to the underlying nature of iOS Keychain, data stored with `expo-secure-store` will persist across app uninstallations when the app is reinstalled with the same bundle ID.** This is an expected behavior of the iOS Keychain system and should be considered when designing your app's data handling. iOS has the additional option of being able to set the value's `kSecAttrAccessible` attribute, which controls when the value is available to be fetched.

## Data persistence

`expo-secure-store` is designed to provide a persistent data storage solution across app restarts and updates. However, it is important not to rely on it as a single source of truth for irreplaceable, critical data.

- **On Android:** Data saved using `expo-secure-store` **will not be preserved upon app uninstallation**.
- **On iOS:** Data saved using `expo-secure-store` **will persist across app uninstallations** if the app is reinstalled with the same bundle ID. This is due to how the iOS Keychain manages stored credentials. Keep in mind that this is not guaranteed and you should never rely on this implementation detail.

Additionally, any data protected with the `requireAuthentication` option set to `true` will become inaccessible if there are changes to the user's biometric settings, such as adding a new fingerprint.

#### Exempting encryption prompt

Apple App Store Connect prompts you to select the type of encryption algorithm your app implements. This is known as **Export Compliance Information**. It is asked when publishing the app or submitting for TestFlight.

When using `expo-secure-store`, you can set the [`ios.config.usesNonExemptEncryption`](/versions/latest/config/app#usesnonexemptencryption) property to `false` in the app config:

```json
{
  "expo": {
    "ios": {
      "config": {
        "usesNonExemptEncryption": false
      }
      ...
    }
  }
}
```

Setting this property automatically handles the compliance information prompt.

## Android Auto Backup

[Android Auto Backup for Apps](https://developer.android.com/identity/data/autobackup) automatically backs up a user's data from apps that target and run on Android 6.0 (API level 23) or higher.

The Auto Backup system has to be configured to exclude `expo-secure-store` shared preferences entries, as it's impossible to decrypt them after restoring the backup â€” app's entries are deleted from the Android Key Store when the app is uninstalled.

If your app doesn't have any custom backup configuration, `expo-secure-store` will automatically configure the Auto Backup system to ignore the `expo-secure-store` data.

If you are using your own Auto Backup configuration, you should exclude the `SecureStore` under the `sharedpref` domain and set the `configureAndroidBackup` to `false` in the [config plugin configuration](/versions/latest/sdk/securestore#example-appjson-with-config-plugin).

```xml
<!--  Auto Backup configuration for Android 12 and higher -->
<data-extraction-rules>
  <cloud-backup>
    <include domain="sharedpref" path="."/>
    <exclude domain="sharedpref" path="SecureStore"/>
  </cloud-backup>
  <device-transfer>
    <include domain="sharedpref" path="."/>
    <exclude domain="sharedpref" path="SecureStore"/>
  </device-transfer>
</data-extraction-rules>
```

```xml
<!--  Auto Backup configuration for Android 11 and lower -->
<full-backup-content>
  <include domain="sharedpref" path="."/>
  <exclude domain="sharedpref" path="SecureStore"/>
</full-backup-content>
```

## Usage

```jsx
import { useState } from 'react';
import { Text, View, StyleSheet, TextInput, Button } from 'react-native';
import * as SecureStore from 'expo-secure-store';

async function save(key, value) {
  await SecureStore.setItemAsync(key, value);
}

async function getValueFor(key) {
  let result = await SecureStore.getItemAsync(key);
  if (result) {
    alert("ðŸ” Here's your value ðŸ” \n" + result);
  } else {
    alert('No values stored under that key.');
  }
}

export default function App() {
  const [key, onChangeKey] = useState('Your key here');
  const [value, onChangeValue] = useState('Your value here');

  return (
    <View style={styles.container}>
      <Text style={styles.paragraph}>Save an item, and grab it later!</Text>
      {Add some TextInput components... }
      <Button
        title="Save this key/value pair"
        onPress={() => {
          save(key, value);
          onChangeKey('Your key here');
          onChangeValue('Your value here');
        }}
      />
      <Text style={styles.paragraph}>ðŸ” Enter your key ðŸ”</Text>
      <TextInput
        style={styles.textInput}
        onSubmitEditing={event => {
          getValueFor(event.nativeEvent.text);
        }}
        placeholder="Enter the key for the value you want to get"
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    paddingTop: 10,
    backgroundColor: '#ecf0f1',
    padding: 8,
  },
  paragraph: {
    marginTop: 34,
    margin: 24,
    fontSize: 18,
    fontWeight: 'bold',
    textAlign: 'center',
  },
  textInput: {
    height: 35,
    borderColor: 'gray',
    borderWidth: 0.5,
    padding: 4,
  },
});
```

## API

```js
import * as SecureStore from "expo-secure-store";
```

## Constants

### `SecureStore.AFTER_FIRST_UNLOCK`

Supported platforms: Android, iOS, tvOS.

Type: [KeychainAccessibilityConstant](#keychainaccessibilityconstant)

The data in the keychain item cannot be accessed after a restart until the device has been unlocked once by the user. This may be useful if you need to access the item when the phone is locked.

### `SecureStore.AFTER_FIRST_UNLOCK_THIS_DEVICE_ONLY`

Supported platforms: Android, iOS, tvOS.

Type: [KeychainAccessibilityConstant](#keychainaccessibilityconstant)

Similar to `AFTER_FIRST_UNLOCK`, except the entry is not migrated to a new device when restoring from a backup.

> **Deprecated:** Use an accessibility level that provides some user protection, such as `AFTER_FIRST_UNLOCK`.

### `SecureStore.ALWAYS`

Supported platforms: Android, iOS, tvOS.

Type: [KeychainAccessibilityConstant](#keychainaccessibilityconstant)

The data in the keychain item can always be accessed regardless of whether the device is locked. This is the least secure option.

> **Deprecated:** Use an accessibility level that provides some user protection, such as `AFTER_FIRST_UNLOCK_THIS_DEVICE_ONLY`.

### `SecureStore.ALWAYS_THIS_DEVICE_ONLY`

Supported platforms: Android, iOS, tvOS.

Type: [KeychainAccessibilityConstant](#keychainaccessibilityconstant)

Similar to `ALWAYS`, except the entry is not migrated to a new device when restoring from a backup.

### `SecureStore.WHEN_PASSCODE_SET_THIS_DEVICE_ONLY`

Supported platforms: Android, iOS, tvOS.

Type: [KeychainAccessibilityConstant](#keychainaccessibilityconstant)

Similar to `WHEN_UNLOCKED_THIS_DEVICE_ONLY`, except the user must have set a passcode in order to store an entry. If the user removes their passcode, the entry will be deleted.

### `SecureStore.WHEN_UNLOCKED`

Supported platforms: Android, iOS, tvOS.

Type: [KeychainAccessibilityConstant](#keychainaccessibilityconstant)

The data in the keychain item can be accessed only while the device is unlocked by the user.

### `SecureStore.WHEN_UNLOCKED_THIS_DEVICE_ONLY`

Supported platforms: Android, iOS, tvOS.

Type: [KeychainAccessibilityConstant](#keychainaccessibilityconstant)

Similar to `WHEN_UNLOCKED`, except the entry is not migrated to a new device when restoring from a backup.

## Methods

### `SecureStore.canUseBiometricAuthentication()`

Supported platforms: Android, iOS.

Checks if the value can be saved with `requireAuthentication` option enabled.

Returns: `boolean`

`true` if the device supports biometric authentication and the enrolled method is sufficiently secure. Otherwise, returns `false`. Always returns false on tvOS.

### `SecureStore.deleteItemAsync(key, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                      | Description                                                          |
| ------------------- | ----------------------------------------- | -------------------------------------------------------------------- |
| `key`               | `string`                                  | The key that was used to store the associated value.                 |
| `options`(optional) | [SecureStoreOptions](#securestoreoptions) | An [`SecureStoreOptions`](#securestoreoptions) object. Default: `{}` |

Delete the value associated with the provided key.

Returns: `Promise<void>`

A promise that rejects if the value can't be deleted.

### `SecureStore.getItem(key, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                      | Description                                                          |
| ------------------- | ----------------------------------------- | -------------------------------------------------------------------- |
| `key`               | `string`                                  | The key that was used to store the associated value.                 |
| `options`(optional) | [SecureStoreOptions](#securestoreoptions) | An [`SecureStoreOptions`](#securestoreoptions) object. Default: `{}` |

Synchronously reads the stored value associated with the provided key.

> **Note:** This function blocks the JavaScript thread, so the application may not be interactive when reading a value with `requireAuthentication` option set to `true` until the user authenticates.

Returns: `string | null`

Previously stored value. It resolves with `null` if there is no entry for the given key or if the key has been invalidated.

### `SecureStore.getItemAsync(key, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                      | Description                                                          |
| ------------------- | ----------------------------------------- | -------------------------------------------------------------------- |
| `key`               | `string`                                  | The key that was used to store the associated value.                 |
| `options`(optional) | [SecureStoreOptions](#securestoreoptions) | An [`SecureStoreOptions`](#securestoreoptions) object. Default: `{}` |

Reads the stored value associated with the provided key.

Returns: `Promise<string>`

A promise that resolves to the previously stored value. It resolves with `null` if there is no entry for the given key or if the key has been invalidated. It rejects if an error occurs while retrieving the value.

> Keys are invalidated by the system when biometrics change, such as adding a new fingerprint or changing the face profile used for face recognition. After a key has been invalidated, it becomes impossible to read its value. This only applies to values stored with `requireAuthentication` set to `true`.

### `SecureStore.isAvailableAsync()`

Supported platforms: Android, iOS, tvOS.

Returns whether the SecureStore API is enabled on the current device. This does not check the app permissions.

Returns: `Promise<boolean>`

Promise which fulfils with a `boolean`, indicating whether the SecureStore API is available on the current device. Currently, this resolves `true` on Android and iOS only.

### `SecureStore.setItem(key, value, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                      | Description                                                                                              |
| ------------------- | ----------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| `key`               | `string`                                  | The key to associate with the stored value. Keys may contain alphanumeric characters, `.`, `-`, and `_`. |
| `value`             | `string`                                  | The value to store.                                                                                      |
| `options`(optional) | [SecureStoreOptions](#securestoreoptions) | An [`SecureStoreOptions`](#securestoreoptions) object. Default: `{}`                                     |

Stores a keyâ€“value pair synchronously.

> **Note:** This function blocks the JavaScript thread, so the application may not be interactive when the `requireAuthentication` option is set to `true` until the user authenticates.

Returns: `void`

### `SecureStore.setItemAsync(key, value, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                      | Description                                                                                              |
| ------------------- | ----------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| `key`               | `string`                                  | The key to associate with the stored value. Keys may contain alphanumeric characters, `.`, `-`, and `_`. |
| `value`             | `string`                                  | The value to store.                                                                                      |
| `options`(optional) | [SecureStoreOptions](#securestoreoptions) | An [`SecureStoreOptions`](#securestoreoptions) object. Default: `{}`                                     |

Stores a keyâ€“value pair.

Returns: `Promise<void>`

A promise that rejects if value cannot be stored on the device.

## Types

### `KeychainAccessibilityConstant`

Supported platforms: Android, iOS, tvOS.

Type: `number`

### `SecureStoreOptions`

Supported platforms: Android, iOS, tvOS.

| Property                       | Type                                                            | Description                                                                                                                                                                                                        |
| ------------------------------ | --------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| accessGroup(optional)          | `string`                                                        | Supported platforms: iOS. Specifies the access group the stored entry belongs to.See: Apple's documentation on Sharing access to keychain items among a collection of apps.                                        |
| authenticationPrompt(optional) | `string`                                                        | Custom message displayed to the user while `requireAuthentication` option is turned on.                                                                                                                            |
| keychainAccessible(optional)   | [KeychainAccessibilityConstant](#keychainaccessibilityconstant) | Supported platforms: iOS. Specifies when the stored entry is accessible, using iOS's `kSecAttrAccessible` property. Default: `SecureStore.WHEN_UNLOCKED`See: Apple's documentation on keychain item accessibility. |
| keychainService(optional)      | `string`                                                        |

- Android: Equivalent of the public/private key pair `Alias`.
- iOS: The item's service, equivalent to [`kSecAttrService`](https://developer.apple.com/documentation/security/ksecattrservice/).

If the item is set with the keychainService option, it will be required to later fetch the value. |
| requireAuthentication(optional) | `boolean` | Option responsible for enabling the usage of the user authentication methods available on the device while accessing data stored in SecureStore.

- Android: Equivalent to [`setUserAuthenticationRequired(true)`](<https://developer.android.com/reference/android/security/keystore/KeyGenParameterSpec.Builder#setUserAuthenticationRequired(boolean)>) (requires API 23).
- iOS: Equivalent to [`biometryCurrentSet`](https://developer.apple.com/documentation/security/secaccesscontrolcreateflags/2937192-biometrycurrentset). Complete functionality is unlocked only with a freshly generated key - this would not work in tandem with the `keychainService` value used for the others non-authenticated operations.

. This option works slightly differently across platforms: On Android, user authentication is required for all operations. On iOS, the user is prompted to authenticate only when reading or updating an existing value (not when creating a new one). Warning: This option is not supported in Expo Go when biometric authentication is available due to a missing NSFaceIDUsageDescription. In release builds or when using continuous native generation, make sure to use the `expo-secure-store` config plugin. |

---

---

title: '@react-native-segmented-control/segmented-control'
description: A React Native library that provides a component to render UISegmentedControl from iOS.
sourceCodeUrl: 'https://github.com/react-native-community/segmented-control'
packageName: '@react-native-segmented-control/segmented-control'
platforms: ['android', 'ios', 'web', 'expo-go']
inExpoGo: true

---

# @react-native-segmented-control/segmented-control

A React Native library that provides a component to render UISegmentedControl from iOS.
Android, iOS, Web, Included in Expo Go

It's like a fancy radio button, or in Apple's words: "A horizontal control that consists of multiple segments, each segment functioning as a discrete button" ([source](https://developer.apple.com/documentation/uikit/uisegmentedcontrol)). This component renders to a [`UISegmentedControl`](https://developer.apple.com/documentation/uikit/uisegmentedcontrol) on iOS, and to faithful recreations of that control on Android and web (because no equivalent exists on those platforms' standard libraries).

## Installation

```sh
npx expo install @react-native-segmented-control/segmented-control
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://github.com/react-native-segmented-control/segmented-control#getting-started) provided in the library's README or documentation.

## Learn more

[Visit official documentation](https://github.com/react-native-community/segmented-control) â€” Get full information on API and its usage.

---

---

title: Sensors
description: A library that provides access to a device's accelerometer, barometer, motion, gyroscope, light, magnetometer, and pedometer.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-sensors'
packageName: 'expo-sensors'
iconUrl: '/static/images/packages/expo-sensors.png'
platforms: ['android', 'ios', 'web', 'expo-go']

---

# Expo Sensors

A library that provides access to a device's accelerometer, barometer, motion, gyroscope, light, magnetometer, and pedometer.
Android, iOS, Web, Included in Expo Go

`expo-sensors` provide various APIs for accessing device sensors to measure motion, orientation, pressure, magnetic fields, ambient light, and step count.

## Installation

```sh
npx expo install expo-sensors
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-sensors` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-sensors",
        {
          "motionPermission": "Allow $(PRODUCT_NAME) to access your device motion"
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name               | Default                                                | Description                                                                                                                                                        |
| ------------------ | ------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `motionPermission` | `"Allow $(PRODUCT_NAME) to access your device motion"` | Only for: iOS. A string to set the [`NSMotionUsageDescription`](#permission-nsmotionusagedescription) permission message or `false` to disable motion permissions. |

## API

```js
// OR
import {
  Accelerometer,
  Barometer,
  DeviceMotion,
  Gyroscope,
  LightSensor,
  Magnetometer,
  MagnetometerUncalibrated,
  Pedometer,
} from "expo-sensors";
import * as Sensors from "expo-sensors";
```

## Permissions

### Android

Starting in Android 12 (API level 31), the system has a 200Hz limit for each sensor updates.

If you need an update interval of greater than 200Hz, you must add the following permissions to your **app.json** inside the [`expo.android.permissions`](/versions/latest/config/app#permissions) array.

| Android Permission           | Description                                                                   |
| ---------------------------- | ----------------------------------------------------------------------------- |
| `HIGH_SAMPLING_RATE_SENSORS` | Allows an app to access sensor data with a sampling rate greater than 200 Hz. |

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) or you're using native **android** project manually, add `HIGH_SAMPLING_RATE_SENSORS` permission to your project's **android/app/src/main/AndroidManifest.xml**:

```xml
<uses-permission android:name="android.permission.HIGH_SAMPLING_RATE_SENSORS" />
```

### iOS

The following usage description keys are used by this library:

| Info.plist Key             | Description                                                                                 |
| -------------------------- | ------------------------------------------------------------------------------------------- |
| `NSMotionUsageDescription` | A message that tells the user why the app is requesting access to the deviceâ€™s motion data. |

## Available sensors

For more information, see the documentation for the sensor you are interested in:

[Accelerometer](/versions/latest/sdk/accelerometer) â€” Measures device acceleration on all platforms.

[Barometer](/versions/latest/sdk/barometer) â€” Measures pressure on Android and iOS platforms.

[DeviceMotion](/versions/latest/sdk/devicemotion) â€” Measures device motion on all platforms.

[Gyroscope](/versions/latest/sdk/gyroscope) â€” Measures device rotation on all platforms.

[Magnetometer](/versions/latest/sdk/magnetometer) â€” Measures magnetic fields on Android and iOS platforms.

[LightSensor](/versions/latest/sdk/light-sensor) â€” Measures ambient light on Android platform.

[Pedometer](/versions/latest/sdk/pedometer) â€” Measures steps count on Android and iOS platforms.

---

---

title: Server
description: Server-side API and runtime for Expo Router projects.
sourceCodeUrl: 'https://github.com/expo/expo/tree/main/packages/expo-server'
packageName: 'expo-server'
platforms: ['server']
isNew: true

---

# Expo Server

Server-side API and runtime for Expo Router projects.
Server

`expo-server` is a server-side API and runtime library for Expo Router. It provides helpers you can use in your Expo Router API routes or other server code, and contains adapters to run Expo Router server exports.

## Installation

```sh
npx expo install expo-server
```

To use `expo-server` in your project, you need to configure your Expo Router project to export in `server` mode. Follow the instructions from Expo Router's API Routes guide:

[API Routes](/router/web/api-routes) â€” Learn how to create server endpoints with Expo Router.

## Usage

`expo-server`'s runtime APIs can only be used in server-side code and give you access to the server-side runtime environment. The runtime API exposes functions that can be called within the async context of request handlers and give you information about the current request or schedule tasks that run concurrently to the incoming request.

### Accessing request metadata

```ts
import { origin, environment } from "expo-server";

export async function GET() {
  return Response.json({
    isProduction: environment() == null,
    isStaging: environment() === "staging",
    origin: origin(),
  });
}
```

### Scheduling tasks

```ts
import { runTask, deferTask } from "expo-server";

export async function GET() {
  runTask(async () => {
    console.log("will run immediately.");
  });

  deferTask(async () => {
    console.log("will run after the response resolved.");
  });

  return Response.json({ success: true });
}
```

## Adapters

`expo-server` exposes adapters to run Expo Router server-side exports in different environments or on different cloud provider serverless functions. Typically, every runtime needs its own adapter to function with the `expo-server` runtime. Before deploying to these providers, it is good to be familiar with the basics of [`npx expo export`](/more/expo-cli#exporting) command.

| Adapter                       | Provider                                                                 |
| ----------------------------- | ------------------------------------------------------------------------ |
| `expo-server/adapter/bun`     | [Bun](https://bun.com/docs)                                              |
| `expo-server/adapter/express` | [Express](https://expressjs.com/en/5x/api.html)                          |
| `expo-server/adapter/http`    | [Node.js](https://nodejs.org/api/http.html)                              |
| `expo-server/adapter/netlify` | [Netlify Functions](https://docs.netlify.com/build/functions/overview/)  |
| `expo-server/adapter/vercel`  | [Vercel Functions](https://vercel.com/docs/functions)                    |
| `expo-server/adapter/workerd` | [Cloudflare Workers](https://developers.cloudflare.com/pages/functions/) |

To learn how to host API routes on different third-party services, follow the instructions from Expo Router's API Routes guide:

[API Routes](/router/web/api-routes#hosting-on-third-party-services) â€” Learn how to host API Routes on third-party services.

By convention, all adapters export a `createRequestHandler` function that accepts a parameters object. This accepts a `build` parameter that must be set to the relative path to the `dist/server` output directory that `npx expo export` created. Some adapters may also accept more values to configure the runtime API.

```ts
import { createRequestHandler } from "expo-server/adapter/http";
import path from "node:path";

const onRequest = createRequestHandler({
  build: path.join(process.cwd(), "dist/server"),
  environment: process.env.NODE_ENV,
});
```

## API

## Classes

### `StatusError`

Supported platforms: Server.

Type: Class extends [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)

An error response representation which can be thrown anywhere in server-side code.

A `StatusError` can be thrown by a request handler and will be caught by the `expo-server` runtime and replaced by a `Response` with the `status` and `body` that's been passed to the `StatusError`.

Example

```ts
import { StatusError } from "expo-server";

export function GET(request, { postId }) {
  if (!postId) {
    throw new StatusError(400, "postId parameter is required");
  }
}
```

StatusError Properties

### `body`

Supported platforms: Server.

Type: `string`

### `status`

Supported platforms: Server.

Type: `number`

## Methods

### `deferTask(fn)`

Supported platforms: Server.

| Parameter | Type       | Description                                                                                                   |
| --------- | ---------- | ------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------ |
| `fn`      | () => void | [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<unknown\> | A task function to execute after the request handler has finished. |

Defers a task until after a response has been sent.

This only calls the task function once the request handler has finished resolving a `Response` and keeps the request handler alive until the task is completed. This is useful to run non-critical tasks after the request handler, for example to log analytics datapoints. If the request handler rejects with an error, deferred tasks won't be executed.

Returns: `void`

### `environment()`

Supported platforms: Server.

Returns the request's environment, if the server runtime supports this.

In EAS Hosting, the returned environment name is the [alias or deployment identifier](https://docs.expo.dev/eas/hosting/deployments-and-aliases/), but the value may differ for other providers.

Returns: `string | null`

A request environment name, or `null` for production.

### `origin()`

Supported platforms: Server.

Returns the current request's origin URL.

This typically returns the request's `Origin` header, which contains the request origin URL or defaults to `null`.

Returns: `string | null`

A request origin

### `runTask(fn)`

Supported platforms: Server.

| Parameter | Type                                                                                                                | Description                                                                                  |
| --------- | ------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| `fn`      | () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<unknown\> | A task function to execute. The request handler will be kept alive until this task finishes. |

Runs a task immediately and instructs the runtime to complete the task.

A request handler may be terminated as soon as the client has finished the full `Response` and unhandled promise rejections may not be logged properly. To run tasks concurrently to a request handler and keep the request alive until the task is completed, pass a task function to `runTask` instead. The request handler will be kept alive until the task completes.

Returns: `void`

### `setResponseHeaders(updateHeaders)`

Supported platforms: Server.

| Parameter       | Type                                                                | Description           |
| --------------- | ------------------------------------------------------------------- | --------------------- | ---------- | -------------------------------------------------------------------------------------- | ------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `updateHeaders` | [Headers](https://developer.mozilla.org/en-US/docs/Web/API/Headers) | Record<string, string | string[]\> | (headers: [Headers](https://developer.mozilla.org/en-US/docs/Web/API/Headers)) => void | [Headers](https://developer.mozilla.org/en-US/docs/Web/API/Headers) | A `Headers` object, a record of headers, or a function that receives `Headers` to be updated or can return a `Headers` object that will be merged into the response headers. |

Sets headers on the `Response` the current request handler will return.

This only updates the headers once the request handler has finished and resolved a `Response`. It will either receive a set of `Headers` or an equivalent object containing headers, which will be merged into the response's headers once it's returned.

Returns: `void`

## Interfaces

### `ImmutableRequest`

Supported platforms: Server.

Extends: `_ImmutableRequest`

An immutable version of the Fetch API's `Request` as received by middleware functions. It cannot be mutated or modified, its headers are immutable, and you won't have access to the request body.

| Property | Type     | Description                                                                                                                                                                        |
| -------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| method   | `string` | The **`method`** read-only property of the `POST`, etc.) A String indicating the method of the request. [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/method) |
| url      | `string` | The **`url`** read-only property of the Request interface contains the URL of the request. [MDN Reference](https://developer.mozilla.org/docs/Web/API/Request/url)                 |

### `MiddlewareMatcher`

Supported platforms: Server.

Middleware matcher settings that restricts the middleware to run conditionally.

| Property           | Type       | Description                                                                                                                                                       |
| ------------------ | ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| methods(optional)  | `string[]` | Set this to a list of HTTP methods to conditionally run middleware on. By default, middleware will match all HTTP methods. . Example. `['POST', 'PUT', 'DELETE']` |
| patterns(optional) | (string    | [RegExp](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp))[]                                                              | Set this to a list of path patterns to conditionally run middleware on. This may be exact paths, paths containing parameter or catch-all segments (`'/posts/[postId]'` or `'/blog/[. .slug]'`), or regular expressions matching paths. . Example. `['/api', '/posts/[id]', '/blog/[. .slug]']` |

### `MiddlewareSettings`

Supported platforms: Server.

Exported from a `+middleware.ts` file to configure the server-side middleware function.

> **See:** [https://docs.expo.dev/router/reference/middleware/](https://docs.expo.dev/router/reference/middleware/)

Example

```ts
import type { MiddlewareSettings } from "expo-server";

export const unstable_settings: MiddlewareSettings = {
  matcher: {
    methods: ["GET"],
    patterns: ["/api", "/admin/[...path]"],
  },
};
```

| Property          | Type                                    | Description                                                            |
| ----------------- | --------------------------------------- | ---------------------------------------------------------------------- |
| matcher(optional) | [MiddlewareMatcher](#middlewarematcher) | Matcher definition that restricts the middleware to run conditionally. |

## Types

### `MiddlewareFunction(request)`

Supported platforms: Server.

Middleware function type. Middleware run for every request in your app, or on specified conditonally matched methods and path patterns, as per [`MiddlewareMatcher`](#middlewarematcher).

> **See:** [https://docs.expo.dev/router/reference/middleware/](https://docs.expo.dev/router/reference/middleware/)

Example

```ts
import type { MiddlewareFunction } from "expo-server";

const middleware: MiddlewareFunction = async request => {
  console.log(`Middleware executed for: ${request.url}`);
};

export default middleware;
```

| Parameter | Type                                  | Description                                                     |
| --------- | ------------------------------------- | --------------------------------------------------------------- |
| `request` | [ImmutableRequest](#immutablerequest) | An `ImmutableRequest` with read-only headers and no body access |

Returns:

[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<[Response](https://developer.mozilla.org/en-US/docs/Web/API/Response) | void\> | [Response](https://developer.mozilla.org/en-US/docs/Web/API/Response) | void

---

---

title: Sharing
description: A library that provides implementing sharing files.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-sharing'
packageName: 'expo-sharing'
iconUrl: '/static/images/packages/expo-sharing.png'
platforms: ['android', 'ios', 'web', 'expo-go']

---

# Expo Sharing

A library that provides implementing sharing files.
Android, iOS, Web, Included in Expo Go

`expo-sharing` allows you to share files directly with other compatible applications.

#### Sharing limitations on web

- `expo-sharing` for web is built on top of the Web Share API, which still has [very limited browser support](https://caniuse.com/#feat=web-share). Be sure to check that the API can be used before calling it by using `Sharing.isAvailableAsync()`.
- **HTTPS required on web**: The Web Share API is only available on web when the page is served over https. Run your app with `npx expo start --tunnel` to enable it.
- **No local file sharing on web**: Sharing local files by URI works on Android and iOS, but not on web. You cannot share local files on web by URI â€” you will need to upload them somewhere and share that URI.

#### Sharing to your app from other apps

Currently `expo-sharing` only supports sharing _from your app to other apps_ and you cannot register to your app to have content shared to it through the native share dialog on native platforms. You can read more [in the related feature request](https://expo.canny.io/feature-requests/p/share-extension-ios-share-intent-android). You can setup this functionality manually in Xcode and Android Studio and create an [Expo Config Plugin](/config-plugins/introduction) to continue using [Expo Prebuild](/workflow/prebuild).

## Installation

```sh
npx expo install expo-sharing
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## API

```js
import * as Sharing from "expo-sharing";
```

## Methods

### `Sharing.isAvailableAsync()`

Supported platforms: Android, iOS, Web.

Determine if the sharing API can be used in this app.

Returns: `Promise<boolean>`

A promise that fulfills with `true` if the sharing API can be used, and `false` otherwise.

### `Sharing.shareAsync(url, options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type             | Description                           |
| ------------------- | ---------------- | ------------------------------------- |
| `url`               | `string`         | Local file URL to share.              |
| `options`(optional) | `SharingOptions` | A map of share options. Default: `{}` |

Opens action sheet to share file to different applications which can handle this type of file.

Returns: `Promise<void>`

## Types

### `SharingOptions`

Supported platforms: Android, iOS, Web.

| Property              | Type                                                      | Description                                                                                                                                                                                                |
| --------------------- | --------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| anchor(optional)      | `{ height: number, width: number, x: number, y: number }` | Supported platforms: iOS. set the anchor point for iPad                                                                                                                                                    |
| dialogTitle(optional) | `string`                                                  | Supported platforms: Android, Web. Sets share dialog title.                                                                                                                                                |
| mimeType(optional)    | `string`                                                  | Supported platforms: Android. Sets `mimeType` for `Intent`.                                                                                                                                                |
| UTI(optional)         | `string`                                                  | Supported platforms: iOS. [Uniform Type Identifier](https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/understanding_utis/understand_utis_conc/understand_utis_conc.html) |

- the type of the target file.

|

---

---

title: '@shopify/react-native-skia'
description: A React Native library for creating graphics using Skia.
sourceCodeUrl: 'https://github.com/shopify/react-native-skia'
packageName: '@shopify/react-native-skia'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']
inExpoGo: true

---

# @shopify/react-native-skia

A React Native library for creating graphics using Skia.
Android, iOS, tvOS, Web, Included in Expo Go

`@shopify/react-native-skia` brings the Skia Graphics Library to React Native. Skia serves as the graphics engine for Google Chrome and Chrome OS, Android, Flutter, Mozilla Firefox and Firefox OS, and many other products.

## Installation

```sh
npx expo install @shopify/react-native-skia
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://shopify.github.io/react-native-skia/docs/getting-started/installation/) provided in the library's README or documentation.

### Web

If you want to use Skia on web, you will need to follow [web installation instructions](https://shopify.github.io/react-native-skia/docs/getting-started/web/#expo) to load CanvasKit.

## Learn more

[Visit official documentation](https://shopify.github.io/react-native-skia/) â€” Get full information on API and its usage.

---

---

title: '@react-native-community/slider'
description: A React Native component library that provides access to the system UI for a slider control.
sourceCodeUrl: 'https://github.com/callstack/react-native-slider'
packageName: '@react-native-community/slider'
platforms: ['android', 'ios', 'web', 'expo-go']
inExpoGo: true

---

# @react-native-community/slider

A React Native component library that provides access to the system UI for a slider control.
Android, iOS, Web, Included in Expo Go

A component library that provides access to the system UI for a slider control, that allows users to pick among a range of values by dragging an anchor.

## Installation

```sh
npx expo install @react-native-community/slider
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://github.com/callstack/react-native-slider#installation--usage) provided in the library's README or documentation.

## Learn more

[Visit official documentation](https://github.com/callstack/react-native-slider) â€” Get full information on API and its usage.

---

---

title: SMS
description: A library that provides access to the system's UI/app for sending SMS messages.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-sms'
packageName: 'expo-sms'
iconUrl: '/static/images/packages/expo-sms.png'
platforms: ['android', 'ios', 'expo-go']

---

# Expo SMS

A library that provides access to the system's UI/app for sending SMS messages.
Android, iOS, Included in Expo Go

`expo-sms` provides access to the system's UI/app for sending SMS messages.

## Installation

```sh
npx expo install expo-sms
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## API

```js
import * as SMS from "expo-sms";
```

## Methods

### `SMS.isAvailableAsync()`

Supported platforms: Android, iOS.

Determines whether SMS is available. Always returns `false` in the iOS simulator, and in browser.

Returns: `Promise<boolean>`

Returns a promise that fulfils with a `boolean`, indicating whether SMS is available on this device.

Example

```ts
const isAvailable = await SMS.isAvailableAsync();
if (isAvailable) {
  // do your SMS stuff here
} else {
  // misfortune... there's no SMS available on this device
}
```

### `SMS.sendSMSAsync(addresses, message, options)`

Supported platforms: Android, iOS.

| Parameter           | Type                      | Description                                                          |
| ------------------- | ------------------------- | -------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ |
| `addresses`         | `string                   | string[]`                                                            | An array of addresses (phone numbers) or single address passed as strings. Those would appear as recipients of the prepared message. |
| `message`           | `string`                  | Message to be sent.                                                  |
| `options`(optional) | [SMSOptions](#smsoptions) | A `SMSOptions` object defining additional SMS configuration options. |

Opens the default UI/app for sending SMS messages with prefilled addresses and message.

Returns: `Promise<smsresponse>`

Returns a Promise that fulfils with the SMS action is invoked by the user, with corresponding result:

- If the user cancelled the SMS sending process: `{ result: 'cancelled' }`.
- If the user has sent/scheduled message for sending: `{ result: 'sent' }`.
- If the status of the SMS message cannot be determined: `{ result: 'unknown' }`.

Android does not provide information about the status of the SMS message, so on Android devices the Promise will always resolve with `{ result: 'unknown' }`.

> Note: The only feedback collected by this module is whether any message has been sent. That means we do not check actual content of message nor recipients list.

Example

```ts
const { result } = await SMS.sendSMSAsync(
  ["0123456789", "9876543210"],
  "My sample HelloWorld message",
  {
    attachments: {
      uri: "path/myfile.png",
      mimeType: "image/png",
      filename: "myfile.png",
    },
  },
);
```

## Types

### `SMSAttachment`

Supported platforms: Android, iOS.

An object that is used to describe an attachment that is included with a SMS message.

| Property | Type     | Description                                                                                                                                                                                                                                    |
| -------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| filename | `string` | The filename of the attachment.                                                                                                                                                                                                                |
| mimeType | `string` | The mime type of the attachment such as `image/png`.                                                                                                                                                                                           |
| uri      | `string` | The content URI of the attachment. The URI needs be a content URI so that it can be accessed by other applications outside of Expo. See [FileSystem.getContentUriAsync](/versions/latest/sdk/filesystem#filesystemgetcontenturiasyncfileuri)). |

### `SMSOptions`

Supported platforms: Android, iOS.

| Property              | Type                            | Description                       |
| --------------------- | ------------------------------- | --------------------------------- | --- |
| attachments(optional) | [SMSAttachment](#smsattachment) | [SMSAttachment[]](#smsattachment) | -   |

### `SMSResponse`

Supported platforms: Android, iOS.

| Property | Type       | Description |
| -------- | ---------- | ----------- | ------------ | ----------------------------------------- |
| result   | `'unknown' | 'sent'      | 'cancelled'` | Status of SMS action invoked by the user. |

---

---

title: Speech
description: A library that provides access to text-to-speech functionality.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-speech'
packageName: 'expo-speech'
iconUrl: '/static/images/packages/expo-speech.png'
platforms: ['android', 'ios', 'web', 'expo-go']

---

# Expo Speech

A library that provides access to text-to-speech functionality.
Android, iOS, Web, Included in Expo Go

`expo-speech` provides an API that allows you to utilize Text-to-speech functionality in your app.

> On iOS physical devices, `expo-speech` won't produce sound if the device is in silent mode. Make sure silent mode is turned off.

## Installation

```sh
npx expo install expo-speech
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { View, StyleSheet, Button } from "react-native";
import * as Speech from "expo-speech";

export default function App() {
  const speak = () => {
    const thingToSay = "1";
    Speech.speak(thingToSay);
  };

  return (
    <View style={styles.container}>
      <Button
        title="Press to hear some words"
        onPress={speak}
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    backgroundColor: "#ecf0f1",
    padding: 8,
  },
});
```

## API

```js
import * as Speech from "expo-speech";
```

## Constants

### `Speech.maxSpeechInputLength`

Supported platforms: Android, iOS, Web.

Type: `number`

Maximum possible text length acceptable by `Speech.speak()` method. It is platform-dependent. On iOS, this returns `Number.MAX_VALUE`.

## Methods

### `Speech.getAvailableVoicesAsync()`

Supported platforms: Android, iOS, Web.

Returns list of all available voices.

Returns: `Promise<voice[]>`

List of `Voice` objects.

### `Speech.isSpeakingAsync()`

Supported platforms: Android, iOS, Web.

Determine whether the Text-to-speech utility is currently speaking. Will return `true` if speaker is paused.

Returns: `Promise<boolean>`

Returns a Promise that fulfils with a boolean, `true` if speaking, `false` if not.

### `Speech.pause()`

Supported platforms: iOS, web.

Pauses current speech. This method is not available on Android.

Returns: `Promise<void>`

### `Speech.resume()`

Supported platforms: iOS, web.

Resumes speaking previously paused speech or does nothing if there's none. This method is not available on Android.

Returns: `Promise<void>`

### `Speech.speak(text, options)`

Supported platforms: Android, iOS, Web.

| Parameter           | Type                            | Description                                                                                                |
| ------------------- | ------------------------------- | ---------------------------------------------------------------------------------------------------------- |
| `text`              | `string`                        | The text to be spoken. Cannot be longer than [`Speech.maxSpeechInputLength`](#speechmaxspeechinputlength). |
| `options`(optional) | [SpeechOptions](#speechoptions) | A `SpeechOptions` object. Default: `{}`                                                                    |

Speak out loud the text given options. Calling this when another text is being spoken adds an utterance to queue.

Returns: `void`

### `Speech.stop()`

Supported platforms: Android, iOS, Web.

Interrupts current speech and deletes all in queue.

Returns: `Promise<void>`

## Types

### `SpeechEventCallback(this, ev)`

Supported platforms: Android, iOS, Web.

| Parameter | Type                                                                                                  |
| --------- | ----------------------------------------------------------------------------------------------------- |
| `this`    | [SpeechSynthesisUtterance](https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesisUtterance) |
| `ev`      | [SpeechSynthesisEvent](https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesisEvent)         |

Returns:

`any`

### `SpeechOptions`

Supported platforms: Android, iOS, Web.

| Property                             | Type                                                                                                             | Description                                                                                                                                                                                                        |
| ------------------------------------ | ---------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------- |
| \_voiceIndex(optional)               | `number`                                                                                                         | -                                                                                                                                                                                                                  |
| language(optional)                   | `string`                                                                                                         | The code of a language that should be used to read the `text`, refer to IETF BCP 47 to see valid codes.                                                                                                            |
| onBoundary(optional)                 | NativeBoundaryEventCallback                                                                                      | [SpeechEventCallback](/versions/latest/sdk/speech#speecheventcallback)                                                                                                                                             | null                                                                                                 | A callback that is invoked when the spoken utterance reaches a word. |
| onDone(optional)                     | () => void                                                                                                       | [SpeechEventCallback](/versions/latest/sdk/speech#speecheventcallback)                                                                                                                                             | A callback that is invoked when speaking finishes.                                                   |
| onError(optional)                    | (error: [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)) => void | [SpeechEventCallback](/versions/latest/sdk/speech#speecheventcallback)                                                                                                                                             | Supported platforms: Android, iOS. A callback that is invoked when an error occurred while speaking. |
| onMark(optional)                     | [SpeechEventCallback](/versions/latest/sdk/speech#speecheventcallback)                                           | null                                                                                                                                                                                                               | -                                                                                                    |
| onPause(optional)                    | [SpeechEventCallback](/versions/latest/sdk/speech#speecheventcallback)                                           | null                                                                                                                                                                                                               | -                                                                                                    |
| onResume(optional)                   | [SpeechEventCallback](/versions/latest/sdk/speech#speecheventcallback)                                           | null                                                                                                                                                                                                               | -                                                                                                    |
| onStart(optional)                    | () => void                                                                                                       | [SpeechEventCallback](/versions/latest/sdk/speech#speecheventcallback)                                                                                                                                             | A callback that is invoked when speaking starts.                                                     |
| onStopped(optional)                  | () => void                                                                                                       | [SpeechEventCallback](/versions/latest/sdk/speech#speecheventcallback)                                                                                                                                             | A callback that is invoked when speaking is stopped by calling `Speech.stop()`.                      |
| pitch(optional)                      | `number`                                                                                                         | Pitch of the voice to speak `text`. `1.0` is the normal pitch.                                                                                                                                                     |
| rate(optional)                       | `number`                                                                                                         | Rate of the voice to speak `text`. `1.0` is the normal rate.                                                                                                                                                       |
| useApplicationAudioSession(optional) | `boolean`                                                                                                        | Supported platforms: iOS. If you set this value to `false`, the system creates a separate audio session to automatically manage speech, interruptions, and mixing and ducking the speech with other audio sources. |
| voice(optional)                      | `string`                                                                                                         | Voice identifier.                                                                                                                                                                                                  |
| volume(optional)                     | `number`                                                                                                         | Volume of the voice to speak `text`. A number between `0.0` (muted) and `1.0` (max volume). Default: `1.0`                                                                                                         |

### `Voice`

Supported platforms: Android, iOS, Web.

Object describing the available voices on the device.

| Property   | Type                          | Description              |
| ---------- | ----------------------------- | ------------------------ |
| identifier | `string`                      | Voice unique identifier. |
| language   | `string`                      | Voice language.          |
| name       | `string`                      | Voice name.              |
| quality    | [VoiceQuality](#voicequality) | Voice quality.           |

### `WebVoice`

Supported platforms: Android, iOS, Web.

Type: [Voice](#voice) extended by:

| Property     | Type      | Description |
| ------------ | --------- | ----------- |
| isDefault    | `boolean` | -           |
| localService | `boolean` | -           |
| name         | `string`  | -           |
| voiceURI     | `string`  | -           |

## Enums

### `VoiceQuality`

Supported platforms: Android, iOS, Web.

Enum representing the voice quality.

#### `Default`

`VoiceQuality.Default = "Default"`

#### `Enhanced`

`VoiceQuality.Enhanced = "Enhanced"`

---

---

title: SplashScreen
description: A library that provides access to controlling the visibility behavior of native splash screen.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-splash-screen'
packageName: 'expo-splash-screen'
iconUrl: '/static/images/packages/expo-splash-screen.png'
platforms: ['android', 'ios', 'tvos']

---

# Expo SplashScreen

A library that provides access to controlling the visibility behavior of native splash screen.
Android, iOS, tvOS

The `SplashScreen` module from the `expo-splash-screen` library provides control over the native splash screen behavior. By default, the splash screen will automatically hide when your app is ready, but you can also manually control its visibility for advanced use cases.

> From **SDK 52**, due to changes supporting the latest Android splash screen API, Expo Go and development builds cannot fully replicate the splash screen experience your users will see in your [standalone app](/more/glossary-of-terms#standalone-app). Expo Go will show your app icon instead of the splash screen, and the splash screen on development builds will not reflect all properties set in the config plugin. **It is highly recommended that you test your splash screen on a release build to ensure it looks as expected.**

Also, see the guide on [creating a splash screen image](/develop/user-interface/splash-screen-and-app-icon#splash-screen), or [quickly generate an icon and splash screen using your browser](https://buildicon.netlify.app/).

## Installation

```sh
npx expo install expo-splash-screen
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

For most apps, you don't need to do anything special with the splash screen. It will automatically hide when your app is ready. You can optionally configure animation options:

```tsx
import * as SplashScreen from "expo-splash-screen";
import { Stack } from "expo-router";

// Set the animation options. This is optional.
SplashScreen.setOptions({
  duration: 1000,
  fade: true,
});

export default function RootLayout() {
  return <Stack />;
}
```

### Delay hiding the splash screen

In some cases, it may be necessary to delay hiding the splash screen until certain resources are loaded. For example, if you need to load API data before displaying the app content, you can use `preventAutoHideAsync()` to manually control when the splash screen hides. The goal should be to hide the splash screen as soon as possible.

```tsx
import * as SplashScreen from "expo-splash-screen";
import { useEffect, useState } from "react";
import { Stack } from "expo-router";

// Keep the splash screen visible while we fetch resources
SplashScreen.preventAutoHideAsync();

export default function RootLayout() {
  const [isReady, setIsReady] = useState(false);

  useEffect(() => {
    async function doAsyncStuff() {
      try {
        // do something async here
      } catch (e) {
        console.warn(e);
      } finally {
        setIsReady(true);
      }
    }

    doAsyncStuff();
  }, []);

  useEffect(() => {
    if (isReady) {
      SplashScreen.hide();
    }
  }, [isReady]);

  if (!isReady) {
    return null;
  }

  return <Stack />;
}
```

## Configuration

You can configure `expo-splash-screen` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

**Using the config plugin, as shown below, is the recommended method for configuring the splash screen.** The other methods are now considered legacy and will be removed in the future.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-splash-screen",
        {
          "backgroundColor": "#232323",
          "image": "./assets/splash-icon.png",
          "dark": {
            "image": "./assets/splash-icon-dark.png",
            "backgroundColor": "#000000"
          },
          "imageWidth": 200
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                           | Default     | Description                                                                                                                                                                                                    |
| ------------------------------ | ----------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `backgroundColor`              | `#ffffff`   | A hex color string representing the background color of the splash screen.                                                                                                                                     |
| `image`                        | `undefined` | The path to the image file that will be displayed on the splash screen. This should be your app icon or logo.                                                                                                  |
| `enableFullScreenImage_legacy` | `false`     | Only for: iOS. Enabling this property allows using a full screen image as the splashscreen. This is to help with the transition from the legacy splash screen configuration and will be removed in the future. |
| `dark`                         | `undefined` | An object containing properties for configuring the splash screen when the device is in dark mode.                                                                                                             |
| `imageWidth`                   | `100`       | The width to make the image.                                                                                                                                                                                   |
| `android`                      | `undefined` | An object containing properties for configuring the splash screen on Android.                                                                                                                                  |
| `ios`                          | `undefined` | An object containing properties for configuring the splash screen on iOS.                                                                                                                                      |
| `resizeMode`                   | `undefined` | Determines how the image is scaled to fit the container defined by `imageWidth`. Possible values: `contain`, `cover`, or `native`.                                                                             |

You can also configure `expo-splash-screen`, using the following [app config](/workflow/configuration) properties but the config plugin should be preferred.

- [`splash`](/versions/latest/config/app#splash)
- [`android.splash`](/versions/latest/config/app#splash-2)
- [`ios.splash`](/versions/latest/config/app#splash-1)

Are you using this library in an existing React Native app?

See how to configure the native projects in the [installation instructions in the `expo-splash-screen` repository](https://github.com/expo/expo/tree/main/packages/expo-splash-screen#-installation-in-bare-react-native-projects).

### Animating the splash screen

`SplashScreen` provides an out-of-the-box fade animation. It can be configured using the `setOptions` method.

```tsx
SplashScreen.setOptions({
  duration: 1000,
  fade: true,
});
```

If you prefer to use custom animation, see the [`with-splash-screen`](https://github.com/expo/examples/tree/master/with-splash-screen) example on how to apply any arbitrary animations to your splash screen. You can initialize a new project from this example by running `npx create-expo-app --example with-splash-screen`.

## API

```tsx
import * as SplashScreen from "expo-splash-screen";
```

## Methods

### `SplashScreen.hide()`

Supported platforms: Android, iOS, tvOS.

Hides the native splash screen immediately. Be careful to ensure that your app has content ready to display when you hide the splash screen, or you may see a blank screen briefly. See the ["Usage"](#usage) section for an example.

Returns: `void`

### `SplashScreen.hideAsync()`

Supported platforms: Android, iOS, tvOS.

Hides the native splash screen immediately. This method is provided for backwards compatability. See the ["Usage"](#usage) section for an example.

Returns: `Promise<void>`

### `SplashScreen.preventAutoHideAsync()`

Supported platforms: Android, iOS, tvOS.

Makes the native splash screen (configured in `app.json`) remain visible until `hideAsync` is called.

> **Important note**: It is recommended to call this in global scope without awaiting, rather than inside React components or hooks, because otherwise this might be called too late, when the splash screen is already hidden.

Returns: `Promise<boolean>`

Example

```ts
import * as SplashScreen from "expo-splash-screen";

SplashScreen.preventAutoHideAsync();

export default function App() {
  // ...
}
```

### `SplashScreen.setOptions(options)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type                                        |
| --------- | ------------------------------------------- |
| `options` | [SplashScreenOptions](#splashscreenoptions) |

Configures the splashscreens default animation behavior.

Returns: `void`

## Types

### `SplashScreenOptions`

Supported platforms: Android, iOS, tvOS.

| Property           | Type      | Description                                                                                             |
| ------------------ | --------- | ------------------------------------------------------------------------------------------------------- |
| duration(optional) | `number`  | The duration of the fade out animation in milliseconds. Default: `400`                                  |
| fade(optional)     | `boolean` | Supported platforms: iOS. Whether to hide the splash screen with a fade out animation. Default: `false` |

---

---

title: SQLite
description: A library that provides access to a database that can be queried through a SQLite API.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-sqlite'
packageName: 'expo-sqlite'
iconUrl: '/static/images/packages/expo-sqlite.png'
platforms: ['android', 'ios', 'macos', 'tvos', 'web', 'expo-go']

---

# Expo SQLite

A library that provides access to a database that can be queried through a SQLite API.
Android, iOS, macOS, tvOS, Web, Included in Expo Go

`expo-sqlite` gives your app access to a database that can be queried through a SQLite API. The database is persisted across restarts of your app.

> On Apple TV, the underlying database file is in the caches directory and not the application documents directory, per [Apple platform guidelines](https://github.com/react-native-tvos/react-native-tvos/issues/68#issuecomment-628327676).

## Installation

```sh
npx expo install expo-sqlite
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-sqlite` for advanced configurations using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-sqlite",
        {
          "enableFTS": true,
          "useSQLCipher": true,
          "android": {
            // Override the shared configuration for Android
            "enableFTS": false,
            "useSQLCipher": false
          },
          "ios": {
            // You can also override the shared configurations for iOS
            "customBuildFlags": [
              "-DSQLITE_ENABLE_DBSTAT_VTAB=1 -DSQLITE_ENABLE_SNAPSHOT=1"
            ]
          }
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                     | Default | Description                                                                                                                   |
| ------------------------ | ------- | ----------------------------------------------------------------------------------------------------------------------------- |
| `customBuildFlags`       | -       | Custom build flags to be passed to the SQLite build process.                                                                  |
| `enableFTS`              | `true`  | Whether to enable the [FTS3, FTS4](https://www.sqlite.org/fts3.html) and [FTS5](https://www.sqlite.org/fts5.html) extensions. |
| `useSQLCipher`           | `false` | Use the [SQLCipher](https://www.zetetic.net/sqlcipher/) implementations rather than the default SQLite.                       |
| `withSQLiteVecExtension` | `false` | Include the [sqlite-vec](https://github.com/asg017/sqlite-vec) extension to [`bundledExtensions`](#sqlitebundledextensions).  |

## Web setup

> Web support is in alpha and may be unstable. [Create an issue on GitHub](https://github.com/expo/expo/issues) if you encounter any issues.

To use `expo-sqlite` on web, you need to configure Metro bundler to support **wasm** files and add HTTP headers to allow [`SharedArrayBuffer`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer) usage.

Add the following configuration to your **metro.config.js**. If you don't have the **metro.config.js** yet, you can run `npx expo customize metro.config.js`. [Learn more](/guides/customizing-metro).

If you deploy your app to web hosting services, you will also need to add the `Cross-Origin-Embedder-Policy` and `Cross-Origin-Opener-Policy` headers to your web server. [Learn more about the `COEP`, `COOP` headers, and `SharedArrayBuffer`](https://developer.chrome.com/blog/enabling-shared-array-buffer/).

## Usage

Import the module from `expo-sqlite`.

```js
import * as SQLite from "expo-sqlite";
```

### Basic CRUD operations

```js
const db = await SQLite.openDatabaseAsync("databaseName");

// `execAsync()` is useful for bulk queries when you want to execute altogether.
// Note that `execAsync()` does not escape parameters and may lead to SQL injection.
await db.execAsync(`
PRAGMA journal_mode = WAL;
CREATE TABLE IF NOT EXISTS test (id INTEGER PRIMARY KEY NOT NULL, value TEXT NOT NULL, intValue INTEGER);
INSERT INTO test (value, intValue) VALUES ('test1', 123);
INSERT INTO test (value, intValue) VALUES ('test2', 456);
INSERT INTO test (value, intValue) VALUES ('test3', 789);
`);

// `runAsync()` is useful when you want to execute some write operations.
const result = await db.runAsync(
  "INSERT INTO test (value, intValue) VALUES (?, ?)",
  "aaa",
  100,
);
console.log(result.lastInsertRowId, result.changes);
await db.runAsync("UPDATE test SET intValue = ? WHERE value = ?", 999, "aaa"); // Binding unnamed parameters from variadic arguments
await db.runAsync("UPDATE test SET intValue = ? WHERE value = ?", [999, "aaa"]); // Binding unnamed parameters from array
await db.runAsync("DELETE FROM test WHERE value = $value", { $value: "aaa" }); // Binding named parameters from object

// `getFirstAsync()` is useful when you want to get a single row from the database.
const firstRow = await db.getFirstAsync("SELECT * FROM test");
console.log(firstRow.id, firstRow.value, firstRow.intValue);

// `getAllAsync()` is useful when you want to get all results as an array of objects.
const allRows = await db.getAllAsync("SELECT * FROM test");
for (const row of allRows) {
  console.log(row.id, row.value, row.intValue);
}

// `getEachAsync()` is useful when you want to iterate SQLite query cursor.
for await (const row of db.getEachAsync("SELECT * FROM test")) {
  console.log(row.id, row.value, row.intValue);
}
```

### Prepared statements

Prepared statements allow you to compile your SQL query once and execute it multiple times with different parameters. They automatically escape input parameters to defend against SQL injection attacks, and are recommended for queries that include user input. You can get a prepared statement by calling [`prepareAsync()`](/versions/latest/sdk/sqlite#prepareasyncsource) or [`prepareSync()`](/versions/latest/sdk/sqlite#preparesyncsource) method on a database instance. The prepared statement can fulfill CRUD operations by calling [`executeAsync()`](/versions/latest/sdk/sqlite#executeasyncparams) or [`executeSync()`](/versions/latest/sdk/sqlite#executesyncparams) method.

> **Note:** Remember to call [`finalizeAsync()`](/versions/latest/sdk/sqlite#finalizeasync) or [`finalizeSync()`](/versions/latest/sdk/sqlite#finalizesync) method to release the prepared statement after you finish using the statement. `try-finally` block is recommended to ensure the prepared statement is finalized.

```ts
const statement = await db.prepareAsync(
  "INSERT INTO test (value, intValue) VALUES ($value, $intValue)",
);
try {
  let result = await statement.executeAsync({ $value: "bbb", $intValue: 101 });
  console.log("bbb and 101:", result.lastInsertRowId, result.changes);

  result = await statement.executeAsync({ $value: "ccc", $intValue: 102 });
  console.log("ccc and 102:", result.lastInsertRowId, result.changes);

  result = await statement.executeAsync({ $value: "ddd", $intValue: 103 });
  console.log("ddd and 103:", result.lastInsertRowId, result.changes);
} finally {
  await statement.finalizeAsync();
}

const statement2 = await db.prepareAsync(
  "SELECT * FROM test WHERE intValue >= $intValue",
);
try {
  const result = await statement2.executeAsync<{
    value: string;
    intValue: number;
  }>({
    $intValue: 100,
  });

  // `getFirstAsync()` is useful when you want to get a single row from the database.
  const firstRow = await result.getFirstAsync();
  console.log(firstRow.id, firstRow.value, firstRow.intValue);

  // Reset the SQLite query cursor to the beginning for the next `getAllAsync()` call.
  await result.resetAsync();

  // `getAllAsync()` is useful when you want to get all results as an array of objects.
  const allRows = await result.getAllAsync();
  for (const row of allRows) {
    console.log(row.value, row.intValue);
  }

  // Reset the SQLite query cursor to the beginning for the next `for-await-of` loop.
  await result.resetAsync();

  // The result object is also an async iterable. You can use it in `for-await-of` loop to iterate SQLite query cursor.
  for await (const row of result) {
    console.log(row.value, row.intValue);
  }
} finally {
  await statement2.finalizeAsync();
}
```

### `useSQLiteContext()` hook

```tsx
import {
  SQLiteProvider,
  useSQLiteContext,
  type SQLiteDatabase,
} from "expo-sqlite";
import { View, Text, StyleSheet } from "react-native";
import { useEffect, useState } from "react";

export default function App() {
  return (
    <View style={styles.container}>
      <SQLiteProvider
        databaseName="test.db"
        onInit={migrateDbIfNeeded}
      >
        <Header />
        <Content />
      </SQLiteProvider>
    </View>
  );
}

export function Header() {
  const db = useSQLiteContext();
  const [version, setVersion] = useState("");
  useEffect(() => {
    async function setup() {
      const result = await db.getFirstAsync<{ "sqlite_version()": string }>(
        "SELECT sqlite_version()",
      );
      setVersion(result["sqlite_version()"]);
    }
    setup();
  }, []);
  return (
    <View style={styles.headerContainer}>
      <Text style={styles.headerText}>SQLite version: {version}</Text>
    </View>
  );
}

interface Todo {
  value: string;
  intValue: number;
}

export function Content() {
  const db = useSQLiteContext();
  const [todos, setTodos] = useState<Todo[]>([]);

  useEffect(() => {
    async function setup() {
      const result = await db.getAllAsync<Todo>("SELECT * FROM todos");
      setTodos(result);
    }
    setup();
  }, []);

  return (
    <View style={styles.contentContainer}>
      {todos.map((todo, index) => (
        <View
          style={styles.todoItemContainer}
          key={index}
        >
          <Text>{`${todo.intValue} - ${todo.value}`}</Text>
        </View>
      ))}
    </View>
  );
}

async function migrateDbIfNeeded(db: SQLiteDatabase) {
  const DATABASE_VERSION = 1;
  let { user_version: currentDbVersion } = await db.getFirstAsync<{
    user_version: number;
  }>("PRAGMA user_version");
  if (currentDbVersion >= DATABASE_VERSION) {
    return;
  }
  if (currentDbVersion === 0) {
    await db.execAsync(`
PRAGMA journal_mode = 'wal';
CREATE TABLE todos (id INTEGER PRIMARY KEY NOT NULL, value TEXT NOT NULL, intValue INTEGER);
`);
    await db.runAsync(
      "INSERT INTO todos (value, intValue) VALUES (?, ?)",
      "hello",
      1,
    );
    await db.runAsync(
      "INSERT INTO todos (value, intValue) VALUES (?, ?)",
      "world",
      2,
    );
    currentDbVersion = 1;
  }
  // if (currentDbVersion === 1) {
  //   Add more migrations
  // }
  await db.execAsync(`PRAGMA user_version = ${DATABASE_VERSION}`);
}

const styles = StyleSheet.create({
  // Your styles...
});
```

### `useSQLiteContext()` hook with `React.Suspense`

As with the [`useSQLiteContext()`](/versions/latest/sdk/sqlite#usesqlitecontext-hook) hook, you can also integrate the [`SQLiteProvider`](/versions/latest/sdk/sqlite#sqliteprovider) with [`React.Suspense`](https://react.dev/reference/react/Suspense) to show a fallback component until the database is ready. To enable the integration, pass the `useSuspense` prop to the `SQLiteProvider` component.

```tsx
import { SQLiteProvider, useSQLiteContext } from "expo-sqlite";
import { View, Text, StyleSheet } from "react-native";
import { Suspense } from "react";

export default function App() {
  return (
    <View style={styles.container}>
      <Suspense fallback={<Fallback />}>
        <SQLiteProvider
          databaseName="test.db"
          onInit={migrateDbIfNeeded}
          useSuspense
        >
          <Header />
          <Content />
        </SQLiteProvider>
      </Suspense>
    </View>
  );
}
```

### Executing queries within an async transaction

```js
const db = await SQLite.openDatabaseAsync("databaseName");

await db.withTransactionAsync(async () => {
  const result = await db.getFirstAsync("SELECT COUNT(*) FROM USERS");
  console.log("Count:", result.rows[0]["COUNT(*)"]);
});
```

Due to the nature of async/await, any query that runs while the transaction is active will be included in the transaction. This includes query statements that are outside of the scope function passed to `withTransactionAsync()` and may be surprising behavior. For example, the following test case runs queries inside and outside of a scope function passed to `withTransactionAsync()`. However, all of the queries will run within the actual SQL transaction because the second `UPDATE` query runs before the transaction finishes.

```ts
Promise.all([
  // 1. A new transaction begins
  db.withTransactionAsync(async () => {
    // 2. The value "first" is inserted into the test table and we wait 2
    //    seconds
    await db.execAsync('INSERT INTO test (data) VALUES ("first")');
    await sleep(2000);

    // 4. Two seconds in, we read the latest data from the table
    const row = await db.getFirstAsync<{ data: string }>(
      "SELECT data FROM test",
    );

    // âŒ The data in the table will be "second" and this expectation will fail.
    //    Additionally, this expectation will throw an error and roll back the
    //    transaction, including the `UPDATE` query below since it ran within
    //    the transaction.
    expect(row.data).toBe("first");
  }),
  // 3. One second in, the data in the test table is updated to be "second".
  //    This `UPDATE` query runs in the transaction even though its code is
  //    outside of it because the transaction happens to be active at the time
  //    this query runs.
  sleep(1000).then(async () => db.execAsync('UPDATE test SET data = "second"')),
]);
```

The [`withExclusiveTransactionAsync()`](/versions/latest/sdk/sqlite#withexclusivetransactionasynctask) function addresses this. Only queries that run within the scope function passed to `withExclusiveTransactionAsync()` will run within the actual SQL transaction.

### Executing PRAGMA queries

```js
const db = await SQLite.openDatabaseAsync("databaseName");
await db.execAsync("PRAGMA journal_mode = WAL");
await db.execAsync("PRAGMA foreign_keys = ON");
```

> **Tip:** Enable [WAL journal mode](https://www.sqlite.org/wal.html) when you create a new database to improve performance in general.

### Import an existing database

To open a new SQLite database using an existing **.db** file you already have, you can use the [`SQLiteProvider`](/versions/latest/sdk/sqlite#sqliteprovider) with [`assetSource`](/versions/latest/sdk/sqlite#assetsource).

```tsx
import { SQLiteProvider, useSQLiteContext } from "expo-sqlite";
import { View, Text, StyleSheet } from "react-native";

export default function App() {
  return (
    <View style={styles.container}>
      <SQLiteProvider
        databaseName="test.db"
        assetSource={{ assetId: require("./assets/test.db") }}
      >
        <Header />
        <Content />
      </SQLiteProvider>
    </View>
  );
}
```

### Sharing a database between apps/extensions (iOS)

To share a database with other apps/extensions in the same App Group, you can use shared containers by following the steps below:

Configure the App Group in app config:

```json
{
  "expo": {
    "ios": {
      "bundleIdentifier": "com.myapp",
      "entitlements": {
        "com.apple.security.application-groups": ["group.com.myapp"]
      }
    }
  }
}
```

Use [`Paths.appleSharedContainers`](/versions/latest/sdk/filesystem#applesharedcontainers) from the [`expo-file-system`](/versions/latest/sdk/filesystem) library to retrieve the path to the shared container:

```tsx
import { SQLiteProvider, defaultDatabaseDirectory } from "expo-sqlite";
import { Platform, View } from "react-native";
import { Paths } from "expo-file-system";
import { useMemo } from "react";

export default function App() {
  const dbDirectory = useMemo(() => {
    if (Platform.OS === "ios") {
      return Object.values(Paths.appleSharedContainers)?.[0]?.uri;
      // or `Paths.appleSharedContainers['group.com.myapp']?.uri` to choose specific container
    }
    return defaultDatabaseDirectory;
  }, []);

  return (
    <View style={styles.container}>
      <SQLiteProvider
        databaseName="test.db"
        directory={dbDirectory}
      >
        <Header />
        <Content />
      </SQLiteProvider>
    </View>
  );
}
```

### Passing binary data

Use [`Uint8Array`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array) to pass binary data to the database:

```ts
await db.execAsync(`
DROP TABLE IF EXISTS blobs;
CREATE TABLE IF NOT EXISTS blobs (id INTEGER PRIMARY KEY NOT NULL, data BLOB);
`);

const blob = new Uint8Array([0x00, 0x01, 0x02, 0x03, 0x04, 0x05]);
await db.runAsync("INSERT INTO blobs (data) VALUES (?)", blob);

const row = await db.getFirstAsync<{ data: Uint8Array }>("SELECT * FROM blobs");
expect(row.data).toEqual(blob);
```

### Browse an on-device database

You can inspect a database, execute queries against it, and explore data with the [`drizzle-studio-expo` dev tools plugin](https://github.com/drizzle-team/drizzle-studio-expo). This plugin enables you to launch [Drizzle Studio](https://orm.drizzle.team/drizzle-studio/overview), connected to a database in your app, directly from Expo CLI. This plugin can be used with any `expo-sqlite` configuration. It does not require that you use [Drizzle ORM](/versions/latest/sdk/sqlite#drizzle-orm) in your app. [Learn how to install and use the plugin](https://github.com/drizzle-team/drizzle-studio-expo).

### Key-value storage

The `expo-sqlite` library provides [`Storage`](/versions/latest/sdk/sqlite#sqlitestorage) as a drop-in replacement for the [`@react-native-async-storage/async-storage`](https://github.com/react-native-async-storage/async-storage) library. This key-value store is backed by SQLite. If your project already uses `expo-sqlite`, you can leverage `expo-sqlite/kv-store` without needing to add another dependency.

[`Storage`](/versions/latest/sdk/sqlite#sqlitestorage) provides the same API as `@react-native-async-storage/async-storage`:

```ts
// The storage API is the default export, you can call it Storage, AsyncStorage, or whatever you prefer.
import Storage from "expo-sqlite/kv-store";

await Storage.setItem("key", JSON.stringify({ entity: "value" }));
const value = await Storage.getItem("key");
const entity = JSON.parse(value);
console.log(entity); // { entity: 'value' }
```

A key benefit of using `expo-sqlite/kv-store` is the addition of synchronous APIs for added convenience:

```ts
// The storage API is the default export, you can call it Storage, AsyncStorage, or whatever you prefer.
import Storage from "expo-sqlite/kv-store";

Storage.setItemSync("key", "value");
const value = Storage.getItemSync("key");
```

If you're currently using `@react-native-async-storage/async-storage` in your project, switching to `expo-sqlite/kv-store` is as simple as changing the import statement:

```diff
- import AsyncStorage from '@react-native-async-storage/async-storage';
+ import AsyncStorage from 'expo-sqlite/kv-store';
```

### The `localStorage` API

The `expo-sqlite/localStorage/install` module provides a drop-in implementation for the [`localStorage`](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage) API. If you're already familiar with this API from the web, or you would like to be able to share storage code between web and other platforms, this may be useful. To use it, you just need to import the `expo-sqlite/localStorage/install` module:

> **Note:** `import 'expo-sqlite/localStorage/install';` is a no-op on web and will be excluded from the production JS bundle.

```ts
import "expo-sqlite/localStorage/install";

globalThis.localStorage.setItem("key", "value");
console.log(globalThis.localStorage.getItem("key")); // 'value'
```

## Security

SQL injections are a class of vulnerabilities where attackers trick your app into executing user input as SQL code. You must escape all user input passed to SQLite to defend against SQL injections. [Prepared statements](/versions/latest/sdk/sqlite#prepared-statements) are an effective defense against this problem. They explicitly separate a SQL query's logic from its input parameters, and SQLite automatically escapes inputs when executing prepared statements.

## Third-party library integrations

The `expo-sqlite` library is designed to be a solid SQLite foundation. It enables broader integrations with third-party libraries for more advanced higher-level features. Here are some of the libraries that you can use with `expo-sqlite`.

### Drizzle ORM

[Drizzle](https://orm.drizzle.team/) is a ["headless TypeScript ORM with a head"](https://orm.drizzle.team/docs/overview). It runs on Node.js, Bun, Deno, and React Native. It also has a CLI companion called [`drizzle-kit`](https://orm.drizzle.team/kit-docs/overview) for generating SQL migrations.

Check out the [Drizzle ORM documentation](https://orm.drizzle.team/) and the [`expo-sqlite` integration guide](https://orm.drizzle.team/docs/get-started/expo-new) for more details.

### Knex.js

[Knex.js](https://knexjs.org/) is a SQL query builder that is ["flexible, portable, and fun to use!"](https://github.com/knex/knex)

Check out the [`expo-sqlite` integration guide](https://github.com/expo/knex-expo-sqlite-dialect) for more details.

## SQLCipher

> **Note:** SQLCipher is not supported on [Expo Go](https://expo.dev/go).

[SQLCipher](https://www.zetetic.net/sqlcipher/) is a fork of SQLite that adds encryption and authentication to the database. The `expo-sqlite` library supports SQLCipher for Android, iOS, and macOS. To use SQLCipher, you need to add the `useSQLCipher` config to your **app.json** as shown in the [Configuration in app config](/versions/latest/sdk/sqlite#configuration-in-app-config) section and run `npx expo prebuild`.

Right after you open a database, you need to set a password for the database using the `PRAGMA key = 'password'` statement.

```ts
const db = await SQLite.openDatabaseAsync("databaseName");
await db.execAsync(`PRAGMA key = 'password'`);
```

## API

### Cheatsheet for the common API

The following table summarizes the common API for [`SQLiteDatabase`](/versions/latest/sdk/sqlite#sqlitedatabase) and [`SQLiteStatement`](/versions/latest/sdk/sqlite#sqlitestatement) classes:

| [`SQLiteDatabase`](/versions/latest/sdk/sqlite#sqlitedatabase) methods      | [`SQLiteStatement`](/versions/latest/sdk/sqlite#sqlitestatement) methods                                                            | Description                                                                                                                                                            | Use Case                                                                                                                                                                                   |
| --------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| [`runAsync()`](/versions/latest/sdk/sqlite#runasyncsource-params)           | [`executeAsync()`](/versions/latest/sdk/sqlite#executeasyncparams)                                                                  | Executes a SQL query, returning information on the changes made.                                                                                                       | Ideal for SQL write operations such as `INSERT`, `UPDATE`, `DELETE`.                                                                                                                       |
| [`getFirstAsync()`](/versions/latest/sdk/sqlite#getfirstasyncsource-params) | [`executeAsync()`](/versions/latest/sdk/sqlite#executeasyncparams) + [`getFirstAsync()`](/versions/latest/sdk/sqlite#getfirstasync) | Retrieves the first row from the query result.                                                                                                                         | Suitable for fetching a single row from the database. For example: `getFirstAsync('SELECT * FROM Users WHERE id = ?', userId)`.                                                            |
| [`getAllAsync()`](/versions/latest/sdk/sqlite#getallasyncsource-params)     | [`executeAsync()`](/versions/latest/sdk/sqlite#executeasyncparams) + [`getFirstAsync()`](/versions/latest/sdk/sqlite#getallasync)   | Fetches all query results at once.                                                                                                                                     | Best suited for scenarios with smaller result sets, such as queries with a LIMIT clause, like `SELECT * FROM Table LIMIT 100`, where you intend to retrieve all results in a single batch. |
| [`getEachAsync()`](/versions/latest/sdk/sqlite#geteachasyncsource-params)   | [`executeAsync()`](/versions/latest/sdk/sqlite#executeasyncparams) + `for-await-of` async iterator                                  | Provides an iterator for result set traversal. This method fetches one row at a time from the database, potentially reducing memory usage compared to `getAllAsync()`. | Recommended for handling large result sets incrementally, such as with infinite scrolling implementations.                                                                                 |

## Component

### `SQLiteProvider`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[SQLiteProviderProps](#sqliteproviderprops)\>

Context.Provider component that provides a SQLite database to all children. All descendants of this component will be able to access the database using the [`useSQLiteContext`](#usesqlitecontext) hook.

SQLiteProviderProps

### `assetSource`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [SQLiteProviderAssetSource](#sqliteproviderassetsource)

Import a bundled database file from the specified asset module.

Example

```ts
assetSource={{ assetId: require('./assets/db.db') }}
```

### `children`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Type: [ReactNode](https://reactnative.dev/docs/react-node)

The children to render.

### `databaseName`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Type: `string`

The name of the database file to open.

### `directory`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `string`â€ƒâ€¢â€ƒDefault: `defaultDatabaseDirectory`

The directory where the database file is located.

### `onError`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: (error: [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)) => voidâ€ƒâ€¢â€ƒDefault: `rethrow the error`

Handle errors from SQLiteProvider.

### `onInit`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: (db: [SQLiteDatabase](#sqlitedatabase)) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<void\>

A custom initialization handler to run before rendering the children. You can use this to run database migrations or other setup tasks.

### `options`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [SQLiteOpenOptions](#sqliteopenoptions)

Open options.

### `useSuspense`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Enable [`React.Suspense`](https://react.dev/reference/react/Suspense) integration.

Example

```tsx
export default function App() {
  return (
    <Suspense fallback={<Text>Loading...</Text>}>
      <SQLiteProvider
        databaseName="test.db"
        useSuspense={true}
      >
        <Main />
      </SQLiteProvider>
    </Suspense>
  );
}
```

## Constants

### `SQLite.AsyncStorage`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Type: [SQLiteStorage](#sqlitestorage)

This default instance of the [`SQLiteStorage`](#sqlitestorage-1) class is used as a drop-in replacement for the `AsyncStorage` module from [`@react-native-async-storage/async-storage`](https://github.com/react-native-async-storage/async-storage).

### `SQLite.bundledExtensions`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Type: `Record<string, { entryPoint: string, libPath: string } | undefined>`

The pre-bundled SQLite extensions.

### `SQLite.defaultDatabaseDirectory`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Type: `any`

The default directory for SQLite databases.

### `SQLite.Storage`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Type: [SQLiteStorage](#sqlitestorage)

Alias for [`AsyncStorage`](#sqliteasyncstorage), given the storage not only offers asynchronous methods.

## Hooks

### `useSQLiteContext()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

A global hook for accessing the SQLite database across components. This hook should only be used within a [`<SQLiteProvider>`](#sqliteprovider) component.

Returns: `SQLiteDatabase`

Example

```tsx
export default function App() {
  return (
    <SQLiteProvider databaseName="test.db">
      <Main />
    </SQLiteProvider>
  );
}

export function Main() {
  const db = useSQLiteContext();
  console.log("sqlite version", db.getFirstSync("SELECT sqlite_version()"));
  return <View />;
}
```

## Classes

### `SQLiteDatabase`

Supported platforms: Android, iOS, macOS, tvOS, Web.

A SQLite database.

SQLiteDatabase Properties

### `databasePath`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: `string`

### `nativeDatabase`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: [NativeDatabase](#nativedatabase)

### `options`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: [SQLiteOpenOptions](#sqliteopenoptions)

SQLiteDatabase Methods

### `closeAsync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Close the database.

Returns: `Promise<void>`

### `closeSync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Close the database.

Returns: `void`

### `createSessionAsync(dbName)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter          | Type     | Description                                                                                      |
| ------------------ | -------- | ------------------------------------------------------------------------------------------------ |
| `dbName`(optional) | `string` | The name of the database to create a session for. The default value is `main`. Default: `'main'` |

Create a new session for the database.

Returns: `Promise<sqlitesession>`

> **See:** [`sqlite3session_create`](https://www.sqlite.org/session/sqlite3session_create.html)

### `createSessionSync(dbName)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter          | Type     | Description                                                                                      |
| ------------------ | -------- | ------------------------------------------------------------------------------------------------ |
| `dbName`(optional) | `string` | The name of the database to create a session for. The default value is `main`. Default: `'main'` |

Create a new session for the database.

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `SQLiteSession`

> **See:** [`sqlite3session_create`](https://www.sqlite.org/session/sqlite3session_create.html)

### `execAsync(source)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     | Description                              |
| --------- | -------- | ---------------------------------------- |
| `source`  | `string` | A string containing all the SQL queries. |

Execute all SQL queries in the supplied string.

> Note: The queries are not escaped for you! Be careful when constructing your queries.

Returns: `Promise<void>`

### `execSync(source)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     | Description                              |
| --------- | -------- | ---------------------------------------- |
| `source`  | `string` | A string containing all the SQL queries. |

Execute all SQL queries in the supplied string.

> **Note:** The queries are not escaped for you! Be careful when constructing your queries.

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `void`

### `getAllAsync(source, params)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type                                  | Description                                                                                                                                                                                         |
| --------- | ------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `source`  | `string`                              | A string containing the SQL query.                                                                                                                                                                  |
| `params`  | [SQLiteBindParams](#sqlitebindparams) | The parameters to bind to the prepared statement. You can pass values in array, object, or variadic arguments. See [`SQLiteBindValue`](#sqlitebindvalue) for more information about binding values. |

A convenience wrapper around [`SQLiteDatabase.prepareAsync()`](#prepareasyncsource), [`SQLiteStatement.executeAsync()`](#executeasyncparams), [`SQLiteExecuteAsyncResult.getAllAsync()`](#getallasync), and [`SQLiteStatement.finalizeAsync()`](#finalizeasync).

Returns: `Promise<t[]>`

Example

```ts
// For unnamed parameters, you pass values in an array.
db.getAllAsync("SELECT * FROM test WHERE intValue = ? AND name = ?", [
  1,
  "Hello",
]);

// For unnamed parameters, you pass values in variadic arguments.
db.getAllAsync(
  "SELECT * FROM test WHERE intValue = ? AND name = ?",
  1,
  "Hello",
);

// For named parameters, you should pass values in object.
db.getAllAsync(
  "SELECT * FROM test WHERE intValue = $intValue AND name = $name",
  { $intValue: 1, $name: "Hello" },
);
```

### `getAllSync(source, params)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type                                  | Description                                                                                                                                                                                         |
| --------- | ------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `source`  | `string`                              | A string containing the SQL query.                                                                                                                                                                  |
| `params`  | [SQLiteBindParams](#sqlitebindparams) | The parameters to bind to the prepared statement. You can pass values in array, object, or variadic arguments. See [`SQLiteBindValue`](#sqlitebindvalue) for more information about binding values. |

A convenience wrapper around [`SQLiteDatabase.prepareSync()`](#preparesyncsource), [`SQLiteStatement.executeSync()`](#executesyncparams), [`SQLiteExecuteSyncResult.getAllSync()`](#getallsync), and [`SQLiteStatement.finalizeSync()`](#finalizesync).

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `T[]`

### `getEachAsync(source, params)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type                                  | Description                                                                                                                                                                                         |
| --------- | ------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `source`  | `string`                              | A string containing the SQL query.                                                                                                                                                                  |
| `params`  | [SQLiteBindParams](#sqlitebindparams) | The parameters to bind to the prepared statement. You can pass values in array, object, or variadic arguments. See [`SQLiteBindValue`](#sqlitebindvalue) for more information about binding values. |

A convenience wrapper around [`SQLiteDatabase.prepareAsync()`](#prepareasyncsource), [`SQLiteStatement.executeAsync()`](#executeasyncparams), [`SQLiteExecuteAsyncResult`](#sqliteexecuteasyncresult) `AsyncIterator`, and [`SQLiteStatement.finalizeAsync()`](#finalizeasync).

Returns: `AsyncIterableIterator<t>`

Rather than returning Promise, this function returns an [`AsyncIterableIterator`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncIterator). You can use `for await...of` to iterate over the rows from the SQLite query result.

### `getEachSync(source, params)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type                                  | Description                                                                                                                                                                                         |
| --------- | ------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `source`  | `string`                              | A string containing the SQL query.                                                                                                                                                                  |
| `params`  | [SQLiteBindParams](#sqlitebindparams) | The parameters to bind to the prepared statement. You can pass values in array, object, or variadic arguments. See [`SQLiteBindValue`](#sqlitebindvalue) for more information about binding values. |

A convenience wrapper around [`SQLiteDatabase.prepareSync()`](#preparesyncsource), [`SQLiteStatement.executeSync()`](#executesyncparams), [`SQLiteExecuteSyncResult`](#sqliteexecutesyncresult) `Iterator`, and [`SQLiteStatement.finalizeSync()`](#finalizesync).

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `IterableIterator<t>`

This function returns an [`IterableIterator`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Iterator). You can use `for...of` to iterate over the rows from the SQLite query result.

### `getFirstAsync(source, params)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type                                  | Description                                                                                                                                                                                         |
| --------- | ------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `source`  | `string`                              | A string containing the SQL query.                                                                                                                                                                  |
| `params`  | [SQLiteBindParams](#sqlitebindparams) | The parameters to bind to the prepared statement. You can pass values in array, object, or variadic arguments. See [`SQLiteBindValue`](#sqlitebindvalue) for more information about binding values. |

A convenience wrapper around [`SQLiteDatabase.prepareAsync()`](#prepareasyncsource), [`SQLiteStatement.executeAsync()`](#executeasyncparams), [`SQLiteExecuteAsyncResult.getFirstAsync()`](#getfirstasync), and [`SQLiteStatement.finalizeAsync()`](#finalizeasync).

Returns: `Promise<null>`

### `getFirstSync(source, params)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type                                  | Description                                                                                                                                                                                         |
| --------- | ------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `source`  | `string`                              | A string containing the SQL query.                                                                                                                                                                  |
| `params`  | [SQLiteBindParams](#sqlitebindparams) | The parameters to bind to the prepared statement. You can pass values in array, object, or variadic arguments. See [`SQLiteBindValue`](#sqlitebindvalue) for more information about binding values. |

A convenience wrapper around [`SQLiteDatabase.prepareSync()`](#preparesyncsource), [`SQLiteStatement.executeSync()`](#executesyncparams), [`SQLiteExecuteSyncResult.getFirstSync()`](#getfirstsync), and [`SQLiteStatement.finalizeSync()`](#finalizesync).

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `null | T`

### `isInTransactionAsync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Asynchronous call to return whether the database is currently in a transaction.

Returns: `Promise<boolean>`

### `isInTransactionSync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Synchronous call to return whether the database is currently in a transaction.

Returns: `boolean`

### `loadExtensionAsync(libPath, entryPoint)`

Supported platforms: Android, iOS, macOS, tvOS.

| Parameter              | Type     | Description                                                                                                                                                             |
| ---------------------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `libPath`              | `string` | The path to the extension library file.                                                                                                                                 |
| `entryPoint`(optional) | `string` | The entry point of the extension. If not provided, the default entry point is inferred by [`sqlite3_load_extension`](https://www.sqlite.org/c3ref/load_extension.html). |

Load a SQLite extension.

Returns: `Promise<void>`

Example

```ts
// Load `sqlite-vec` from `bundledExtensions`. You need to enable `withSQLiteVecExtension` to include `sqlite-vec`.
const extension = SQLite.bundledExtensions["sqlite-vec"];
await db.loadExtensionAsync(extension.libPath, extension.entryPoint);

// You can also load a custom extension.
await db.loadExtensionAsync("/path/to/extension");
```

### `loadExtensionSync(libPath, entryPoint)`

Supported platforms: Android, iOS, macOS, tvOS.

| Parameter              | Type     | Description                                                                                                                                                             |
| ---------------------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `libPath`              | `string` | The path to the extension library file.                                                                                                                                 |
| `entryPoint`(optional) | `string` | The entry point of the extension. If not provided, the default entry point is inferred by [`sqlite3_load_extension`](https://www.sqlite.org/c3ref/load_extension.html). |

Load a SQLite extension.

Returns: `void`

Example

```ts
// Load `sqlite-vec` from `bundledExtensions`. You need to enable `withSQLiteVecExtension` to include `sqlite-vec`.
const extension = SQLite.bundledExtensions["sqlite-vec"];
db.loadExtensionSync(extension.libPath, extension.entryPoint);

// You can also load a custom extension.
db.loadExtensionSync("/path/to/extension");
```

### `prepareAsync(source)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     | Description                        |
| --------- | -------- | ---------------------------------- |
| `source`  | `string` | A string containing the SQL query. |

Create a [prepared SQLite statement](https://www.sqlite.org/c3ref/prepare.html).

Returns: `Promise<sqlitestatement>`

### `prepareSync(source)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     | Description                        |
| --------- | -------- | ---------------------------------- |
| `source`  | `string` | A string containing the SQL query. |

Create a [prepared SQLite statement](https://www.sqlite.org/c3ref/prepare.html).

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `SQLiteStatement`

### `runAsync(source, params)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type                                  | Description                                                                                                                                                                                         |
| --------- | ------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `source`  | `string`                              | A string containing the SQL query.                                                                                                                                                                  |
| `params`  | [SQLiteBindParams](#sqlitebindparams) | The parameters to bind to the prepared statement. You can pass values in array, object, or variadic arguments. See [`SQLiteBindValue`](#sqlitebindvalue) for more information about binding values. |

A convenience wrapper around [`SQLiteDatabase.prepareAsync()`](#prepareasyncsource), [`SQLiteStatement.executeAsync()`](#executeasyncparams), and [`SQLiteStatement.finalizeAsync()`](#finalizeasync).

Returns: `Promise<sqliterunresult>`

### `runSync(source, params)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type                                  | Description                                                                                                                                                                                         |
| --------- | ------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `source`  | `string`                              | A string containing the SQL query.                                                                                                                                                                  |
| `params`  | [SQLiteBindParams](#sqlitebindparams) | The parameters to bind to the prepared statement. You can pass values in array, object, or variadic arguments. See [`SQLiteBindValue`](#sqlitebindvalue) for more information about binding values. |

A convenience wrapper around [`SQLiteDatabase.prepareSync()`](#preparesyncsource), [`SQLiteStatement.executeSync()`](#executesyncparams), and [`SQLiteStatement.finalizeSync()`](#finalizesync).

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `SQLiteRunResult`

### `serializeAsync(databaseName)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter                | Type     | Description                                                                                                                   |
| ------------------------ | -------- | ----------------------------------------------------------------------------------------------------------------------------- |
| `databaseName`(optional) | `string` | The name of the current attached databases. The default value is `main` which is the default database name. Default: `'main'` |

[Serialize the database](https://sqlite.org/c3ref/serialize.html) as `Uint8Array`.

Returns: `Promise<uint8array>`

### `serializeSync(databaseName)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter                | Type     | Description                                                                                                                   |
| ------------------------ | -------- | ----------------------------------------------------------------------------------------------------------------------------- |
| `databaseName`(optional) | `string` | The name of the current attached databases. The default value is `main` which is the default database name. Default: `'main'` |

[Serialize the database](https://sqlite.org/c3ref/serialize.html) as `Uint8Array`.

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `Uint8Array`

### `syncLibSQL()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Synchronize the local database with the remote libSQL server. This method is only available from libSQL integration.

Returns: `Promise<void>`

### `withExclusiveTransactionAsync(task)`

Supported platforms: Android, iOS, macOS, tvOS.

| Parameter | Type                                                                                                                             | Description                                                                                                                                                                                                                                                                                  |
| --------- | -------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `task`    | (txn: Transaction) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<void\> | An async function to execute within a transaction. Any queries inside the transaction must be executed on the `txn` object. The `txn` object has the same interfaces as the [`SQLiteDatabase`](#sqlitedatabase) object. You can use `txn` like a [`SQLiteDatabase`](#sqlitedatabase) object. |

Execute a transaction and automatically commit/rollback based on the `task` result.

The transaction may be exclusive. As long as the transaction is converted into a write transaction, the other async write queries will abort with `database is locked` error.

> **Note:** This function is not supported on web.

Returns: `Promise<void>`

Example

```ts
db.withExclusiveTransactionAsync(async txn => {
  await txn.execAsync('UPDATE test SET name = "aaa"');
});
```

### `withTransactionAsync(task)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type                                                                                                             | Description                                        |
| --------- | ---------------------------------------------------------------------------------------------------------------- | -------------------------------------------------- |
| `task`    | () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<void\> | An async function to execute within a transaction. |

Execute a transaction and automatically commit/rollback based on the `task` result.

> **Note:** This transaction is not exclusive and can be interrupted by other async queries.

Returns: `Promise<void>`

Example

```ts
db.withTransactionAsync(async () => {
  await db.execAsync('UPDATE test SET name = "aaa"');

  //
  // We cannot control the order of async/await order, so order of execution is not guaranteed.
  // The following UPDATE query out of transaction may be executed here and break the expectation.
  //

  const result = await db.getFirstAsync<{ name: string }>(
    "SELECT name FROM Users",
  );
  expect(result?.name).toBe("aaa");
});
db.execAsync('UPDATE test SET name = "bbb"');
```

If you worry about the order of execution, use `withExclusiveTransactionAsync` instead.

### `withTransactionSync(task)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type         | Description                                        |
| --------- | ------------ | -------------------------------------------------- |
| `task`    | `() => void` | An async function to execute within a transaction. |

Execute a transaction and automatically commit/rollback based on the `task` result.

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `void`

### `SQLiteSession`

Supported platforms: Android, iOS, macOS, tvOS, Web.

A class that represents an instance of the SQLite session extension.

> **See:** [Session Extension](https://www.sqlite.org/sessionintro.html)

SQLiteSession Methods

### `applyChangesetAsync(changeset)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter   | Type                    | Description             |
| ----------- | ----------------------- | ----------------------- |
| `changeset` | [Changeset](#changeset) | The changeset to apply. |

Apply a changeset asynchronously.

Returns: `Promise<void>`

> **See:** [`sqlite3changeset_apply`](https://www.sqlite.org/session/sqlite3changeset_apply.html)

### `applyChangesetSync(changeset)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter   | Type                    | Description             |
| ----------- | ----------------------- | ----------------------- |
| `changeset` | [Changeset](#changeset) | The changeset to apply. |

Apply a changeset synchronously.

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `void`

> **See:** [`sqlite3changeset_apply`](https://www.sqlite.org/session/sqlite3changeset_apply.html)

### `attachAsync(table)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type  | Description |
| --------- | ----- | ----------- | -------------------------------------------------------- |
| `table`   | `null | string`     | The table to attach. If `null`, all tables are attached. |

Attach a table to the session asynchronously.

Returns: `Promise<void>`

> **See:** [`sqlite3session_attach`](https://www.sqlite.org/session/sqlite3session_attach.html)

### `attachSync(table)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type  | Description |
| --------- | ----- | ----------- | -------------------- |
| `table`   | `null | string`     | The table to attach. |

Attach a table to the session synchronously.

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `void`

> **See:** [`sqlite3session_attach`](https://www.sqlite.org/session/sqlite3session_attach.html)

### `closeAsync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Close the session asynchronously.

Returns: `Promise<void>`

> **See:** [`sqlite3session_delete`](https://www.sqlite.org/session/sqlite3session_delete.html)

### `closeSync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Close the session synchronously.

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `void`

> **See:** [`sqlite3session_delete`](https://www.sqlite.org/session/sqlite3session_delete.html)

### `createChangesetAsync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Create a changeset asynchronously.

Returns: `Promise<changeset>`

> **See:** [`sqlite3session_changeset`](https://www.sqlite.org/session/sqlite3session_changeset.html)

### `createChangesetSync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Create a changeset synchronously.

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `Changeset`

> **See:** [`sqlite3session_changeset`](https://www.sqlite.org/session/sqlite3session_changeset.html)

### `createInvertedChangesetAsync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Create an inverted changeset asynchronously. This is a shorthand for [`createChangesetAsync()`](#createchangesetasync) + [`invertChangesetAsync()`](#invertchangesetasyncchangeset).

Returns: `Promise<changeset>`

### `createInvertedChangesetSync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Create an inverted changeset synchronously. This is a shorthand for [`createChangesetSync()`](#createchangesetsync) + [`invertChangesetSync()`](#invertchangesetsyncchangeset).

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `Changeset`

### `enableAsync(enabled)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type      | Description                               |
| --------- | --------- | ----------------------------------------- |
| `enabled` | `boolean` | Whether to enable or disable the session. |

Enable or disable the session asynchronously.

Returns: `Promise<void>`

> **See:** [`sqlite3session_enable`](https://www.sqlite.org/session/sqlite3session_enable.html)

### `enableSync(enabled)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type      | Description                               |
| --------- | --------- | ----------------------------------------- |
| `enabled` | `boolean` | Whether to enable or disable the session. |

Enable or disable the session synchronously.

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `void`

> **See:** [`sqlite3session_enable`](https://www.sqlite.org/session/sqlite3session_enable.html)

### `invertChangesetAsync(changeset)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter   | Type                    | Description              |
| ----------- | ----------------------- | ------------------------ |
| `changeset` | [Changeset](#changeset) | The changeset to invert. |

Invert a changeset asynchronously.

Returns: `Promise<changeset>`

> **See:** [`sqlite3changeset_invert`](https://www.sqlite.org/session/sqlite3changeset_invert.html)

### `invertChangesetSync(changeset)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter   | Type                    | Description              |
| ----------- | ----------------------- | ------------------------ |
| `changeset` | [Changeset](#changeset) | The changeset to invert. |

Invert a changeset synchronously.

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `Changeset`

> **See:** [`sqlite3changeset_invert`](https://www.sqlite.org/session/sqlite3changeset_invert.html)

### `SQLiteStatement`

Supported platforms: Android, iOS, macOS, tvOS, Web.

A prepared statement returned by [`SQLiteDatabase.prepareAsync()`](#prepareasyncsource) or [`SQLiteDatabase.prepareSync()`](#preparesyncsource) that can be binded with parameters and executed.

SQLiteStatement Methods

### `executeAsync(params)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type                                  | Description                                                                                                                                                                                         |
| --------- | ------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `params`  | [SQLiteBindParams](#sqlitebindparams) | The parameters to bind to the prepared statement. You can pass values in array, object, or variadic arguments. See [`SQLiteBindValue`](#sqlitebindvalue) for more information about binding values. |

Run the prepared statement and return the [`SQLiteExecuteAsyncResult`](#sqliteexecuteasyncresult) instance.

Returns: `Promise<sqliteexecuteasyncresult</sqliteexecuteasyncresult`

### `executeSync(params)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type                                  | Description                                                                                                                                                                                         |
| --------- | ------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `params`  | [SQLiteBindParams](#sqlitebindparams) | The parameters to bind to the prepared statement. You can pass values in array, object, or variadic arguments. See [`SQLiteBindValue`](#sqlitebindvalue) for more information about binding values. |

Run the prepared statement and return the [`SQLiteExecuteSyncResult`](#sqliteexecutesyncresult) instance.

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `SQLiteExecuteSyncResult<t>`

### `finalizeAsync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Finalize the prepared statement. This will call the [`sqlite3_finalize()`](https://www.sqlite.org/c3ref/finalize.html) C function under the hood.

Attempting to access a finalized statement will result in an error.

> **Note:** While `expo-sqlite` will automatically finalize any orphaned prepared statements upon closing the database, it is considered best practice to manually finalize prepared statements as soon as they are no longer needed. This helps to prevent resource leaks. You can use the `try...finally` statement to ensure that prepared statements are finalized even if an error occurs.

Returns: `Promise<void>`

### `finalizeSync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Finalize the prepared statement. This will call the [`sqlite3_finalize()`](https://www.sqlite.org/c3ref/finalize.html) C function under the hood.

Attempting to access a finalized statement will result in an error.

> **Note:** While `expo-sqlite` will automatically finalize any orphaned prepared statements upon closing the database, it is considered best practice to manually finalize prepared statements as soon as they are no longer needed. This helps to prevent resource leaks. You can use the `try...finally` statement to ensure that prepared statements are finalized even if an error occurs.

Returns: `void`

### `getColumnNamesAsync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Get the column names of the prepared statement.

Returns: `Promise<string[]>`

### `getColumnNamesSync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Get the column names of the prepared statement.

Returns: `string[]`

### `SQLiteStorage`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Key-value store backed by SQLite. This class accepts a `databaseName` parameter in its constructor, which is the name of the database file to use for the storage.

SQLiteStorage Methods

### `clear()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Alias for [`clearAsync()`](#clearasync) method.

Returns: `Promise<void>`

### `clearAsync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Clears all key-value pairs from the storage asynchronously.

Returns: `Promise<boolean>`

### `clearSync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Clears all key-value pairs from the storage synchronously.

Returns: `boolean`

### `close()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Alias for [`closeAsync()`](#closeasync-1) method.

Returns: `Promise<void>`

### `closeAsync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Closes the database connection asynchronously.

Returns: `Promise<void>`

### `closeSync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Closes the database connection synchronously.

Returns: `void`

### `getAllKeys()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Alias for [`getAllKeysAsync()`](#getallkeysasync) method.

Returns: `Promise<string[]>`

### `getAllKeysAsync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Retrieves all keys stored in the storage asynchronously.

Returns: `Promise<string[]>`

### `getAllKeysSync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Retrieves all keys stored in the storage synchronously.

Returns: `string[]`

### `getItem(key)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     |
| --------- | -------- |
| `key`     | `string` |

Alias for [`getItemAsync()`](#getitemasynckey) method.

Returns: `Promise<null>`

### `getItemAsync(key)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     |
| --------- | -------- |
| `key`     | `string` |

Retrieves the value associated with the given key asynchronously.

Returns: `Promise<null>`

### `getItemSync(key)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     |
| --------- | -------- |
| `key`     | `string` |

Retrieves the value associated with the given key synchronously.

Returns: `null | string`

### `getKeyByIndexAsync(index)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     |
| --------- | -------- |
| `index`   | `number` |

Retrieves the key at the given index asynchronously.

Returns: `Promise<null>`

### `getKeyByIndexSync(index)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     |
| --------- | -------- |
| `index`   | `number` |

Retrieves the key at the given index synchronously.

Returns: `null | string`

### `getLengthAsync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Retrieves the number of key-value pairs stored in the storage asynchronously.

Returns: `Promise<number>`

### `getLengthSync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Retrieves the number of key-value pairs stored in the storage synchronously.

Returns: `number`

### `mergeItem(key, value)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     |
| --------- | -------- |
| `key`     | `string` |
| `value`   | `string` |

Merges the given value with the existing value for the given key asynchronously. If the existing value is a JSON object, performs a deep merge.

Returns: `Promise<void>`

### `multiGet(keys)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type       |
| --------- | ---------- |
| `keys`    | `string[]` |

Retrieves the values associated with the given keys asynchronously.

Returns: `Promise<undefined>`

### `multiMerge(keyValuePairs)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter       | Type        |
| --------------- | ----------- |
| `keyValuePairs` | `undefined` |

Merges multiple key-value pairs asynchronously. If existing values are JSON objects, performs a deep merge.

Returns: `Promise<void>`

### `multiRemove(keys)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type       |
| --------- | ---------- |
| `keys`    | `string[]` |

Removes the values associated with the given keys asynchronously.

Returns: `Promise<void>`

### `multiSet(keyValuePairs)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter       | Type        |
| --------------- | ----------- |
| `keyValuePairs` | `undefined` |

Sets multiple key-value pairs asynchronously.

Returns: `Promise<void>`

### `removeItem(key)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     |
| --------- | -------- |
| `key`     | `string` |

Alias for [`removeItemAsync()`](#removeitemasynckey) method.

Returns: `Promise<void>`

### `removeItemAsync(key)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     |
| --------- | -------- |
| `key`     | `string` |

Removes the value associated with the given key asynchronously.

Returns: `Promise<boolean>`

### `removeItemSync(key)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     |
| --------- | -------- |
| `key`     | `string` |

Removes the value associated with the given key synchronously.

Returns: `boolean`

### `setItem(key, value)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     |
| --------- | -------- | ------------------------------------------------------------------------------------------------------------- |
| `key`     | `string` |
| `value`   | string   | [SQLiteStorageSetItemUpdateFunction](/versions/latest/sdk/sqlite#sqlitestoragesetitemupdatefunctionprevvalue) |

Alias for [`setItemAsync()`](#setitemasynckey-value).

Returns: `Promise<void>`

### `setItemAsync(key, value)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     |
| --------- | -------- | ------------------------------------------------------------------------------------------------------------- |
| `key`     | `string` |
| `value`   | string   | [SQLiteStorageSetItemUpdateFunction](/versions/latest/sdk/sqlite#sqlitestoragesetitemupdatefunctionprevvalue) |

Sets the value for the given key asynchronously. If a function is provided, it computes the new value based on the previous value.

Returns: `Promise<void>`

### `setItemSync(key, value)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type     |
| --------- | -------- | ------------------------------------------------------------------------------------------------------------- |
| `key`     | `string` |
| `value`   | string   | [SQLiteStorageSetItemUpdateFunction](/versions/latest/sdk/sqlite#sqlitestoragesetitemupdatefunctionprevvalue) |

Sets the value for the given key synchronously. If a function is provided, it computes the new value based on the previous value.

Returns: `void`

## Methods

### `SQLite.backupDatabaseAsync(options)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type                                                                                                                                                         | Description        |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------ |
| `options` | { destDatabase: [SQLiteDatabase](#sqlitedatabase), destDatabaseName: string, sourceDatabase: [SQLiteDatabase](#sqlitedatabase), sourceDatabaseName: string } | The backup options |

Backup a database to another database.

Returns: `Promise<void>`

> **See:** [https://www.sqlite.org/c3ref/backup_finish.html](https://www.sqlite.org/c3ref/backup_finish.html)

### `SQLite.backupDatabaseSync(options)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type                                                                                                                                                         | Description        |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------ |
| `options` | { destDatabase: [SQLiteDatabase](#sqlitedatabase), destDatabaseName: string, sourceDatabase: [SQLiteDatabase](#sqlitedatabase), sourceDatabaseName: string } | The backup options |

Backup a database to another database.

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `void`

> **See:** [https://www.sqlite.org/c3ref/backup_finish.html](https://www.sqlite.org/c3ref/backup_finish.html)

### `SQLite.deepEqual(a, b)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter | Type       |
| --------- | ---------- | ---------- |
| `a`       | `undefined | undefined` |
| `b`       | `undefined | undefined` |

Compares two objects deeply for equality.

Returns: `boolean`

### `SQLite.deleteDatabaseAsync(databaseName, directory)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter             | Type     | Description                                                                                        |
| --------------------- | -------- | -------------------------------------------------------------------------------------------------- |
| `databaseName`        | `string` | The name of the database file to delete.                                                           |
| `directory`(optional) | `string` | The directory where the database file is located. The default value is `defaultDatabaseDirectory`. |

Delete a database file.

Returns: `Promise<void>`

### `SQLite.deleteDatabaseSync(databaseName, directory)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter             | Type     | Description                                                                                        |
| --------------------- | -------- | -------------------------------------------------------------------------------------------------- |
| `databaseName`        | `string` | The name of the database file to delete.                                                           |
| `directory`(optional) | `string` | The directory where the database file is located. The default value is `defaultDatabaseDirectory`. |

Delete a database file.

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `void`

### `SQLite.deserializeDatabaseAsync(serializedData, options)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter           | Type                                                                                                      | Description                                                                                            |
| ------------------- | --------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------ |
| `serializedData`    | [Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array) | The binary array to deserialize from [`SQLiteDatabase.serializeAsync()`](#serializeasyncdatabasename). |
| `options`(optional) | [SQLiteOpenOptions](#sqliteopenoptions)                                                                   | Open options.                                                                                          |

Given a `Uint8Array` data and [deserialize to memory database](https://sqlite.org/c3ref/deserialize.html).

Returns: `Promise<sqlitedatabase>`

### `SQLite.deserializeDatabaseSync(serializedData, options)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter           | Type                                                                                                      | Description                                                                                         |
| ------------------- | --------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- |
| `serializedData`    | [Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array) | The binary array to deserialize from [`SQLiteDatabase.serializeSync()`](#serializesyncdatabasename) |
| `options`(optional) | [SQLiteOpenOptions](#sqliteopenoptions)                                                                   | Open options.                                                                                       |

Given a `Uint8Array` data and [deserialize to memory database](https://sqlite.org/c3ref/deserialize.html).

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `SQLiteDatabase`

### `SQLite.openDatabaseAsync(databaseName, options, directory)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter             | Type                                    | Description                                                                                                                                |
| --------------------- | --------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| `databaseName`        | `string`                                | The name of the database file to open.                                                                                                     |
| `options`(optional)   | [SQLiteOpenOptions](#sqliteopenoptions) | Open options.                                                                                                                              |
| `directory`(optional) | `string`                                | The directory where the database file is located. The default value is `defaultDatabaseDirectory`. This parameter is not supported on web. |

Open a database.

Returns: `Promise<sqlitedatabase>`

### `SQLite.openDatabaseSync(databaseName, options, directory)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter             | Type                                    | Description                                                                                                                                |
| --------------------- | --------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| `databaseName`        | `string`                                | The name of the database file to open.                                                                                                     |
| `options`(optional)   | [SQLiteOpenOptions](#sqliteopenoptions) | Open options.                                                                                                                              |
| `directory`(optional) | `string`                                | The directory where the database file is located. The default value is `defaultDatabaseDirectory`. This parameter is not supported on web. |

Open a database.

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Returns: `SQLiteDatabase`

## Event Subscriptions

### `SQLite.addDatabaseChangeListener(listener)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Parameter  | Type                                                         | Description                                                                                                    |
| ---------- | ------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------- |
| `listener` | (event: [DatabaseChangeEvent](#databasechangeevent)) => void | A function that receives the `databaseName`, `databaseFilePath`, `tableName` and `rowId` of the modified data. |

Add a listener for database changes.

> Note: to enable this feature, you must set [`enableChangeListener` to `true`](#sqliteopenoptions) when opening the database.

Returns: `EventSubscription`

A `Subscription` object that you can call `remove()` on when you would like to unsubscribe the listener.

## Interfaces

### `SQLiteExecuteAsyncResult`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Extends: [AsyncIterableIterator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncIterator)<T\>

A result returned by [`SQLiteStatement.executeAsync()`](#executeasyncparams).

Example

The result includes the [`lastInsertRowId`](https://www.sqlite.org/c3ref/last_insert_rowid.html) and [`changes`](https://www.sqlite.org/c3ref/changes.html) properties. You can get the information from the write operations.

```ts
const statement = await db.prepareAsync("INSERT INTO test (value) VALUES (?)");
try {
  const result = await statement.executeAsync(101);
  console.log("lastInsertRowId:", result.lastInsertRowId);
  console.log("changes:", result.changes);
} finally {
  await statement.finalizeAsync();
}
```

Example

The result implements the [`AsyncIterator`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/asyncIterator) interface, so you can use it in `for await...of` loops.

```ts
const statement = await db.prepareAsync(
  "SELECT value FROM test WHERE value > ?",
);
try {
  const result = await statement.executeAsync<{ value: number }>(100);
  for await (const row of result) {
    console.log("row value:", row.value);
  }
} finally {
  await statement.finalizeAsync();
}
```

Example

If your write operations also return values, you can mix all of them together.

```ts
const statement = await db.prepareAsync(
  "INSERT INTO test (name, value) VALUES (?, ?) RETURNING name",
);
try {
  const result = await statement.executeAsync<{ name: string }>(
    "John Doe",
    101,
  );
  console.log("lastInsertRowId:", result.lastInsertRowId);
  console.log("changes:", result.changes);
  for await (const row of result) {
    console.log("name:", row.name);
  }
} finally {
  await statement.finalizeAsync();
}
```

| Property        | Type     | Description                                                                                                                                |
| --------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| changes         | `number` | The number of rows affected. Returned from the [`sqlite3_changes()`](https://www.sqlite.org/c3ref/changes.html) function.                  |
| lastInsertRowId | `number` | The last inserted row ID. Returned from the [`sqlite3_last_insert_rowid()`](https://www.sqlite.org/c3ref/last_insert_rowid.html) function. |

SQLiteExecuteAsyncResult Methods

### `getAllAsync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Get all rows of the result set. This requires the SQLite cursor to be in its initial state. If you have already retrieved rows from the result set, you need to reset the cursor first by calling [`resetAsync()`](#resetasync). Otherwise, an error will be thrown.

Returns: `Promise<t[]>`

### `getFirstAsync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Get the first row of the result set. This requires the SQLite cursor to be in its initial state. If you have already retrieved rows from the result set, you need to reset the cursor first by calling [`resetAsync()`](#resetasync). Otherwise, an error will be thrown.

Returns: `Promise<null>`

### `resetAsync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Reset the prepared statement cursor. This will call the [`sqlite3_reset()`](https://www.sqlite.org/c3ref/reset.html) C function under the hood.

Returns: `Promise<void>`

### `SQLiteExecuteSyncResult`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Extends: [IterableIterator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Iterator)<T\>

A result returned by [`SQLiteStatement.executeSync()`](#executesyncparams).

> **Note:** Running heavy tasks with this function can block the JavaScript thread and affect performance.

Example

The result includes the [`lastInsertRowId`](https://www.sqlite.org/c3ref/last_insert_rowid.html) and [`changes`](https://www.sqlite.org/c3ref/changes.html) properties. You can get the information from the write operations.

```ts
const statement = db.prepareSync("INSERT INTO test (value) VALUES (?)");
try {
  const result = statement.executeSync(101);
  console.log("lastInsertRowId:", result.lastInsertRowId);
  console.log("changes:", result.changes);
} finally {
  statement.finalizeSync();
}
```

Example

The result implements the [`Iterator`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Iterator) interface, so you can use it in `for...of` loops.

```ts
const statement = db.prepareSync("SELECT value FROM test WHERE value > ?");
try {
  const result = statement.executeSync<{ value: number }>(100);
  for (const row of result) {
    console.log("row value:", row.value);
  }
} finally {
  statement.finalizeSync();
}
```

Example

If your write operations also return values, you can mix all of them together.

```ts
const statement = db.prepareSync(
  "INSERT INTO test (name, value) VALUES (?, ?) RETURNING name",
);
try {
  const result = statement.executeSync<{ name: string }>("John Doe", 101);
  console.log("lastInsertRowId:", result.lastInsertRowId);
  console.log("changes:", result.changes);
  for (const row of result) {
    console.log("name:", row.name);
  }
} finally {
  statement.finalizeSync();
}
```

| Property        | Type     | Description                                                                                                                                |
| --------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| changes         | `number` | The number of rows affected. Returned from the [`sqlite3_changes()`](https://www.sqlite.org/c3ref/changes.html) function.                  |
| lastInsertRowId | `number` | The last inserted row ID. Returned from the [`sqlite3_last_insert_rowid()`](https://www.sqlite.org/c3ref/last_insert_rowid.html) function. |

SQLiteExecuteSyncResult Methods

### `getAllSync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Get all rows of the result set. This requires the SQLite cursor to be in its initial state. If you have already retrieved rows from the result set, you need to reset the cursor first by calling [`resetSync()`](#resetsync). Otherwise, an error will be thrown.

Returns: `T[]`

### `getFirstSync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Get the first row of the result set. This requires the SQLite cursor to be in its initial state. If you have already retrieved rows from the result set, you need to reset the cursor first by calling [`resetSync()`](#resetsync). Otherwise, an error will be thrown.

Returns: `null | T`

### `resetSync()`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Reset the prepared statement cursor. This will call the [`sqlite3_reset()`](https://www.sqlite.org/c3ref/reset.html) C function under the hood.

Returns: `void`

### `SQLiteOpenOptions`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Options for opening a database.

| Property                       | Type                                                      | Description                                                                                                                                                                                                                                                                               |
| ------------------------------ | --------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| enableChangeListener(optional) | `boolean`                                                 | Whether to call the [`sqlite3_update_hook()`](https://www.sqlite.org/c3ref/update_hook.html) function and enable the `onDatabaseChange` events. You can later subscribe to the change events by [`addDatabaseChangeListener`](#sqliteadddatabasechangelistenerlistener). Default: `false` |
| libSQLOptions(optional)        | `{ authToken: string, remoteOnly: boolean, url: string }` | Options for libSQL integration.                                                                                                                                                                                                                                                           |
| useNewConnection(optional)     | `boolean`                                                 | Whether to create new connection even if connection with the same database name exists in cache. Default: `false`                                                                                                                                                                         |

### `SQLiteProviderAssetSource`

Supported platforms: Android, iOS, macOS, tvOS, Web.

| Property                 | Type      | Description                                                                         |
| ------------------------ | --------- | ----------------------------------------------------------------------------------- |
| assetId                  | `number`  | The asset ID returned from the `require()` call.                                    |
| forceOverwrite(optional) | `boolean` | Force overwrite the local database file even if it already exists. Default: `false` |

### `SQLiteRunResult`

Supported platforms: Android, iOS, macOS, tvOS, Web.

A result returned by [`SQLiteDatabase.runAsync`](#runasyncsource-params) or [`SQLiteDatabase.runSync`](#runsyncsource-params).

| Property        | Type     | Description                                                                                                                                |
| --------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| changes         | `number` | The number of rows affected. Returned from the [`sqlite3_changes()`](https://www.sqlite.org/c3ref/changes.html) function.                  |
| lastInsertRowId | `number` | The last inserted row ID. Returned from the [`sqlite3_last_insert_rowid()`](https://www.sqlite.org/c3ref/last_insert_rowid.html) function. |

## Types

### `Changeset`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Type: [Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)

A type that represents a changeset.

### `DatabaseChangeEvent`

Supported platforms: Android, iOS, macOS, tvOS, Web.

The event payload for the listener of [`addDatabaseChangeListener`](#sqliteadddatabasechangelistenerlistener)

| Property         | Type     | Description                                                                                                              |
| ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------ |
| databaseFilePath | `string` | The absolute file path to the database.                                                                                  |
| databaseName     | `string` | The database name. The value would be `main` by default and other database names if you use `ATTACH DATABASE` statement. |
| rowId            | `number` | The changed row ID.                                                                                                      |
| tableName        | `string` | The table name.                                                                                                          |

### `SQLiteBindParams`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Literal Type: `Record`

Acceptable values are: Record<string, [SQLiteBindValue](#sqlitebindvalue)\>

### `SQLiteBindValue`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Literal Type: `union`

Bind parameters to the prepared statement. You can either pass the parameters in the following forms:

Example

A single array for unnamed parameters.

```ts
const statement = await db.prepareAsync(
  "SELECT * FROM test WHERE value = ? AND intValue = ?",
);
const result = await statement.executeAsync(["test1", 789]);
const firstRow = await result.getFirstAsync();
```

Example

Variadic arguments for unnamed parameters.

```ts
const statement = await db.prepareAsync(
  "SELECT * FROM test WHERE value = ? AND intValue = ?",
);
const result = await statement.executeAsync("test1", 789);
const firstRow = await result.getFirstAsync();
```

Example

A single object for [named parameters](https://www.sqlite.org/lang_expr.html)

We support multiple named parameter forms such as `:VVV`, `@VVV`, and `$VVV`. We recommend using `$VVV` because JavaScript allows using `$` in identifiers without escaping.

```ts
const statement = await db.prepareAsync(
  "SELECT * FROM test WHERE value = $value AND intValue = $intValue",
);
const result = await statement.executeAsync({
  $value: "test1",
  $intValue: 789,
});
const firstRow = await result.getFirstAsync();
```

Acceptable values are: `string` | `number` | `null` | `boolean` | [Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)

### `SQLiteStorageSetItemUpdateFunction(prevValue)`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Update function for the [`setItemAsync()`](#setitemasynckey-value) or [`setItemSync()`](#setitemsynckey-value) method. It computes the new value based on the previous value. The function returns the new value to set for the key.

| Parameter   | Type    | Description |
| ----------- | ------- | ----------- | ----------------------------------------------------------------------------- |
| `prevValue` | `string | null`       | The previous value associated with the key, or `null` if the key was not set. |

Returns:

`string`

### `SQLiteVariadicBindParams`

Supported platforms: Android, iOS, macOS, tvOS, Web.

Type: [SQLiteBindValue[]](#sqlitebindvalue)

---

---

id: statusbar
title: StatusBar
description: A library that provides the same interface as the React Native StatusBar API, but with slightly different defaults to work great in Expo environments.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-status-bar'
packageName: 'expo-status-bar'
iconUrl: '/static/images/packages/expo-status-bar.png'
platforms: ['android', 'ios', 'tvos', 'web', 'expo-go']

---

# Expo StatusBar

A library that provides the same interface as the React Native StatusBar API, but with slightly different defaults to work great in Expo environments.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-status-bar` gives you a component and imperative interface to control the app status bar to change its text color, background color, hide it, make it translucent or opaque, and apply animations to any of these changes. Exactly what you are able to do with the `StatusBar` component depends on the platform you're using.

> **tvOS and web support**
>
> For **tvOS**, the `expo-status-bar` code will compile and run, but no status bar will show.
>
> For **web**, there is no API available to control the operating system's status bar, so `expo-status-bar` will do nothing and won't throw an error.

## Installation

```sh
npx expo install expo-status-bar
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { StyleSheet, Text, View } from "react-native";
import { StatusBar } from "expo-status-bar";

export default function App() {
  return (
    <View style={styles.container}>
      <Text style={styles.text}>
        Notice that the status bar has light text!
      </Text>
      <StatusBar style="light" />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#000",
    alignItems: "center",
    justifyContent: "center",
  },
  text: {
    color: "#fff",
  },
});
```

## API

```js
import { StatusBar } from "expo-status-bar";
```

## Component

### `StatusBar`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[StatusBarProps](#statusbarprops)\>

A component that allows you to configure your status bar without directly calling imperative methods like `setBarStyle`.

You will likely have multiple `StatusBar` components mounted in the same app at the same time. For example, if you have multiple screens in your app, you may end up using one per screen. The props of each `StatusBar` component will be merged in the order that they were mounted. This component is built on top of the [StatusBar](https://reactnative.dev/docs/statusbar) component exported from React Native, and it provides defaults that work better for Expo users.

StatusBarProps

### `animated`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

If the transition between status bar property changes should be animated. Supported for `backgroundColor`, `barStyle` and `hidden`.

### `backgroundColor`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: `string`

The background color of the status bar.

### `hidden`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

If the status bar is hidden.

### `hideTransitionAnimation`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [StatusBarAnimation](#statusbaranimation)â€ƒâ€¢â€ƒDefault: `'fade'`

The transition effect when showing and hiding the status bar using the hidden prop.

### `networkActivityIndicatorVisible`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

If the network activity indicator should be visible.

### `style`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [StatusBarStyle](#statusbarstyle)â€ƒâ€¢â€ƒDefault: `'auto'`

Sets the color of the status bar text. Default value is `"auto"` which picks the appropriate value according to the active color scheme, eg: if your app is dark mode, the style will be `"light"`.

### `translucent`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

If the status bar is translucent. When translucent is set to `true`, the app will draw under the status bar. This is the default behaviour in projects created with Expo tools because it is consistent with iOS.

## Methods

### `StatusBar.setStatusBarBackgroundColor(backgroundColor, animated)`

Supported platforms: Android.

| Parameter            | Type                                              | Description                                                                   |
| -------------------- | ------------------------------------------------- | ----------------------------------------------------------------------------- |
| `backgroundColor`    | [ColorValue](https://reactnative.dev/docs/colors) | The background color of the status bar.                                       |
| `animated`(optional) | `boolean`                                         | `true` to animate the background color change, `false` to change immediately. |

Set the background color of the status bar.

Returns: `void`

### `StatusBar.setStatusBarHidden(hidden, animation)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter             | Type                                      | Description                                                  |
| --------------------- | ----------------------------------------- | ------------------------------------------------------------ |
| `hidden`              | `boolean`                                 | If the status bar should be hidden.                          |
| `animation`(optional) | [StatusBarAnimation](#statusbaranimation) | Animation to use when toggling hidden, defaults to `'none'`. |

Toggle visibility of the status bar.

Returns: `void`

### `StatusBar.setStatusBarNetworkActivityIndicatorVisible(visible)`

Supported platforms: iOS.

| Parameter | Type      | Description                                          |
| --------- | --------- | ---------------------------------------------------- |
| `visible` | `boolean` | If the network activity indicator should be visible. |

Toggle visibility of the network activity indicator.

Returns: `void`

### `StatusBar.setStatusBarStyle(style, animated)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter            | Type                              | Description                           |
| -------------------- | --------------------------------- | ------------------------------------- |
| `style`              | [StatusBarStyle](#statusbarstyle) | The color of the status bar text.     |
| `animated`(optional) | `boolean`                         | If the transition should be animated. |

Set the bar style of the status bar.

Returns: `void`

### `StatusBar.setStatusBarTranslucent(translucent)`

Supported platforms: Android.

| Parameter     | Type      | Description                                                                                                                                                    |
| ------------- | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `translucent` | `boolean` | Whether the app can draw under the status bar. When `true`, content will be rendered under the status bar. This is always `true` on iOS and cannot be changed. |

Set the translucency of the status bar.

Returns: `void`

## Types

### `StatusBarAnimation`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `string`

Acceptable values are: `'none'` | `'fade'` | `'slide'`

### `StatusBarStyle`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `string`

Acceptable values are: `'auto'` | `'inverted'` | `'light'` | `'dark'`

---

---

title: StoreReview
description: A library that provides access to native APIs for in-app reviews.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-store-review'
packageName: 'expo-store-review'
iconUrl: '/static/images/packages/expo-store-review.png'
platforms: ['android', 'ios', 'expo-go']

---

# Expo StoreReview

A library that provides access to native APIs for in-app reviews.
Android, iOS, Included in Expo Go

`expo-store-review` is a library that provides access to `ReviewManager` API on Android 5+ and `SKStoreReviewController` API on iOS. It allows you to ask the user to rate your app without leaving the app itself.

## Installation

```sh
npx expo install expo-store-review
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

It is important that you follow the [Human Interface Guidelines](https://developer.apple.com/design/human-interface-guidelines/ratings-and-reviews) for iOS and [Guidelines](https://developer.android.com/guide/playcore/in-app-review#when-to-request) for Android when using this API.

**Specifically:**

- Don't call `StoreReview.requestReview()` from a button - instead try calling it after the user has finished some signature interaction in the app.
- Don't spam the user.
- Don't request a review when the user is doing something time sensitive like navigating.
- Don't ask the user any questions before or while presenting the rating button or card.

### Write reviews

#### Android

There is no equivalent redirect on Android, you can still open the Play Store to the reviews sections using the query parameter `showAllReviews=true` like this:

```ts
const androidPackageName = "host.exp.exponent";
// Open the Android Play Store in the browser -> redirects to Play Store on Android
Linking.openURL(
  `https://play.google.com/store/apps/details?id=${androidPackageName}&showAllReviews=true`,
);
// Open the Android Play Store directly
Linking.openURL(
  `market://details?id=${androidPackageName}&showAllReviews=true`,
);
```

#### iOS

You can redirect an app user to the **"Write a Review"** screen for an app in the iOS App Store by using the query parameter `action=write-review`. For example:

```ts
const itunesItemId = 982107779;
// Open the iOS App Store in the browser -> redirects to App Store on iOS
Linking.openURL(
  `https://apps.apple.com/app/apple-store/id${itunesItemId}?action=write-review`,
);
// Open the iOS App Store directly
Linking.openURL(
  `itms-apps://itunes.apple.com/app/viewContentsUserReviews/id${itunesItemId}?action=write-review`,
);
```

## API

```js
import * as StoreReview from "expo-store-review";
```

## Methods

### `StoreReview.hasAction()`

Supported platforms: Android, iOS.

Returns: `Promise<boolean>`

This returns a promise that fulfills to `true` if `StoreReview.requestReview()` is capable directing the user to some kind of store review flow. If the app config (`app.json`) does not contain store URLs and native store review capabilities are not available then the promise will fulfill to `false`.

Example

```ts
if (await StoreReview.hasAction()) {
  // you can call StoreReview.requestReview()
}
```

### `StoreReview.isAvailableAsync()`

Supported platforms: Android, iOS.

Determines if the platform has the capabilities to use `StoreReview.requestReview()`.

Returns: `Promise<boolean>`

This returns a promise fulfills with `boolean`, depending on the platform:

- On iOS, it will resolve to `true` unless the app is distributed through TestFlight.
- On Android, it will resolve to `true` if the device is running Android 5.0+.
- On Web, it will resolve to `false`.

### `StoreReview.requestReview()`

Supported platforms: Android, iOS.

In ideal circumstances this will open a native modal and allow the user to select a star rating that will then be applied to the App Store, without leaving the app. If the device is running a version of Android lower than 5.0, this will attempt to get the store URL and link the user to it.

Returns: `Promise<void>`

### `StoreReview.storeUrl()`

Supported platforms: Android, iOS.

This uses the `Constants` API to get the `Constants.expoConfig.ios.appStoreUrl` on iOS, or the `Constants.expoConfig.android.playStoreUrl` on Android.

On Web this will return `null`.

Returns: `string | null`

## Error codes

### `ERR_STORE_REVIEW_FAILED`

This error occurs when the store review request was not successful.

---

---

title: '@stripe/stripe-react-native'
description: A library that provides access to native APIs for integrating Stripe payments.
sourceCodeUrl: 'https://github.com/stripe/stripe-react-native'
packageName: '@stripe/stripe-react-native'
platforms: ['android', 'ios', 'expo-go']
inExpoGo: true

---

# @stripe/stripe-react-native

A library that provides access to native APIs for integrating Stripe payments.
Android, iOS, Included in Expo Go

Expo includes support for [`@stripe/stripe-react-native`](https://github.com/stripe/stripe-react-native), which allows you to build delightful payment experiences in your native Android and iOS apps using React Native and Expo. This library provides powerful and customizable UI screens and elements that can be used out-of-the-box to collect your users' payment details.

> Migrating from Expo's `expo-payments-stripe` module? [Learn more about how to transition to the new `@stripe/stripe-react-native` library](https://github.com/expo/fyi/blob/main/payments-migration-guide.md#how-to-migrate-from-expo-payments-stripe-to-the-new-stripestripe-react-native-library).

[Watch: Universal Full-Stack Expo Stripe Payment Integration](https://www.youtube.com/watch?v=J0tyxUV_omY)

## Installation

Each Expo SDK version requires a specific `@stripe/stripe-react-native` version. See the [Stripe CHANGELOG](https://github.com/stripe/stripe-react-native/blob/master/CHANGELOG.md) for a mapping of versions. To automatically install the correct version for your Expo SDK version, run:

```sh
npx expo install @stripe/stripe-react-native
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://github.com/stripe/stripe-react-native) provided in the library's README or documentation.

### Config plugin setup (optional)

If you're using EAS Build, you can do most of your Stripe setup using the `@stripe/stripe-react-native` [config plugin](/config-plugins/introduction). To set up, just add the config plugin to the `plugins` array of your **app.json** or **app.config.js** as shown below, then rebuild the app.

```json
{
  "expo": {
    ...
    "plugins": [
      [
        "@stripe/stripe-react-native",
        {
          "merchantIdentifier": string | string [],
          "enableGooglePay": boolean
        }
      ]
    ],
  }
}
```

- **merchantIdentifier**: iOS only. This is the [Apple merchant ID obtained here](https://stripe.com/docs/apple-pay?platform=react-native). Otherwise, Apple Pay will not work as expected. If you have multiple merchantIdentifiers, you can set them in an array.
- **enableGooglePay**: Android only. Boolean indicating whether or not Google Pay is enabled. Defaults to `false`.

## Example

Trying out Stripe takes just a few seconds. Connect to [this Snack](https://snack.expo.dev/@charliecruzan/stripe-react-native-example?platform=mydevice) on your device.

Under the hood, that example connects to [this Glitch server code](https://glitch.com/edit/#!/expo-stripe-server-example), so you'll need to open that page to spin up the server. Feel free to run your own Glitch server and copy that code!

## Usage

For usage information and detailed documentation, see the following resources:

- [Stripe's React Native SDK reference](https://stripe.dev/stripe-react-native/api-reference/index.html)
- [Stripe's React Native GitHub repo](https://github.com/stripe/stripe-react-native)
- [Stripe's example React Native app](https://github.com/stripe/stripe-react-native/tree/master/example)

### Common issues

#### Browser pop-ups are not redirecting back to my app

If you're relying on redirects, you'll need to pass in a `urlScheme` to `initStripe`. To make sure you always use the proper `urlScheme`, pass in:

```js
import * as Linking from 'expo-linking';
import Constants from 'expo-constants';

urlScheme:
  Constants.appOwnership === 'expo'
    ? Linking.createURL('/--/')
    : Linking.createURL(''),
```

[`Linking.createURL()`](/versions/latest/sdk/linking#createurloptions) will ensure you're using the proper scheme, whether you're running in Expo Go or your production app. `'/--/'` is necessary in Expo Go because it indicates that the substring after it corresponds to the deep link path, and is not part of the path to the app itself.

#### PaymentSheet localization on iOS

On Android, the translation of `PaymentSheet` is automatically detected based on a device's language settings.

On iOS, you must enable `CFBundleAllowMixedLocalizations` and add the preferred language using `CFBundleLocalizations` under [`ios.infoPlist`](/versions/latest/config/app#infoplist) in the app config:

```json
{
  "expo": {
    "ios": {
      "infoPlist": {
        "CFBundleAllowMixedLocalizations": true,
        "CFBundleLocalizations": ["fr"]
        ...
      }
      ...
    }
  }
}
```

## Limitations

### Google Pay

Google Pay **is not** supported in [Expo Go](https://expo.dev/go). To use Google Pay, you must create a [development build](/develop/development-builds/create-a-build). This can be done with [EAS Build](/build/introduction), or locally by running `npx expo run:android`.

### Apple Pay

Apple Pay **is not** supported in [Expo Go](https://expo.dev/go). To use Apple Pay, you must create a [development build](/develop/development-builds/create-a-build). This can be done with [EAS Build](/build/introduction), or locally by running `npx expo run:ios`.

---

---

title: react-native-svg
description: A library that allows using SVGs in your app.
sourceCodeUrl: 'https://github.com/react-native-community/react-native-svg'
packageName: react-native-svg
platforms: ['android', 'ios', 'macos', 'web', 'tvos', 'expo-go']
inExpoGo: true

---

# react-native-svg

A library that allows using SVGs in your app.
Android, iOS, macOS, tvOS, Web, Included in Expo Go

`react-native-svg` allows you to use SVGs in your app, with support for interactivity and animation.

## Installation

```sh
npx expo install react-native-svg
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://github.com/react-native-community/react-native-svg#with-react-native-cli) provided in the library's README or documentation.

## API

```js
import * as Svg from "react-native-svg";
```

### `Svg`

A set of drawing primitives such as `Circle`, `Rect`, `Path`, `ClipPath`, and `Polygon`. It supports most SVG elements and properties. The implementation is provided by [react-native-svg](https://github.com/react-native-community/react-native-svg), and documentation is provided in that repository.

```tsx
import Svg, { Circle, Rect } from "react-native-svg";

export default function SvgComponent(props) {
  return (
    <Svg
      height="50%"
      width="50%"
      viewBox="0 0 100 100"
      {...props}
    >
      <Circle
        cx="50"
        cy="50"
        r="45"
        stroke="blue"
        strokeWidth="2.5"
        fill="green"
      />
      <Rect
        x="15"
        y="15"
        width="70"
        height="70"
        stroke="red"
        strokeWidth="2"
        fill="yellow"
      />
    </Svg>
  );
}
```

### Tips

Here are some helpful links that will get you moving fast!

- Looking for SVGs? Try the [noun project](https://thenounproject.com/).
- Create or modify your own SVGs for free using [Figma](https://www.figma.com/).
- Optimize your SVG with [SVGOMG](https://jakearchibald.github.io/svgomg/). This will make the code smaller and easier to work with. Be sure not to remove the `viewbox` for best results on Android.
- Convert your SVG to an Expo component in the browser using [SVGR](https://react-svgr.com/playground/?native=true&typescript=true).

## Learn more

[Visit official documentation](https://github.com/software-mansion/react-native-svg) â€” Get full information on API and its usage.

---

---

title: Symbols
description: A library that allows access to native symbols.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-symbols'
packageName: 'expo-symbols'
iconUrl: '/static/images/packages/expo-symbols.png'
platforms: ['ios', 'tvos', 'expo-go']

---

# Expo Symbols

A library that allows access to native symbols.
iOS, tvOS, Included in Expo Go

> This library is currently in beta and subject to breaking changes.

`expo-symbols` provides access to the [SF Symbols](https://developer.apple.com/sf-symbols/) library on iOS.

## Installation

```sh
npx expo install expo-symbols
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { SymbolView, SymbolViewProps, SFSymbol } from "expo-symbols";
import { StyleSheet, View } from "react-native";

export default function App() {
  return (
    <View style={styles.container}>
      <SymbolView
        name="airpods.chargingcase"
        style={styles.symbol}
        type="hierarchical"
      />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#fff",
    alignItems: "center",
    justifyContent: "center",
  },
  symbol: {
    width: 35,
    height: 35,
    margin: 5,
  },
});
```

## API

```js
import { SymbolView } from "expo-symbols";
```

## Component

### `SymbolView`

Supported platforms: iOS, tvOS.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[SymbolViewProps](#symbolviewprops)\>

SymbolViewProps

### `animationSpec`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: [AnimationSpec](#animationspec)

The animation configuration to apply to the symbol.

### `colors`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒLiteral type: `union`

An array of colors to use when the [`SymbolType`](#symboltype) is `palette`.

Acceptable values are: [ColorValue](https://reactnative.dev/docs/colors) | [ColorValue[]](https://reactnative.dev/docs/colors)

### `fallback`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: `React.ReactNode`

Fallback to render on Android and Web where `SF Symbols` are not available.

### `name`

Supported platforms: iOS, tvOS.

Type: [SFSymbol](https://github.com/nandorojo/sf-symbols-typescript)

The name of the symbol. Symbols can be viewed in the [Apple SF Symbols app](https://developer.apple.com/sf-symbols/).

### `resizeMode`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: [ContentMode](#contentmode)â€ƒâ€¢â€ƒDefault: `'scaleAspectFit'`

Determines how the image should be resized to fit its container.

### `scale`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: [SymbolScale](#symbolscale)â€ƒâ€¢â€ƒDefault: `'unspecified'`

The scale of the symbol to render.

### `size`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: `number`â€ƒâ€¢â€ƒDefault: `24`

The size of the symbol.

### `tintColor`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)

The tint color to apply to the symbol.

### `type`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: [SymbolType](#symboltype)â€ƒâ€¢â€ƒDefault: `'monochrome'`

Determines the symbol variant to use.

### `weight`

Supported platforms: iOS, tvOS.

Optionalâ€ƒâ€¢â€ƒType: [SymbolWeight](#symbolweight)â€ƒâ€¢â€ƒDefault: `'unspecified'`

The weight of the symbol to render.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

## Types

### `AnimationEffect`

Supported platforms: iOS, tvOS.

| Property              | Type                            | Description                                                                              |
| --------------------- | ------------------------------- | ---------------------------------------------------------------------------------------- | ------------------------------- |
| direction(optional)   | `'up'                           | 'down'`                                                                                  | The direction of the animation. |
| type                  | [AnimationType](#animationtype) | The type of animation to apply to the symbol.                                            |
| wholeSymbol(optional) | `boolean`                       | Whether the entire symbol should animate or just the individual layers. Default: `false` |

### `AnimationSpec`

Supported platforms: iOS, tvOS.

The animation configuration to apply to the symbol.

| Property                        | Type                                            | Description                                                      |
| ------------------------------- | ----------------------------------------------- | ---------------------------------------------------------------- |
| effect(optional)                | [AnimationEffect](#animationeffect)             | The effect to apply to the symbol.                               |
| repeatCount(optional)           | `number`                                        | The number of times the animation should repeat.                 |
| repeating(optional)             | `boolean`                                       | If the animation should repeat.                                  |
| speed(optional)                 | `number`                                        | The duration of the animation in seconds.                        |
| variableAnimationSpec(optional) | [VariableAnimationSpec](#variableanimationspec) | An object that specifies how the symbolâ€™s layers should animate. |

### `AnimationType`

Supported platforms: iOS, tvOS.

Literal Type: `string`

The type of animation to apply to the symbol.

Acceptable values are: `'bounce'` | `'pulse'` | `'scale'`

### `ContentMode`

Supported platforms: iOS, tvOS.

Literal Type: `string`

Determines how the image should be resized to fit its container.

Acceptable values are: `'scaleToFill'` | `'scaleAspectFit'` | `'scaleAspectFill'` | `'redraw'` | `'center'` | `'top'` | `'bottom'` | `'left'` | `'right'` | `'topLeft'` | `'topRight'` | `'bottomLeft'` | `'bottomRight'`

### `SymbolScale`

Supported platforms: iOS, tvOS.

Literal Type: `string`

The scale of the symbol to render.

Acceptable values are: `'default'` | `'unspecified'` | `'small'` | `'medium'` | `'large'`

### `SymbolType`

Supported platforms: iOS, tvOS.

Literal Type: `string`

Determines the symbol variant to use.

- `'monochrome'` - Creates a color configuration that specifies that the symbol image uses its monochrome variant.
- `'hierarchical'` - Creates a color configuration with a color scheme that originates from one color.
- `'palette'` - Creates a color configuration with a color scheme from a palette of multiple colors.
- `'multicolor'` - Creates a color configuration that specifies that the symbol image uses its multicolor variant, if one exists.

Acceptable values are: `'monochrome'` | `'hierarchical'` | `'palette'` | `'multicolor'`

### `SymbolWeight`

Supported platforms: iOS, tvOS.

Literal Type: `string`

The weight of the symbol to render.

Acceptable values are: `'unspecified'` | `'ultraLight'` | `'thin'` | `'light'` | `'regular'` | `'medium'` | `'semibold'` | `'bold'` | `'heavy'` | `'black'`

### `VariableAnimationSpec`

Supported platforms: iOS, tvOS.

A variable color animation draws attention to a symbol by changing the opacity of the symbolâ€™s layers. You can choose to apply the effect to layers either cumulatively or iteratively. For cumulative animations, each layerâ€™s opacity remains changed until the end of the animation cycle. For iterative animations, each layerâ€™s opacity changes briefly before returning to its original state. These effects are compounding, each value set to `true` will add an additional effect.

| Property                     | Type      | Description                                                                                                                                                        |
| ---------------------------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| cumulative(optional)         | `boolean` | This effect enables each successive variable layer, and the layer remains enabled until the end of the animation cycle. This effect cancels the iterative variant. |
| dimInactiveLayers(optional)  | `boolean` | An effect that dims inactive layers of a symbol. This effect draws inactive layers with reduced, but nonzero, opacity.                                             |
| hideInactiveLayers(optional) | `boolean` | An effect that hides inactive layers of a symbol. This effect hides inactive layers completely, rather than drawing them with reduced, but nonzero, opacity.       |
| iterative(optional)          | `boolean` | An effect that momentarily enables each layer of a symbol in sequence.                                                                                             |
| nonReversing(optional)       | `boolean` | An effect that doesnâ€™t reverse each time it repeats.                                                                                                               |
| reversing(optional)          | `boolean` | An effect that reverses each time it repeats.                                                                                                                      |

---

---

title: SystemUI
description: A library that allows interacting with system UI elements.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-system-ui'
packageName: 'expo-system-ui'
platforms: ['android', 'ios', 'tvos', 'web']

---

# Expo SystemUI

A library that allows interacting with system UI elements.
Android, iOS, tvOS, Web

`expo-system-ui` enables you to interact with UI elements that fall outside of the React tree. Specifically the root view background color, and locking the user interface style globally on Android.

## Installation

```sh
npx expo install expo-system-ui
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

Enable the `expo-system-ui` config plugin when you use [Continuous Native Generation (CNG)](/workflow/continuous-native-generation). The plugin allows you to configure [`userInterfaceStyle`](/versions/latest/config/app#userinterfacestyle) on Android and [`backgroundColor`](/versions/latest/config/app#backgroundcolor) on iOS properties from [app config](/versions/latest/config/app). These properties cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "backgroundColor": "#ffffff",
    "userInterfaceStyle": "light",
    "ios": {
      "backgroundColor": "#ffffff",
    }
    "android": {
      "userInterfaceStyle": "light"
    },
    "plugins": ["expo-system-ui"],
  }
}
```

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) or you're using native **android** and **ios** project manually, then you need to add the following configuration to your native project:

**Android**

To apply `userInterfaceStyle` on Android, you need to add the `expo_system_ui_user_interface_style` configuration **android/app/src/main/res/values/strings.xml**:

```xml
<resources>
  <!-- ... -->
  <string name="expo_system_ui_user_interface_style" translatable="false">light</string> <!-- or dark -->
</resources>
```

**iOS**

To apply `backgroundColor` on iOS, you need to add the `UIUserInterfaceStyle` configuration in **ios/your-app/Info.plist**:

```xml
<plist>
  <dict>
    <!-- ... -->
    <key>UIUserInterfaceStyle</key>
    <string>Light</string> <!-- or Dark -->
  </dict>
</plist>
```

## API

```js
import * as SystemUI from "expo-system-ui";
```

## Methods

### `SystemUI.getBackgroundColorAsync()`

Supported platforms: Android, iOS, tvOS, Web.

Gets the root view background color.

Returns: `Promise<colorvalue>`

Current root view background color in hex format. Returns `null` if the background color is not set.

Example

```ts
const color = await SystemUI.getBackgroundColorAsync();
```

### `SystemUI.setBackgroundColorAsync(color)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type | Description                                       |
| --------- | ---- | ------------------------------------------------- | -------------------------------------------------------------------------- |
| `color`   | null | [ColorValue](https://reactnative.dev/docs/colors) | Any valid [CSS 3 (SVG) color](http://www.w3.org/TR/css3-color/#svg-color). |

Changes the root view background color. Call this function in the root file outside of your component.

Returns: `Promise<void>`

Example

```ts
SystemUI.setBackgroundColorAsync("black");
```

---

---

title: TaskManager
description: A library that provides support for tasks that can run in the background.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-task-manager'
packageName: 'expo-task-manager'
platforms: ['android', 'ios', 'tvos', 'expo-go']

---

# Expo TaskManager

A library that provides support for tasks that can run in the background.
Android, iOS, tvOS, Included in Expo Go

`expo-task-manager` provides an API that allows you to manage long-running tasks, in particular those tasks that can run while your app is in the background. Some features of this library are used by other libraries under the hood. Here is a list of Expo SDK libraries that use `TaskManager`.

## Libraries using Expo TaskManager

- [Location](/versions/latest/sdk/location)
- [BackgroundTask](/versions/latest/sdk/background-task)
- [BackgroundFetch](/versions/latest/sdk/background-fetch)
- [Notifications](/versions/latest/sdk/notifications)

## Installation

```sh
npx expo install expo-task-manager
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

> You can test `TaskManager` in the Expo Go app. However, check the documentation of each [library](/versions/latest/sdk/task-manager#libraries-using-expo-taskmanager) that uses `TaskManager` to confirm whether it supports testing in Expo Go.

## Configurationâ€‚

Standalone apps need some extra configuration: on iOS, each background feature requires a special key in `UIBackgroundModes` array in your **Info.plist** file.

Read more about how to configure this in the reference for each of the [libraries](/versions/latest/sdk/task-manager#libraries-using-expo-taskmanager) that use `TaskManager`.

## Example

```jsx
import { Button, View, StyleSheet } from "react-native";
import * as TaskManager from "expo-task-manager";
import * as Location from "expo-location";
import React from "react";

const LOCATION_TASK_NAME = "background-location-task";

const requestPermissions = async () => {
  const { status: foregroundStatus } =
    await Location.requestForegroundPermissionsAsync();
  if (foregroundStatus === "granted") {
    const { status: backgroundStatus } =
      await Location.requestBackgroundPermissionsAsync();
    if (backgroundStatus === "granted") {
      await Location.startLocationUpdatesAsync(LOCATION_TASK_NAME, {
        accuracy: Location.Accuracy.Balanced,
      });
    }
  }
};

const PermissionsButton = () => (
  <View style={styles.container}>
    <Button
      onPress={requestPermissions}
      title="Enable background location"
    />
  </View>
);

TaskManager.defineTask(LOCATION_TASK_NAME, ({ data, error }) => {
  if (error) {
    // Error occurred - check `error.message` for more details.
    return;
  }
  if (data) {
    const { locations } = data;
    // do something with the locations captured in the background
  }
});

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    justifyContent: "center",
  },
});

export default PermissionsButton;
```

## API

```js
import * as TaskManager from "expo-task-manager";
```

## Methods

### `TaskManager.defineTask(taskName, taskExecutor)`

Supported platforms: Android, iOS, tvOS.

| Parameter      | Type                                                                                         | Description                                                                               |
| -------------- | -------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- |
| `taskName`     | `string`                                                                                     | Name of the task. It must be the same as the name you provided when registering the task. |
| `taskExecutor` | [TaskManagerTaskExecutor](/versions/latest/sdk/task-manager#taskmanagertaskexecutorbody)<T\> | A function that will be invoked when the task with given `taskName` is executed.          |

Defines task function. It must be called in the global scope of your JavaScript bundle. In particular, it cannot be called in any of React lifecycle methods like `componentDidMount`. This limitation is due to the fact that when the application is launched in the background, we need to spin up your JavaScript app, run your task and then shut down â€” no views are mounted in this scenario.

Returns: `void`

### `TaskManager.getRegisteredTasksAsync()`

Supported platforms: Android, iOS, tvOS.

Provides information about tasks registered in the app.

Returns: `Promise<taskmanagertask[]>`

A promise which fulfills with an array of tasks registered in the app.

Example

```js
[
  {
    taskName: 'location-updates-task-name',
    taskType: 'location',
    options: {
      accuracy: Location.Accuracy.High,
      showsBackgroundLocationIndicator: false,
    },
  },
  {
    taskName: 'geofencing-task-name',
    taskType: 'geofencing',
    options: {
      regions: [...],
    },
  },
]
```

### `TaskManager.getTaskOptionsAsync(taskName)`

Supported platforms: Android, iOS, tvOS.

| Parameter  | Type     | Description       |
| ---------- | -------- | ----------------- |
| `taskName` | `string` | Name of the task. |

Retrieves `options` associated with the task, that were passed to the function registering the task (e.g. `Location.startLocationUpdatesAsync`).

Returns: `Promise<taskoptions>`

A promise which fulfills with the `options` object that was passed while registering task with given name or `null` if task couldn't be found.

### `TaskManager.isAvailableAsync()`

Supported platforms: Android, iOS, tvOS.

Determine if the `TaskManager` API can be used in this app.

Returns: `Promise<boolean>`

A promise which fulfills with `true` if the API can be used, and `false` otherwise. With Expo Go, `TaskManager` is not available on Android, and does not support background execution on iOS. Use a development build to avoid limitations: [https://expo.fyi/dev-client](https://expo.fyi/dev-client). On the web, it always returns `false`.

### `TaskManager.isTaskDefined(taskName)`

Supported platforms: Android, iOS, tvOS.

| Parameter  | Type     | Description       |
| ---------- | -------- | ----------------- |
| `taskName` | `string` | Name of the task. |

Checks whether the task is already defined.

Returns: `boolean`

### `TaskManager.isTaskRegisteredAsync(taskName)`

Supported platforms: Android, iOS, tvOS.

| Parameter  | Type     | Description       |
| ---------- | -------- | ----------------- |
| `taskName` | `string` | Name of the task. |

Determine whether the task is registered. Registered tasks are stored in a persistent storage and preserved between sessions.

Returns: `Promise<boolean>`

A promise which resolves to `true` if a task with the given name is registered, otherwise `false`.

### `TaskManager.unregisterAllTasksAsync()`

Supported platforms: Android, iOS, tvOS.

Unregisters all tasks registered for the running app. You may want to call this when the user is signing out and you no longer need to track his location or run any other background tasks.

Returns: `Promise<void>`

A promise which fulfills as soon as all tasks are completely unregistered.

### `TaskManager.unregisterTaskAsync(taskName)`

Supported platforms: Android, iOS, tvOS.

| Parameter  | Type     | Description                     |
| ---------- | -------- | ------------------------------- |
| `taskName` | `string` | Name of the task to unregister. |

Unregisters task from the app, so the app will not be receiving updates for that task anymore. _It is recommended to use methods specialized by modules that registered the task, eg. [`Location.stopLocationUpdatesAsync`](/versions/latest/sdk/location#expolocationstoplocationupdatesasynctaskname)._

Returns: `Promise<void>`

A promise which fulfills as soon as the task is unregistered.

## Interfaces

### `TaskManagerError`

Supported platforms: Android, iOS, tvOS.

Error object that can be received through [`TaskManagerTaskBody`](#taskmanagertaskbody) when the task fails.

| Property | Type     | Description |
| -------- | -------- | ----------- | --- |
| code     | `string  | number`     | -   |
| message  | `string` | -           |

### `TaskManagerTask`

Supported platforms: Android, iOS, tvOS.

Represents an already registered task.

| Property | Type     | Description                                                    |
| -------- | -------- | -------------------------------------------------------------- |
| options  | `any`    | Provides `options` that the task was registered with.          |
| taskName | `string` | Name that the task is registered with.                         |
| taskType | `string` | Type of the task which depends on how the task was registered. |

### `TaskManagerTaskBody`

Supported platforms: Android, iOS, tvOS.

Represents the object that is passed to the task executor.

| Property      | Type                                                                  | Description                                                                                   |
| ------------- | --------------------------------------------------------------------- | --------------------------------------------------------------------------------------------- | ---------------------------------------------------- |
| data          | `T`                                                                   | An object of data passed to the task executor. Its properties depend on the type of the task. |
| error         | null                                                                  | [TaskManagerError](#taskmanagererror)                                                         | Error object if the task failed or `null` otherwise. |
| executionInfo | [TaskManagerTaskBodyExecutionInfo](#taskmanagertaskbodyexecutioninfo) | Additional details containing unique ID of task event and name of the task.                   |

### `TaskManagerTaskBodyExecutionInfo`

Supported platforms: Android, iOS, tvOS.

Additional details about execution provided in `TaskManagerTaskBody`.

| Property           | Type      | Description              |
| ------------------ | --------- | ------------------------ | ----------- | --------------------------------------------------- |
| appState(optional) | `'active' | 'background'             | 'inactive'` | Supported platforms: iOS. State of the application. |
| eventId            | `string`  | Unique ID of task event. |
| taskName           | `string`  | Name of the task.        |

## Types

### `TaskManagerTaskExecutor(body)`

Supported platforms: Android, iOS, tvOS.

Type of task executor â€“ a function that handles the task.

| Parameter | Type                                            |
| --------- | ----------------------------------------------- |
| `body`    | [TaskManagerTaskBody](#taskmanagertaskbody)<T\> |

Returns:

[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<any\>

---

---

title: Third-party libraries supported in Expo Go
description: A set of third-party libraries which support for is included by default in Expo Go environment.
inExpoGo: true

---

# Third-party libraries supported in Expo Go

A set of third-party libraries which support for is included by default in Expo Go environment.

The Expo Go playground enables students and learners to quickly try out building native Android and iOS apps. It supports a curated list of third-party libraries that are community-driven, provide APIs for common app functionalities, and are tested with each Expo SDK release.

The difference between libraries listed in this section, and any other third-party library is that the support for former is built-in in Expo Go environment. You may use any library of your choice with development builds.

## Learn more

[Using other third-party libraries](/workflow/using-libraries#third-party-libraries) â€” Learn how to use other third-party npm libraries in your project.

[Introduction to development builds](/develop/development-builds/introduction) â€” Learn why use development builds, and how to get started.

---

---

title: TrackingTransparency
description: A library for tracking app users and managing tracking permissions.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-tracking-transparency'
packageName: 'expo-tracking-transparency'
platforms: ['android', 'ios', 'tvos', 'expo-go']

---

# Expo TrackingTransparency

A library for tracking app users and managing tracking permissions.
Android, iOS, tvOS, Included in Expo Go

A library for tracking app users and managing tracking permissions. Provides access to advertising identifiers and manages the required permissions for tracking. Examples of data used for tracking include email address, device ID, advertising ID, and more. If the "Allow Apps to Request to Track" device-level setting is off, this permission will be denied. Be sure to add `NSUserTrackingUsageDescription` to your [**Info.plist**](/versions/latest/config/app#infoplist) to explain how the user will be tracked. Otherwise, your app will be rejected by Apple.

For more information on Apple's App Tracking Transparency framework, see their [documentation](https://developer.apple.com/app-store/user-privacy-and-data-use/).

## Installation

```sh
npx expo install expo-tracking-transparency
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-tracking-transparency` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-tracking-transparency",
        {
          "userTrackingPermission": "This identifier will be used to deliver personalized ads to you."
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                     | Default                                                                                          | Description                                                                                        |
| ------------------------ | ------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------- |
| `userTrackingPermission` | `"Allow this app to collect app-related data that can be used for tracking you or your device."` | Only for: iOS. Sets the iOS `NSUserTrackingUsageDescription` permission message in **Info.plist**. |

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) (you're using native **android** and **ios** projects manually), then you need to configure following permissions in your native projects:

- For Android, add `com.google.android.gms.permission.AD_ID` permission to your project's **android/app/src/main/AndroidManifest.xml**.

  ```xml
  <uses-permission android:name="com.google.android.gms.permission.AD_ID"/>
  ```

- For iOS, add `NSUserTrackingUsageDescription` key to your project's **ios/[app]/Info.plist**:

  ```xml
  <key>NSUserTrackingUsageDescription</key>
  <string>Your custom usage description string here.</string>
  ```

## Usage

```jsx
import { requestTrackingPermissionsAsync } from "expo-tracking-transparency";
import { Text, StyleSheet, View } from "react-native";
import { useEffect } from "react";

export default function App() {
  useEffect(() => {
    (async () => {
      const { status } = await requestTrackingPermissionsAsync();
      if (status === "granted") {
        console.log("Yay! I have user permission to track data");
      }
    })();
  }, []);

  return (
    <View style={styles.container}>
      <Text>Tracking Transparency Module Example</Text>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    justifyContent: "center",
  },
});
```

## API

```ts
import * as ExpoTrackingTransparency from "expo-tracking-transparency";
```

## Hooks

### `useTrackingPermissions(options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                            |
| ------------------- | ------------------------------- |
| `options`(optional) | `PermissionHookOptions<object>` |

Check or request the user to authorize or deny access to app-related data that can be used for tracking the user or the device. Examples of data used for tracking include email address, device ID, advertising ID, etc. On iOS 14.5 and above, if the user denies this permission, any attempt to collect the IDFA will return a string of 0s.

The system remembers the userâ€™s choice and doesnâ€™t prompt again unless a user uninstalls and then reinstalls the app on the device.

On Android, web, and iOS 13 and below, this method always returns that the permission was granted.

Returns: `[null | PermissionResponse, RequestPermissionMethod<permissionresponse>, GetPermissionMethod]</permissionresponse>`

Example

```ts
const [status, requestPermission] = useTrackingPermissions();
```

## Methods

### `getAdvertisingId()`

Supported platforms: Android, iOS, tvOS.

Gets the advertising ID, a UUID string intended only for advertising. Use this string for frequency capping, attribution, conversion events, estimating the number of unique users, advertising fraud detection, and debugging.

As a best practice, don't store the advertising ID. Instead, call this function each time your app needs to use the advertising ID. Users can change whether they allow app tracking and can reset their advertising ID at any time in their system settings. Check your app's authorization using `getTrackingPermissionsAsync()` to determine the user's intent.

On Android, this function returns the "Android Advertising ID" ([AAID](https://developers.google.com/android/reference/com/google/android/gms/ads/identifier/AdvertisingIdClient.Info#public-string-getid)). On Android devices that support multiple users, including guest users, it's possible for your app to obtain different advertising IDs on the same device. These different IDs correspond to different users who could be signed in on that device. See Google's documentation for more information: [Get a user-resettable advertising ID](https://developer.android.com/training/articles/ad-id).

On iOS, this function returns the "Identifier for Advertisers" ([IDFA](https://developer.apple.com/documentation/adsupport/asidentifiermanager/advertisingidentifier)), a string that's unique to each device. On devices running iOS 14.5 and newer, your app must request tracking authorization using `requestTrackingPermissionsAsync()` before it can get the advertising identifier.

Returns: `string | null`

Returns either a UUID `string` or `null`. It returns null in the following cases:

- On Android, when `isLimitAdTrackingEnabled()` is `true`
- In the iOS simulator, regardless of any settings
- On devices running iOS 14.5 and later if you haven't received permission using `requestTrackingPermissionsAsync()`
- On iOS, if you've requested permission and the user declines
- On iOS, when a profile or configuration restricts access to the advertising identifier, such as when the user has turned off the system-wide "Allow Apps to Request to Track" setting

Example

```ts
TrackingTransparency.getAdvertisingId();
// "E9228286-4C4E-4789-9D95-15827DCB291B"
```

### `getTrackingPermissionsAsync()`

Supported platforms: Android, iOS, tvOS.

Checks whether or not the user has authorized the app to access app-related data that can be used for tracking the user or the device. See `requestTrackingPermissionsAsync` for more details.

On Android, web, and iOS 13 and below, this method always returns that the permission was granted.

Returns: `Promise<permissionresponse>`

Example

```typescript
const { granted } = await getTrackingPermissionsAsync();

if (granted) {
  // Your app is authorized to track the user or their device
}
```

### `isAvailable()`

Supported platforms: Android, iOS, tvOS.

Returns whether the TrackingTransparency API is available on the current device.

Returns: `boolean`

On devices where the Tracking Transparency API is unavailable, the get and request permissions methods will always resolve to `granted`.

### `requestTrackingPermissionsAsync()`

Supported platforms: Android, iOS, tvOS.

Requests the user to authorize or deny access to app-related data that can be used for tracking the user or the device. Examples of data used for tracking include email address, device ID, advertising ID, etc. On iOS 14.5 and above, if the user denies this permission, any attempt to collect the IDFA will return a string of 0s.

The system remembers the userâ€™s choice and doesnâ€™t prompt again unless a user uninstalls and then reinstalls the app on the device.

On Android, web, and iOS 13 and below, this method always returns that the permission was granted.

Returns: `Promise<permissionresponse>`

Example

```typescript
const { granted } = await requestTrackingPermissionsAsync();

if (granted) {
  // Your app is authorized to track the user or their device
}
```

## Types

### `PermissionExpiration`

Supported platforms: Android, iOS, tvOS.

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionHookOptions`

Supported platforms: Android, iOS, tvOS.

Literal Type: `union`

Acceptable values are: `PermissionHookBehavior` | `Options`

### `PermissionResponse`

Supported platforms: Android, iOS, tvOS.

An object obtained by permissions get and request functions.

| Property    | Type                   | Description                                                                                                                                                 |
| ----------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| canAskAgain | `boolean`              | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires     | `PermissionExpiration` | Determines time when the permission expires.                                                                                                                |
| granted     | `boolean`              | A convenience boolean that indicates if the permission is granted.                                                                                          |
| status      | `PermissionStatus`     | Determines the status of the permission.                                                                                                                    |

## Enums

### `PermissionStatus`

Supported platforms: Android, iOS, tvOS.

#### `DENIED`

`PermissionStatus.DENIED = "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED = "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED = "undetermined"`

User hasn't granted or denied the permission yet.

## Permissions

### Android

The following permissions are added automatically through the library's **AndroidManifest.xml**.

| Android Permission                        | Description                                                                                                                                                                    |
| ----------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `com.google.android.gms.permission.AD_ID` | Allows access to the Advertising ID for tracking and analytics. Required for apps targeting Android 13 (API level 33) or higher that use Google Play services' Advertising ID. |

### iOS

The following usage description keys are used by this library:

| Info.plist Key                   | Description                                                                                                          |
| -------------------------------- | -------------------------------------------------------------------------------------------------------------------- |
| `NSUserTrackingUsageDescription` | A message that informs the user why an app is requesting permission to use data for tracking the user or the device. |

---

---

title: Expo UI
description: A set of components that allow you to build UIs directly with Jetpack Compose and SwiftUI from React.
sourceCodeUrl: 'https://github.com/expo/expo/tree/main/packages/expo-ui'
packageName: '@expo/ui'
platforms: ['android', 'ios', 'tvos']

---

# Expo UI

A set of components that allow you to build UIs directly with Jetpack Compose and SwiftUI from React.
Android, iOS, tvOS

`@expo/ui` is a set of native input components that allows you to build fully native interfaces with Jetpack Compose and SwiftUI. It aims to provide the commonly used features and components that a typical app will need.

## Available platforms

Components are available for the following platforms:

- **[Jetpack Compose](/versions/latest/sdk/ui/jetpack-compose)**: Build native Android interfaces with Jetpack Compose components
- **[SwiftUI](/versions/latest/sdk/ui/swift-ui)**: Build native iOS interfaces with SwiftUI components

---

---

title: Jetpack Compose
description: Jetpack Compose components for building native Android interfaces with @expo/ui.
sourceCodeUrl: 'https://github.com/expo/expo/tree/main/packages/expo-ui'
packageName: '@expo/ui'
platforms: ['android']
isAlpha: true

---

# Jetpack Compose

Jetpack Compose components for building native Android interfaces with @expo/ui.
Android

> **This library is currently in alpha and will frequently experience breaking changes.** It is not available in the Expo Go app â€” use [development builds](/develop/development-builds/introduction) to try it out.

The Jetpack Compose components in `@expo/ui/jetpack-compose` allow you to build fully native Android interfaces using Jetpack Compose from React Native.

## Installation

```sh
npx expo install @expo/ui
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Components

### Button

### CircularProgress

### ContextMenu

> **Note:** Also known as **DropdownMenu**.

### Chip

### DateTimePicker (date)

### DateTimePicker (time)

### LinearProgress

### Picker (radio)

### Picker (segmented)

### Slider

### Switch (toggle)

> **Note:** also known as **Toggle**.

### Switch (checkbox)

### TextInput

## API

Full documentation is not yet available. Use TypeScript types to explore the API.

```ts
// Import from the Jetpack Compose package
import { Button } from "@expo/ui/jetpack-compose";
```

---

---

title: SwiftUI
description: SwiftUI components for building native iOS interfaces with @expo/ui.
sourceCodeUrl: 'https://github.com/expo/expo/tree/main/packages/expo-ui'
packageName: '@expo/ui'
platforms: ['ios', 'tvos']
isBeta: true

---

# SwiftUI

SwiftUI components for building native iOS interfaces with @expo/ui.
iOS, tvOS

> **This library is currently in beta and subject to breaking changes.** It is not available in the Expo Go app â€” use [development builds](/develop/development-builds/introduction) to try it out.

The SwiftUI components in `@expo/ui/swift-ui` allow you to build fully native iOS interfaces using SwiftUI from React Native.

## Installation

```sh
npx expo install @expo/ui
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

Using a component from `@expo/ui/swift-ui` requires wrapping it in a [`Host`](/versions/latest/sdk/ui/swift-ui#host) component. The `Host` is a container for SwiftUI views.

```tsx
import { Host, Button } from "@expo/ui/swift-ui";

export function SaveButton() {
  return (
    <Host style={{ flex: 1 }}>
      <Button variant="default">Save changes</Button>
    </Host>
  );
}
```

For an in-depth explanation of how `Host` works, see the following resources:

[Expo UI guide for Swift UI](/guides/expo-ui-swift-ui) â€” Learn about the basics of @expo/ui/swift-ui â€” @expo/ui/swift-ui

[Expo UI iOS Liquid Glass Tutorial](https://www.youtube.com/watch?v=2wXYLWz3YEQ) â€” Learn how to build real SwiftUI views in your React Native app with the new Expo UI.

## Components

### BottomSheet

### Button

> The borderless variant is not available on Apple TV.

### CircularProgress

### ColorPicker

> This component is not available on Apple TV.

### ContextMenu

> **Note:** Also known as **DropdownMenu**.

### DateTimePicker (date)

> This component is not available on Apple TV.

### DateTimePicker (time)

> This component is not available on Apple TV.

### Gauge

> This component is not available on Apple TV.

### Host

A component that allows you to put the other `@expo/ui/swift-ui` components in React Native. It acts like [`<svg>`](https://developer.mozilla.org/en-US/docs/Web/SVG/Reference/Element/svg) for DOM, [`<Canvas>`](https://shopify.github.io/react-native-skia/docs/canvas/overview/) for [`react-native-skia`](https://shopify.github.io/react-native-skia/), which underlying uses [`UIHostingController`](https://developer.apple.com/documentation/swiftui/uihostingcontroller) to render the SwiftUI views in UIKit.

Since the `Host` component is a React Native [`View`](https://reactnative.dev/docs/view), you can pass the [`style`](https://reactnative.dev/docs/style) prop to it or `matchContents` prop to make the `Host` component match the contents' size.

```tsx
import { Button, Host } from "@expo/ui/swift-ui";

function Example() {
  return (
    <Host matchContents>
      <Button
        onPress={() => {
          console.log("Pressed");
        }}
      >
        Click
      </Button>
    </Host>
  );
}
```

```tsx
import { Button, Host, VStack, Text } from "@expo/ui/swift-ui";

function Example() {
  return (
    <Host style={{ flex: 1 }}>
      <VStack spacing={8}>
        <Text>Hello, world!</Text>
        <Button
          onPress={() => {
            console.log("Pressed");
          }}
        >
          Click
        </Button>
      </VStack>
    </Host>
  );
}
```

### LinearProgress

### List

### Picker (segmented)

### Picker (wheel)

> The wheel variant is not available on Apple TV.

### Slider

> This component is not available on Apple TV.

### Switch (toggle)

> **Note:** Also known as **Toggle**.

### Switch (checkbox)

### TextField

### More

Expo UI is still in active development. We continue to add more functionality and may change the API. Some examples in the docs may not be up to date. If you want to see the latest changes, check the [examples](https://github.com/expo/expo/tree/main/apps/native-component-list/src/screens/UI).

## API

Full documentation is not yet available. Use TypeScript types to explore the API.

```ts
// Import from the SwiftUI package
import { BottomSheet } from "@expo/ui/swift-ui";
```

---

---

title: Updates
description: A library that enables your app to manage remote updates to your application code.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-updates'
packageName: 'expo-updates'
iconUrl: '/static/images/packages/expo-updates.png'
platforms: ['android', 'ios', 'tvos', 'expo-go']

---

# Expo Updates

A library that enables your app to manage remote updates to your application code.
Android, iOS, tvOS, Included in Expo Go

`expo-updates` is a library that enables your app to manage remote updates to your application code. It communicates with the configured remote update service to get information about available updates.

## Installation

The `expo-updates` library can be automatically configured using [EAS Update](/eas-update/introduction), which is a hosted service that manages and serves updates to your app. To get started with EAS Update, follow the instructions in the [Get started](/eas-update/getting-started) guide.

Alternatively, it is also possible to configure the `expo-updates` library manually in cases where a different remote update service is required or configuration is only specified in native files.

Manual installation, configuration, and custom remote update services

```sh
npx expo install expo-updates
```

If you're installing this library in a [bare React Native app](/bare/overview) or a generic app with manually configured native code, follow these [installation instructions](/bare/installing-updates).

If using [app config](/workflow/configuration) for configuration, this library can be configured by setting at least the following app config properties:

- [`updates.url`](/versions/latest/config/app#updates): a URL of a remote service implementing the [Expo Updates protocol](/technical-specs/expo-updates-1)
- [`runtimeVersion`](/versions/latest/config/app#runtimeversion): a [runtime version](/versions/latest/sdk/updates#runtime-version)

The remote service must implement the [Expo Updates protocol](/technical-specs/expo-updates-1). [EAS Update](/eas-update/introduction) is one such service, but it is also possible to use this library with a custom server.

[Custom Expo Updates Server](https://github.com/expo/custom-expo-updates-server) â€” Example implementation of a custom server and an app using that server

## Configuration

There are build-time configuration options that control the behavior of the library. For most apps, these configuration values are set in the [app config](/workflow/configuration) under the [`updates` property](/versions/latest/config/app#updates).

| [App config property](/versions/latest/config/app#updates)                                       | Default  | Required? | iOS plist/dictionary key               | Android meta-data name                                           | Android Map key               |
| ------------------------------------------------------------------------------------------------ | -------- | --------- | -------------------------------------- | ---------------------------------------------------------------- | ----------------------------- |
| [`updates.enabled`](/versions/latest/config/app#enabled)                                         | `true`   | âœ—         | `EXUpdatesEnabled`                     | `expo.modules.updates.ENABLED`                                   | `enabled`                     |
| [`updates.url`](/versions/latest/config/app#url)                                                 | (none)   | âœ“         | `EXUpdatesURL`                         | `expo.modules.updates.EXPO_UPDATE_URL`                           | `updateUrl`                   |
| [`updates.requestHeaders`](/versions/latest/config/app#requestheaders)                           | (none)   | âœ—         | `EXUpdatesRequestHeaders`              | `expo.modules.updates.UPDATES_CONFIGURATION_REQUEST_HEADERS_KEY` | `requestHeaders`              |
| [`runtimeVersion`](/versions/latest/config/app#runtimeversion)                                   | (none)   | âœ“         | `EXUpdatesRuntimeVersion`              | `expo.modules.updates.EXPO_RUNTIME_VERSION`                      | `runtimeVersion`              |
| [`updates.checkAutomatically`](/versions/latest/config/app#checkautomatically)                   | `ALWAYS` | âœ—         | `EXUpdatesCheckOnLaunch`               | `expo.modules.updates.EXPO_UPDATES_CHECK_ON_LAUNCH`              | `checkOnLaunch`               |
| [`updates.fallbackToCacheTimeout`](/versions/latest/config/app#fallbacktocachetimeout)           | `0`      | âœ—         | `EXUpdatesLaunchWaitMs`                | `expo.modules.updates.EXPO_UPDATES_LAUNCH_WAIT_MS`               | `launchWaitMs`                |
| [`updates.useEmbeddedUpdate`](/versions/latest/config/app#useembeddedupdate)                     | `true`   | âœ—         | `EXUpdatesHasEmbeddedUpdate`           | `expo.modules.updates.HAS_EMBEDDED_UPDATE`                       | `hasEmbeddedUpdate`           |
| [`updates.codeSigningCertificate`](/versions/latest/config/app#codesigningcertificate)           | (none)   | âœ—         | `EXUpdatesCodeSigningCertificate`      | `expo.modules.updates.CODE_SIGNING_CERTIFICATE`                  | `codeSigningCertificate`      |
| [`updates.codeSigningMetadata`](/versions/latest/config/app#codesigningmetadata)                 | (none)   | âœ—         | `EXUpdatesCodeSigningMetadata`         | `expo.modules.updates.CODE_SIGNING_METADATA`                     | `codeSigningMetadata`         |
| [`updates.assetPatternsToBeBundled`](/versions/latest/config/app#assetpatternstobebundled)       | (none)   | âœ—         | N/A                                    | N/A                                                              | N/A                           |
| [`updates.disableAntiBrickingMeasures`](/versions/latest/config/app#disableantibrickingmeasures) | `false`  | âœ—         | `EXUpdatesDisableAntiBrickingMeasures` | `expo.modules.updates. DISABLE_ANTI_BRICKING_MEASURES`           | `disableAntiBrickingMeasures` |

The two core required configuration options are:

- [`updates.url`](/versions/latest/config/app#updates): the URL at which the library fetches remote updates
- [`runtimeVersion`](/versions/latest/config/app#runtimeversion): a [runtime version](/versions/latest/sdk/updates#runtime-version)

These are configured automatically when following the EAS Update [Get started](/eas-update/getting-started) guide.

#### Runtime version

Each time you build a binary for your app it includes the native code and configuration present at the time of the build as well as native configuration, and this unique combination is represented by a string called a runtime version. A remote update targets one runtime version, indicating that only binaries with a matching runtime version can load the remote update.

Manual configuration

The runtime version can be managed manually by setting the string value in the config field.

```json
{
  "expo": {
    "runtimeVersion": "<runtime_version_string>"
  }
}
```

Automatic configuration using runtime version policies

Runtime version policies derive the runtime version from another piece of information already present in your project. They can be set in the [`runtimeVersion`](/versions/latest/config/app#runtimeversion) config field as follows:

```json
{
  "expo": {
    "runtimeVersion": {
      "policy": "<policy_name>"
    }
  }
}
```

Available policy types:

appVersion

The `"appVersion"` policy is provided for projects with that wish to define their runtime compatibility based on the app version.

For example, in a project that has the following in its app config:

```json
{
  "expo": {
    "runtimeVersion": {
      "policy": "appVersion"
    },
    "version": "1.0.0",
    "ios": {
      "buildNumber": "1"
    },
    "android": {
      "versionCode": 1
    }
  }
}
```

The `"appVersion"` policy will set the runtime version to the project's current `"version"` property. In this case, the runtime version for the Android and iOS builds and any updates would be `"1.0.0"`.

This policy is great for projects that contain custom native code and that update the `"version"` field after every public release. To submit an app, the app stores require an updated native version number for each submitted build, which makes this policy convenient if you want to be sure that every version installed on user devices has a different runtime version.

When using this policy, you need to manually update `"version"` field in the app config every time there is a public release, but for Play Store's Internal Test Track and the App Store's TestFlight uploads, you can rely on `"autoIncrement"` option in **eas.json** to [manage versions for you](/build-reference/app-versions#remote-version-source).

nativeVersion

The `"nativeVersion"` policy is provided for projects that wish to define their runtime compatibility based on the project's current `"version"` and `"versionCode"` (Android) or `"buildNumber"` (iOS) properties.

For example, in a project that has the following in its app config:

```json
{
  "expo": {
    "runtimeVersion": {
      "policy": "nativeVersion"
    },
    "version": "1.0.0",
    "ios": {
      "buildNumber": "1"
    },
    "android": {
      "versionCode": 1
    }
  }
}
```

The runtime version for the Android and iOS builds and any updates would be the combination of `"[version]([buildNumber|versionCode])"`, which in this case would be `"1.0.0(1)"`.

This policy is great for projects containing custom native code that update the native version numbers (`"buildNumber"` for iOS and `"versionCode"` for Android) for each build. To submit an app, the app stores require an updated native version number for each submitted build, which makes this policy convenient if you want to be sure that every app uploaded to the Play Store's Internal Test Track and the App Store's TestFlight distribution tools has a different `runtimeVersion`.

It's important to know that this policy requires management of the native version numbers manually between each build.

Also, if you select a different native version between Android and iOS, you'll end up with builds and updates with separate runtime versions.

fingerprint

The `"fingerprint"` runtime version policy automatically calculates the runtime version for you, including through changes like SDK upgrades or adding custom native code.

```json
{
  "expo": {
    "runtimeVersion": {
      "policy": "fingerprint"
    }
  }
}
```

This policy works for both projects with and without custom native code. It works by using the [`@expo/fingerprint`](/versions/latest/sdk/fingerprint) package to calculate the hash of your project during builds and updates to determine build-update compatibility (also known as the runtime).

#### Native configuration and overriding

If your project does not use Continuous Native Generation, these configuration values may also be set in your app's native configuration files or overridden during initialization in native code.

Native configuration instructions

On Android, these options are set as `meta-data` tags in the **AndroidManifest.xml** file (adjacent to the tags added during installation if auto-setup was used). You can also set or override them at runtime using `UpdatesController.overrideConfiguration()`.

On iOS, these properties are set as keys in the **Expo.plist** file. You can also set or override them at runtime by calling `AppController.overrideConfiguration`.

Importing Swift generated headers for use in Objective-C++

If your iOS native code or `AppDelegate.mm` is written in Objective-C++, you will need to add the following imports to reference methods on `EXUpdatesAppController`. This is only necessary for overriding configuration at runtime.

```objc
#import "ExpoModulesCore-Swift.h"
#import "EXUpdatesInterface-Swift.h"
#import "EXUpdates-Swift.h"
```

## Usage

By default, `expo-updates` checks for updates when the app launches. If an update is available, it downloads the update and applies it the next time the app is restarted. You can tune this startup behavior using the `checkAutomatically` and `fallbackToCacheTimeout` configuration options above.

The library also provides a variety of constants to inspect the current update and functions to customize update behavior from your application code (after startup). For example, one common alternative usage pattern is to manually check for updates after the app has started instead of doing the default check on launch.

Example: Check for updates manually

You can configure your app to check for updates manually by doing the following steps:

1.  Set the `checkAutomatically` configuration value to `ON_ERROR_RECOVERY` or `NEVER` to disable the library's default launch behavior.
2.  Add the following code to check for available updates, download them, and reload:

    ```jsx
    import { View, Button } from "react-native";
    import * as Updates from "expo-updates";

    function App() {
      async function onFetchUpdateAsync() {
        try {
          const update = await Updates.checkForUpdateAsync();

          if (update.isAvailable) {
            await Updates.fetchUpdateAsync();
            await Updates.reloadAsync();
          }
        } catch (error) {
          // You can also add an alert() to see the error message in case of an error when fetching updates.
          alert(`Error fetching latest Expo update: ${error}`);
        }
      }

      return (
        <View>
          <Button
            title="Fetch update"
            onPress={onFetchUpdateAsync}
          />
        </View>
      );
    }
    ```

## Testing

Most of the methods and constants in this library can be used or tested only in release builds. In debug builds, the default behavior is to always load the latest JavaScript from a development server. It is possible to [build a debug version of your app with the same updates behavior as a release build](/eas-update/debug-advanced#debugging-of-native-code-while-loading-the-app-through-expo-updates). Such an app will not open the latest JavaScript from your development server â€” it will load published updates just as a release build does. This may be useful for debugging the behavior of your app when it is not connected to a development server.

**To test the content of an update in a development build**, run [`eas update`](/eas-update/getting-started) and then browse to the update in your development build. Note that this only simulates what an update will look like in your app, and most of the [Updates API](/versions/latest/sdk/updates#api) is unavailable when running in a development build.

**To test updates in a release build**, you can create a [**.apk**](/build-reference/apk) or a [simulator build](/build-reference/simulators), or make a release build locally with `npx expo run:android --variant release` and `npx expo run:ios --configuration Release` (you don't need to submit this build to the store to test). The full [Updates API](/versions/latest/sdk/updates#api) is available in a release build.

**To test the content of an update in Expo Go**, run [`eas update`](/eas-update/getting-started) and then browse to the update in Expo Go. Note that this only simulates what an update will look like in your app, and most of the [Updates API](/versions/latest/sdk/updates#api) is unavailable when running in Expo Go. Also note that only updates using [Expo Go-compatible libraries](/workflow/using-libraries#determining-third-party-library-compatibility) are supported.

## API

```js
import * as Updates from "expo-updates";
```

## Constants

### `Updates.channel`

Supported platforms: Android, iOS, tvOS.

Type: `string | null`

The channel name of the current build, if configured for use with EAS Update. `null` otherwise.

Expo Go and development builds are not set to a specific channel and can run any updates compatible with their native runtime. Therefore, this value will always be `null` when running an update on Expo Go or a development build.

### `Updates.checkAutomatically`

Supported platforms: Android, iOS, tvOS.

Type: [UpdatesCheckAutomaticallyValue](#updatescheckautomaticallyvalue) | null

Determines if and when `expo-updates` checks for and downloads updates automatically on startup.

### `Updates.createdAt`

Supported platforms: Android, iOS, tvOS.

Type: [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | null

If `expo-updates` is enabled, this is a `Date` object representing the creation time of the update that's currently running (whether it was embedded or downloaded at runtime).

In development mode, or any other environment in which `expo-updates` is disabled, this value is null.

### `Updates.emergencyLaunchReason`

Supported platforms: Android, iOS, tvOS.

Type: `null | string`

If `isEmergencyLaunch` is set to true, this will contain a string error message describing what failed during initialization.

### `Updates.isEmbeddedLaunch`

Supported platforms: Android, iOS, tvOS.

Type: `boolean`

This will be true if the currently running update is the one embedded in the build, and not one downloaded from the updates server.

### `Updates.isEmergencyLaunch`

Supported platforms: Android, iOS, tvOS.

Type: `boolean`

`expo-updates` does its very best to always launch monotonically newer versions of your app so you don't need to worry about backwards compatibility when you put out an update. In very rare cases, it's possible that `expo-updates` may need to fall back to the update that's embedded in the app binary, even after newer updates have been downloaded and run (an "emergency launch"). This boolean will be `true` if the app is launching under this fallback mechanism and `false` otherwise. If you are concerned about backwards compatibility of future updates to your app, you can use this constant to provide special behavior for this rare case.

### `Updates.isEnabled`

Supported platforms: Android, iOS, tvOS.

Type: `boolean`

Whether `expo-updates` is enabled. This may be false in a variety of cases including:

- enabled set to false in configuration
- missing or invalid URL in configuration
- missing runtime version or SDK version in configuration
- error accessing storage on device during initialization

When false, the embedded update is loaded.

### `Updates.latestContext`

Supported platforms: Android, iOS, tvOS.

Type: `UpdatesNativeStateMachineContext`

### `Updates.launchDuration`

Supported platforms: Android, iOS, tvOS.

Type: `null | number`

Number of milliseconds it took to launch.

### `Updates.manifest`

Supported platforms: Android, iOS, tvOS.

Type: [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[Manifest](#manifest)\>

If `expo-updates` is enabled, this is the [manifest](/versions/latest/sdk/constants#manifest) (or [classic manifest](/versions/latest/sdk/constants#appmanifest)) object for the update that's currently running.

In development mode, or any other environment in which `expo-updates` is disabled, this object is empty.

### `Updates.runtimeVersion`

Supported platforms: Android, iOS, tvOS.

Type: `string | null`

The runtime version of the current build.

### `Updates.updateId`

Supported platforms: Android, iOS, tvOS.

Type: `string | null`

The UUID that uniquely identifies the currently running update. The UUID is represented in its canonical string form and will always use lowercase letters. This value is `null` when running in a local development environment or any other environment where `expo-updates` is disabled.

Example

`"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"`

## Hooks

### `useUpdates()`

Supported platforms: Android, iOS, tvOS.

Hook that obtains information on available updates and on the currently running update.

Returns: `UseUpdatesReturnType`

the structures with information on currently running and available updates.

Example

```tsx
import { Button, Text, View } from "react-native";
import { StatusBar } from "expo-status-bar";
import * as Updates from "expo-updates";
import { useEffect } from "react";

export default function UpdatesDemo() {
  const { currentlyRunning, isUpdateAvailable, isUpdatePending } =
    Updates.useUpdates();

  useEffect(() => {
    if (isUpdatePending) {
      // Update has successfully downloaded; apply it now
      Updates.reloadAsync();
    }
  }, [isUpdatePending]);

  // If true, we show the button to download and run the update
  const showDownloadButton = isUpdateAvailable;

  // Show whether or not we are running embedded code or an update
  const runTypeMessage = currentlyRunning.isEmbeddedLaunch
    ? "This app is running from built-in code"
    : "This app is running an update";

  return (
    <View style={styles.container}>
      <Text style={styles.headerText}>Updates Demo</Text>
      <Text>{runTypeMessage}</Text>
      <Button
        onPress={() => Updates.checkForUpdateAsync()}
        title="Check manually for updates"
      />
      {showDownloadButton ? (
        <Button
          onPress={() => Updates.fetchUpdateAsync()}
          title="Download and run update"
        />
      ) : null}
      <StatusBar style="auto" />
    </View>
  );
}
```

## Classes

### `ExpoUpdatesModule`

Supported platforms: Android, iOS, tvOS.

Type: Class extends [NativeModule](/versions/v54.0.0/sdk/expo#nativemoduletype)<[UpdatesEvents](#updatesevents)\> implements [UpdatesModuleInterface](#updatesmoduleinterface)

## Methods

### `Updates.checkForUpdateAsync()`

Supported platforms: Android, iOS, tvOS.

Checks the server to see if a newly deployed update to your project is available. Does not actually download the update. This method cannot be used in development mode, and the returned promise will be rejected if you try to do so.

Checking for an update uses a device's bandwidth and battery life like any network call. Additionally, updates served by Expo may be rate limited. A good rule of thumb to check for updates judiciously is to check when the user launches or foregrounds the app. Avoid polling for updates in a frequent loop.

Returns: `Promise<updatecheckresult>`

A promise that fulfills with an [`UpdateCheckResult`](#updatecheckresult) object.

The promise rejects in Expo Go or if the app is in development mode, or if there is an unexpected error or timeout communicating with the server. It also rejects when `expo-updates` is not enabled.

### `Updates.clearLogEntriesAsync()`

Supported platforms: Android, iOS, tvOS.

Clears existing `expo-updates` log entries.

> For now, this operation does nothing on the client. Once log persistence has been implemented, this operation will actually remove existing logs.

Returns: `Promise<void>`

A promise that fulfills if the clear operation was successful.

The promise rejects if there is an unexpected error in clearing the logs.

### `Updates.fetchUpdateAsync()`

Supported platforms: Android, iOS, tvOS.

Downloads the most recently deployed update to your project from server to the device's local storage. This method cannot be used in development mode, and the returned promise will be rejected if you try to do so.

> **Note:** [`reloadAsync()`](#updatesreloadasync) can be called after promise resolution to reload the app using the most recently downloaded version. Otherwise, the update will be applied on the next app cold start.

Returns: `Promise<updatefetchresult>`

A promise that fulfills with an [`UpdateFetchResult`](#updatefetchresult) object.

The promise rejects in Expo Go or if the app is in development mode, or if there is an unexpected error or timeout communicating with the server. It also rejects when `expo-updates` is not enabled.

### `Updates.getExtraParamsAsync()`

Supported platforms: Android, iOS, tvOS.

Retrieves the current extra params.

This method cannot be used in Expo Go or development mode. It also rejects when `expo-updates` is not enabled.

Returns: `Promise<record</record`

### `Updates.readLogEntriesAsync(maxAge)`

Supported platforms: Android, iOS, tvOS.

| Parameter          | Type     | Description                                                                                                     |
| ------------------ | -------- | --------------------------------------------------------------------------------------------------------------- |
| `maxAge`(optional) | `number` | Sets the max age of retrieved log entries in milliseconds. Default to `3600000` ms (1 hour). Default: `3600000` |

Retrieves the most recent `expo-updates` log entries.

Returns: `Promise<updateslogentry[]>`

A promise that fulfills with an array of [`UpdatesLogEntry`](#updateslogentry) objects;

The promise rejects if there is an unexpected error in retrieving the logs.

### `Updates.reloadAsync(options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                                                 |
| ------------------- | -------------------------------------------------------------------- |
| `options`(optional) | { reloadScreenOptions: [ReloadScreenOptions](#reloadscreenoptions) } |

Instructs the app to reload using the most recently downloaded version. This is useful for triggering a newly downloaded update to launch without the user needing to manually restart the app. Unlike `Expo.reloadAppAsync()` provided by the `expo` package, this function not only reloads the app but also changes the loaded JavaScript bundle to that of the most recently downloaded update.

It is not recommended to place any meaningful logic after a call to `await Updates.reloadAsync()`. This is because the promise is resolved after verifying that the app can be reloaded, and immediately before posting an asynchronous task to the main thread to actually reload the app. It is unsafe to make any assumptions about whether any more JS code will be executed after the `Updates.reloadAsync` method call resolves, since that depends on the OS and the state of the native module and main threads.

This method cannot be used in Expo Go or development mode, and the returned promise will be rejected if you try to do so. It also rejects when `expo-updates` is not enabled.

Returns: `Promise<void>`

A promise that fulfills right before the reload instruction is sent to the JS runtime, or rejects if it cannot find a reference to the JS runtime. If the promise is rejected in production mode, it most likely means you have installed the module incorrectly. Double check you've followed the installation instructions. In particular, on iOS ensure that you set the `bridge` property on `EXUpdatesAppController` with a pointer to the `RCTBridge` you want to reload, and on Android ensure you either call `UpdatesController.initialize` with the instance of `ReactApplication` you want to reload, or call `UpdatesController.setReactNativeHost` with the proper instance of `ReactNativeHost`.

### `Updates.setExtraParamAsync(key, value)`

Supported platforms: Android, iOS, tvOS.

| Parameter | Type       |
| --------- | ---------- | ---- | ------- |
| `key`     | `string`   |
| `value`   | `undefined | null | string` |

Sets an extra param if value is non-null, otherwise unsets the param. Extra params are sent as an [Expo Structured Field Value Dictionary](/technical-specs/expo-sfv-0) in the `Expo-Extra-Params` header of update requests. A compliant update server may use these params when selecting an update to serve.

This method cannot be used in Expo Go or development mode. It also rejects when `expo-updates` is not enabled.

Returns: `Promise<void>`

### `Updates.setUpdateRequestHeadersOverride(requestHeaders)`

Supported platforms: Android, iOS, tvOS.

| Parameter        | Type  |
| ---------------- | ----- | ----------------------- |
| `requestHeaders` | `null | Record<string, string>` |

Overrides updates request headers in runtime from build time. This method allows you to load specific updates with custom request headers. Use this method at your own risk, as it may cause unexpected behavior. [Learn more about use cases and limitations](https://docs.expo.dev/eas-update/override/).

Returns: `void`

### `Updates.setUpdateURLAndRequestHeadersOverride(configOverride)`

Supported platforms: Android, iOS, tvOS.

| Parameter        | Type  |
| ---------------- | ----- | -------------------------------------------------------------- |
| `configOverride` | `null | { requestHeaders: Record<string, string>, updateUrl: string }` |

Overrides updates URL and reuqest headers in runtime from build time. This method allows you to load specific updates from a URL that you provide. Use this method at your own risk, as it may cause unexpected behavior. Because of the risk, this method requires `disableAntiBrickingMeasures` to be set to `true` in the **app.json** file. [Learn more about use cases and limitations](https://docs.expo.dev/eas-update/override/).

Returns: `void`

## Interfaces

### `ReloadScreenImageSource`

Supported platforms: Android, iOS, tvOS.

Image source that can be used for the reload screen.

| Property         | Type     | Description                    |
| ---------------- | -------- | ------------------------------ |
| height(optional) | `number` | Height of the image in pixels. |
| scale(optional)  | `number` | Scale factor of the image.     |
| url(optional)    | `string` | URL to the image.              |
| width(optional)  | `number` | Width of the image in pixels.  |

### `ReloadScreenOptions`

Supported platforms: Android, iOS, tvOS.

Configuration options for customizing the reload screen appearance.

| Property                  | Type                                              | Description                                                            |
| ------------------------- | ------------------------------------------------- | ---------------------------------------------------------------------- | --------------------------------------------------- | --------------------------------------------- | ---------------------------------------------------------------------- |
| backgroundColor(optional) | `string`                                          | Background color for the reload screen. Default: `'#ffffff'`           |
| fade(optional)            | `boolean`                                         | Whether to fade out the reload screen when hiding. Default: `false`    |
| image(optional)           | string                                            | number                                                                 | [ReloadScreenImageSource](#reloadscreenimagesource) | Custom image to display on the reload screen. |
| imageFullScreen(optional) | `boolean`                                         | Whether to display the image at the full screen size. Default: `false` |
| imageResizeMode(optional) | `'contain'                                        | 'cover'                                                                | 'center'                                            | 'stretch'`                                    | How to resize the custom image to fit the screen. Default: `'contain'` |
| spinner(optional)         | `{ color: string, enabled: boolean, size: 'small' | 'medium'                                                               | 'large' }`                                          | Configuration for the loading spinner.        |

### `UpdatesModuleInterface`

Supported platforms: Android, iOS, tvOS.

Common interface for all native module implementations (android, ios, web).

| Property                                                 | Type                                                                                                                                                                  | Description                                                                                                           |
| -------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------- | -------------------------- | --- |
| channel                                                  | `string`                                                                                                                                                              | Can be empty string                                                                                                   |
| checkAutomatically                                       | [UpdatesCheckAutomaticallyNativeValue](#updatescheckautomaticallynativevalue)                                                                                         | -                                                                                                                     |
| checkForUpdateAsync                                      | () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<[UpdateCheckResultRollBack](#updatecheckresultrollback)     | [UpdateCheckResultNotAvailable](#updatecheckresultnotavailable)                                                       | Omit<UpdateCheckResultAvailable, "manifest"> & ({ manifestString: string; } | { manifest: Manifest; })\> | -   |
| clearLogEntriesAsync                                     | () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<void\>                                                      | -                                                                                                                     |
| commitTime(optional)                                     | `string`                                                                                                                                                              | -                                                                                                                     |
| emergencyLaunchReason                                    | `null                                                                                                                                                                 | string`                                                                                                               | -                                                                           |
| fetchUpdateAsync                                         | () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<[UpdateFetchResultFailure](#updatefetchresultfailure)       | [UpdateFetchResultRollBackToEmbedded](#updatefetchresultrollbacktoembedded)                                           | Omit<UpdateFetchResultSuccess, "manifest"> & ({ manifestString: string; }   | { manifest: Manifest; })\> | -   |
| getExtraParamsAsync                                      | () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<Record<string, string\>\>                                   | -                                                                                                                     |
| initialContext                                           | `UpdatesNativeStateMachineContext & { downloadedManifestString: string, lastCheckForUpdateTimeString: string, latestManifestString: string, rollbackString: string }` | -                                                                                                                     |
| isEmbeddedLaunch                                         | `boolean`                                                                                                                                                             | -                                                                                                                     |
| isEmergencyLaunch                                        | `boolean`                                                                                                                                                             | -                                                                                                                     |
| isEnabled                                                | `boolean`                                                                                                                                                             | -                                                                                                                     |
| isUsingEmbeddedAssets(optional)                          | `boolean`                                                                                                                                                             | -                                                                                                                     |
| launchDuration                                           | `null                                                                                                                                                                 | number`                                                                                                               | -                                                                           |
| localAssets(optional)                                    | `Record<string, string>`                                                                                                                                              | -                                                                                                                     |
| manifest(optional)                                       | [Manifest](#manifest)                                                                                                                                                 | Supported platforms: iOS.                                                                                             |
| manifestString(optional)                                 | `string`                                                                                                                                                              | Supported platforms: Android.                                                                                         |
| readLogEntriesAsync                                      | (maxAge: number) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<[UpdatesLogEntry[]](#updateslogentry)\>       | -                                                                                                                     |
| reload                                                   | () => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<void\>                                                      | -                                                                                                                     |
| runtimeVersion                                           | `string`                                                                                                                                                              | Can be empty string                                                                                                   |
| setExtraParamAsync                                       | (key: string, value: null                                                                                                                                             | string) => [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<void\> | -                                                                           |
| shouldDeferToNativeForAPIMethodAvailabilityInDevelopment | `boolean`                                                                                                                                                             | -                                                                                                                     |
| updateId(optional)                                       | `string`                                                                                                                                                              | -                                                                                                                     |

## Types

### `CurrentlyRunningInfo`

Supported platforms: Android, iOS, tvOS.

Structure encapsulating information on the currently running app (either the embedded bundle or a downloaded update).

| Property                 | Type                                                                                                           | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ------------------------ | -------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- |
| channel(optional)        | `string`                                                                                                       | The channel name of the current build, if configured for use with EAS Update, `undefined` otherwise.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| createdAt(optional)      | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)                  | If `expo-updates` is enabled, this is a `Date` object representing the creation time of the update that's currently running (whether it was embedded or downloaded at runtime). In development mode, or any other environment in which `expo-updates` is disabled, this value is undefined.                                                                                                                                                                                                                                                                                                                                                                       |
| emergencyLaunchReason    | `string                                                                                                        | null`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | If `isEmergencyLaunch` is set to true, this will contain a string error message describing what failed during initialization. |
| isEmbeddedLaunch         | `boolean`                                                                                                      | This will be true if the currently running update is the one embedded in the build, and not one downloaded from the updates server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| isEmergencyLaunch        | `boolean`                                                                                                      | `expo-updates` does its very best to always launch monotonically newer versions of your app so you don't need to worry about backwards compatibility when you put out an update. In very rare cases, it's possible that `expo-updates` may need to fall back to the update that's embedded in the app binary, even after newer updates have been downloaded and run (an "emergency launch"). This boolean will be `true` if the app is launching under this fallback mechanism and `false` otherwise. If you are concerned about backwards compatibility of future updates to your app, you can use this constant to provide special behavior for this rare case. |
| launchDuration(optional) | `number`                                                                                                       | Number of milliseconds it took to launch.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| manifest(optional)       | [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype)<[Manifest](#manifest)\> | If `expo-updates` is enabled, this is the [manifest](https://docs.expo.dev/versions/latest/sdk/updates/#updatesmanifest) object for the update that's currently running. In development mode, or any other environment in which `expo-updates` is disabled, this object is empty.                                                                                                                                                                                                                                                                                                                                                                                 |
| runtimeVersion(optional) | `string`                                                                                                       | The runtime version of the current build.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| updateId(optional)       | `string`                                                                                                       | The UUID that uniquely identifies the currently running update if `expo-updates` is enabled. The UUID is represented in its canonical string form and will always use lowercase letters. In development mode, or any other environment in which `expo-updates` is disabled, this value is undefined. . Example. `"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"`                                                                                                                                                                                                                                                                                                          |

### `Manifest`

Supported platforms: Android, iOS, tvOS.

Literal Type: `union`

Acceptable values are: [ExpoUpdatesManifest](/versions/latest/sdk/manifests#expoupdatesmanifest) | [EmbeddedManifest](/versions/latest/sdk/manifests#embeddedmanifest)

### `UpdateCheckResult`

Supported platforms: Android, iOS, tvOS.

Literal Type: `union`

The result of checking for a new update.

Acceptable values are: [UpdateCheckResultRollBack](#updatecheckresultrollback) | [UpdateCheckResultAvailable](#updatecheckresultavailable) | [UpdateCheckResultNotAvailable](#updatecheckresultnotavailable)

### `UpdateCheckResultAvailable`

Supported platforms: Android, iOS, tvOS.

The update check result when a new update is found on the server.

| Property             | Type                  | Description                                                                                |
| -------------------- | --------------------- | ------------------------------------------------------------------------------------------ |
| isAvailable          | `true`                | Whether an update is available. This property is false for a roll back update.             |
| isRollBackToEmbedded | `false`               | Whether a roll back to embedded update is available.                                       |
| manifest             | [Manifest](#manifest) | The manifest of the update when available.                                                 |
| reason               | `undefined`           | If no new update is found, this contains one of several enum values indicating the reason. |

### `UpdateCheckResultNotAvailable`

Supported platforms: Android, iOS, tvOS.

The update check result if no new update was found.

| Property             | Type                                                                        | Description                                                                                |
| -------------------- | --------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ |
| isAvailable          | `false`                                                                     | Whether an update is available. This property is false for a roll back update.             |
| isRollBackToEmbedded | `false`                                                                     | Whether a roll back to embedded update is available.                                       |
| manifest             | `undefined`                                                                 | The manifest of the update when available.                                                 |
| reason               | [UpdateCheckResultNotAvailableReason](#updatecheckresultnotavailablereason) | If no new update is found, this contains one of several enum values indicating the reason. |

### `UpdateCheckResultRollBack`

Supported platforms: Android, iOS, tvOS.

The update check result when a rollback directive is received.

| Property             | Type        | Description                                                                                |
| -------------------- | ----------- | ------------------------------------------------------------------------------------------ |
| isAvailable          | `false`     | Whether an update is available. This property is false for a roll back update.             |
| isRollBackToEmbedded | `true`      | Whether a roll back to embedded update is available.                                       |
| manifest             | `undefined` | The manifest of the update when available.                                                 |
| reason               | `undefined` | If no new update is found, this contains one of several enum values indicating the reason. |

### `UpdateFetchResult`

Supported platforms: Android, iOS, tvOS.

Literal Type: `union`

The result of fetching a new update.

Acceptable values are: [UpdateFetchResultSuccess](#updatefetchresultsuccess) | [UpdateFetchResultFailure](#updatefetchresultfailure) | [UpdateFetchResultRollBackToEmbedded](#updatefetchresultrollbacktoembedded)

### `UpdateFetchResultFailure`

Supported platforms: Android, iOS, tvOS.

The failed result of fetching a new update.

| Property             | Type        | Description                                                                                                                                           |
| -------------------- | ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| isNew                | `false`     | Whether the fetched update is new (that is, a different version than what's currently running). Always `false` when `isRollBackToEmbedded` is `true`. |
| isRollBackToEmbedded | `false`     | Whether the fetched update is a roll back to the embedded update.                                                                                     |
| manifest             | `undefined` | The manifest of the fetched update.                                                                                                                   |

### `UpdateFetchResultRollBackToEmbedded`

Supported platforms: Android, iOS, tvOS.

The roll back to embedded result of fetching a new update.

| Property             | Type        | Description                                                                                                                                           |
| -------------------- | ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| isNew                | `false`     | Whether the fetched update is new (that is, a different version than what's currently running). Always `false` when `isRollBackToEmbedded` is `true`. |
| isRollBackToEmbedded | `true`      | Whether the fetched update is a roll back to the embedded update.                                                                                     |
| manifest             | `undefined` | The manifest of the fetched update.                                                                                                                   |

### `UpdateFetchResultSuccess`

Supported platforms: Android, iOS, tvOS.

The successful result of fetching a new update.

| Property             | Type                  | Description                                                                                                                                           |
| -------------------- | --------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| isNew                | `true`                | Whether the fetched update is new (that is, a different version than what's currently running). Always `true` when `isRollBackToEmbedded` is `false`. |
| isRollBackToEmbedded | `false`               | Whether the fetched update is a roll back to the embedded update.                                                                                     |
| manifest             | [Manifest](#manifest) | The manifest of the fetched update.                                                                                                                   |

### `UpdateInfo`

Supported platforms: Android, iOS, tvOS.

Literal Type: `union`

Combined structure representing any type of update.

Acceptable values are: [UpdateInfoNew](#updateinfonew) | [UpdateInfoRollback](#updateinforollback)

### `UpdateInfoNew`

Supported platforms: Android, iOS, tvOS.

Structure representing a new update.

| Property  | Type                                                                                          | Description                                                                                                                                                                                                                                                                                                                                   |
| --------- | --------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| createdAt | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | For all types of updates, this is a `Date` object representing the creation time or commit time of the update.                                                                                                                                                                                                                                |
| manifest  | [Manifest](#manifest)                                                                         | For updates of type `UpdateInfoType.NEW`, this is the [manifest](https://docs.expo.dev/versions/latest/sdk/constants/#manifest) for the update.                                                                                                                                                                                               |
| type      | `UpdateInfoType.NEW`                                                                          | The type of update.                                                                                                                                                                                                                                                                                                                           |
| updateId  | `string`                                                                                      | For updates of type `UpdateInfoType.NEW`, this is a string that uniquely identifies the update. For the manifests used in the current Expo Updates protocol (including EAS Update), this represents the update's UUID in its canonical string form and will always use lowercase letters. . Example. `"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"` |

### `UpdateInfoRollback`

Supported platforms: Android, iOS, tvOS.

Structure representing a rollback directive.

| Property  | Type                                                                                          | Description                                                                                                    |
| --------- | --------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------- |
| createdAt | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) | For all types of updates, this is a `Date` object representing the creation time or commit time of the update. |
| manifest  | `undefined`                                                                                   | For updates of type `UpdateInfoType.ROLLBACK`, this is always set to `undefined`.                              |
| type      | `UpdateInfoType.ROLLBACK`                                                                     | The type of update.                                                                                            |
| updateId  | `undefined`                                                                                   | For updates of type `UpdateInfoType.ROLLBACK`, this is always set to `undefined`.                              |

### `UpdatesCheckAutomaticallyNativeValue`

Supported platforms: Android, iOS, tvOS.

Literal Type: `string`

Acceptable values are: `'ALWAYS'` | `'ERROR_RECOVERY_ONLY'` | `'NEVER'` | `'WIFI_ONLY'`

### `UpdatesEvents`

Supported platforms: Android, iOS, tvOS.

| Property                           | Type                    | Description |
| ---------------------------------- | ----------------------- | ----------- |
| Expo.nativeUpdatesStateChangeEvent | `(params: any) => void` | -           |

### `UpdatesLogEntry`

Supported platforms: Android, iOS, tvOS.

An object representing a single log entry from `expo-updates` logging on the client.

| Property             | Type                                          | Description                                                                      |
| -------------------- | --------------------------------------------- | -------------------------------------------------------------------------------- |
| assetId(optional)    | `string`                                      | If present, the unique ID or hash of an asset associated with this log entry.    |
| code                 | [UpdatesLogEntryCode](#updateslogentrycode)   | One of the defined code values for `expo-updates` log entries.                   |
| level                | [UpdatesLogEntryLevel](#updateslogentrylevel) | One of the defined log level or severity values.                                 |
| message              | `string`                                      | The log entry message.                                                           |
| stacktrace(optional) | `string[]`                                    | If present, an Android or iOS native stack trace associated with this log entry. |
| timestamp            | `number`                                      | The time the log was written, in milliseconds since Jan 1 1970 UTC.              |
| updateId(optional)   | `string`                                      | If present, the unique ID of an update associated with this log entry.           |

### `UseUpdatesReturnType`

Supported platforms: Android, iOS, tvOS.

The type returned by [`useUpdates()`](#useupdates).

| Property                                     | Type                                                                                            | Description                                                                                                                                                                                                                                                                                                         |
| -------------------------------------------- | ----------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| availableUpdate(optional)                    | [UpdateInfo](#updateinfo)                                                                       | If a new available update has been found, either by using [`checkForUpdateAsync()`](#updatescheckforupdateasync), or by the `UpdateEvent` listener in `useUpdates()`, this will contain the information for that update.                                                                                            |
| checkError(optional)                         | [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error) | If an error is returned from either the startup check for updates, or a call to [`checkForUpdateAsync()`](#updatescheckforupdateasync), the error description will appear here.                                                                                                                                     |
| currentlyRunning                             | [CurrentlyRunningInfo](#currentlyrunninginfo)                                                   | Information on the currently running app.                                                                                                                                                                                                                                                                           |
| downloadedUpdate(optional)                   | [UpdateInfo](#updateinfo)                                                                       | If an available update has been downloaded, this will contain the information for that update.                                                                                                                                                                                                                      |
| downloadError(optional)                      | [Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error) | If an error is returned from either a startup update download, or a call to [`fetchUpdateAsync()`](#updatesfetchupdateasync), the error description will appear here.                                                                                                                                               |
| downloadProgress(optional)                   | `number`                                                                                        | If `isDownloading` is true, this will be a number from 0 to 1 representing the progress of the download. A value of 0 means the download has just started, and a value of 1 means it is complete. This value will update more continuously if the server provides a `Content-Length` header for the asset requests. |
| isChecking                                   | `boolean`                                                                                       | True if the app is currently checking for a new available update from the server.                                                                                                                                                                                                                                   |
| isDownloading                                | `boolean`                                                                                       | True if the app is currently downloading an update from the server.                                                                                                                                                                                                                                                 |
| isRestarting                                 | `boolean`                                                                                       | True if the app is currently in the process of restarting.                                                                                                                                                                                                                                                          |
| isStartupProcedureRunning                    | `boolean`                                                                                       | Whether the startup procedure is still running. This may happen if the fallbackToCacheTimeout is shorter than the time taken to fetch a new update during app launch.                                                                                                                                               |
| isUpdateAvailable                            | `boolean`                                                                                       | True if a new available update has been found, false otherwise.                                                                                                                                                                                                                                                     |
| isUpdatePending                              | `boolean`                                                                                       | True if a new available update is available and has been downloaded.                                                                                                                                                                                                                                                |
| lastCheckForUpdateTimeSinceRestart(optional) | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)   | A `Date` object representing the last time this client checked for an available update, or `undefined` if no check has yet occurred since the app started. Does not persist across app reloads or restarts.                                                                                                         |
| restartCount                                 | `number`                                                                                        | Number of times the JS has been restarted (for example, by calling reloadAsync) since app cold start.                                                                                                                                                                                                               |

## Enums

### `UpdateCheckResultNotAvailableReason`

Supported platforms: Android, iOS, tvOS.

#### `NO_UPDATE_AVAILABLE_ON_SERVER`

`UpdateCheckResultNotAvailableReason.NO_UPDATE_AVAILABLE_ON_SERVER = "noUpdateAvailableOnServer"`

No update manifest or rollback directive received from the update server.

#### `ROLLBACK_NO_EMBEDDED`

`UpdateCheckResultNotAvailableReason.ROLLBACK_NO_EMBEDDED = "rollbackNoEmbeddedConfiguration"`

A rollback directive was received from the update server, but this app has no embedded update.

#### `ROLLBACK_REJECTED_BY_SELECTION_POLICY`

`UpdateCheckResultNotAvailableReason.ROLLBACK_REJECTED_BY_SELECTION_POLICY = "rollbackRejectedBySelectionPolicy"`

A rollback directive was received from the update server, but the directive does not pass the configured selection policy.

#### `UPDATE_PREVIOUSLY_FAILED`

`UpdateCheckResultNotAvailableReason.UPDATE_PREVIOUSLY_FAILED = "updatePreviouslyFailed"`

An update manifest was received from the update server, but the update has been previously launched on this device and never successfully launched.

#### `UPDATE_REJECTED_BY_SELECTION_POLICY`

`UpdateCheckResultNotAvailableReason.UPDATE_REJECTED_BY_SELECTION_POLICY = "updateRejectedBySelectionPolicy"`

An update manifest was received from the update server, but the update is not launchable, or does not pass the configured selection policy.

### `UpdateInfoType`

Supported platforms: Android, iOS, tvOS.

The different possible types of updates. Currently, the only supported type is `UpdateInfoType.NEW`, indicating a new update that can be downloaded and launched on the device. In the future, other types of updates may be added to this list.

#### `NEW`

`UpdateInfoType.NEW = "new"`

This is the type for new updates found on or downloaded from the update server, that are launchable on the device.

#### `ROLLBACK`

`UpdateInfoType.ROLLBACK = "rollback"`

This type is used when an update is a directive to roll back to the embedded bundle.

### `UpdatesCheckAutomaticallyValue`

Supported platforms: Android, iOS, tvOS.

The possible settings that determine if `expo-updates` will check for updates on app startup. By default, Expo will check for updates every time the app is loaded. Set this to `ON_ERROR_RECOVERY` to disable automatic checking unless recovering from an error. Set this to `NEVER` to completely disable automatic checking.

#### `NEVER`

`UpdatesCheckAutomaticallyValue.NEVER = "NEVER"`

Automatic update checks are off, and update checks must be done through the JS API.

#### `ON_ERROR_RECOVERY`

`UpdatesCheckAutomaticallyValue.ON_ERROR_RECOVERY = "ON_ERROR_RECOVERY"`

Only checks for updates when the app starts up after an error recovery.

#### `ON_LOAD`

`UpdatesCheckAutomaticallyValue.ON_LOAD = "ON_LOAD"`

Checks for updates whenever the app is loaded. This is the default setting.

#### `WIFI_ONLY`

`UpdatesCheckAutomaticallyValue.WIFI_ONLY = "WIFI_ONLY"`

Only checks for updates when the app starts and has a Wi-Fi connection.

### `UpdatesLogEntryCode`

Supported platforms: Android, iOS, tvOS.

The possible code values for `expo-updates` log entries

#### `ASSETS_FAILED_TO_LOAD`

`UpdatesLogEntryCode.ASSETS_FAILED_TO_LOAD = "AssetsFailedToLoad"`

#### `INITIALIZATION_ERROR`

`UpdatesLogEntryCode.INITIALIZATION_ERROR = "InitializationError"`

#### `JS_RUNTIME_ERROR`

`UpdatesLogEntryCode.JS_RUNTIME_ERROR = "JSRuntimeError"`

#### `NONE`

`UpdatesLogEntryCode.NONE = "None"`

#### `NO_UPDATES_AVAILABLE`

`UpdatesLogEntryCode.NO_UPDATES_AVAILABLE = "NoUpdatesAvailable"`

#### `UNKNOWN`

`UpdatesLogEntryCode.UNKNOWN = "Unknown"`

#### `UPDATE_ASSETS_NOT_AVAILABLE`

`UpdatesLogEntryCode.UPDATE_ASSETS_NOT_AVAILABLE = "UpdateAssetsNotAvailable"`

#### `UPDATE_CODE_SIGNING_ERROR`

`UpdatesLogEntryCode.UPDATE_CODE_SIGNING_ERROR = "UpdateCodeSigningError"`

#### `UPDATE_FAILED_TO_LOAD`

`UpdatesLogEntryCode.UPDATE_FAILED_TO_LOAD = "UpdateFailedToLoad"`

#### `UPDATE_HAS_INVALID_SIGNATURE`

`UpdatesLogEntryCode.UPDATE_HAS_INVALID_SIGNATURE = "UpdateHasInvalidSignature"`

#### `UPDATE_SERVER_UNREACHABLE`

`UpdatesLogEntryCode.UPDATE_SERVER_UNREACHABLE = "UpdateServerUnreachable"`

### `UpdatesLogEntryLevel`

Supported platforms: Android, iOS, tvOS.

The possible log levels for `expo-updates` log entries

#### `DEBUG`

`UpdatesLogEntryLevel.DEBUG = "debug"`

#### `ERROR`

`UpdatesLogEntryLevel.ERROR = "error"`

#### `FATAL`

`UpdatesLogEntryLevel.FATAL = "fatal"`

#### `INFO`

`UpdatesLogEntryLevel.INFO = "info"`

#### `TRACE`

`UpdatesLogEntryLevel.TRACE = "trace"`

#### `WARN`

`UpdatesLogEntryLevel.WARN = "warn"`

## Error codes

| Code                              | Description                                                                                                                                                                                                                                                        |
| --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `ERR_UPDATES_DISABLED`            | A method call was attempted when the Updates library was disabled, or the application was running in development mode                                                                                                                                              |
| `ERR_UPDATES_RELOAD`              | An error occurred when trying to reload the application and it could not be reloaded. For bare React Native apps, double-check the setup steps for this library to ensure it has been installed correctly and the proper native initialization methods are called. |
| `ERR_UPDATES_CHECK`               | An unexpected error occurred when trying to check for new updates. Check the error message for more information.                                                                                                                                                   |
| `ERR_UPDATES_FETCH`               | An unexpected error occurred when trying to fetch a new update. Check the error message for more information.                                                                                                                                                      |
| `ERR_UPDATES_READ_LOGS`           | An unexpected error occurred when trying to read log entries. Check the error message for more information.                                                                                                                                                        |
| `ERR_NOT_AVAILABLE_IN_DEV_CLIENT` | A method is not available when running in a development build. A release build should be used to test this method.                                                                                                                                                 |

---

---

title: Video (expo-av)
description: A library that provides an API to implement video playback and recording in apps.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-av'
packageName: 'expo-av'
iconUrl: '/static/images/packages/expo-av.png'
platforms: ['android', 'ios', 'tvos', 'web']
isDeprecated: true

---

# Expo Video (expo-av)

A library that provides an API to implement video playback and recording in apps.
Android, iOS, tvOS, Web

> **Deprecated:** The `Video` component from `expo-av`, which is documented on this page, has now been deprecated and replaced by an improved version in `expo-video`. [Learn about `expo-video`](/versions/latest/sdk/video).

The `Video` component from `expo-av` displays a video inline with the other UI elements in your app.

Much of Video and Audio have common APIs that are documented in [AV documentation](/versions/latest/sdk/av). This page covers video-specific props and APIs. We encourage you to skim through this document to get basic video working, and then move on to [AV documentation](/versions/latest/sdk/av) for more advanced functionality. The audio experience of video (such as whether to interrupt music already playing in another app, or whether to play sound while the phone is on silent mode) can be customized using the [Audio API](/versions/latest/sdk/audio).

## Installation

```sh
npx expo install expo-av
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

Here's a simple example of a video with a play/pause button.

```jsx
import { useState, useRef } from 'react';
import { View, StyleSheet, Button } from 'react-native';
import { Video, ResizeMode } from 'expo-av';

export default function App() {
  const video = useRef(null);
  const [status, setStatus] = useState({});
  return (
    <View style={styles.container}>
      <Video
        ref={video}
        style={styles.video}
        source={{
          uri: 'https://d23dyxeqlo5psv.cloudfront.net/big_buck_bunny.mp4',
        }}
        useNativeControls
        resizeMode={ResizeMode.CONTAIN}
        isLooping
        onPlaybackStatusUpdate={status => setStatus(() => status)}
      />
      <View style={styles.buttons}>
        <Button
          title={status.isPlaying ? 'Pause' : 'Play'}
          onPress={() =>
            status.isPlaying ? video.current.pauseAsync() : video.current.playAsync()
          }
        />
      </View>
    </View>
  );
}

const styles = StyleSheet.create({ ... });
```

For more advanced examples, check out the [Playlist example](https://github.com/expo/playlist-example/blob/master/App.js), and the [custom `VideoPlayer` controls component](https://github.com/ihmpavel/expo-video-player/blob/master/lib/index.tsx) that wraps `<Video>`, adds custom controls and use the `<Video>` API extensively. The `VideoPlayer` controls is used in [this app](https://github.com/expo/harvard-cs50-app).

## API

```js
import { Video } from "expo-av";
```

## Component

### `Video`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[Component](https://react.dev/reference/react/Component)<[VideoProps](#videoprops), [VideoState](#videostate)\>

The Video component props can be divided into following groups:

- The `source` and `posterSource` props customize the source of the video content.
- The `useNativeControls`, `resizeMode`, and `usePoster` props customize the UI of the component.
- The `onPlaybackStatusUpdate`, `onReadyForDisplay`, and `onIOSFullscreenUpdate` props pass information of the state of the `Video` component.
- The `onLoadStart`, `onLoad`, and `onError` props are also provided for backwards compatibility with `Image` (but they are redundant with `onPlaybackStatusUpdate`). Finally, the rest of props are available to control the playback of the video, but we recommend that, for finer control, you use the methods available on the `ref` described in the [AV documentation](/versions/latest/sdk/av).

VideoProps

### `audioPan`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `number`

The desired audio panning value of the audio for this media. This value must be between `-1.0` (full left) and `1.0` (full right). See the [AV documentation](/versions/latest/sdk/av) for more information.

### `isLooping`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

A boolean describing if the media should play once (`false`) or loop indefinitely (`true`). See the [AV documentation](/versions/latest/sdk/av) for more information.

### `isMuted`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

A boolean describing if the audio of this media should be muted. See the [AV documentation](/versions/latest/sdk/av) for more information.

### `onError`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `(error: string) => void`

A function to be called if load or playback have encountered a fatal error. The function is passed a single error message string as a parameter. Errors sent here are also set on `playbackStatus.error` that are passed into the `onPlaybackStatusUpdate` callback.

### `onFullscreenUpdate`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: (event: [VideoFullscreenUpdateEvent](#videofullscreenupdateevent)) => void

A function to be called when the state of the native iOS fullscreen view changes (controlled via the `presentFullscreenPlayer()` and `dismissFullscreenPlayer()` methods on the `Video`'s `ref`).

### `onLoad`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: (status: [AVPlaybackStatus](/versions/latest/sdk/av#avplaybackstatus)) => void

A function to be called once the video has been loaded. The data is streamed so all of it may not have been fetched yet, just enough to render the first frame. The function is called with the `AVPlaybackStatus` of the video as its parameter. See the [AV documentation](/versions/latest/sdk/av) for further information.

### `onLoadStart`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

A function to be called when the video begins to be loaded into memory. Called without any arguments.

### `onPlaybackStatusUpdate`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: (status: [AVPlaybackStatus](/versions/latest/sdk/av#avplaybackstatus)) => void

A function to be called regularly with the `AVPlaybackStatus` of the video. You will likely be using this a lot. See the [AV documentation](/versions/latest/sdk/av) for further information on `onPlaybackStatusUpdate`, and the interval at which it is called.

### `onReadyForDisplay`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: (event: [VideoReadyForDisplayEvent](#videoreadyfordisplayevent)) => void

A function to be called when the video is ready for display. Note that this function gets called whenever the video's natural size changes.

### `positionMillis`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `number`

The desired position of playback in milliseconds. See the [AV documentation](/versions/latest/sdk/av) for more information.

### `PosterComponent`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `React.ComponentType<{ source: ImageProps[source], style: ImageProps[style] }>`

A react-native `Image` like component to display the poster image.

### `posterSource`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `ImageProps[source]`

The source of an optional image to display over the video while it is loading. The following forms are supported:

- A dictionary of the form `{ uri: 'http://path/to/file' }` with a network URL pointing to an image file on the web.
- `require('path/to/file')` for an image file asset in the source code directory.

### `posterStyle`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `ImageProps[style]`

An optional property to pass custom styles to the poster image.

### `progressUpdateIntervalMillis`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `number`

A number describing the new minimum interval in milliseconds between calls of `onPlaybackStatusUpdate`. See the [AV documentation](/versions/latest/sdk/av) for more information.

### `rate`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `number`

The desired playback rate of the media. This value must be between `0.0` and `32.0`. Only available on Android API version 23 and later and iOS. See the [AV documentation](/versions/latest/sdk/av) for more information.

### `resizeMode`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [ResizeMode](#resizemode)

A string describing how the video should be scaled for display in the component view bounds. Must be one of the [`ResizeMode`](#resizemode-1) enum values.

### `shouldCorrectPitch`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

A boolean describing if we should correct the pitch for a changed rate. If set to `true`, the pitch of the audio will be corrected (so a rate different than `1.0` will timestretch the audio). See the [AV documentation](/versions/latest/sdk/av) for more information.

### `shouldPlay`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

A boolean describing if the media is supposed to play. Playback may not start immediately after setting this value for reasons such as buffering. Make sure to update your UI based on the `isPlaying` and `isBuffering` properties of the `AVPlaybackStatus`. See the [AV documentation](/versions/latest/sdk/av) for more information.

### `source`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [AVPlaybackSource](/versions/latest/sdk/av#avplaybacksource)

The source of the video data to display. If this prop is `null`, or left blank, the video component will display nothing. Note that this can also be set on the `ref` via `loadAsync()`. See the [AV documentation](/versions/latest/sdk/av) for further information.

> **See:** The [Android developer documentation](https://developer.android.com/guide/topics/media/platform/supported-formats#video-formats) and the [iOS developer documentation](https://developer.apple.com/documentation/coremedia/1564239-video_codec_constants) lists of the video formats supported on Android and iOS.

### `status`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [AVPlaybackStatusToSet](/versions/latest/sdk/av#avplaybackstatustoset)

A dictionary setting a new `AVPlaybackStatusToSet` on the video. See the [AV documentation](/versions/latest/sdk/av#default-initial--avplaybackstatustoset) for more information on `AVPlaybackStatusToSet`.

### `useNativeControls`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

A boolean which, if set to `true`, will display native playback controls (such as play and pause) within the `Video` component. If you'd prefer to use custom controls, you can write them yourself, and/or check out the [`VideoPlayer` component](https://github.com/ihmpavel/expo-video-player).

### `usePoster`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

A boolean which, if set to `true`, will display an image (whose source is set via the prop `posterSource`) while the video is loading.

### `videoStyle`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: StyleProp<[ViewStyle](https://reactnative.dev/docs/view-style-props)\>

An optional property to pass custom styles to the internal video component.

### `volume`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `number`

The desired volume of the audio for this media. This value must be between `0.0` (silence) and `1.0` (maximum volume). See the [AV documentation](/versions/latest/sdk/av) for more information.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

## Component Methods

### `dismissFullscreenPlayer()`

Supported platforms: Android, iOS, tvOS, Web.

This dismisses the fullscreen video view.

Returns: `Promise<avplaybackstatus>`

A `Promise` that is fulfilled with the `AVPlaybackStatus` of the video once the fullscreen player has finished dismissing, or rejects if there was an error, or if this was called on an Android device.

### `presentFullscreenPlayer()`

Supported platforms: Android, iOS, tvOS, Web.

This presents a fullscreen view of your video component on top of your app's UI. Note that even if `useNativeControls` is set to `false`, native controls will be visible in fullscreen mode.

Returns: `Promise<avplaybackstatus>`

A `Promise` that is fulfilled with the `AVPlaybackStatus` of the video once the fullscreen player has finished presenting, or rejects if there was an error, or if this was called on an Android device.

### `setOnPlaybackStatusUpdate(onPlaybackStatusUpdate)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                | Type | Description                                                                    |
| ------------------------ | ---- | ------------------------------------------------------------------------------ | -------------------------------------------------------- |
| `onPlaybackStatusUpdate` | null | (status: [AVPlaybackStatus](/versions/latest/sdk/av#avplaybackstatus)) => void | A function taking a single parameter `AVPlaybackStatus`. |

Sets a function to be called regularly with the `AVPlaybackStatus` of the playback object.

`onPlaybackStatusUpdate` will be called whenever a call to the API for this playback object completes (such as `setStatusAsync()`, `getStatusAsync()`, or `unloadAsync()`), nd will also be called at regular intervals while the media is in the loaded state.

Set `progressUpdateIntervalMillis` via `setStatusAsync()` or `setProgressUpdateIntervalAsync()` to modify the interval with which `onPlaybackStatusUpdate` is called while loaded.

Returns: `void`

## Types

### `VideoFullscreenUpdateEvent`

Supported platforms: Android, iOS, tvOS, Web.

| Property         | Type                                                         | Description                                                                                                       |
| ---------------- | ------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------- |
| fullscreenUpdate | [VideoFullscreenUpdate](#videofullscreenupdate)              | The kind of the fullscreen update.                                                                                |
| status(optional) | [AVPlaybackStatus](/versions/latest/sdk/av#avplaybackstatus) | The `AVPlaybackStatus` of the video. See the [AV documentation](/versions/latest/sdk/av) for further information. |

### `VideoNaturalSize`

Supported platforms: Android, iOS, tvOS, Web.

| Property    | Type        | Description                                                 |
| ----------- | ----------- | ----------------------------------------------------------- | -------------------------------------------------------------- |
| height      | `number`    | A number describing the height in pixels of the video data. |
| orientation | `'portrait' | 'landscape'`                                                | A string describing the natural orientation of the video data. |
| width       | `number`    | A number describing the width in pixels of the video data.  |

### `VideoReadyForDisplayEvent`

Supported platforms: Android, iOS, tvOS, Web.

| Property         | Type                                                         | Description                                                                                                                       |
| ---------------- | ------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------- |
| naturalSize      | [VideoNaturalSize](#videonaturalsize)                        | An object containing the basic data about video size.                                                                             |
| status(optional) | [AVPlaybackStatus](/versions/latest/sdk/av#avplaybackstatus) | The `AVPlaybackStatus` of the video. See the [AV documentation](/versions/latest/sdk/av#playback-status) for further information. |

### `VideoState`

Supported platforms: Android, iOS, tvOS, Web.

| Property   | Type      | Description |
| ---------- | --------- | ----------- |
| showPoster | `boolean` | -           |

## Enums

### `ResizeMode`

Supported platforms: Android, iOS, tvOS, Web.

#### `CONTAIN`

`ResizeMode.CONTAIN = "contain"`

Fit within component bounds while preserving aspect ratio.

#### `COVER`

`ResizeMode.COVER = "cover"`

Fill component bounds while preserving aspect ratio.

#### `STRETCH`

`ResizeMode.STRETCH = "stretch"`

Stretch to fill component bounds.

### `VideoFullscreenUpdate`

Supported platforms: Android, iOS, tvOS, Web.

#### `PLAYER_WILL_PRESENT`

`VideoFullscreenUpdate.PLAYER_WILL_PRESENT = 0`

Describing that the fullscreen player is about to present.

#### `PLAYER_DID_PRESENT`

`VideoFullscreenUpdate.PLAYER_DID_PRESENT = 1`

Describing that the fullscreen player just finished presenting.

#### `PLAYER_WILL_DISMISS`

`VideoFullscreenUpdate.PLAYER_WILL_DISMISS = 2`

Describing that the fullscreen player is about to dismiss.

#### `PLAYER_DID_DISMISS`

`VideoFullscreenUpdate.PLAYER_DID_DISMISS = 3`

Describing that the fullscreen player just finished dismissing.

## Unified API

The rest of the API on the `Video` component `ref` is the same as the API for `Audio.Sound` - see the [AV documentation](/versions/latest/sdk/av#playback) for further information.

---

---

title: VideoThumbnails
description: A library that allows you to generate an image to serve as a thumbnail from a video file.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-video-thumbnails'
packageName: 'expo-video-thumbnails'
platforms: ['android', 'ios', 'tvos', 'expo-go']

---

# Expo VideoThumbnails

A library that allows you to generate an image to serve as a thumbnail from a video file.
Android, iOS, tvOS, Included in Expo Go

`expo-video-thumbnails` allows you to generate an image to serve as a thumbnail from a video file.

## Installation

```sh
npx expo install expo-video-thumbnails
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Usage

```jsx
import { StyleSheet, Button, View, Image, Text } from "react-native";
import * as VideoThumbnails from "expo-video-thumbnails";
import { useState } from "react";

export default function App() {
  const [image, setImage] = useState(null);

  const generateThumbnail = async () => {
    try {
      const { uri } = await VideoThumbnails.getThumbnailAsync(
        "https://d23dyxeqlo5psv.cloudfront.net/big_buck_bunny.mp4",
        {
          time: 15000,
        },
      );
      setImage(uri);
    } catch (e) {
      console.warn(e);
    }
  };

  return (
    <View style={styles.container}>
      <Button
        onPress={generateThumbnail}
        title="Generate thumbnail"
      />
      {image && (
        <Image
          source={{ uri: image }}
          style={styles.image}
        />
      )}
      <Text>{image}</Text>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
    backgroundColor: "#F5FCFF",
  },
  image: {
    width: 200,
    height: 200,
  },
});
```

## API

```js
import * as VideoThumbnails from "expo-video-thumbnails";
```

## Methods

### `VideoThumbnails.getThumbnailAsync(sourceFilename, options)`

Supported platforms: Android, iOS, tvOS.

| Parameter           | Type                                              | Description                                                            |
| ------------------- | ------------------------------------------------- | ---------------------------------------------------------------------- |
| `sourceFilename`    | `string`                                          | An URI of the video, local or remote.                                  |
| `options`(optional) | [VideoThumbnailsOptions](#videothumbnailsoptions) | A map defining how modified thumbnail should be created. Default: `{}` |

Create an image thumbnail from video provided via `sourceFilename`.

Returns: `Promise<videothumbnailsresult>`

Returns a promise which fulfils with [`VideoThumbnailsResult`](#videothumbnailsresult).

## Types

### `VideoThumbnailsOptions`

Supported platforms: Android, iOS, tvOS.

| Property          | Type                     | Description                                                                                                                                                               |
| ----------------- | ------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| headers(optional) | `Record<string, string>` | In case `sourceFilename` is a remote URI, `headers` object is passed in a network request.                                                                                |
| quality(optional) | `number`                 | A value in range `0.0` - `1.0` specifying quality level of the result image. `1` means no compression (highest quality) and `0` the highest compression (lowest quality). |
| time(optional)    | `number`                 | The time position where the image will be retrieved in ms.                                                                                                                |

### `VideoThumbnailsResult`

Supported platforms: Android, iOS, tvOS.

| Property | Type     | Description                                                                 |
| -------- | -------- | --------------------------------------------------------------------------- |
| height   | `number` | Height of the created image.                                                |
| uri      | `string` | URI to the created image (usable as the source for an Image/Video element). |
| width    | `number` | Width of the created image.                                                 |

---

---

title: Video (expo-video)
description: A library that provides an API to implement video playback in apps.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-video'
packageName: 'expo-video'
iconUrl: '/static/images/packages/expo-video.png'
platforms: ['android', 'ios', 'web', 'tvos', 'expo-go']

---

# Expo Video (expo-video)

A library that provides an API to implement video playback in apps.
Android, iOS, tvOS, Web, Included in Expo Go

`expo-video` is a cross-platform, performant video component for React Native and Expo with Web support.

#### Known issuesâ€‚

When two [`VideoView`](/versions/latest/sdk/video#videoview) components are overlapping and have the [`contentFit`](/versions/latest/sdk/video#contentfit) prop set to [`cover`](/versions/latest/sdk/video#videocontentfit), one of the videos may be displayed out of bounds. This is a [known upstream issue](https://github.com/androidx/media/issues/1107). To work around this issue, use the [`surfaceType`](/versions/latest/sdk/video#surfacetype) prop and set it to [`textureView`](/versions/latest/sdk/video#surfacetype-1).

## Installation

```sh
npx expo install expo-video
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-video` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-video",
        {
          "supportsBackgroundPlayback": true,
          "supportsPictureInPicture": true
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                         | Default     | Description                                                                                                                                                                                                                                                                                                                      |
| ---------------------------- | ----------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `supportsBackgroundPlayback` | `undefined` | Only for: iOS. A boolean value to enable background playback on iOS. If `true`, the `audio` key is added to the `UIBackgroundModes` array in the **Info.plist** file. If `false`, the key is removed. When `undefined`, the key is not modified.                                                                                 |
| `supportsPictureInPicture`   | `undefined` | A boolean value to enable Picture-in-Picture on Android and iOS. If `true`, enables the `android:supportsPictureInPicture` property on Android and adds the `audio` key to the `UIBackgroundModes` array in the **Info.plist** file on iOS. If `false`, the key is removed. When `undefined`, the configuration is not modified. |

## Usage

Here's a simple example of a video with a play and pause button.

```jsx
import { StyleSheet, View, Button } from "react-native";
import { useVideoPlayer, VideoView } from "expo-video";
import { useEvent } from "expo";

const videoSource =
  "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4";

export default function VideoScreen() {
  const player = useVideoPlayer(videoSource, player => {
    player.loop = true;
    player.play();
  });

  const { isPlaying } = useEvent(player, "playingChange", {
    isPlaying: player.playing,
  });

  return (
    <View style={styles.contentContainer}>
      <VideoView
        style={styles.video}
        player={player}
        allowsFullscreen
        allowsPictureInPicture
      />
      <View style={styles.controlsContainer}>
        <Button
          title={isPlaying ? "Pause" : "Play"}
          onPress={() => {
            if (isPlaying) {
              player.pause();
            } else {
              player.play();
            }
          }}
        />
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  contentContainer: {
    flex: 1,
    padding: 10,
    alignItems: "center",
    justifyContent: "center",
    paddingHorizontal: 50,
  },
  video: {
    width: 350,
    height: 275,
  },
  controlsContainer: {
    padding: 10,
  },
});
```

### Receiving events

The changes in properties of the [`VideoPlayer`](/versions/latest/sdk/video#videoplayer) do not update the React state. Therefore, to display the information about the current state of the `VideoPlayer`, it is necessary to listen to the [events](/versions/latest/sdk/video#videoplayerevents) it emits. The event system is based on the [`EventEmitter`](/versions/latest/sdk/expo#eventemitter) class and [hooks](/versions/latest/sdk/expo#hooks) from the [`expo`](/versions/latest/sdk/expo) package. There are a few ways to listen to events:

#### `useEvent` hook

Creates a listener that will return a stateful value that can be used in a component. It also cleans up automatically when the component unmounts.

```tsx
import { useEvent } from "expo";
// ... Other imports, definition of the component, creating the player etc.

const { status, error } = useEvent(player, "statusChange", {
  status: player.status,
});
// Rest of the component...
```

#### `useEventListener` hook

Built around the `Player.addListener` and `Player.removeListener` methods, creates an event listener with automatic cleanup.

```tsx
import { useEventListener } from "expo";
// ...Other imports, definition of the component, creating the player etc.

useEventListener(player, "statusChange", ({ status, error }) => {
  setPlayerStatus(status);
  setPlayerError(error);
  console.log("Player status changed: ", status);
});
// Rest of the component...
```

#### `Player.addListener` method

Most flexible way to listen to events, but requires manual cleanup and more boilerplate code.

```tsx
// ...Imports, definition of the component, creating the player etc.

useEffect(() => {
  const subscription = player.addListener(
    "statusChange",
    ({ status, error }) => {
      setPlayerStatus(status);
      setPlayerError(error);
      console.log("Player status changed: ", status);
    },
  );

  return () => {
    subscription.remove();
  };
}, []);
// Rest of the component...
```

### Playing local media from the assets directory

`expo-video` supports playing local media loaded using the `require` function. You can use the result as a source directly, or assign it to the `assetId` parameter of a [`VideoSource`](/versions/latest/sdk/video#videosource) if you also want to configure other properties.

```tsx
import { VideoSource } from "expo-video";

const assetId = require("./assets/bigbuckbunny.mp4");

const videoSource: VideoSource = {
  assetId,
  metadata: {
    title: "Big Buck Bunny",
    artist: "The Open Movie Project",
  },
};

const player1 = useVideoPlayer(assetId); // You can use the `asset` directly as a video source
const player2 = useVideoPlayer(videoSource);
```

### Preloading videos

While another video is playing, a video can be loaded before showing it in the view. This allows for quicker transitions between subsequent videos and a better user experience.

To preload a video, you have to create a `VideoPlayer` with a video source. Even when the player is not connected to a `VideoView`, it will fill the buffers. Once it is connected to the `VideoView`, it will be able to start playing without buffering.

In some cases, it is beneficial to preload a video later in the screen lifecycle. In that case, a `VideoPlayer` with a `null` source should be created. To start preloading, replace the player source with a video source using the `replace()` function.

Here is an example of how to preload a video:

```tsx
import { StyleSheet, Text, TouchableOpacity, View } from "react-native";
import { useVideoPlayer, VideoView, VideoSource } from "expo-video";
import { useState, useCallback } from "react";

const bigBuckBunnySource: VideoSource =
  "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4";

const elephantsDreamSource: VideoSource =
  "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4";

export default function PreloadingVideoPlayerScreen() {
  const player1 = useVideoPlayer(bigBuckBunnySource, player => {
    player.play();
  });

  const player2 = useVideoPlayer(elephantsDreamSource, player => {
    player.currentTime = 20;
  });

  const [currentPlayer, setCurrentPlayer] = useState(player1);

  const replacePlayer = useCallback(async () => {
    currentPlayer.pause();
    if (currentPlayer === player1) {
      setCurrentPlayer(player2);
      player1.pause();
      player2.play();
    } else {
      setCurrentPlayer(player1);
      player2.pause();
      player1.play();
    }
  }, [player1, currentPlayer]);

  return (
    <View style={styles.contentContainer}>
      <VideoView
        player={currentPlayer}
        style={styles.video}
        nativeControls={false}
      />
      <TouchableOpacity
        style={styles.button}
        onPress={replacePlayer}
      >
        <Text style={styles.buttonText}>Replace Player</Text>
      </TouchableOpacity>
    </View>
  );
}

const styles = StyleSheet.create({
  contentContainer: {
    flex: 1,
    padding: 10,
    alignItems: "center",
    justifyContent: "center",
    paddingHorizontal: 50,
  },
  button: {
    alignItems: "center",
    justifyContent: "center",
    borderRadius: 3,
    paddingVertical: 8,
    paddingHorizontal: 12,
    backgroundColor: "#4630ec",
  },
  buttonText: {
    fontSize: 12,
    fontWeight: "bold",
    color: "#eeeeee",
    textAlign: "center",
  },
  video: {
    width: 300,
    height: 168.75,
    marginVertical: 20,
  },
});
```

### Using the VideoPlayer directly

In most cases, the [`useVideoPlayer`](/versions/latest/sdk/video#usevideoplayersource-setup) hook should be used to create a `VideoPlayer` instance. It manages the player's lifecycle and ensures that it is properly disposed of when the component is unmounted. However, in some advanced use cases, it might be necessary to create a `VideoPlayer` that does not get automatically destroyed when the component is unmounted. In those cases, the `VideoPlayer` can be created using the [`createVideoPlayer`](/versions/latest/sdk/video#videocreatevideoplayersource) function. You need be aware of the risks that come with this approach, as it is your responsibility to call the [`release()`](/versions/latest/sdk/expo#release) method when the player is no longer needed. If not handled properly, this approach may lead to memory leaks.

```tsx
import { createVideoPlayer } from "expo-video";
const player = createVideoPlayer(videoSource);
```

> On Android, mounting multiple `VideoView` components at the same time with the same `VideoPlayer` instance will not work due to a [platform limitation](https://github.com/expo/expo/issues/35012).

### Caching videos

If your app frequently replays the same video, caching can be utilized to minimize network usage and enhance user experience, albeit at the cost of increased device storage usage. `expo-video` supports video caching on `Android` and `iOS` platforms. This feature can be activated by setting the [`useCaching`](/versions/latest/sdk/video#videosource) property of a [`VideoSource`](/versions/latest/sdk/video#videosource) object to `true`.

The cache is persistent and will be cleared on a least-recently-used basis once the preferred size is exceeded. Furthermore, the system can clear the cache due to low storage availability, so it's not advisable to depend on the cache to store critical data.

The cache functions offline. If a portion or the entirety of a video is cached, it can be played from the cache even when the device is offline until the cached data is exhausted.

> Due to platform limitations, the cache cannot be used with HLS video sources on iOS. Caching DRM-protected videos is not supported on Android and iOS.

### Managing the cache

- The preferred cache size in bytes can be defined using the [`setVideoCacheSizeAsync`](/versions/latest/sdk/video#videosetvideocachesizeasyncsizebytes) function. The default cache size is 1GB.
- The [`getCurrentVideoCacheSize`](/versions/latest/sdk/video#videogetcurrentvideocachesize) can be used to get the current storage occupied by the cache in bytes.
- All cached videos can be cleared using the [`clearVideoCacheAsync`](/versions/latest/sdk/video#videoclearvideocacheasync) function.

## API

```js
import { VideoView, useVideoPlayer } from "expo-video";
```

## Components

### `VideoView`

Supported platforms: Android, iOS, tvOS, Web.

Type: React.[PureComponent](https://react.dev/reference/react/PureComponent)<[VideoViewProps](#videoviewprops)\>

VideoViewProps

### `allowsFullscreen`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Determines whether fullscreen mode is allowed or not.

> Note: This option has been deprecated in favor of the `fullscreenOptions` prop and will be disabled in the future.

### `allowsPictureInPicture`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Determines whether the player allows Picture in Picture (PiP) mode.

> **Note:** The `supportsPictureInPicture` property of the [config plugin](#configuration-in-app-config) has to be configured for the PiP to work.

### `allowsVideoFrameAnalysis`

Supported platforms: iOS 16.0+.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Specifies whether to perform video frame analysis (Live Text in videos). Check official [Apple documentation](https://developer.apple.com/documentation/avkit/avplayerviewcontroller/allowsvideoframeanalysis) for more details.

### `contentFit`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [VideoContentFit](#videocontentfit)â€ƒâ€¢â€ƒDefault: `'contain'`

Describes how the video should be scaled to fit in the container. Options are `'contain'`, `'cover'`, and `'fill'`.

### `contentPosition`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `{ dx: number, dy: number }`

Determines the position offset of the video inside the container.

### `crossOrigin`

Supported platforms: Web.

Optionalâ€ƒâ€¢â€ƒLiteral type: `string`â€ƒâ€¢â€ƒDefault: `undefined`

Determines the [cross origin policy](https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Attributes/crossorigin) used by the underlying native view on web. If `undefined` (default), does not use CORS at all. If set to `'anonymous'`, the video will be loaded with CORS enabled. Note that some videos may not play if CORS is enabled, depending on the CDN settings. If you encounter issues, consider adjusting the `crossOrigin` property.

Acceptable values are: `'anonymous'` | `'use-credentials'`

### `fullscreenOptions`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: [FullscreenOptions](#fullscreenoptions)

Determines the fullscreen mode options.

### `nativeControls`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Determines whether native controls should be displayed or not.

### `onFirstFrameRender`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

A callback to call after the mounted `VideoPlayer` has rendered the first frame into the `VideoView`. This event can be used to hide any cover images that conceal the initial loading of the player.

> **Note:** This event may also be called during playback when the current video track changes (for example when the player switches video quality).

### `onFullscreenEnter`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

A callback to call after the video player enters fullscreen mode.

### `onFullscreenExit`

Supported platforms: Android, iOS, tvOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

A callback to call after the video player exits fullscreen mode.

### `onPictureInPictureStart`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

A callback to call after the video player enters Picture in Picture (PiP) mode.

### `onPictureInPictureStop`

Supported platforms: Android, iOS, Web.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

A callback to call after the video player exits Picture in Picture (PiP) mode.

### `player`

Supported platforms: Android, iOS, tvOS, Web.

Type: [VideoPlayer](#videoplayer)

A video player instance. Use [`useVideoPlayer()`](#usevideoplayersource-setup) hook to create one.

### `playsInline`

Supported platforms: Web.

Optionalâ€ƒâ€¢â€ƒType: `boolean`

Determines whether a video should be played "inline", that is, within the element's playback area.

### `requiresLinearPlayback`

Supported platforms: Android, iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Determines whether the player allows the user to skip media content.

### `showsTimecodes`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Determines whether the timecodes should be displayed or not.

### `startsPictureInPictureAutomatically`

Supported platforms: Android 12+, iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Determines whether the player should start Picture in Picture (PiP) automatically when the app is in the background.

> **Note:** Only one player can be in Picture in Picture (PiP) mode at a time.

> **Note:** The `supportsPictureInPicture` property of the [config plugin](#configuration-in-app-config) has to be configured for the PiP to work.

### `surfaceType`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: [SurfaceType](#surfacetype)â€ƒâ€¢â€ƒDefault: `'surfaceView'`

Determines the type of the surface used to render the video.

> This prop should not be changed at runtime.

### `useExoShutter`

Supported platforms: Android.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Determines whether the player should use the default ExoPlayer shutter that covers the `VideoView` before the first video frame is rendered. Setting this property to `false` makes the Android behavior the same as iOS.

#### Inherited Props

- [ViewProps](https://reactnative.dev/docs/view#props)

### `VideoAirPlayButton`

Supported platforms: iOS.

Type: React.[Element](https://www.typescriptlang.org/docs/handbook/jsx.html#function-component)<[VideoAirPlayButtonProps](#videoairplaybuttonprops)\>

A view displaying the [`AVRoutePickerView`](https://developer.apple.com/documentation/avkit/avroutepickerview). Shows a button, when pressed, an AirPlay device picker shows up, allowing users to stream the currently playing video to any available AirPlay sink.

> When using this view, make sure that the [`allowsExternalPlayback`](#allowsexternalplayback) player property is set to `true`.

VideoAirPlayButtonProps

### `activeTint`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)â€ƒâ€¢â€ƒDefault: `undefined`

The color of the button icon while AirPlay sharing is active.

### `onBeginPresentingRoutes`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

A callback called when the AirPlay route selection popup is about to show.

### `onEndPresentingRoutes`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `() => void`

A callback called when the AirPlay route selection popup has disappeared.

### `prioritizeVideoDevices`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Determines whether the AirPlay device selection popup should show video outputs first.

### `tint`

Supported platforms: iOS.

Optionalâ€ƒâ€¢â€ƒType: [ColorValue](https://reactnative.dev/docs/colors)â€ƒâ€¢â€ƒDefault: `undefined`

The color of the button icon while AirPlay sharing is not active.

#### Inherited Props

- [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys)<[ViewProps](https://reactnative.dev/docs/view#props), 'children'\>

## Component Methods

### `enterFullscreen()`

Supported platforms: Android, iOS, tvOS, Web.

Enters fullscreen mode.

Returns: `Promise<void>`

### `exitFullscreen()`

Supported platforms: Android, iOS, tvOS, Web.

Exits fullscreen mode.

Returns: `Promise<void>`

### `startPictureInPicture()`

Supported platforms: Android, iOS, Web.

Enters Picture in Picture (PiP) mode. Throws an exception if the device does not support PiP.

> **Note:** Only one player can be in Picture in Picture (PiP) mode at a time.

> **Note:** The `supportsPictureInPicture` property of the [config plugin](#configuration-in-app-config) has to be configured for the PiP to work.

Returns: `Promise<void>`

### `stopPictureInPicture()`

Supported platforms: Android, iOS, Web.

Exits Picture in Picture (PiP) mode.

Returns: `Promise<void>`

## Hooks

### `useVideoPlayer(source, setup)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter         | Type                                          | Description                                                                            |
| ----------------- | --------------------------------------------- | -------------------------------------------------------------------------------------- |
| `source`          | [VideoSource](#videosource)                   | A video source that is used to initialize the player.                                  |
| `setup`(optional) | (player: [VideoPlayer](#videoplayer)) => void | A function that allows setting up the player. It will run after the player is created. |

Creates a `VideoPlayer`, which will be automatically cleaned up when the component is unmounted.

Returns: `VideoPlayer`

## Classes

### `VideoPlayer`

Supported platforms: Android, iOS, tvOS, Web.

Type: Class extends [SharedObject](/versions/v54.0.0/sdk/expo#sharedobjecttype)<[VideoPlayerEvents](#videoplayerevents)\>

A class that represents an instance of the video player.

VideoPlayer Properties

### `allowsExternalPlayback`

Supported platforms: iOS.

Type: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Determines whether the player should allow external playback.

### `audioMixingMode`

Supported platforms: Android, iOS.

Type: [AudioMixingMode](#audiomixingmode)â€ƒâ€¢â€ƒDefault: `'auto'`

Determines how the player will interact with other audio playing in the system.

### `audioTrack`

Supported platforms: Android, iOS.

Literal type: `union`â€ƒâ€¢â€ƒDefault: `null`

Specifies the audio track currently played by the player. `null` when no audio is played.

Acceptable values are: `null` | [AudioTrack](#audiotrack)

### `availableAudioTracks`

Supported platforms: Android, iOS.

Read Onlyâ€ƒâ€¢â€ƒType: [AudioTrack[]](#audiotrack)

An array of audio tracks available for the current video.

### `availableSubtitleTracks`

Supported platforms: Android, iOS.

Read Onlyâ€ƒâ€¢â€ƒType: [SubtitleTrack[]](#subtitletrack)

An array of subtitle tracks available for the current video.

### `availableVideoTracks`

Supported platforms: Android, iOS.

Read Onlyâ€ƒâ€¢â€ƒType: [VideoTrack[]](#videotrack)

An array of video tracks available for the current video.

> On iOS, when using a HLS source, make sure that the uri contains `.m3u8` extension or that the [`contentType`](#contenttype) property of the [`VideoSource`](#videosource) has been set to `'hls'`. Otherwise, the video tracks will not be available.

### `bufferedPosition`

Supported platforms: Android, iOS, tvOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: `number`

Float value indicating how far the player has buffered the video in seconds.

This value is 0 when the player has not buffered up to the current playback time. When it's impossible to determine the buffer state (for example, when the player isn't playing any media), this value is -1.

### `bufferOptions`

Supported platforms: Android, iOS.

Type: [BufferOptions](/versions/v54.0.0/sdk/video#bufferoptions-1)

Specifies buffer options which will be used by the player when buffering the video.

> You should provide a `BufferOptions` object when setting this property. Setting individual buffer properties is not supported.

### `currentLiveTimestamp`

Supported platforms: Android, iOS.

Read Onlyâ€ƒâ€¢â€ƒLiteral type: `union`

The exact timestamp when the currently displayed video frame was sent from the server, based on the `EXT-X-PROGRAM-DATE-TIME` tag in the livestream metadata. If this metadata is missing, this property will return `null`.

Acceptable values are: `null` | `number`

### `currentOffsetFromLive`

Supported platforms: Android, iOS.

Read Onlyâ€ƒâ€¢â€ƒLiteral type: `union`

Float value indicating the latency of the live stream in seconds. If a livestream doesn't have the required metadata, this will return `null`.

Acceptable values are: `null` | `number`

### `currentTime`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number`

Float value indicating the current playback time in seconds.

If the player is not yet playing, this value indicates the time position at which playback will begin once the `play()` method is called.

Setting `currentTime` to a new value seeks the player to the given time. Note that frame accurate seeking may incur additional decoding delay which can impact seeking performance. Consider using the [`seekBy`](#seekbyseconds) function if the time does not have to be set precisely.

### `duration`

Supported platforms: Android, iOS, tvOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: `number`

Float value indicating the duration of the current video in seconds.

### `isExternalPlaybackActive`

Supported platforms: iOS.

Read Onlyâ€ƒâ€¢â€ƒType: `boolean`

Indicates whether the player is currently playing back the media to an external device via AirPlay.

### `isLive`

Supported platforms: Android, iOS, tvOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: `boolean`

Boolean value indicating whether the player is currently playing a live stream.

### `loop`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Determines whether the player should automatically replay after reaching the end of the video.

### `muted`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Boolean value whether the player is currently muted. Setting this property to `true`/`false` will mute/unmute the player.

### `playbackRate`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number`â€ƒâ€¢â€ƒDefault: `1.0`

Float value between `0` and `16.0` indicating the current playback speed of the player.

### `playing`

Supported platforms: Android, iOS, tvOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: `boolean`

Boolean value whether the player is currently playing.

> Use `play` and `pause` methods to control the playback.

### `preservesPitch`

Supported platforms: Android, iOS, tvOS, Web.

Type: `boolean`â€ƒâ€¢â€ƒDefault: `true`

Boolean value indicating if the player should correct audio pitch when the playback speed changes.

### `showNowPlayingNotification`

Supported platforms: Android, iOS.

Type: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Boolean value determining whether the player should show the now playing notification.

### `status`

Supported platforms: Android, iOS, tvOS, Web.

Read Onlyâ€ƒâ€¢â€ƒType: [VideoPlayerStatus](#videoplayerstatus)

Indicates the current status of the player.

### `staysActiveInBackground`

Supported platforms: Android, iOS.

Type: `boolean`â€ƒâ€¢â€ƒDefault: `false`

Determines whether the player should continue playing after the app enters the background.

### `subtitleTrack`

Supported platforms: Android, iOS.

Literal type: `union`â€ƒâ€¢â€ƒDefault: `null`

Specifies the subtitle track which is currently displayed by the player. `null` when no subtitles are displayed.

> To ensure a valid subtitle track, always assign one of the subtitle tracks from the [`availableSubtitleTracks`](#availablesubtitletracks) array.

Acceptable values are: `null` | [SubtitleTrack](#subtitletrack)

### `targetOffsetFromLive`

Supported platforms: iOS.

Type: `number`

Float value indicating the time offset from the live in seconds.

### `timeUpdateEventInterval`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number`â€ƒâ€¢â€ƒDefault: `0`

Float value indicating the interval in seconds at which the player will emit the [`timeUpdate`](#videoplayerevents) event. When the value is equal to `0`, the event will not be emitted.

### `videoTrack`

Supported platforms: Android, iOS.

Read Onlyâ€ƒâ€¢â€ƒLiteral type: `union`â€ƒâ€¢â€ƒDefault: `null`

Specifies the video track currently played by the player. `null` when no video is displayed.

Acceptable values are: `null` | [VideoTrack](#videotrack)

### `volume`

Supported platforms: Android, iOS, tvOS, Web.

Type: `number`â€ƒâ€¢â€ƒDefault: `1.0`

Float value between `0` and `1.0` representing the current volume. Muting the player doesn't affect the volume. In other words, when the player is muted, the volume is the same as when unmuted. Similarly, setting the volume doesn't unmute the player.

VideoPlayer Methods

### `generateThumbnailsAsync(times, options)`

Supported platforms: Android, iOS.

| Parameter           | Type                                            |
| ------------------- | ----------------------------------------------- | --------- |
| `times`             | `number                                         | number[]` |
| `options`(optional) | [VideoThumbnailOptions](#videothumbnailoptions) |

Generates thumbnails from the currently played asset. The thumbnails are references to native images, thus they can be used as a source of the `Image` component from `expo-image`.

Returns: `Promise<videothumbnail[]>`

### `pause()`

Supported platforms: Android, iOS, tvOS, Web.

Pauses the player.

Returns: `void`

### `play()`

Supported platforms: Android, iOS, tvOS, Web.

Resumes the player.

Returns: `void`

### `replace(source, disableWarning)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter                  | Type                        |
| -------------------------- | --------------------------- |
| `source`                   | [VideoSource](#videosource) |
| `disableWarning`(optional) | `boolean`                   |

Replaces the current source with a new one.

> On iOS, this method loads the asset data synchronously on the UI thread and can block it for extended periods of time. Use `replaceAsync` to load the asset asynchronously and avoid UI lags.

> This method will be deprecated in the future.

Returns: `void`

### `replaceAsync(source)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type                        |
| --------- | --------------------------- |
| `source`  | [VideoSource](#videosource) |

Replaces the current source with a new one, while offloading loading of the asset to a different thread.

> On Android and Web, this method is equivalent to `replace`.

Returns: `Promise<void>`

### `replay()`

Supported platforms: Android, iOS, tvOS, Web.

Seeks the playback to the beginning.

Returns: `void`

### `seekBy(seconds)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type     |
| --------- | -------- |
| `seconds` | `number` |

Seeks the playback by the given number of seconds. The time to which the player seeks may differ from the specified requested time for efficiency, depending on the encoding and what is currently buffered by the player. Use this function to implement playback controls that seek by specific amount of time, in which case, the actual time usually does not have to be precise. For frame accurate seeking, use the [`currentTime`](#currenttime) property.

Returns: `void`

### `VideoThumbnail`

Supported platforms: Android, iOS.

Type: Class extends [SharedRef](/versions/v54.0.0/sdk/expo#sharedreftype)<'image'\>

Represents a video thumbnail that references a native image. Instances of this class can be passed as a source to the `Image` component from `expo-image`.

VideoThumbnail Properties

### `actualTime`

Supported platforms: iOS.

Type: `number`

The time in seconds at which the thumbnail was actually generated.

### `height`

Supported platforms: Android, iOS.

Type: `number`

Height of the created thumbnail.

### `nativeRefType`

Supported platforms: Android, iOS.

Type: `string`

The type of the native reference.

### `requestedTime`

Supported platforms: Android, iOS.

Type: `number`

The time in seconds at which the thumbnail was to be created.

### `width`

Supported platforms: Android, iOS.

Type: `number`

Width of the created thumbnail.

## Methods

### `Video.clearVideoCacheAsync()`

Supported platforms: Android, iOS.

Clears all video cache.

> This function can be called only if there are no existing `VideoPlayer` instances.

Returns: `Promise<void>`

A promise that fulfills after the cache has been cleaned.

### `Video.createVideoPlayer(source)`

Supported platforms: Android, iOS, tvOS, Web.

| Parameter | Type                        |
| --------- | --------------------------- |
| `source`  | [VideoSource](#videosource) |

Creates a direct instance of `VideoPlayer` that doesn't release automatically.

> For most use cases you should use the [`useVideoPlayer`](#usevideoplayer) hook instead. See the [Using the VideoPlayer Directly](#using-the-videoplayer-directly) section for more details.

Returns: `VideoPlayer`

### `Video.getCurrentVideoCacheSize()`

Supported platforms: Android, iOS.

Returns the space currently occupied by the video cache in bytes.

Returns: `number`

### `Video.isPictureInPictureSupported()`

Supported platforms: Android, iOS.

Returns whether the current device supports Picture in Picture (PiP) mode.

Returns: `boolean`

A `boolean` which is `true` if the device supports PiP mode, and `false` otherwise.

### `Video.setVideoCacheSizeAsync(sizeBytes)`

Supported platforms: Android, iOS.

| Parameter   | Type     |
| ----------- | -------- |
| `sizeBytes` | `number` |

Sets desired video cache size in bytes. The default video cache size is 1GB. Value set by this function is persistent. The cache size is not guaranteed to be exact and the actual cache size may be slightly larger. The cache is evicted on a least-recently-used basis.

> This function can be called only if there are no existing `VideoPlayer` instances.

Returns: `Promise<void>`

A promise that fulfills after the cache size has been set.

## Types

### `AudioMixingMode`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `string`

Specifies the audio mode that the player should use. Audio mode is set on per-app basis, if there are multiple players playing and have different a `AudioMode` specified, the highest priority mode will be used. Priority order: 'doNotMix' > 'auto' > 'duckOthers' > 'mixWithOthers'.

- `mixWithOthers`: The player will mix its audio output with other apps.
- `duckOthers`: The player will lower the volume of other apps if any of the active players is outputting audio.
- `auto`: The player will allow other apps to keep playing audio only when it is muted. On iOS it will always interrupt other apps when `showNowPlayingNotification` is `true` due to system requirements.
- `doNotMix`: The player will pause playback in other apps, even when it's muted.

> On iOS, the Now Playing notification is dependent on the audio mode. If the audio mode is different from `doNotMix` or `auto` this feature will not work.

Acceptable values are: `'mixWithOthers'` | `'duckOthers'` | `'auto'` | `'doNotMix'`

### `AudioTrack`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type     | Description                                                                            |
| -------- | -------- | -------------------------------------------------------------------------------------- |
| id       | `string` | Supported platforms: Android. A string used by expo-video to identify the audio track. |
| label    | `string` | Label of the audio track in the language of the device.                                |
| language | `string` | Language of the audio track. For example, 'en', 'pl', 'de'.                            |

### `BufferOptions`

Supported platforms: Android, iOS.

Specifies buffer options which will be used by the player when buffering the video.

| Property                                  | Type      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ----------------------------------------- | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| maxBufferBytes(optional)                  | `number   | null`                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Supported platforms: Android. The maximum number of bytes that the player can buffer from the network. When 0 the player will automatically decide appropriate buffer size. Default: `0` |
| minBufferForPlayback(optional)            | `number`  | Supported platforms: Android. Minimum duration of the buffer in seconds required to continue playing after the player has been paused or started buffering. This property will be ignored if preferredForwardBufferDuration is lower. Default: `2`                                                                                                                                                                                                         |
| preferredForwardBufferDuration(optional)  | `number`  | Supported platforms: Android, iOS. The duration in seconds which determines how much media the player should buffer ahead of the current playback time. On iOS when set to `0` the player will automatically decide appropriate buffer duration. Equivalent to [`AVPlayerItem.preferredForwardBufferDuration`](https://developer.apple.com/documentation/avfoundation/avplayeritem/1643630-preferredforwardbufferduration). Default: `Android: 20, iOS: 0` |
| prioritizeTimeOverSizeThreshold(optional) | `boolean` | Supported platforms: Android. A Boolean value which determines whether the player should prioritize time over size when buffering media. Default: `false`                                                                                                                                                                                                                                                                                                  |
| waitsToMinimizeStalling(optional)         | `boolean` | Supported platforms: iOS. A Boolean value that indicates whether the player should automatically delay playback in order to minimize stalling. Equivalent to [`AVPlayer.automaticallyWaitsToMinimizeStalling`](https://developer.apple.com/documentation/avfoundation/avplayer/1643482-automaticallywaitstominimizestal). Default: `true`                                                                                                                  |

### `ContentType`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `string`

Specifies the content type of the source.

- `auto`: The player will automatically determine the content type of the video.
- `progressive`: The player will use progressive download content type. This is the default `ContentType` when the uri does not contain an extension.
- `hls`: The player will use HLS content type.
- `dash`: The player will use DASH content type (Android-only).
- `smoothStreaming`: The player will use SmoothStreaming content type (Android-only).

Default: `` `auto` ``

Acceptable values are: `'auto'` | `'progressive'` | `'hls'` | `'dash'` | `'smoothStreaming'`

### `DRMOptions`

Supported platforms: Android, iOS, tvOS, Web.

Specifies DRM options which will be used by the player while loading the video.

| Property                        | Type                     | Description                                                                                                                                                        |
| ------------------------------- | ------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| base64CertificateData(optional) | `string`                 | Supported platforms: iOS. Specifies the base64 encoded certificate data for the FairPlay DRM. When this property is set, the `certificateUrl` property is ignored. |
| certificateUrl(optional)        | `string`                 | Supported platforms: iOS. Specifies the certificate URL for the FairPlay DRM.                                                                                      |
| contentId(optional)             | `string`                 | Supported platforms: iOS. Specifies the content ID of the stream.                                                                                                  |
| headers(optional)               | `Record<string, string>` | Determines headers sent to the license server on license requests.                                                                                                 |
| licenseServer                   | `string`                 | Determines the license server URL.                                                                                                                                 |
| multiKey(optional)              | `boolean`                | Supported platforms: Android. Specifies whether the DRM is a multi-key DRM.                                                                                        |
| type                            | [DRMType](#drmtype)      | Determines which type of DRM to use.                                                                                                                               |

### `DRMType`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `string`

Specifies which type of DRM to use:

- Android supports ClearKey, PlayReady and Widevine.
- iOS supports FairPlay.

Acceptable values are: `'clearkey'` | `'fairplay'` | `'playready'` | `'widevine'`

### `IsExternalPlaybackActiveChangeEventPayload`

Supported platforms: Android, iOS, tvOS, Web.

| Property                              | Type      | Description                            |
| ------------------------------------- | --------- | -------------------------------------- |
| isExternalPlaybackActive              | `boolean` | The current external playback status.  |
| oldIsExternalPlaybackActive(optional) | `boolean` | The previous external playback status. |

### `MutedChangeEventPayload`

Supported platforms: Android, iOS, tvOS, Web.

Data delivered with the [`mutedChange`](#videoplayerevents) event.

| Property           | Type      | Description                                          |
| ------------------ | --------- | ---------------------------------------------------- |
| muted              | `boolean` | Boolean value whether the player is currently muted. |
| oldMuted(optional) | `boolean` | Previous value of the `isMuted` property.            |

### `PlaybackRateChangeEventPayload`

Supported platforms: Android, iOS, tvOS, Web.

Data delivered with the [`playbackRateChange`](#videoplayerevents) event.

| Property                  | Type     | Description                                                      |
| ------------------------- | -------- | ---------------------------------------------------------------- |
| oldPlaybackRate(optional) | `number` | Previous value of the `playbackRate` property.                   |
| playbackRate              | `number` | Float value indicating the current playback speed of the player. |

### `PlayerError`

Supported platforms: Android, iOS, tvOS, Web.

Contains information about any errors that the player encountered during the playback

| Property | Type     | Description |
| -------- | -------- | ----------- |
| message  | `string` | -           |

### `PlayingChangeEventPayload`

Supported platforms: Android, iOS, tvOS, Web.

Data delivered with the [`playingChange`](#videoplayerevents) event.

| Property               | Type      | Description                                            |
| ---------------------- | --------- | ------------------------------------------------------ |
| isPlaying              | `boolean` | Boolean value whether the player is currently playing. |
| oldIsPlaying(optional) | `boolean` | Previous value of the `isPlaying` property.            |

### `SourceChangeEventPayload`

Supported platforms: Android, iOS, tvOS, Web.

Data delivered with the [`sourceChange`](#videoplayerevents) event.

| Property            | Type                        | Description                    |
| ------------------- | --------------------------- | ------------------------------ |
| oldSource(optional) | [VideoSource](#videosource) | Previous source of the player. |
| source              | [VideoSource](#videosource) | New source of the player.      |

### `SourceLoadEventPayload`

Supported platforms: Android, iOS, tvOS, Web.

Data delivered with the [`sourceLoad`](#videoplayerevents) event, contains information about the video source that has finished loading.

| Property                | Type                              | Description                                                                                                                                                                                                                                                        |
| ----------------------- | --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------- |
| availableAudioTracks    | [AudioTrack[]](#audiotrack)       | Audio tracks available for the loaded video source.                                                                                                                                                                                                                |
| availableSubtitleTracks | [SubtitleTrack[]](#subtitletrack) | Subtitle tracks available for the loaded video source.                                                                                                                                                                                                             |
| availableVideoTracks    | [VideoTrack[]](#videotrack)       | Video tracks available for the loaded video source. On iOS, when using a HLS source, make sure that the uri contains .m3u8 extension or that the contentType property of the VideoSource has been set to 'hls'. Otherwise, the video tracks will not be available. |
| duration                | `number`                          | Duration of the video source in seconds.                                                                                                                                                                                                                           |
| videoSource             | [VideoSource](#videosource)       | null                                                                                                                                                                                                                                                               | The video source that has been loaded. |

### `StatusChangeEventPayload`

Supported platforms: Android, iOS, tvOS, Web.

Data delivered with the [`statusChange`](#videoplayerevents) event.

| Property            | Type                                    | Description                                                        |
| ------------------- | --------------------------------------- | ------------------------------------------------------------------ |
| error(optional)     | [PlayerError](#playererror)             | Error object containing information about the error that occurred. |
| oldStatus(optional) | [VideoPlayerStatus](#videoplayerstatus) | Previous status of the player.                                     |
| status              | [VideoPlayerStatus](#videoplayerstatus) | New status of the player.                                          |

### `SubtitleTrack`

Supported platforms: Android, iOS, tvOS, Web.

| Property | Type     | Description                                                                                 |
| -------- | -------- | ------------------------------------------------------------------------------------------- |
| id       | `string` | Supported platforms: Android. A string used by `expo-video` to identify the subtitle track. |
| label    | `string` | Label of the subtitle track in the language of the device.                                  |
| language | `string` | Language of the subtitle track. For example, `en`, `pl`, `de`.                              |

### `SubtitleTrackChangeEventPayload`

Supported platforms: Android, iOS, tvOS, Web.

| Property                   | Type                            | Description |
| -------------------------- | ------------------------------- | ----------- | -------------------------------------- |
| oldSubtitleTrack(optional) | [SubtitleTrack](#subtitletrack) | null        | Previous subtitle track of the player. |
| subtitleTrack              | [SubtitleTrack](#subtitletrack) | null        | New subtitle track of the player.      |

### `SurfaceType`

Supported platforms: Android.

Literal Type: `string`

Describes the type of the surface used to render the video.

- `surfaceView`: Uses the `SurfaceView` to render the video. This value should be used in the majority of cases. Provides significantly lower power consumption, better performance, and more features.
- `textureView`: Uses the `TextureView` to render the video. Should be used in cases where the SurfaceView is not supported or causes issues (for example, overlapping video views).

You can learn more about surface types in the official [ExoPlayer documentation](https://developer.android.com/media/media3/ui/playerview#surfacetype).

Acceptable values are: `'textureView'` | `'surfaceView'`

### `TimeUpdateEventPayload`

Supported platforms: Android, iOS, tvOS, Web.

Data delivered with the [`timeUpdate`](#videoplayerevents) event, contains information about the current playback progress.

| Property              | Type     | Description                                                                                                                                                                   |
| --------------------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| bufferedPosition      | `number` | Supported platforms: Android, iOS. Float value indicating how far the player has buffered the video in seconds. Same as the [`bufferedPosition`](#bufferedPosition) property. |
| currentLiveTimestamp  | `number  | null`                                                                                                                                                                         | Supported platforms: Android, iOS. The exact timestamp when the currently displayed video frame was sent from the server, based on the `EXT-X-PROGRAM-DATE-TIME` tag in the livestream metadata. Same as the [`currentLiveTimestamp`](#currentlivetimestamp) property. |
| currentOffsetFromLive | `number  | null`                                                                                                                                                                         | Supported platforms: Android, iOS. Float value indicating the latency of the live stream in seconds. Same as the [`currentOffsetFromLive`](#currentoffsetfromlive) property.                                                                                           |
| currentTime           | `number` | Float value indicating the current playback time in seconds. Same as the [`currentTime`](#currenttime) property.                                                              |

### `VideoContentFit`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `string`

Describes how a video should be scaled to fit in a container.

- `contain`: The video maintains its aspect ratio and fits inside the container, with possible letterboxing/pillarboxing.
- `cover`: The video maintains its aspect ratio and covers the entire container, potentially cropping some portions.
- `fill`: The video stretches/squeezes to completely fill the container, potentially causing distortion.

Acceptable values are: `'contain'` | `'cover'` | `'fill'`

### `VideoMetadata`

Supported platforms: Android, iOS.

Contains information that will be displayed in the now playing notification when the video is playing.

| Property          | Type     | Description                                                                               |
| ----------------- | -------- | ----------------------------------------------------------------------------------------- |
| artist(optional)  | `string` | Supported platforms: Android, iOS. Secondary text that will be displayed under the title. |
| artwork(optional) | `string` | Supported platforms: Android, iOS. The uri of the video artwork.                          |
| title(optional)   | `string` | Supported platforms: Android, iOS. The title of the video.                                |

### `VideoPlayerEvents`

Supported platforms: Android, iOS, tvOS, Web.

Handlers for events which can be emitted by the player.

| Property                       | Type                                                                                                         | Description                                                                                                                                                                                                                                                                             |
| ------------------------------ | ------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| audioTrackChange               | `(payload: AudioTrackChangeEventPayload) => void`                                                            | Handler for an event emitted when the current audio track changes.                                                                                                                                                                                                                      |
| availableAudioTracksChange     | `(payload: AvailableAudioTracksChangeEventPayload) => void`                                                  | Handler for an event emitted when the available audio tracks change.                                                                                                                                                                                                                    |
| availableSubtitleTracksChange  | `(payload: AvailableSubtitleTracksChangeEventPayload) => void`                                               | Handler for an event emitted when the available subtitle tracks change.                                                                                                                                                                                                                 |
| isExternalPlaybackActiveChange | (payload: [IsExternalPlaybackActiveChangeEventPayload](#isexternalplaybackactivechangeeventpayload)) => void | Supported platforms: iOS. Handler for an event emitted when the video player starts or stops sharing the video via AirPlay.                                                                                                                                                             |
| mutedChange                    | (payload: [MutedChangeEventPayload](#mutedchangeeventpayload)) => void                                       | Handler for an event emitted when the `muted` property of the player changes                                                                                                                                                                                                            |
| playbackRateChange             | (payload: [PlaybackRateChangeEventPayload](#playbackratechangeeventpayload)) => void                         | Handler for an event emitted when the `playbackRate` property of the player changes.                                                                                                                                                                                                    |
| playingChange                  | (payload: [PlayingChangeEventPayload](#playingchangeeventpayload)) => void                                   | Handler for an event emitted when the player starts or stops playback.                                                                                                                                                                                                                  |
| playToEnd                      | `() => void`                                                                                                 | Handler for an event emitted when the player plays to the end of the current source.                                                                                                                                                                                                    |
| sourceChange                   | (payload: [SourceChangeEventPayload](#sourcechangeeventpayload)) => void                                     | Handler for an event emitted when the current media source of the player changes.                                                                                                                                                                                                       |
| sourceLoad                     | (payload: [SourceLoadEventPayload](#sourceloadeventpayload)) => void                                         | Handler for an event emitted when the player has finished loading metadata for the current video source. This event is emitted when the player has finished metadata for a [`VideoSource`](#videosource), but it doesn't mean that there is enough data buffered to start the playback. |
| statusChange                   | (payload: [StatusChangeEventPayload](#statuschangeeventpayload)) => void                                     | Handler for an event emitted when the status of the player changes.                                                                                                                                                                                                                     |
| subtitleTrackChange            | (payload: [SubtitleTrackChangeEventPayload](#subtitletrackchangeeventpayload)) => void                       | Handler for an event emitted when the current subtitle track changes.                                                                                                                                                                                                                   |
| timeUpdate                     | (payload: [TimeUpdateEventPayload](#timeupdateeventpayload)) => void                                         | Handler for an event emitted in a given interval specified by the `timeUpdateEventInterval`.                                                                                                                                                                                            |
| videoTrackChange               | (payload: [VideoTrackChangeEventPayload](#videotrackchangeeventpayload)) => void                             | Handler for an event emitted when the current video track changes.                                                                                                                                                                                                                      |
| volumeChange                   | (payload: [VolumeChangeEventPayload](#volumechangeeventpayload)) => void                                     | Handler for an event emitted when the `volume` of `muted` property of the player changes.                                                                                                                                                                                               |

### `VideoPlayerStatus`

Supported platforms: Android, iOS, tvOS, Web.

Literal Type: `string`

Describes the current status of the player.

- `idle`: The player is not playing or loading any videos.
- `loading`: The player is loading video data from the provided source
- `readyToPlay`: The player has loaded enough data to start playing or to continue playback.
- `error`: The player has encountered an error while loading or playing the video.

Acceptable values are: `'idle'` | `'loading'` | `'readyToPlay'` | `'error'`

### `VideoSize`

Supported platforms: Android, iOS, tvOS, Web.

Specifies the size of a video track.

| Property | Type     | Description                          |
| -------- | -------- | ------------------------------------ |
| height   | `number` | Height of the video track in pixels. |
| width    | `number` | Width of the video track in pixels.  |

### `VideoSource`

Supported platforms: Android, iOS, tvOS, Web.

Type: `string` or `number` or `null` or `object` shaped as below:

| Property              | Type                            | Description                                                                                                                                                                                                                                                                                                                                                              |
| --------------------- | ------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| assetId(optional)     | `number`                        | The asset ID of a local video asset, acquired with the `require` function. This property is exclusive with the `uri` property. When both are present, the `assetId` will be ignored.                                                                                                                                                                                     |
| contentType(optional) | [ContentType](#contenttype)     | Supported platforms: Android, iOS. Specifies the content type of the video source. When set to `'auto'`, the player will try to automatically determine the content type. You should use this property when playing HLS, SmoothStreaming or DASH videos from an uri, which does not contain a standardized extension for the corresponding media type. Default: `'auto'` |
| drm(optional)         | [DRMOptions](#drmoptions)       | Specifies the DRM options which will be used by the player while loading the video.                                                                                                                                                                                                                                                                                      |
| headers(optional)     | `Record<string, string>`        | Supported platforms: Android, iOS. Specifies headers sent with the video request. For DRM license headers use the headers field of DRMOptions.                                                                                                                                                                                                                           |
| metadata(optional)    | [VideoMetadata](#videometadata) | Supported platforms: Android, iOS. Specifies information which will be displayed in the now playing notification. When undefined the player will display information contained in the video metadata.                                                                                                                                                                    |
| uri(optional)         | `string`                        | The URI of the video. This property is exclusive with the `assetId` property. When both are present, the `assetId` will be ignored.                                                                                                                                                                                                                                      |
| useCaching(optional)  | `boolean`                       | Supported platforms: Android, iOS. Specifies whether the player should use caching for the video. Due to platform limitations, the cache cannot be used with HLS video sources on iOS. Caching DRM-protected videos is not supported on Android and iOS. Default: `false`                                                                                                |

### `VideoThumbnailOptions`

Supported platforms: Android, iOS, tvOS, Web.

Additional options for video thumbnails generation.

| Property            | Type     | Description                                                                                                                                 |
| ------------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------- |
| maxHeight(optional) | `number` | Supported platforms: Android, iOS. If provided, the generated thumbnail will not exceed this height in pixels, preserving its aspect ratio. |
| maxWidth(optional)  | `number` | Supported platforms: Android, iOS. If provided, the generated thumbnail will not exceed this width in pixels, preserving its aspect ratio.  |

### `VideoTrack`

Supported platforms: Android, iOS, tvOS, Web.

Specifies a VideoTrack loaded from a [`VideoSource`](#videosource).

| Property    | Type                    | Description                                                                                                            |
| ----------- | ----------------------- | ---------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| bitrate     | `number                 | null`                                                                                                                  | Specifies the bitrate in bits per second. This is the peak bitrate if known, or else the average bitrate if known, or else null. |
| frameRate   | `number                 | null`                                                                                                                  | Specifies the frame rate of the video track in frames per second.                                                                |
| id          | `string`                | The id of the video track. This field is platform-specific and may return different depending on the operating system. |
| isSupported | `boolean`               | Supported platforms: Android. Indicates whether the video track format is supported by the device.                     |
| mimeType    | `string                 | null`                                                                                                                  | MimeType of the video track or null if unknown.                                                                                  |
| size        | [VideoSize](#videosize) | Size of the video track.                                                                                               |

### `VideoTrackChangeEventPayload`

Supported platforms: Android, iOS, tvOS, Web.

Data delivered with the [`videoTrackChange`](#videoplayerevents) event, contains information about the video track which is currently being played.

| Property                | Type                      | Description |
| ----------------------- | ------------------------- | ----------- | ----------------------------------- |
| oldVideoTrack(optional) | [VideoTrack](#videotrack) | null        | Previous video track of the player. |
| videoTrack              | [VideoTrack](#videotrack) | null        | New video track of the player.      |

### `VolumeChangeEventPayload`

Supported platforms: Android, iOS, tvOS, Web.

Data delivered with the [`volumeChange`](#videoplayerevents) event.

| Property            | Type     | Description                                              |
| ------------------- | -------- | -------------------------------------------------------- |
| oldVolume(optional) | `number` | Previous value of the `volume` property.                 |
| volume              | `number` | Float value indicating the current volume of the player. |

---

---

title: react-native-pager-view
description: A component library that provides a carousel-like view to swipe through pages of content.
sourceCodeUrl: 'https://github.com/callstack/react-native-pager-view'
packageName: react-native-pager-view
platforms: ['android', 'ios', 'expo-go']
inExpoGo: true

---

# react-native-pager-view

A component library that provides a carousel-like view to swipe through pages of content.
Android, iOS, Included in Expo Go

`react-native-pager-view` exposes a component that provides the layout and gestures to scroll between pages of content, like a carousel.

## Installation

```sh
npx expo install react-native-pager-view
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://github.com/callstack/react-native-pager-view#linking) provided in the library's README or documentation.

## Example

```jsx
import { StyleSheet, View, Text } from "react-native";
import PagerView from "react-native-pager-view";

export default function MyPager() {
  return (
    <View style={styles.container}>
      <PagerView
        style={styles.container}
        initialPage={0}
      >
        <View
          style={styles.page}
          key="1"
        >
          <Text>First page</Text>
          <Text>Swipe âž¡ï¸</Text>
        </View>
        <View
          style={styles.page}
          key="2"
        >
          <Text>Second page</Text>
        </View>
        <View
          style={styles.page}
          key="3"
        >
          <Text>Third page</Text>
        </View>
      </PagerView>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
  },
  page: {
    justifyContent: "center",
    alignItems: "center",
  },
});
```

## Learn more

[Visit official documentation](https://github.com/callstack/react-native-pager-view) â€” Get full information on API and its usage.

---

---

title: WebBrowser
description: A library that provides access to the system's web browser and supports handling redirects.
sourceCodeUrl: 'https://github.com/expo/expo/tree/sdk-54/packages/expo-web-browser'
packageName: 'expo-web-browser'
iconUrl: '/static/images/packages/expo-web-browser.png'
platforms: ['android', 'ios', 'web', 'expo-go']

---

# Expo WebBrowser

A library that provides access to the system's web browser and supports handling redirects.
Android, iOS, Web, Included in Expo Go

`expo-web-browser` provides access to the system's web browser and supports handling redirects. On Android, it uses `ChromeCustomTabs` and on iOS, it uses `SFSafariViewController` or `ASWebAuthenticationSession`, depending on the method you call. As of iOS 11, `SFSafariViewController` no longer shares cookies with Safari, so if you are using `WebBrowser` for authentication you will want to use `WebBrowser.openAuthSessionAsync`, and if you just want to open a webpage (such as your app privacy policy), then use `WebBrowser.openBrowserAsync`.

## Installation

```sh
npx expo install expo-web-browser
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

## Configuration in app config

You can configure `expo-web-browser` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([Continuous Native Generation (CNG)](/workflow/continuous-native-generation)). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect. If your app does **not** use CNG, then you'll need to manually configure the library.

### Example app.json with config plugin

```json
{
  "expo": {
    "plugins": [
      [
        "expo-web-browser",
        {
          "experimentalLauncherActivity": true
        }
      ]
    ]
  }
}
```

### Configurable properties

| Name                           | Default | Description                                                                                                                                |
| ------------------------------ | ------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| `experimentalLauncherActivity` | `false` | Only for: Android. A boolean that enables a launcher activity to persist the system's web browser state when the app is in the background. |

## Usage

```jsx
import { Button, Text, View, StyleSheet } from "react-native";
import * as WebBrowser from "expo-web-browser";
import { useState } from "react";

export default function App() {
  const [result, setResult] = useState(null);

  const _handlePressButtonAsync = async () => {
    let result = await WebBrowser.openBrowserAsync("https://expo.dev");
    setResult(result);
  };
  return (
    <View style={styles.container}>
      <Button
        title="Open WebBrowser"
        onPress={_handlePressButtonAsync}
      />
      <Text>{result && JSON.stringify(result)}</Text>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    justifyContent: "center",
    paddingTop: Constants.statusBarHeight,
    backgroundColor: "#ecf0f1",
  },
});
```

### Handling deep links from the WebBrowser

If your project uses Expo Router, deep links are handled automatically.

## API

```js
import * as WebBrowser from "expo-web-browser";
```

## Methods

### `WebBrowser.coolDownAsync(browserPackage)`

Supported platforms: Android.

| Parameter                  | Type     | Description                                                                  |
| -------------------------- | -------- | ---------------------------------------------------------------------------- |
| `browserPackage`(optional) | `string` | Package of browser to be cooled. If not set, preferred browser will be used. |

This methods removes all bindings to services created by [`warmUpAsync`](#webbrowserwarmupasyncbrowserpackage) or [`mayInitWithUrlAsync`](#webbrowsermayinitwithurlasyncurl-browserpackage). You should call this method once you don't need them to avoid potential memory leaks. However, those binding would be cleared once your application is destroyed, which might be sufficient in most cases.

Returns: `Promise<webbrowsercooldownresult>`

The promise which fulfils with `WebBrowserCoolDownResult` when cooling is performed, or an empty object when there was no connection to be dismissed.

### `WebBrowser.dismissAuthSession()`

Supported platforms: iOS, Web.

Dismisses the current authentication session. On web, it will close the popup window associated with auth process.

Returns: `void`

The `void` on the successful attempt or throws an error if dismiss functionality is not available.

### `WebBrowser.dismissBrowser()`

Supported platforms: iOS.

Dismisses the presented web browser.

Returns: `Promise<{ type: WebBrowserResultType.DISMISS }>`

The promise that resolves with `{ type: 'dismiss' }` on the successful attempt or throws an error if dismiss functionality is not available.

### `WebBrowser.getCustomTabsSupportingBrowsersAsync()`

Supported platforms: Android.

Returns a list of applications package names supporting Custom Tabs, Custom Tabs service, user chosen and preferred one. This may not be fully reliable, since it uses `PackageManager.getResolvingActivities` under the hood. (For example, some browsers might not be present in browserPackages list once another browser is set to default.)

Returns: `Promise<webbrowsercustomtabsresults>`

The promise which fulfils with [`WebBrowserCustomTabsResults`](#webbrowsercustomtabsresults) object.

### `WebBrowser.maybeCompleteAuthSession(options)`

Supported platforms: Web.

| Parameter           | Type                                                                          |
| ------------------- | ----------------------------------------------------------------------------- |
| `options`(optional) | [WebBrowserCompleteAuthSessionOptions](#webbrowsercompleteauthsessionoptions) |

Possibly completes an authentication session on web in a window popup. The method should be invoked on the page that the window redirects to.

Returns: `WebBrowserCompleteAuthSessionResult`

Returns an object with message about why the redirect failed or succeeded:

If `type` is set to `failed`, the reason depends on the message:

- `Not supported on this platform`: If the platform doesn't support this method (Android, iOS).
- `Cannot use expo-web-browser in a non-browser environment`: If the code was executed in an SSR or node environment.
- `No auth session is currently in progress`: (the cached state wasn't found in local storage). This can happen if the window redirects to an origin (website) that is different to the initial website origin. If this happens in development, it may be because the auth started on localhost and finished on your computer port (Ex: `128.0.0.*`). This is controlled by the `redirectUrl` and `returnUrl`.
- `Current URL "<URL>" and original redirect URL "<URL>" do not match`: This can occur when the redirect URL doesn't match what was initial defined as the `returnUrl`. You can skip this test in development by passing `{ skipRedirectCheck: true }` to the function.

If `type` is set to `success`, the parent window will attempt to close the child window immediately.

If the error `ERR_WEB_BROWSER_REDIRECT` was thrown, it may mean that the parent window was reloaded before the auth was completed. In this case you'll need to close the child window manually.

### `WebBrowser.mayInitWithUrlAsync(url, browserPackage)`

Supported platforms: Android.

| Parameter                  | Type     | Description                                                                    |
| -------------------------- | -------- | ------------------------------------------------------------------------------ |
| `url`                      | `string` | The url of page that is likely to be loaded first when opening browser.        |
| `browserPackage`(optional) | `string` | Package of browser to be informed. If not set, preferred browser will be used. |

This method initiates (if needed) [CustomTabsSession](https://developer.android.com/reference/android/support/customtabs/CustomTabsSession.html#maylaunchurl) and calls its `mayLaunchUrl` method for browser specified by the package.

Returns: `Promise<webbrowsermayinitwithurlresult>`

A promise which fulfils with `WebBrowserMayInitWithUrlResult` object.

### `WebBrowser.openAuthSessionAsync(url, redirectUrl, options)`

Supported platforms: Android, iOS, Web.

| Parameter               | Type                                                                             | Description                                                                                                                                                                                                                                                                                                                       |
| ----------------------- | -------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `url`                   | `string`                                                                         | The url to open in the web browser. This should be a login page.                                                                                                                                                                                                                                                                  |
| `redirectUrl`(optional) | `null                                                                            | string`                                                                                                                                                                                                                                                                                                                           | _Optional_ - The url to deep link back into your app. On web, this defaults to the output of [`Linking.createURL("")`](/versions/latest/sdk/linking#linkingcreateurlpath-namedparameters). |
| `options`(optional)     | [AuthSessionOpenOptions](/versions/latest/sdk/webbrowser#authsessionopenoptions) | _Optional_ - An object extending the [`WebBrowserOpenOptions`](#webbrowseropenoptions). If there is no native AuthSession implementation available (which is the case on Android) these params will be used in the browser polyfill. If there is a native AuthSession implementation, these params will be ignored. Default: `{}` |

#### On Android:

This will be done using a "custom Chrome tabs" browser, [AppState](https://reactnative.dev/docs/appstate), and [Linking](/versions/latest/sdk/linking) APIs.

#### On iOS:

Opens the url with Safari in a modal using `ASWebAuthenticationSession`. The user will be asked whether to allow the app to authenticate using the given url. To handle redirection back to the mobile application, the redirect URI set in the authentication server has to use the protocol provided as the scheme in **app.json** [`expo.scheme`](/versions/latest/config/app#scheme). For example, `demo://` not `https://` protocol. Using `Linking.addEventListener` is not needed and can have side effects.

#### On web:

> This API can only be used in a secure environment (localhost/https). to test this. Otherwise, an error with code [`ERR_WEB_BROWSER_CRYPTO`](#err_web_browser_crypto) will be thrown. This will use the browser's [`window.open()`](https://developer.mozilla.org/en-US/docs/Web/API/Window/open) API.

- _Desktop_: This will create a new web popup window in the browser that can be closed later using `WebBrowser.maybeCompleteAuthSession()`.
- _Mobile_: This will open a new tab in the browser which can be closed using `WebBrowser.maybeCompleteAuthSession()`.

How this works on web:

- A crypto state will be created for verifying the redirect.
  - This means you need to run with `npx expo start --https`
- The state will be added to the window's `localstorage`. This ensures that auth cannot complete unless it's done from a page running with the same origin as it was started. Ex: if `openAuthSessionAsync` is invoked on `https://localhost:19006`, then `maybeCompleteAuthSession` must be invoked on a page hosted from the origin `https://localhost:19006`. Using a different website, or even a different host like `https://128.0.0.*:19006` for example will not work.
- A timer will be started to check for every 1000 milliseconds (1 second) to detect if the window has been closed by the user. If this happens then a promise will resolve with `{ type: 'dismiss' }`.

> On mobile web, Chrome and Safari will block any call to [`window.open()`](https://developer.mozilla.org/en-US/docs/Web/API/Window/open) which takes too long to fire after a user interaction. This method must be invoked immediately after a user interaction. If the event is blocked, an error with code [`ERR_WEB_BROWSER_BLOCKED`](#err_web_browser_blocked) will be thrown.

Returns: `Promise<webbrowserauthsessionresult>`

- If the user does not permit the application to authenticate with the given url, the Promise fulfills with `{ type: 'cancel' }` object.
- If the user closed the web browser, the Promise fulfills with `{ type: 'cancel' }` object.
- If the browser is closed using [`dismissBrowser`](#webbrowserdismissbrowser), the Promise fulfills with `{ type: 'dismiss' }` object.

### `WebBrowser.openBrowserAsync(url, browserParams)`

Supported platforms: Android, iOS, Web.

| Parameter                 | Type                                                                           | Description                                    |
| ------------------------- | ------------------------------------------------------------------------------ | ---------------------------------------------- |
| `url`                     | `string`                                                                       | The url to open in the web browser.            |
| `browserParams`(optional) | [WebBrowserOpenOptions](/versions/latest/sdk/webbrowser#webbrowseropenoptions) | A dictionary of key-value pairs. Default: `{}` |

Opens the url with Safari in a modal on iOS using [`SFSafariViewController`](https://developer.apple.com/documentation/safariservices/sfsafariviewcontroller), and Chrome in a new [custom tab](https://developer.chrome.com/multidevice/android/customtabs) on Android. On iOS, the modal Safari will not share cookies with the system Safari. If you need this, use [`openAuthSessionAsync`](#webbrowseropenauthsessionasyncurl-redirecturl-options).

Returns: `Promise<webbrowserresult>`

The promise behaves differently based on the platform. On Android promise resolves with `{ type: 'opened' }` if we were able to open browser. On iOS:

- If the user closed the web browser, the Promise resolves with `{ type: 'cancel' }`.
- If the browser is closed using [`dismissBrowser`](#webbrowserdismissbrowser), the Promise resolves with `{ type: 'dismiss' }`.

### `WebBrowser.warmUpAsync(browserPackage)`

Supported platforms: Android.

| Parameter                  | Type     | Description                                                                       |
| -------------------------- | -------- | --------------------------------------------------------------------------------- |
| `browserPackage`(optional) | `string` | Package of browser to be warmed up. If not set, preferred browser will be warmed. |

This method calls `warmUp` method on [CustomTabsClient](<https://developer.android.com/reference/android/support/customtabs/CustomTabsClient.html#warmup(long)>) for specified package.

Returns: `Promise<webbrowserwarmupresult>`

A promise which fulfils with `WebBrowserWarmUpResult` object.

## Types

### `AuthSessionOpenOptions`

Supported platforms: Android, iOS, Web.

If there is no native AuthSession implementation available (which is the case on Android) the params inherited from [`WebBrowserOpenOptions`](#webbrowseropenoptions) will be used in the browser polyfill. Otherwise, the browser parameters will be ignored.

Type: [WebBrowserOpenOptions](/versions/latest/sdk/webbrowser#webbrowseropenoptions) extended by:

| Property                         | Type      | Description                                                                                                                                                                                                                                                                                                                                                                            |
| -------------------------------- | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| preferEphemeralSession(optional) | `boolean` | Supported platforms: iOS. Determines whether the session should ask the browser for a private authentication session. Set this to `true` to request that the browser doesnâ€™t share cookies or other browsing data between the authentication session and the userâ€™s normal browser session. Whether the request is honored depends on the userâ€™s default web browser. Default: `false` |

### `WebBrowserAuthSessionResult`

Supported platforms: Android, iOS, Web.

Literal Type: `union`

Acceptable values are: [WebBrowserRedirectResult](#webbrowserredirectresult) | [WebBrowserResult](#webbrowserresult)

### `WebBrowserCompleteAuthSessionOptions`

Supported platforms: Android, iOS, Web.

| Property                    | Type      | Description                                                                                               |
| --------------------------- | --------- | --------------------------------------------------------------------------------------------------------- |
| skipRedirectCheck(optional) | `boolean` | Attempt to close the window without checking to see if the auth redirect matches the cached redirect URL. |

### `WebBrowserCompleteAuthSessionResult`

Supported platforms: Android, iOS, Web.

| Property | Type       | Description                                        |
| -------- | ---------- | -------------------------------------------------- | ------------------- |
| message  | `string`   | Additional description or reasoning of the result. |
| type     | `'success' | 'failed'`                                          | Type of the result. |

### `WebBrowserCoolDownResult`

Supported platforms: Android, iOS, Web.

Type: `ServiceActionResult`

### `WebBrowserCustomTabsResults`

Supported platforms: Android, iOS, Web.

| Property                          | Type       | Description                                                                                                                                                                                                                                                                                                                                                                                    |
| --------------------------------- | ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| browserPackages                   | `string[]` | All packages recognized by `PackageManager` as capable of handling Custom Tabs. Empty array means there is no supporting browsers on device.                                                                                                                                                                                                                                                   |
| defaultBrowserPackage(optional)   | `string`   | Default package chosen by user, `null` if there is no such packages. Also `null` usually means, that user will be prompted to choose from available packages.                                                                                                                                                                                                                                  |
| preferredBrowserPackage(optional) | `string`   | Package preferred by `CustomTabsClient` to be used to handle Custom Tabs. It favors browser chosen by user as default, as long as it is present on both `browserPackages` and `servicePackages` lists. Only such browsers are considered as fully supporting Custom Tabs. It might be `null` when there is no such browser installed or when default browser is not in `servicePackages` list. |
| servicePackages                   | `string[]` | All packages recognized by `PackageManager` as capable of handling Custom Tabs Service. This service is used by [`warmUpAsync`](#webbrowserwarmupasyncbrowserpackage), [`mayInitWithUrlAsync`](#webbrowsermayinitwithurlasyncurl-browserpackage) and [`coolDownAsync`](#webbrowsercooldownasyncbrowserpackage).                                                                                |

### `WebBrowserMayInitWithUrlResult`

Supported platforms: Android, iOS, Web.

Type: `ServiceActionResult`

### `WebBrowserOpenOptions`

Supported platforms: Android, iOS, Web.

| Property                             | Type                                                        | Description                                                                                                                                                                                                                                 |
| ------------------------------------ | ----------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------- |
| browserPackage(optional)             | `string`                                                    | Supported platforms: Android. Package name of a browser to be used to handle Custom Tabs. List of available packages is to be queried by [`getCustomTabsSupportingBrowsers`](#webbrowsergetcustomtabssupportingbrowsersasync) method.       |
| controlsColor(optional)              | `string`                                                    | Supported platforms: iOS. Tint color for controls in SKSafariViewController. Supports React Native [color formats](https://reactnative.dev/docs/colors).                                                                                    |
| createTask(optional)                 | `boolean`                                                   | Supported platforms: Android. A boolean determining whether the browser should open in a new task or in the same task as your app. Default: `true`                                                                                          |
| dismissButtonStyle(optional)         | `'done'                                                     | 'close'                                                                                                                                                                                                                                     | 'cancel'`                                                       | Supported platforms: iOS. The style of the dismiss button. Should be one of: `done`, `close`, or `cancel`. |
| enableBarCollapsing(optional)        | `boolean`                                                   | A boolean determining whether the toolbar should be hiding when a user scrolls the website.                                                                                                                                                 |
| enableDefaultShareMenuItem(optional) | `boolean`                                                   | Supported platforms: Android. A boolean determining whether a default share item should be added to the menu.                                                                                                                               |
| presentationStyle(optional)          | [WebBrowserPresentationStyle](#webbrowserpresentationstyle) | Supported platforms: iOS. The [presentation style](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621355-modalpresentationstyle) of the browser window. Default: `WebBrowser.WebBrowserPresentationStyle.OverFullScreen` |
| readerMode(optional)                 | `boolean`                                                   | Supported platforms: iOS. A boolean determining whether Safari should enter Reader mode, if it is available.                                                                                                                                |
| secondaryToolbarColor(optional)      | `string`                                                    | Supported platforms: Android. Color of the secondary toolbar. Supports React Native [color formats](https://reactnative.dev/docs/colors).                                                                                                   |
| showInRecents(optional)              | `boolean`                                                   | Supported platforms: Android. A boolean determining whether browsed website should be shown as separate entry in Android recents/multitasking view. Requires `createTask` to be `true` (default). Default: `false`                          |
| showTitle(optional)                  | `boolean`                                                   | Supported platforms: Android. A boolean determining whether the browser should show the title of website on the toolbar.                                                                                                                    |
| toolbarColor(optional)               | `string`                                                    | Color of the toolbar. Supports React Native [color formats](https://reactnative.dev/docs/colors).                                                                                                                                           |
| windowFeatures(optional)             | string                                                      | [WebBrowserWindowFeatures](/versions/latest/sdk/webbrowser#webbrowserwindowfeatures)                                                                                                                                                        | Supported platforms: Web. Features to use with `window.open()`. |
| windowName(optional)                 | `string`                                                    | Supported platforms: Web. Name to assign to the popup window.                                                                                                                                                                               |

### `WebBrowserRedirectResult`

Supported platforms: Android, iOS, Web.

| Property | Type        | Description         |
| -------- | ----------- | ------------------- |
| type     | `'success'` | Type of the result. |
| url      | `string`    | -                   |

### `WebBrowserResult`

Supported platforms: Android, iOS, Web.

| Property | Type                                          | Description         |
| -------- | --------------------------------------------- | ------------------- |
| type     | [WebBrowserResultType](#webbrowserresulttype) | Type of the result. |

### `WebBrowserWarmUpResult`

Supported platforms: Android, iOS, Web.

Type: `ServiceActionResult`

### `WebBrowserWindowFeatures`

Supported platforms: Android, iOS, Web.

Type: `Record<string, number | boolean | string>`

## Enums

### `WebBrowserPresentationStyle`

Supported platforms: iOS.

A browser presentation style. Its values are directly mapped to the [`UIModalPresentationStyle`](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621355-modalpresentationstyle).

#### `AUTOMATIC`

Supported platforms: iOS.

`WebBrowserPresentationStyle.AUTOMATIC = "automatic"`

The default presentation style chosen by the system. On older iOS versions, falls back to `WebBrowserPresentationStyle.FullScreen`.

#### `CURRENT_CONTEXT`

`WebBrowserPresentationStyle.CURRENT_CONTEXT = "currentContext"`

A presentation style where the browser is displayed over the app's content.

#### `FORM_SHEET`

`WebBrowserPresentationStyle.FORM_SHEET = "formSheet"`

A presentation style that displays the browser centered in the screen.

#### `FULL_SCREEN`

`WebBrowserPresentationStyle.FULL_SCREEN = "fullScreen"`

A presentation style in which the presented browser covers the screen.

#### `OVER_CURRENT_CONTEXT`

`WebBrowserPresentationStyle.OVER_CURRENT_CONTEXT = "overCurrentContext"`

A presentation style where the browser is displayed over the app's content.

#### `OVER_FULL_SCREEN`

`WebBrowserPresentationStyle.OVER_FULL_SCREEN = "overFullScreen"`

A presentation style in which the browser view covers the screen.

#### `PAGE_SHEET`

`WebBrowserPresentationStyle.PAGE_SHEET = "pageSheet"`

A presentation style that partially covers the underlying content.

#### `POPOVER`

`WebBrowserPresentationStyle.POPOVER = "popover"`

A presentation style where the browser is displayed in a popover view.

### `WebBrowserResultType`

Supported platforms: Android, iOS, Web.

#### `CANCEL`

Supported platforms: iOS.

`WebBrowserResultType.CANCEL = "cancel"`

#### `DISMISS`

Supported platforms: iOS.

`WebBrowserResultType.DISMISS = "dismiss"`

#### `LOCKED`

`WebBrowserResultType.LOCKED = "locked"`

#### `OPENED`

Supported platforms: Android.

`WebBrowserResultType.OPENED = "opened"`

## Error codes

### `ERR_WEB_BROWSER_REDIRECT`

**Web only:** The window cannot complete the redirect request because the invoking window doesn't have a reference to its parent. This can happen if the parent window was reloaded.

### `ERR_WEB_BROWSER_BLOCKED`

**Web only:** The popup window was blocked by the browser or failed to open. This can happen in mobile browsers when the `window.open()` method was invoked too long after a user input was fired.

Mobile browsers do this to prevent malicious websites from opening many unwanted popups on mobile.

You're method can still run in an async function but there cannot be any long running tasks before it. You can use hooks to disable user-inputs until any other processes have finished loading.

### `ERR_WEB_BROWSER_CRYPTO`

**Web only:** The current environment doesn't support crypto. Ensure you are running from a secure origin (localhost/https).

---

---

title: react-native-webview
description: A library that provides a WebView component.
sourceCodeUrl: 'https://github.com/react-native-webview/react-native-webview'
packageName: react-native-webview
platforms: ['android', 'ios', 'expo-go']
inExpoGo: true

---

# react-native-webview

A library that provides a WebView component.
Android, iOS, Included in Expo Go

`react-native-webview` provides a `WebView` component that renders web content in a native view.

## Installation

```sh
npx expo install react-native-webview
```

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project. Then, follow the [installation instructions](https://github.com/react-native-webview/react-native-webview/blob/master/docs/Getting-Started.md#react-native-webview-getting-started-guide) provided in the library's README or documentation.

## Usage

```jsx
import { WebView } from "react-native-webview";
import { StyleSheet } from "react-native";
import Constants from "expo-constants";

export default function App() {
  return (
    <WebView
      style={styles.container}
      source={{ uri: "https://expo.dev" }}
    />
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    marginTop: Constants.statusBarHeight,
  },
});
```

### With inline HTML

```jsx
import { WebView } from "react-native-webview";
import { StyleSheet } from "react-native";
import Constants from "expo-constants";

export default function App() {
  return (
    <WebView
      style={styles.container}
      originWhitelist={["*"]}
      source={{ html: "<h1><center>Hello world</center></h1>" }}
    />
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    marginTop: Constants.statusBarHeight,
  },
});
```

## Learn more

[Visit official documentation](https://github.com/react-native-webview/react-native-webview/blob/master/docs/Guide.md) â€” Get full information on API and its usage.

---
